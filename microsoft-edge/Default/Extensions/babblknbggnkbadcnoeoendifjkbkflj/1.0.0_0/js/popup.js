var timeContainer=document.getElementById("time"),dateContainer=document.getElementById("date");function initMsg(){let a=document.querySelectorAll("[data-i18n]");for(const b of a)b.textContent=chrome.i18n.getMessage(b.dataset.i18n)}function createDatePart(){let a=new Intl.DateTimeFormat(void 0,{dateStyle:"full"});dateContainer.textContent=a.format(new Date);setInterval(function(){dateContainer.textContent=a.format(new Date)},3E4)}
function initAnalogClock(a){let b=new DefaultAnalogClock({displaySecond:a.popupSecond,timezone:""});timeContainer.appendChild(b.body);b.start();a.popupDate&&createDatePart()}function formatTime(a,b,c){var d=a.getHours();b&&12<d&&(d%=12);d=d.toString();b||(d=d.padStart(2,"0"));b=a.getMinutes().toString().padStart(2,"0");b=`${d}:${b}`;c&&(a=a.getSeconds().toString().padStart(2,"0"),b=b+":"+a);return b}
function initDigitalClock(a){timeContainer.className="digital-clock-time";timeContainer.textContent=formatTime(new Date,a.hour12,a.popupSecond);setInterval(function(){timeContainer.textContent=formatTime(new Date,a.hour12,a.popupSecond)},1E3);a.popupDate&&createDatePart()}
function initNextReminders(a){chrome.alarms.getAll(function(b){var c=new Date;const d=c.getTime();c.setDate(c.getDate()+1);const g=c.setHours(0,0,0,0);c=b.filter(e=>e.scheduledTime>d&&e.scheduledTime<g).sort((e,h)=>e.scheduledTime-h.scheduledTime);b=document.querySelector("ul");for(let e of c){var f=a[e.name];f&&(c=document.createElement("li"),f=`${formatTime(new Date(e.scheduledTime),!1,!1)} ${f.text}`,c.textContent=f,b.appendChild(c))}0<b.childElementCount&&(document.getElementById("reminder-container").style.display=
"block")})}function init(a){"digital"==a.popupClock?initDigitalClock(a):initAnalogClock(a);document.querySelector(".settings").addEventListener("click",function(){chrome.runtime.openOptionsPage()});a.popupReminder&&chrome.storage.local.get(null,initNextReminders)}chrome.storage.local.get({hour12:!0,popupClock:"analog",popupSecond:!0,popupDate:!0,popupReminder:!0},init);initMsg();
