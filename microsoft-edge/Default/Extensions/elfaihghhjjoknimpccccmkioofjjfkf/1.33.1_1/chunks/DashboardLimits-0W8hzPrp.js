import{E as V}from"./empty-list-illustration-D_sMLuvy.js";import{_ as M}from"./FloatingActionButton.vue_vue_type_script_setup_true_lang-kOJ_1X5S.js";import{bW as $,f as j,t as q,a0 as H,r as I,c as g,aT as J,n as K,o as s,q as y,w as o,i as h,k as e,I as l,j as t,T as v,U as E,l as m,ad as Q,g as p,F as X,bJ as Y}from"./defineAppConfig-_73fm9CR.js";import{j as w,k as C,d as b,f as x}from"./recent-apps-provider-H_KyoG2W.js";import{c as z,_ as D}from"./usePromoteExtensionVisibility-q3S7Sy7_.js";import{h as S,n as Z,p as tt,c as et}from"./useAddAppToIgnoreListDialogStore-gHGl-4Ba.js";import{u as st}from"./useWalkthrough-19MmNOCw.js";import{I as ot}from"./plus-AonKDMmz.js";import{I as it}from"./external-link-5C7r2AkU.js";import"./new-tab-light-diPYHp27.js";import"./useGetSessionSummaries-MLl_K4v8.js";import"./pencil-outline-YZ9DKWrK.js";import"./AppListItem.vue_vue_type_script_setup_true_lang-nyh4YDtP.js";import"./useGetAppMetadataQuery-8068_Rw4.js";import"./useVibrantColor-SQN7_oFR.js";import"./useRequirePin-prOa10D6.js";import"./sleep-9Kq7Tjeg.js";import"./useIsNewTabPage-b1xF2Z3f.js";function at(){const L=w(),n=S(),r=C(),u=[{stepName:"websiteLimitsActionTypes",selector:"#type-container",eventName:"WEBSITE_LIMITS_ACTION_TYPES"}];function f(){L.show({disableAppIdFocus:!0,limitType:n,warningType:r})}st("UsageLimits","usageLimits",u,{timeout:$,beforeShow:f})}const nt={"data-testid":"usage-limits",class:"section section-sticky"},rt={key:0,class:"section flex-1 flex flex-col items-center justify-center space-y-8"},ct=["src"],lt={key:0,class:"section"},mt={key:1,class:"section"},St=j({name:"DashboardLimits",__name:"DashboardLimits",setup(L){const{reportEvent:n}=q();n("OPENED_DASHBOARD_LIMITS_PAGE");const{t:r}=H(),u=w(),{data:f}=b(I({sortBy:["appId"],isCrossPlatform:!0})),c=g(()=>f.value??[]),{data:d}=b(I({sortBy:["appId"],isCrossPlatform:!1})),P=g(()=>{var i,a;return(((i=c.value)==null?void 0:i.length)??0)+(((a=d.value)==null?void 0:a.length)??0)}),N=C(),O=S();function A(){u.show({warningType:N,limitType:O})}const{deviceGroup:U}=J(Z()),W=g(()=>{var i;return(((i=c.value)==null?void 0:i.length)??0)>0&&U.value!=null});at(),tt().update();const{isPromoteExtensionForLimitsVisible:B,dismissPromoteExtensionForLimits:_}=z({autoShowTimeout:250});function F(){window.open(Y(),"_blank"),_(),n("CLICKED_PROMOTE_EXTENSION_FOR_LIMITS")}return(i,a)=>{const G=K("page-layout-content-container");return s(),y(G,null,{default:o(()=>{var T,k;return[h("section",nt,[e(l,{tag:"h1",class:"dashboard-page-title",keypath:"websiteLimits"}),t(W)?(s(),y(x,{key:0,type:"info"},{default:o(()=>[v(E(t(r)("devices.limitsLocalDeviceOnly")),1)]),_:1})):m("v-if",!0),t(B)?(s(),y(x,{key:1,type:"info"},{default:o(()=>[e(l,{tag:"span",keypath:"promoteExtension.descriptionForLimits"})]),buttons:o(()=>[e(Q,{color:"blue",class:"flex-shrink-0 flex items-center gap-2",onClick:F},{default:o(()=>[v(E(t(r)("promoteExtension.button"))+" ",1),e(t(it),{class:"icon-sm inline"})]),_:1}),h("div",{class:"clickable p-2",role:"button",onClick:a[0]||(a[0]=(...R)=>t(_)&&t(_)(...R))},[e(t(et),{class:"icon"})])]),_:1})):m("v-if",!0)]),t(P)===0?(s(),p("section",rt,[h("img",{src:t(V),class:"w-full max-w-lg px-4 opacity-50 theme-dark:opacity-100"},null,8,ct),e(l,{tag:"p",keypath:"dashboard.noWebsiteLimits",class:"text-center"})])):(s(),p(X,{key:1},[(T=t(d))!=null&&T.length?(s(),p("section",lt,[e(D,{items:t(d)??[]},null,8,["items"])])):m("v-if",!0),(k=t(c))!=null&&k.length?(s(),p("section",mt,[e(l,{tag:"h2",keypath:"dashboard.crossPlatformUsageLimitSection",class:"section-title"}),e(D,{items:t(c)},null,8,["items"])])):m("v-if",!0)],64))]}),overlay:o(()=>[e(M,{onClick:A,"data-testid":"add-limit"},{default:o(()=>[e(t(ot),{class:"icon text-on-primary"})]),_:1})]),_:1})}}});export{St as default};
