import{j as v,V as w,W as d,X as E,z as R,Y as P}from"./useAddAppToIgnoreListDialogStore-gHGl-4Ba.js";import{b5 as S,t as b,a as A,aE as I,aA as D,c as _,aK as f}from"./defineAppConfig-_73fm9CR.js";const h=S("review-prompt",()=>{const{reportEvent:t}=b(),{reviewUrl:a}=v(),o=A("ReviewPrompt"),r=I(),{state:e}=w(),{state:s,mutateAsync:i}=d(),{state:n}=E(),u=R({interval:D}),c=_(()=>o&&!s.value&&e.value!=null&&e.value<=u.value);async function l(){t("REVIEW_PROMPT_DISMISSED"),await P(r).catch(m=>f("[review-prompt-store] Failed to schedule next prompt",m))}async function p(){t("REVIEW_PROMPT_CTA_CLICKED"),await i(!0),window.open(a,"_blank")}return{isVisible:c,showAt:e,disabled:s,interval:n,dismiss:l,submitReview:p}});export{h as u};
