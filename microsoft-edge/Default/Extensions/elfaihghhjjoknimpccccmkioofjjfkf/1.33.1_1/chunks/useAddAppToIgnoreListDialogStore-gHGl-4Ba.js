import{al as q,E as F,f as $,o as i,g as h,k as C,ba as ce,i as d,U as w,w as y,T,ad as H,j as c,as as O,aB as j,s as P,h as x,_ as le,b5 as G,r as b,c as L,y as M,O as ue,q as v,R as A,b4 as de,a5 as K,N as Q,ay as pe,l as k,aj as he,bk as N,ai as V,bl as me,ap as fe,bm as ve,L as ge,F as W,A as D,bn as _e,aE as we,bo as be,X as ye,W as $e,ah as Ce,at as X,aT as Z,ar as J,a0 as ee,bp as ke,aS as te,bq as Ie,br as Se,bs as De,az as Le,a6 as xe,a7 as Pe,ax as Ae,bt as Ve,au as Me,a1 as Be,aX as Y,ae as Ee,bu as Ue}from"./defineAppConfig-_73fm9CR.js";function Te(){return q(F.AppUrls)}const Fe={class:"flex flex-col space-y-4 items-center justify-center text-center p-16"},Ge=["href"],Re=$({name:"RequireOnboardingWarning",__name:"RequireOnboardingWarning",setup(o){const{onboardingUrl:e}=Te();return(s,n)=>(i(),h("div",Fe,[C(ce,{class:"w-24 h-24",src:"icon-128.png"}),d("p",null,w(s.$t("onboarding.required")),1),d("a",{href:c(e),target:"_blank"},[C(H,null,{default:y(()=>[T(w(s.$t("getStarted")),1)]),_:1})],8,Ge)]))}});function jo(o,e=[]){return $({name:`RequireOnboarding${o.name??"Unknown"}`,setup(){return{requirements:O()}},render(){return this.requirements.hasRestoredFromStorage?this.requirements.canMonitorUsage?j(o):j(Re,{class:e}):null}})}const He=["id"],qe=["for"],Oe=$({name:"SfInputContainer",__name:"SfInputContainer",props:{id:{},placeholder:{},disabled:{type:Boolean},hasFocus:{type:Boolean},hasValue:{type:Boolean},offsetLeft:{type:Boolean}},setup(o){return(e,s)=>(i(),h("div",{id:`${e.id}-container`,class:P(["relative h-14 bg-on-background bg-opacity-5 theme-dark:bg-opacity-[0.15] transition-all ring-primary ring-opacity-adaptive ease-linear rounded",{"ring-4":e.hasFocus}])},[d("label",{for:e.id,class:P(["absolute transition-all ease-linear",{"text-xs top-2":e.hasValue||e.hasFocus,"top-4.5":!e.hasValue&&!e.hasFocus,"text-opacity-60":!e.disabled,"text-opacity-30":e.disabled,"left-4":!e.offsetLeft,"left-14":e.offsetLeft}])},w(e.placeholder),11,qe),x(e.$slots,"default",{},void 0,!0)],10,He))}}),Ze=le(Oe,[["__scopeId","data-v-dbb9842b"]]),R=G("dialog-visiblity",()=>{const o=b({});function e(n){o.value[n]=!0}function s(n){o.value[n]=void 0}return{visible:o,show:e,hide:s}});function oe(o,e=R()){return L(()=>!!e.visible[o])}function B(o,e){return G(o+"-options",()=>{const s=typeof e=="function"?e():e,n=b(s),u=R(),l=oe(o,u);function r(t){n.value=t,u.show(o)}function m(){n.value=s,u.hide(o)}return M(l,t=>{t||(n.value=s)}),{name:o,options:n,show:r,hide:m}})}const je=$({name:"GlobalDialog",__name:"GlobalDialog",props:{name:{},overflowDisabled:{type:Boolean}},emits:["shown"],setup(o,{emit:e}){const s=o,n=R(),u=oe(s.name,n),{show:l,dismiss:r,baseDialogProps:m,watchVisible:t}=ue();return M(u,a=>{a?(e("shown"),l()):r()}),t(a=>{a||n.hide(s.name)}),(a,p)=>(i(),v(de,A(c(m),{"overflow-disabled":s.overflowDisabled}),{default:y(()=>[x(a.$slots,"default")]),_:3},16,["overflow-disabled"]))}}),Ne={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},We=d("path",{fill:"currentColor",d:"m7 10l5 5l5-5H7Z"},null,-1),Ye=[We];function ze(o,e){return i(),h("svg",Ne,Ye)}const Ke={name:"mdi-menu-down",render:ze},Qe=["id","value","disabled"],Xe=["disabled","value"],Je={key:0,class:"absolute left-3 top-3 w-8 h-8"},et={key:1,class:"absolute right-3 top-3 w-8 h-8"},No=$({name:"SfSelect",__name:"SfSelect",props:K({id:{},placeholder:{},disabled:{type:Boolean},selectProps:{},selectHelperText:{},enableHelperText:{type:Boolean},helperTextValue:{}},{modelValue:{required:!0}}),emits:["update:modelValue"],setup(o){const e=Q(o,"modelValue");function s(t){t.target&&(e.value=t.target.value,l())}const n=b(!1);function u(){n.value=!0,window.addEventListener("mousedown",l),window.addEventListener("keypress",l)}function l(){n.value=!1,r()}function r(){window.removeEventListener("mousedown",l),window.removeEventListener("keypress",l)}pe(r);const m=!1;return(t,a)=>(i(),v(Ze,{"has-focus":c(n),"has-value":!!e.value,id:t.id,disabled:t.disabled,placeholder:t.placeholder},{default:y(()=>[k(' Before the input so the input is "over" the arrow and clicks hit the select '),d("div",{class:P(["absolute top-3 w-8 h-8",{"right-12":t.$slots.right,"right-3":!t.$slots.right}])},[C(c(Ke),{class:P(["icon m-1 text-on-input text-opacity-secondary",{"text-opacity-disabled":t.disabled}])},null,8,["class"])],2),d("select",A({id:t.id,class:["min-w-0 w-full h-full absolute inset-0 pt-4 pl-4 pr-14 bg-transparent outline-none border-none box-border text-base transition-all appearance-none",{"text-opacity-primary":e.value&&!t.disabled,"text-opacity-disabled":e.value&&t.disabled,"text-opacity-0":!e.value,"pl-4":!t.$slots.left,"pl-14":t.$slots.left,"pr-4":!t.$slots.right,"pr-14":t.$slots.right,firefox:c(m)}],value:e.value},t.selectProps,{disabled:t.disabled,onChange:s,onFocus:a[0]||(a[0]=p=>u())}),[k(" Helper item - See note at https://v3.vuejs.org/guide/forms.html#select "),d("option",{disabled:!t.enableHelperText,value:t.helperTextValue??""},w(t.selectHelperText),9,Xe),x(t.$slots,"default")],16,Qe),t.$slots.left?(i(),h("div",Je,[x(t.$slots,"left")])):k("v-if",!0),t.$slots.right?(i(),h("div",et,[x(t.$slots,"right")])):k("v-if",!0)]),_:3},8,["has-focus","has-value","id","disabled","placeholder"]))}}),tt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ot=d("path",{d:"M8 11.5a1.25 1.25 0 0 0-1.25 1.25A1.25 1.25 0 0 0 8 14a1.25 1.25 0 0 0 1.25-1.25A1.25 1.25 0 0 0 8 11.5m8 0a1.25 1.25 0 0 0-1.25 1.25A1.25 1.25 0 0 0 16 14a1.25 1.25 0 0 0 1.25-1.25A1.25 1.25 0 0 0 16 11.5M12 7c1.5 0 2.9.33 4.18.91l2.16-2.16a.996.996 0 1 1 1.41 1.41l-1.8 1.8A9.999 9.999 0 0 1 22 17H2c0-3.29 1.59-6.21 4.05-8.04l-1.8-1.8a.996.996 0 1 1 1.41-1.41l2.16 2.16C9.1 7.33 10.5 7 12 7z",fill:"currentColor"},null,-1),st=[ot];function nt(o,e){return i(),h("svg",tt,st)}const at={name:"mdi-android-head",render:nt},rt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},it=d("path",{fill:"currentColor",d:"M21 14H3V4h18m0-2H3c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h7l-2 3v1h8v-1l-2-3h7a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z"},null,-1),ct=[it];function lt(o,e){return i(),h("svg",rt,ct)}const ut={name:"mdi-desktop-mac",render:lt},dt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},pt=d("path",{fill:"currentColor",d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47c-1.34.03-1.77-.79-3.29-.79c-1.53 0-2 .77-3.27.82c-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51c1.28-.02 2.5.87 3.29.87c.78 0 2.26-1.07 3.81-.91c.65.03 2.47.26 3.64 1.98c-.09.06-2.17 1.28-2.15 3.81c.03 3.02 2.65 4.03 2.68 4.04c-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5c.13 1.17-.34 2.35-1.04 3.19c-.69.85-1.83 1.51-2.95 1.42c-.15-1.15.41-2.35 1.05-3.11Z"},null,-1),ht=[pt];function mt(o,e){return i(),h("svg",dt,ht)}const z={name:"mdi-apple",render:mt},ft={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},vt=d("path",{fill:"currentColor",d:"M6 12a6 6 0 0 1 6-6a6 6 0 0 1 6 6a6 6 0 0 1-6 6a6 6 0 0 1-6-6m14 0a7.94 7.94 0 0 0-3.05-6.27L16 0H8l-.95 5.73A7.94 7.94 0 0 0 4 12c0 2.54 1.19 4.81 3.05 6.27L8 24h8l.95-5.73A7.955 7.955 0 0 0 20 12Z"},null,-1),gt=[vt];function _t(o,e){return i(),h("svg",ft,gt)}const wt={name:"mdi-watch",render:_t},bt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},yt=d("path",{fill:"currentColor",d:"M14.62 8.35c-.42.28-1.75 1.04-1.95 1.19c-.39.31-.75.29-1.14-.01c-.2-.16-1.53-.92-1.95-1.19c-.48-.31-.45-.7.08-.92c1.64-.69 3.28-.64 4.91.03c.49.21.51.6.05.9m7.22 7.28c-.93-2.09-2.2-3.99-3.84-5.66a4.31 4.31 0 0 1-1.06-1.88c-.1-.33-.17-.67-.24-1.01c-.2-.88-.29-1.78-.7-2.61c-.73-1.58-2-2.4-3.84-2.47c-1.81.05-3.16.81-3.95 2.4c-.21.43-.36.88-.46 1.34c-.17.76-.32 1.55-.5 2.32c-.15.65-.45 1.21-.96 1.71c-1.61 1.57-2.9 3.37-3.88 5.35c-.14.29-.28.58-.37.88c-.19.66.29 1.12.99.96c.44-.09.88-.18 1.3-.31c.41-.15.57-.05.67.35c.65 2.15 2.07 3.66 4.24 4.5c4.12 1.56 8.93-.66 9.97-4.58c.07-.27.17-.37.47-.27c.46.14.93.24 1.4.35c.49.09.85-.16.92-.64c.03-.26-.06-.49-.16-.73"},null,-1),$t=[yt];function Ct(o,e){return i(),h("svg",bt,$t)}const kt={name:"mdi-linux",render:Ct},It={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},St=d("path",{fill:"currentColor",d:"M3 12V6.75l6-1.32v6.48L3 12m17-9v8.75l-10 .15V5.21L20 3M3 13l6 .09v6.81l-6-1.15V13m17 .25V22l-10-1.91V13.1l10 .15Z"},null,-1),Dt=[St];function Lt(o,e){return i(),h("svg",It,Dt)}const xt={name:"mdi-windows",render:Lt},Pt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},At=d("path",{fill:"currentColor",d:"m12 20l3.46-6h-.01c.34-.6.55-1.27.55-2c0-1.2-.54-2.27-1.38-3h4.79c.38.93.59 1.94.59 3a8 8 0 0 1-8 8m-8-8c0-1.46.39-2.82 1.07-4l3.47 6h.01c.69 1.19 1.95 2 3.45 2c.45 0 .88-.09 1.29-.23l-2.4 4.14C7 19.37 4 16.04 4 12m11 0a3 3 0 0 1-3 3a3 3 0 0 1-3-3a3 3 0 0 1 3-3a3 3 0 0 1 3 3m-3-8a7.98 7.98 0 0 1 6.92 4H12c-1.94 0-3.55 1.38-3.92 3.21L5.7 7.08A7.981 7.981 0 0 1 12 4m0-2A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2Z"},null,-1),Vt=[At];function Mt(o,e){return i(),h("svg",Pt,Vt)}const Bt={name:"mdi-google-chrome",render:Mt},Et={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ut=d("path",{fill:"currentColor",d:"M6.85 6.74c.01 0 .01 0 0 0M21.28 8.6c-.43-1.05-1.32-2.18-2.01-2.54c.56 1.11.89 2.22 1.02 3.04v.02c-1.13-2.82-3.05-3.96-4.62-6.44c-.08-.12-.17-.25-.24-.38c-.04-.07-.07-.14-.11-.21c-.06-.13-.12-.26-.15-.4c0-.01-.01-.02-.02-.02h-.03c-2.22 1.3-3.15 3.59-3.38 5.04c-.69.04-1.37.21-1.99.51c-.12.05-.17.19-.13.31c.05.14.21.21.34.15c.54-.26 1.14-.41 1.74-.45h.05c.08-.01.17-.01.25-.01c.5-.01.97.06 1.44.2l.06.02c.1.02.17.06.25.06c.05.04.11.06.16.08l.14.06c.07.03.14.06.2.09c.03.02.06.03.09.05c.07.04.16.07.2.11c.04.02.08.05.12.07c.73.45 1.34 1.07 1.75 1.81c-.53-.37-1.49-.74-2.41-.58c3.6 1.81 2.63 8-2.36 7.76c-.44-.01-.88-.1-1.3-.25c-.1-.03-.2-.07-.29-.12c-.05-.02-.12-.05-.17-.08c-1.23-.63-2.24-1.82-2.38-3.27c0 0 .5-1.73 3.33-1.73c.31 0 1.17-.86 1.2-1.1c0-.09-1.74-.78-2.42-1.45c-.37-.36-.54-.53-.69-.66c-.08-.07-.17-.13-.26-.19a4.63 4.63 0 0 1-.03-2.45C7.6 6.12 6.8 6.86 6.22 7.5c-.4-.5-.37-2.15-.35-2.5c-.01 0-.3.16-.33.18c-.35.25-.68.53-.98.82c-.35.37-.66.74-.94 1.14c-.62.91-1.12 1.95-1.34 3.04c0 .01-.1.41-.17.92l-.03.23c-.02.17-.04.32-.08.58v.41c0 5.53 4.5 10.01 10 10.01c4.97 0 9.08-3.59 9.88-8.33c.02-.11.03-.24.05-.37c.2-1.72-.02-3.52-.65-5.03Z"},null,-1),Tt=[Ut];function Ft(o,e){return i(),h("svg",Et,Tt)}const Gt={name:"mdi-firefox",render:Ft},Rt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ht=d("path",{fill:"currentColor",d:"M12 2a10 10 0 0 1 10 10a10 10 0 0 1-10 10A10 10 0 0 1 2 12A10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8c0 2.09.8 4 2.11 5.41l3.77-7.53l7.53-3.77A7.931 7.931 0 0 0 12 4m0 16a8 8 0 0 0 8-8c0-2.09-.8-4-2.11-5.41l-3.77 7.53l-7.53 3.77A7.931 7.931 0 0 0 12 20m0-8l-.77-.77L9.7 14.3l3.07-1.53L12 12m0 5.5h1V19h-1v-1.5m3.88-1.61l.71-.71l1.06 1.06l-.71.71l-1.06-1.06M17.5 12v-1H19v1h-1.5M12 6.5h-1V5h1v1.5M8.12 8.11l-.71.71l-1.06-1.06l.71-.71l1.06 1.06M6.5 12v1H5v-1h1.5Z"},null,-1),qt=[Ht];function Ot(o,e){return i(),h("svg",Rt,qt)}const Zt={name:"mdi-apple-safari",render:Ot},jt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Nt=d("path",{fill:"currentColor",d:"M3 6h18V4H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v-2H3V6m10 6H9v1.78c-.61.55-1 1.33-1 2.22c0 .89.39 1.67 1 2.22V20h4v-1.78c.61-.55 1-1.34 1-2.22s-.39-1.67-1-2.22V12m-2 5.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5s1.5.67 1.5 1.5s-.67 1.5-1.5 1.5M22 8h-6c-.5 0-1 .5-1 1v10c0 .5.5 1 1 1h6c.5 0 1-.5 1-1V9c0-.5-.5-1-1-1m-1 10h-4v-8h4v8Z"},null,-1),Wt=[Nt];function Yt(o,e){return i(),h("svg",jt,Wt)}const zt={name:"mdi-devices",render:Yt},Kt={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Qt=d("path",{fill:"currentColor",d:"M17.9 17.39c-.26-.8-1.01-1.39-1.9-1.39h-1v-3a1 1 0 0 0-1-1H8v-2h2a1 1 0 0 0 1-1V7h2a2 2 0 0 0 2-2v-.41a7.984 7.984 0 0 1 2.9 12.8M11 19.93c-3.95-.49-7-3.85-7-7.93c0-.62.08-1.22.21-1.79L9 15v1a2 2 0 0 0 2 2m1-16A10 10 0 0 0 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2Z"},null,-1),Xt=[Qt];function Jt(o,e){return i(),h("svg",Kt,Xt)}const eo={name:"mdi-globe",render:Jt},to=$({__name:"PlatformIcon",props:{platform:{}},setup(o){const e=o;return(s,n)=>e.platform.toLowerCase().includes("chrome")?(i(),v(c(Bt),{key:0})):e.platform.toLowerCase().includes("firefox")?(i(),v(c(Gt),{key:1})):e.platform.toLowerCase().includes("safari")?(i(),v(c(Zt),{key:2})):e.platform.toLowerCase().includes("android")?(i(),v(c(at),{key:3})):e.platform.toLowerCase().includes("ios")?(i(),v(c(z),{key:4})):e.platform.toLowerCase().includes("wear")?(i(),v(c(wt),{key:5})):e.platform.toLowerCase().includes("desktop")?(i(),v(c(ut),{key:6})):e.platform.toLowerCase().includes("linux")?(i(),v(c(kt),{key:7})):e.platform.toLowerCase().includes("windows")?(i(),v(c(xt),{key:8})):e.platform.toLowerCase().includes("mac")?(i(),v(c(z),{key:9})):e.platform.toLowerCase().includes("web")?(i(),v(c(eo),{key:10})):(i(),v(c(zt),{key:11}))}});function oo(){return he(F.GetPlatformAppIcon,()=>{})}function so(o){const e=oo();function s(t=""){return[`https://c.1password.com/richicons/images/login/96/${t}.png`,`https://icons.bitwarden.net/${t}/icon.png`,`https://www.google.com/s2/favicons?domain=https://${t}&sz=96`,e(t,96)].filter(Boolean)}function n(t){var a;if(!t)return[];if("url"in t)return[t.url];if("primaryMetric"in t&&t.iconUrl)return[t.iconUrl];if("brand_id"in t){const p=me(t);if(p)return[p];const I=(a=fe(t.websites[0]))==null?void 0:a.hostname;return I?s(I):[]}return t.appId.length<4?[]:s(t.appId)}function u(t){return new Promise(a=>{const p=new Image;p.addEventListener("load",()=>a(p.width!==16&&p.width!==19),{once:!0}),p.addEventListener("error",()=>a(!1),{once:!0}),p.src=t})}const l=L(()=>{const t=N(o);if(t)return"url"in t?t.url:"brand_id"in t?t.brand_id:"platform"in t?`${t.platform}:${t.appId}`:t.appId}),{data:r,isFetched:m}=V(["app-icon-url",l],async()=>{const t=n(N(o));if(t.length<=1)return t[0];for(const a of t)if(await u(a))return a},{cacheTime:1/0,retryOnMount:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1});return{isLoaded:m,url:r}}const no=["src"],Wo=$({__name:"AppIcon",props:{src:{},platform:{}},emits:["urlChanged"],setup(o,{emit:e}){const s=o,{url:n,isLoaded:u}=so(()=>s.src);M(n,r=>e("urlChanged",r),{immediate:!0});const l=L(()=>s.src&&"brand_id"in s.src?ve(s.src):s.platform??ge.Web);return(r,m)=>(i(),h(W,null,[k(" Main image "),c(n)?(i(),h("img",A({key:0,class:{"opacity-100":c(u),"opacity-0":!c(u)},src:c(n)},r.$attrs),null,16,no)):(i(),h(W,{key:1},[k(" Fallback icons "),C(to,A({platform:c(l),class:"text-on-background text-opacity-secondary"},r.$attrs),null,16,["platform"])],2112))],2112))}});function Yo(){return q(F.DefaultUsageLimitType)}const ao=B(D.Alert,{message:""});function ro(){return q(F.GroupConfigService)}const io={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},co=d("path",{fill:"currentColor",d:"M8.59 16.58L13.17 12L8.59 7.41L10 6l6 6l-6 6l-1.41-1.42Z"},null,-1),lo=[co];function uo(o,e){return i(),h("svg",io,lo)}const zo={name:"mdi-chevron-right",render:uo};function f(o,e){return _e(()=>{const s=we(),n=be(s.getItem(o),e);s.onChange(o,r=>{n.state.value=r});async function u(r){n.state.value=r,await s.setItem(o,r)}const l=L({get:()=>n.state.value??e,set:r=>void u(r)});return{...n,state:l,mutateAsync:u}})}const po=14*Ce,se=2*ye;async function Ko(o){let e=await o.getItem("review-prompt-interval");e??(e=se);const s=$e()+e+po,n=e*2;await o.setItem("review-prompt-at",s),await o.setItem("review-prompt-interval",n)}const ho=f("device-group",null),mo=f("is-created-group-config",!1),Qo=f("new-user-shown-cross-platform-help",!1),Xo=f("install-date",0),Jo=f("device-group-promotion-visible",!0),es=f("feedback-survey-visible",!0),ts=f("new-tab-promotion-visible",!0),os=f("review-prompt-disabled",!1),ss=f("schedule-call-prompt-disabled",!1),ns=f("min-search-date",0),as=f("review-prompt-at",null),rs=f("review-prompt-interval",se),is=f("sessionsLastUpdatedAt",null),cs=f("last-activity-time-ms",null),ls=f("new-tab-suggested-hostnames",[]),us=f("have-user-joined-device-group",!1),ds=f("shown-walkthroughs",[]),ps=f("promote-desktop-banner-visible",!0),hs=f("promote-desktop-popup-visible",!0),ms=f("promote-extension-for-limits-visible",!0),fs=f("promote-extension-for-browser-details-visible",!0),fo="device-group";function vo(){const o=X(),{canUploadData:e}=Z(O()),s=J(),n=L(()=>e.value&&!!s.value);return V([fo],()=>o.getMyDeviceGroup({installId:s.value}).catch(()=>{}),{enabled:n})}const go=G("device-group",()=>{const{state:o,mutateAsync:e}=ho(),{mutateAsync:s}=mo(),n=ro(),u=ao(),{t:l}=ee();async function r(){await e(null),await s(!1),await n.makeRemoteUsageLimitsLocal(),u.show({message:l("devices.kickedFromDeviceGroup")})}function m(){const{data:t}=vo();M(t,async a=>{a==null?await r():await e(te(a))})}return{deviceGroup:ke(o),setDeviceGroup:e,useRemoteDataWatcher:m,kickedFromGroup:r}});function vs(){}const _o="devices";function gs(o){const e=X(),{canUploadData:s}=Z(O()),n=V([_o,o],()=>o.value?e.listDeviceGroupDevices({deviceGroupKey:o.value.key}):[],{placeholderData:[],keepPreviousData:!0,enabled:s}),u=J(),l=L(()=>{if(n.data.value==null)return n.data.value;const r=[...te(n.data.value)],m=r.findIndex(a=>a.install_id===u.value);return[...r.splice(m,1),...Ie(r,({name:a})=>a.toLowerCase())]});return{...n,data:l}}function _s(o,e,s){const n=go(),{deviceGroup:u}=Z(n),[l,r,...m]=o,t=V(["local-"+l,r,...m],()=>e(r.value),s),{isOnline:a}=Se(),p=V(["remote-"+l,r,...m,u],()=>{var I;return a.value?e({...r.value,deviceGroupKey:(I=u.value)==null?void 0:I.key}).catch(async E=>{if(!a.value)return t.data;if(De.matchesMessage(E))return await n.kickedFromGroup(),e(r.value);throw E}):t.data},{...s,placeholderData:t.data});return{local:t,remote:p}}function ws(o){return o instanceof Error?o.message:typeof o=="string"?o:"Unknown error message"}const wo={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},bo=d("path",{fill:"currentColor",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"},null,-1),yo=[bo];function $o(o,e){return i(),h("svg",wo,yo)}const bs={name:"mdi-close",render:$o},Co={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ko=d("path",{fill:"currentColor",d:"M12 9a3 3 0 0 0-3 3a3 3 0 0 0 3 3a3 3 0 0 0 3-3a3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5a5 5 0 0 1 5-5a5 5 0 0 1 5 5a5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Z"},null,-1),Io=[ko];function So(o,e){return i(),h("svg",Co,Io)}const Do={name:"mdi-eye",render:So},Lo={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},xo=d("path",{fill:"currentColor",d:"M11.83 9L15 12.16V12a3 3 0 0 0-3-3h-.17m-4.3.8l1.55 1.55c-.05.21-.08.42-.08.65a3 3 0 0 0 3 3c.22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53a5 5 0 0 1-5-5c0-.79.2-1.53.53-2.2M2 4.27l2.28 2.28l.45.45C3.08 8.3 1.78 10 1 12c1.73 4.39 6 7.5 11 7.5c1.55 0 3.03-.3 4.38-.84l.43.42L19.73 22L21 20.73L3.27 3M12 7a5 5 0 0 1 5 5c0 .64-.13 1.26-.36 1.82l2.93 2.93c1.5-1.25 2.7-2.89 3.43-4.75c-1.73-4.39-6-7.5-11-7.5c-1.4 0-2.74.25-4 .7l2.17 2.15C10.74 7.13 11.35 7 12 7Z"},null,-1),Po=[xo];function Ao(o,e){return i(),h("svg",Lo,Po)}const Vo={name:"mdi-eye-off",render:Ao},Mo=["id","type","disabled"],Bo={class:"absolute right-3 top-0 bottom-0 flex w-8 flex-col justify-center"},Eo=$({name:"PinInput",__name:"PinInput",props:K({id:{},disabled:{type:Boolean},inputProps:{},autofocus:{type:Boolean}},{modelValue:{required:!0}}),emits:["update:modelValue"],setup(o){const e=o,s=Q(o,"modelValue"),n=b(!1),u=b("password"),l=b();function r(){var t,a;(a=(t=l.value)==null?void 0:t.focus)==null||a.call(t)}function m(){u.value=u.value=="text"?"password":"text"}return Le(()=>{e.autofocus&&r()}),(t,a)=>(i(),h("div",{class:P(["relative h-14 bg-on-background bg-opacity-5 theme-dark:bg-opacity-[0.15] overflow-hidden transition-all ring-primary ring-opacity-adaptive ease-linear rounded",{"ring-4":c(n)}])},[xe(d("input",A({ref_key:"input",ref:l,id:t.id,type:c(u),autocomplete:"off",spellcheck:"false",class:["font-mono text-left font-black text-on-input min-w-0 w-full h-full absolute inset-0 bg-transparent outline-none border-none box-border transition-all text-base pl-4 pr-14",{"text-opacity-primary":!t.disabled,"text-opacity-disabled":t.disabled}],"onUpdate:modelValue":a[0]||(a[0]=p=>s.value=p)},t.inputProps,{disabled:t.disabled,onFocus:a[1]||(a[1]=p=>n.value=!0),onBlur:a[2]||(a[2]=p=>n.value=!1)}),null,16,Mo),[[Pe,s.value]]),d("div",Bo,[d("button",{type:"button",class:"absolute z-10 p-2 hover:bg-neutral-100 hover:text-primary-600 focus:text-primary-600 active:text-primary-700",onClick:a[3]||(a[3]=p=>m())},[c(u)==="password"?(i(),v(c(Do),{key:0,class:"text-on-input"})):(i(),v(c(Vo),{key:1,class:"text-on-input"}))])])],2))}}),ne=B(D.EnterPin,{}),Uo=B(D.SetPin,{}),To=B(D.ResetPin,{}),Fo=G("pin",()=>{const o=Ae("entered-pin",!1),{state:e}=Ve(),s=ne(),n=Uo(),u=To();function l(){return new Promise((a,p)=>{s.show({onDismiss:()=>p(void 0),onSuccess:a})})}function r(){return new Promise((a,p)=>{n.show({pin:"",onDismiss:()=>p(void 0),onPick:a})})}function m(){return new Promise((a,p)=>{u.show({onDismiss:()=>p(void 0),onSuccess:a})})}async function t(){if(!e.value||o.value)return!0;await l(),o.value=!0}return{securityConfig:e,enteredPinBefore:o,enterPinIfNeeded:t,enterPin:l,setPin:r,resetPin:m}}),Go={class:"text-on-input"},Ro={class:"flex flex-row items-center justify-between"},Ho={key:0,class:"text-error font-bold py-2 text-center"},qo=["onClick"],ys=$({name:"PinEnterDialog",__name:"PinEnterDialog",setup(o){const e=R(),s=ne(),n=Me(),{resetPin:u}=Fo(),{t:l}=ee(),r=b(""),m=b(0),t=b(),a=b(!1);M(r,()=>{a.value=!1});async function p(){var _,S;await n.isPinCorrect(r.value)?((S=(_=s.options).onSuccess)==null||S.call(_),U()):(m.value+=1,a.value=!0)}function I(){r.value="",m.value=0}async function E(){var _,S;const g=s.options;try{U(),await u(),(S=(_=s.options).onDismiss)==null||S.call(_)}catch{ie(g)}}function ae(){var g;(g=t==null?void 0:t.value.form)!=null&&g.reportValidity()&&p()}function re(){var g,_;(_=(g=s.options).onDismiss)==null||_.call(g),U()}function U(){s.hide()}function ie(g){s.show(g)}return(g,_)=>(i(),v(je,{name:c(D).EnterPin,visible:!!c(e).visible[c(D).EnterPin],onShown:I,onDismiss:re},{default:y(()=>[C(Ee,{ref_key:"scaffold",ref:t,"data-testid":"pin-enter-form",class:"md:w-[400px] w-[320px] theme-dark:bg-on-background theme-dark:bg-opacity-[0.15]",onSubmit:p},{title:y(()=>[T(w(c(l)("pin.enter")),1)]),body:y(()=>[d("p",Go,w(c(l)("pin.enterDescription")),1),C(Eo,{id:"pin","data-testid":"pin-input",class:"h-20",autofocus:!0,"input-props":{minLength:4,maxLength:20,required:!0},modelValue:c(r),"onUpdate:modelValue":_[0]||(_[0]=S=>Be(r)?r.value=S:null)},null,8,["modelValue"]),d("div",Ro,[c(m)>0&&c(a)?(i(),h("p",Ho,w(c(l)("pin.wrongCode")),1)):k("v-if",!0),c(m)>2?(i(),h("a",{key:1,href:"#",onClick:Y(E,["prevent"]),class:"text-primary text-sm font-medium hover:underline"},w(c(l)("pin.forgot")),9,qo)):k("v-if",!0)])]),buttons:y(()=>[C(H,{"data-testid":"confirm",type:"submit",onClick:ae},{default:y(()=>[T(w(c(l)("continue")),1)]),_:1}),C(H,{color:"transparent",onClick:Y(U,["prevent"])},{default:y(()=>[T(w(c(l)("cancel")),1)]),_:1},8,["onClick"])]),_:1},512)]),_:1},8,["name","visible"]))}});function $s(o){const e=Ue(o);return L(()=>e.value.getTime())}const Cs=B(D.AddAppToIgnoreListDialog,{appName:"",addAppToIgnoreList(){throw new Error("Function not implemented.")},onSubmit(){throw new Error("Function not implemented.")}});export{Cs as A,ys as B,Qo as C,fo as D,Jo as E,es as F,ns as G,Ke as H,zt as I,is as J,so as K,ms as L,fs as M,mo as N,f as O,Fo as P,_o as Q,jo as R,Ze as S,ss as T,cs as U,as as V,os as W,rs as X,Ko as Y,ds as Z,Wo as _,Xo as a,R as b,bs as c,ls as d,B as e,je as f,No as g,Yo as h,ao as i,Te as j,zo as k,to as l,us as m,go as n,vs as o,ro as p,_s as q,gs as r,ws as s,To as t,ts as u,Eo as v,Uo as w,ps as x,hs as y,$s as z};
