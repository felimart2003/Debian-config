import{_ as D}from"./SfOptionsButton.vue_vue_type_script_setup_true_lang-34L7vER_.js";import{f as S,c0 as h,t as M,c as C,af as u,o as r,q as F,j as o,z as A,aP as O,Y as g,n as k,w as p,k as w,i as B,Q as m,g as v,l as I}from"./defineAppConfig-GTQ5Bvuh.js";import{b as N,s as R}from"./useAddAppToIgnoreListDialogStore-Ki2J31d-.js";import{u as d}from"./useFocusModeStore-bWj63oGD.js";import{u as y}from"./useRequirePin-V8f6W3iF.js";const H=S({name:"FocusModeActivationButton",__name:"FocusModeActivationButton",setup(s){const{t:e}=h(),{reportEvent:n}=M(),t=d(),l=N(),i=C(()=>t.isEnabled&&!t.websites.length),_=[{display:e("focusMode.option1"),value:1*u},{display:e("focusMode.option2"),value:2*u},{display:e("focusMode.option3"),value:3*u}];function f(){n("ENABLED_FOCUS_MODE_INDEFINITELY"),t.enableIndefinitely(),a()}function b(c){n("ENABLED_FOCUS_MODE_FOR_DURATION",{durationInHours:c/u}),t.enableForDuration(c),a()}function a(){i.value&&l.show(A.FocusModeRequiredSitesWarning)}return(c,E)=>(r(),F(D,{id:"activate-focus-mode-button","button-text":o(e)("focusMode.activate"),"dropdown-title":o(e)("focusMode.optionTitle"),items:_,onClick:f,onClickOption:b},null,8,["button-text","dropdown-title"]))}});function U(){const s=d();return()=>{const e=s.activeSchedule;if(!e)return;const n={...O(s.schedules)};delete n[e.id],s.schedules=n}}function L(){const s=d(),e=M();return y(()=>{s.disable(),e.reportEvent("FOCUS_MODE_DISABLE_MANUALLY")})}const W=S({name:"FocusModeReasonBanner",__name:"FocusModeReasonBanner",setup(s){const{t:e}=g(),{reportEvent:n}=M(),t=d(),l=U(),i=y(()=>{l(),n("FOCUS_MODE_REMOVE_ACTIVE_SCHEDULE")}),_=L(),f=async()=>await _();return(b,a)=>{const c=k("i18n-t");return o(t).reason?(r(),F(R,{key:0,"data-testid":"focus-mode-active-banner",type:"info"},{default:p(()=>[w(c,{tag:"span",keypath:"focusMode.status"},{default:p(()=>[B("strong",null,m(o(t).reason),1)]),_:1})]),buttons:p(()=>[o(t).activeSchedule?(r(),v("button",{key:0,class:"btn btn-secondary",onClick:a[0]||(a[0]=(...E)=>o(i)&&o(i)(...E))},m(o(e)("deleteSchedule")),1)):(r(),v("button",{key:1,class:"btn btn-secondary",onClick:f},m(o(e)("disableNow")),1))]),_:1})):I("v-if",!0)}}});export{H as _,W as a,L as u};
