import{k as v,V as w,W as d,X as R,B as E,Y as P}from"./useAddAppToIgnoreListDialogStore-Ki2J31d-.js";import{b4 as S,t as b,a as I,aB as A,ax as D,c as _,aH as f}from"./defineAppConfig-GTQ5Bvuh.js";const h=S("review-prompt",()=>{const{reportEvent:t}=b(),{reviewUrl:a}=v(),o=I("ReviewPrompt"),r=A(),{state:e}=w(),{state:s,mutateAsync:i}=d(),{state:n}=R(),u=E({interval:D}),c=_(()=>o&&!s.value&&e.value!=null&&e.value<=u.value);async function l(){t("REVIEW_PROMPT_DISMISSED"),await P(r).catch(m=>f("[review-prompt-store] Failed to schedule next prompt",m))}async function p(){t("REVIEW_PROMPT_CTA_CLICKED"),await i(!0),window.open(a,"_blank")}return{isVisible:c,showAt:e,disabled:s,interval:n,dismiss:l,submitReview:p}});export{h as u};
