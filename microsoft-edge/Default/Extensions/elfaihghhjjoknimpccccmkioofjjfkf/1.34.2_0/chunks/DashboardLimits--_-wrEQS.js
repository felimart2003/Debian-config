import{E as V}from"./empty-list-illustration-D_sMLuvy.js";import{_ as M}from"./FloatingActionButton.vue_vue_type_script_setup_true_lang-iV3s1viX.js";import{I as l}from"./new-tab-light-6CDZBy0y.js";import{i as w,o as j,q as $,s as I,d as q}from"./useAddAppToIgnoreListDialogStore-Ki2J31d-.js";import{c as Q,_ as b}from"./usePromoteExtensionVisibility-ByQc8mk5.js";import{bW as Y,f as H,t as J,Y as K,r as v,c as y,aO as X,n as z,o as s,q as h,w as i,i as m,k as e,j as t,P as E,Q as x,l as p,g as u,F as Z,bJ as tt}from"./defineAppConfig-GTQ5Bvuh.js";import{j as C,k as S,b as D}from"./recent-apps-provider-OWite7eM.js";import{u as et}from"./useWalkthrough-8G963d17.js";import{I as st}from"./plus-kS_YE9tP.js";import{I as ot}from"./external-link-rqkdzS6I.js";import"./useGetSessionSummaries--e-QKgL-.js";import"./pencil-outline-S-laxNsu.js";import"./AppListItem.vue_vue_type_script_setup_true_lang-xBVAs2BQ.js";import"./useGetAppMetadataQuery-BcVr5ORk.js";import"./useVibrantColor-iCMxnPhp.js";import"./useRequirePin-V8f6W3iF.js";import"./sleep-9Kq7Tjeg.js";import"./useIsNewTabPage-kpgT7RUw.js";function it(){const L=C(),n=w(),r=S(),d=[{stepName:"websiteLimitsActionTypes",selector:"#type-container",eventName:"WEBSITE_LIMITS_ACTION_TYPES"}];function f(){L.show({disableAppIdFocus:!0,limitType:n,warningType:r})}et("UsageLimits","usageLimits",d,{timeout:Y,beforeShow:f})}const at={"data-testid":"usage-limits",class:"section section-sticky"},nt={key:0,class:"section flex-1 flex flex-col items-center justify-center space-y-8"},rt=["src"],ct={key:0,class:"section"},lt={key:1,class:"section"},Ct=H({name:"DashboardLimits",__name:"DashboardLimits",setup(L){const{reportEvent:n}=J();n("OPENED_DASHBOARD_LIMITS_PAGE");const{t:r}=K(),d=C(),{data:f}=D(v({sortBy:["appId"],isCrossPlatform:!0})),c=y(()=>f.value??[]),{data:_}=D(v({sortBy:["appId"],isCrossPlatform:!1})),P=y(()=>{var o,a;return(((o=c.value)==null?void 0:o.length)??0)+(((a=_.value)==null?void 0:a.length)??0)}),N=S(),O=w();function A(){d.show({warningType:N,limitType:O})}const{deviceGroup:U}=X(j()),W=y(()=>{var o;return(((o=c.value)==null?void 0:o.length)??0)>0&&U.value!=null});it(),$().update();const{isPromoteExtensionForLimitsVisible:B,dismissPromoteExtensionForLimits:g}=Q({autoShowTimeout:250});function F(){window.open(tt(),"_blank"),g(),n("CLICKED_PROMOTE_EXTENSION_FOR_LIMITS")}return(o,a)=>{const G=z("page-layout-content-container");return s(),h(G,null,{default:i(()=>{var T,k;return[m("section",at,[e(l,{tag:"h1",class:"dashboard-page-title",keypath:"websiteLimits"}),t(W)?(s(),h(I,{key:0,type:"info"},{default:i(()=>[E(x(t(r)("devices.limitsLocalDeviceOnly")),1)]),_:1})):p("v-if",!0),t(B)?(s(),h(I,{key:1,type:"info"},{default:i(()=>[e(l,{tag:"span",keypath:"promoteExtension.descriptionForLimits"})]),buttons:i(()=>[m("button",{class:"btn btn-secondary flex-shrink-0",onClick:F},[E(x(t(r)("promoteExtension.button"))+" ",1),e(t(ot),{class:"icon-sm inline"})]),m("div",{class:"clickable p-2",role:"button",onClick:a[0]||(a[0]=(...R)=>t(g)&&t(g)(...R))},[e(t(q),{class:"icon"})])]),_:1})):p("v-if",!0)]),t(P)===0?(s(),u("section",nt,[m("img",{src:t(V),class:"w-full max-w-lg px-4 opacity-50 dark:opacity-100"},null,8,rt),e(l,{tag:"p",keypath:"dashboard.noWebsiteLimits",class:"text-center"})])):(s(),u(Z,{key:1},[(T=t(_))!=null&&T.length?(s(),u("section",ct,[e(b,{items:t(_)??[]},null,8,["items"])])):p("v-if",!0),(k=t(c))!=null&&k.length?(s(),u("section",lt,[e(l,{tag:"h2",keypath:"dashboard.crossPlatformUsageLimitSection",class:"section-title"}),e(b,{items:t(c)},null,8,["items"])])):p("v-if",!0)],64))]}),overlay:i(()=>[e(M,{onClick:A,"data-testid":"add-limit"},{default:i(()=>[e(t(st),{class:"icon text-primary-content"})]),_:1})]),_:1})}}});export{Ct as default};
