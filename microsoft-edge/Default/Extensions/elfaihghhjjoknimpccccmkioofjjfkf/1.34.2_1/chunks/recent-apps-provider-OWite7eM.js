import{f as T,o as b,g as P,Q as h,s as de,i as m,h as pe,_ as ot,a3 as at,K as ke,c as I,r as $,q as R,w as g,j as a,l as M,a4 as Re,a5 as As,O as Mt,a6 as tt,z as H,Y as F,x as fe,a7 as xs,a8 as be,a9 as tn,aa as ct,ab as ut,T as ze,k as _,P as L,$ as Q,N as _e,F as le,ac as ne,ad as An,ae as xt,af as pt,ag as Lt,ah as Qe,ai as we,I as Ve,b as Ot,n as Nt,aj as ht,ak as Se,al as xn,am as Rn,Z as nt,A as In,an as Rs,ao as Is,t as Me,ap as je,aq as vt,ar as Le,as as _t,at as Ts,au as j,av as Vs,aw as Ut,ax as it,ay as xe,az as Tn,aA as Ms,aB as Vn,aC as Bt,aD as Mn,aE as Ls,aF as Os,aG as Ns,aH as Us,aI as Bs,aJ as Ln,aK as Hs,aL as On,aM as zs,aN as dt,D as ae,aO as Fe,aP as gt,aQ as Ws,aR as Ht,U as bt,aS as Nn,aT as Fs,aU as We,aV as rt,aW as Un,aX as qs,aY as Gs,aZ as zt,R as Qs,v as Bn,u as js,a_ as Ys,a$ as Ks,b0 as Zs,b1 as nn,b2 as Js,b3 as Xs,b4 as Hn,a as eo,b5 as to,b6 as no}from"./defineAppConfig-GTQ5Bvuh.js";import{f as $e,b as De,g as ie,c as Rt,_ as Pt,h as zn,i as Wt,j as so,k as oo,l as ao,m as io,n as Wn,o as yt,p as Fn,D as ro,q as Ft,r as qn,s as sn,d as lo,t as co,v as uo,w as po,x as Gn,y as fo,z as on,A as an,a as mo,B as ho,C as vo,E as _o,F as go}from"./useAddAppToIgnoreListDialogStore-Ki2J31d-.js";import{a as qt,I as K,u as Qn,S as Gt,b as bo,_ as Ne,c as yo,n as ko,d as wo}from"./new-tab-light-6CDZBy0y.js";const Do=["data-testid"],Co=T({name:"DayButton",__name:"DayButton",props:{text:{},selected:{type:Boolean}},setup(t){const e=t;return(s,o)=>(b(),P("button",{class:de(["btn btn-square",{"btn-neutral":!e.selected,"btn-primary":e.selected}]),"data-testid":`day-${s.text}`},h(e.text),11,Do))}}),Eo=["id"],Po=["for"],So=T({name:"SfInputContainer",__name:"SfInputContainer",props:{id:{},placeholder:{},disabled:{type:Boolean},hasFocus:{type:Boolean},hasValue:{type:Boolean},offsetLeft:{type:Boolean}},setup(t){return(e,s)=>(b(),P("div",{id:`${e.id}-container`,class:de(["relative h-14 bg-base-content bg-opacity-5 dark:bg-opacity-[0.15] transition-all ring-primary ring-opacity-adaptive ease-linear rounded",{"ring-4":e.hasFocus}])},[m("label",{for:e.id,class:de(["absolute transition-all ease-linear",{"text-xs top-2":e.hasValue||e.hasFocus,"top-4.5":!e.hasValue&&!e.hasFocus,"text-opacity-60":!e.disabled,"text-opacity-30":e.disabled,"left-4":!e.offsetLeft,"left-14":e.offsetLeft}])},h(e.placeholder),11,Po),pe(e.$slots,"default",{},void 0,!0)],10,Eo))}}),jn=ot(So,[["__scopeId","data-v-d2513295"]]),$o={key:0,class:"absolute left-3 top-3 w-8 h-8"},Ao={key:1,class:"absolute right-3 top-3 w-8 h-8"},xo=["id","disabled"],Ro=T({name:"SfInput",__name:"SfInput",props:at({id:{},placeholder:{},disabled:{type:Boolean},inputProps:{}},{modelValue:{required:!0}}),emits:["update:modelValue"],setup(t,{expose:e}){const s=t,o=ke(t,"modelValue"),u=I(()=>{var n;return((n=s.inputProps)==null?void 0:n.type)==="number"?o.value!=="":!!o.value}),d=$(!1),l=$();function r(){var n,i;(i=(n=l.value)==null?void 0:n.focus)==null||i.call(n)}return e({focus:r,focused:d}),(n,i)=>(b(),R(jn,{"has-focus":a(d),"has-value":a(u),id:n.id,disabled:n.disabled,placeholder:n.placeholder,"offset-left":!!n.$slots.left},{default:g(()=>[M(' Left and right before the input so the input is "over" them and clicks hit the input '),n.$slots.left?(b(),P("div",$o,[pe(n.$slots,"left",{},void 0,!0)])):M("v-if",!0),n.$slots.right?(b(),P("div",Ao,[pe(n.$slots,"right",{},void 0,!0)])):M("v-if",!0),Re(m("input",Mt({ref_key:"input",ref:l,id:n.id,class:["min-w-0 w-full h-full absolute inset-0 pt-3.5 bg-transparent outline-none border-none box-border transition-all text-base text-base-content",{"text-opacity-primary":!n.disabled,"text-opacity-disabled":n.disabled,"pl-4":!n.$slots.left,"pl-14":n.$slots.left,"pr-4":!n.$slots.right,"pr-14":n.$slots.right}],"onUpdate:modelValue":i[0]||(i[0]=c=>o.value=c)},n.inputProps,{autocomplete:"off",disabled:n.disabled,onFocus:i[1]||(i[1]=c=>d.value=!0),onBlur:i[2]||(i[2]=c=>d.value=!1)}),null,16,xo),[[As,o.value]])]),_:3},8,["has-focus","has-value","id","disabled","placeholder","offset-left"]))}}),ge=ot(Ro,[["__scopeId","data-v-1c4b6bcd"]]),Io={class:"group relative w-14 h-7 cursor-pointer",draggable:"false"},To=T({name:"SfSwitch",__name:"SfSwitch",props:at({inputProps:{}},{modelValue:{type:Boolean,required:!0}}),emits:["update:modelValue"],setup(t){const e=ke(t,"modelValue");return(s,o)=>(b(),P("div",Io,[Re(m("input",Mt({type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=u=>e.value=u),class:"sr-only"},s.inputProps),null,16),[[tt,e.value]]),m("div",{class:de(["absolute inset-0 rounded-2xl ring-0 group-focus-within:ring-4 active:ring-4 transition ease-in-out",{"ring-base-300 bg-primary ring-opacity-100":e.value,"ring-primary bg-neutral ring-opacity-adaptive":!e.value}]),onClick:o[1]||(o[1]=u=>e.value=!e.value)},[m("div",{class:de(["absolute top-1 left-1 w-5 h-5 rounded-full transition ease-in-out",{"translate-x-7 bg-base-100":e.value,"bg-base-content opacity-disabled":!e.value}])},null,2)],2)]))}}),Vo=$e(H.AddSchedule,{onSubmit:()=>new Error("onSubmit not implemented")}),Yn=$e(H.TimePicker,{}),Mo={class:"flex w-full justify-around items-center self-center mx-4"},Lo={class:"flex space-x-4 items-center"},Oo={class:"flex space-x-4 pl-2 items-center"},No=T({name:"AddScheduleDialog",__name:"AddScheduleDialog",setup(t){const e=De(),s=Yn(),o=Vo(),u=$(),{t:d}=F(),l=$("New Program"),r=$(!1),n=$(A()),i=$(A()),c=$(n.value),p=$(i.value);fe(r,E=>{E?(c.value=n.value,p.value=i.value,n.value="00:00",i.value="23:59"):(n.value=c.value,i.value=p.value)});const{state:f}=xs(),v=I(()=>{const E=[{day:be.Sunday,display:d("schedules.sunday"),value:!1},{day:be.Monday,display:d("schedules.monday"),value:!0},{day:be.Tuesday,display:d("schedules.tuesday"),value:!0},{day:be.Wednesday,display:d("schedules.wednesday"),value:!0},{day:be.Thursday,display:d("schedules.thursday"),value:!0},{day:be.Friday,display:d("schedules.friday"),value:!0},{day:be.Saturday,display:d("schedules.saturday"),value:!1}];return f.value===tn.Saturday?E.unshift(E.pop()):f.value===tn.Monday&&E.push(E.shift()),E}),y=$(v.value.map(E=>E.value));fe(f,()=>{y.value=v.value.map(E=>E.value)});function w(){var Z;const E=new Date(`2021-01-01T${n.value}`).getTime(),N=new Date(`2021-01-01T${i.value}`).getTime(),q={id:((Z=o.options.schedule)==null?void 0:Z.id)??An(),name:l.value,days:C(),allDay:r.value,startTime:xt(E),endTime:xt(N)};D(),o.options.onSubmit(q)}function C(){return y.value.map((N,U)=>{if(N)return v.value[U].day}).filter(N=>N!==void 0)}function D(){e.hide(H.AddSchedule),O()}function A(){const E=s.options.initialTimeOfDay??0;return ct(ze()+E,ut)}function O(){var q,Z,se,me,oe,he;l.value=((q=o.options.schedule)==null?void 0:q.name)??"New Program",r.value=((Z=o.options.schedule)==null?void 0:Z.allDay)??!1;const E=((se=o.options.schedule)==null?void 0:se.startTime)??9*pt,N=((me=o.options.schedule)==null?void 0:me.endTime)??18*pt;n.value=ct(ze()+E,ut),i.value=ct(ze()+N,ut),c.value=n.value,p.value=i.value;const U=((oe=o.options.schedule)==null?void 0:oe.days)??[];(he=o.options.schedule)!=null&&he.name?v.value.forEach((ce,ue)=>{U.includes(ce.day)?v.value[ue].value=!0:v.value[ue].value=!1}):v.value.forEach((ce,ue)=>{ce.day!=be.Saturday&&ce.day!=be.Sunday?v.value[ue].value=!0:v.value[ue].value=!1}),y.value=v.value.map(ce=>ce.value)}return(E,N)=>(b(),R(ie,{name:a(H).AddSchedule,visible:!!a(e).visible[a(H).AddSchedule],onShown:O,onDismiss:D},{default:g(()=>[_(ne,{class:"w-108","data-testid":"add-schedule-form"},{title:g(()=>[L(h(a(d)("schedules.addSchedule")),1)]),body:g(()=>[_(ge,{ref:"input",id:"url","data-testid":"schedule-name",placeholder:E.$t("schedules.scheduleName"),modelValue:a(l),"onUpdate:modelValue":N[0]||(N[0]=U=>Q(l)?l.value=U:null)},null,8,["placeholder","modelValue"]),m("div",Mo,[(b(!0),P(le,null,_e(a(v),(U,q)=>(b(),R(Co,{key:U.display,text:U.display,selected:a(y)[q],onClick:Z=>a(y)[q]=!a(y)[q]},null,8,["text","selected","onClick"]))),128))]),m("div",Lo,[_(ge,{id:"date","data-testid":"schedule-start",ref_key:"dateInput",ref:u,class:"flex-1",disabled:a(r),placeholder:a(d)("schedules.startTime"),"input-props":{type:"time"},modelValue:a(n),"onUpdate:modelValue":N[1]||(N[1]=U=>Q(n)?n.value=U:null)},null,8,["disabled","placeholder","modelValue"]),_(ge,{id:"date","data-testid":"schedule-end",ref_key:"dateInput",ref:u,class:"flex-1",disabled:a(r),placeholder:a(d)("schedules.endTime"),"input-props":{type:"time"},modelValue:a(i),"onUpdate:modelValue":N[2]||(N[2]=U=>Q(i)?i.value=U:null)},null,8,["disabled","placeholder","modelValue"])]),m("div",Oo,[m("p",null,h(a(d)("schedules.allDay")),1),_(To,{modelValue:a(r),"onUpdate:modelValue":N[3]||(N[3]=U=>Q(r)?r.value=U:null),"data-testid":"schedule-all-day"},null,8,["modelValue"])])]),buttons:g(()=>[m("button",{class:"btn btn-primary","data-testid":"save",type:"submit",onClick:w},h(a(d)("save")),1),m("button",{class:"btn btn-neutral",onClick:D},h(a(d)("cancel")),1)]),_:1})]),_:1},8,["name","visible"]))}}),Uo={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Bo=m("path",{fill:"currentColor",d:"m7 10l5 5l5-5H7Z"},null,-1),Ho=[Bo];function zo(t,e){return b(),P("svg",Uo,Ho)}const Wo={name:"mdi-menu-down",render:zo},Fo=["id","value","disabled"],qo=["disabled","value"],Go={key:0,class:"absolute left-3 top-3 w-8 h-8"},Qo={key:1,class:"absolute right-3 top-3 w-8 h-8"},Kn=T({name:"SfSelect",__name:"SfSelect",props:at({id:{},placeholder:{},disabled:{type:Boolean},selectProps:{},selectHelperText:{},enableHelperText:{type:Boolean},helperTextValue:{}},{modelValue:{required:!0}}),emits:["update:modelValue"],setup(t){const e=ke(t,"modelValue");function s(n){n.target&&(e.value=n.target.value,d())}const o=$(!1);function u(){o.value=!0,window.addEventListener("mousedown",d),window.addEventListener("keypress",d)}function d(){o.value=!1,l()}function l(){window.removeEventListener("mousedown",d),window.removeEventListener("keypress",d)}Lt(l);const r=!1;return(n,i)=>(b(),R(jn,{"has-focus":a(o),"has-value":!!e.value,id:n.id,disabled:n.disabled,placeholder:n.placeholder},{default:g(()=>[M(' Before the input so the input is "over" the arrow and clicks hit the select '),m("div",{class:de(["absolute top-3 w-8 h-8",{"right-12":n.$slots.right,"right-3":!n.$slots.right}])},[_(a(Wo),{class:de(["icon m-1 text-base-content text-opacity-secondary",{"text-opacity-disabled":n.disabled}])},null,8,["class"])],2),m("select",Mt({id:n.id,class:["min-w-0 w-full h-full absolute inset-0 pt-4 pl-4 pr-14 bg-transparent outline-none border-none box-border text-base transition-all appearance-none",{"text-opacity-primary":e.value&&!n.disabled,"text-opacity-disabled":e.value&&n.disabled,"text-opacity-0":!e.value,"pl-4":!n.$slots.left,"pl-14":n.$slots.left,"pr-4":!n.$slots.right,"pr-14":n.$slots.right,firefox:a(r)}],value:e.value},n.selectProps,{disabled:n.disabled,onChange:s,onFocus:i[0]||(i[0]=c=>u())}),[M(" Helper item - See note at https://v3.vuejs.org/guide/forms.html#select "),m("option",{disabled:!n.enableHelperText,value:n.helperTextValue??""},h(n.selectHelperText),9,qo),pe(n.$slots,"default")],16,Fo),n.$slots.left?(b(),P("div",Go,[pe(n.$slots,"left")])):M("v-if",!0),n.$slots.right?(b(),P("div",Qo,[pe(n.$slots,"right")])):M("v-if",!0)]),_:3},8,["has-focus","has-value","id","disabled","placeholder"]))}});function jo(t,e){const s=$(!1),o=$(),{data:u,isLoading:d,isError:l,error:r}=Qe(["combobox",e==null?void 0:e.queryKey],()=>e==null?void 0:e.getItems(),{enabled:!!e}),n=I(()=>{var v;const f=t.value.toLowerCase();return(v=u.value)==null?void 0:v.filter(y=>y.value.toLowerCase().includes(f))});fe(t,()=>{var f;(f=n.value)!=null&&f.length?(o.value=0,s.value=!0):(o.value=void 0,s.value=!1)});const i={onfocus:()=>{setTimeout(()=>{s.value=!0})},onblur:()=>{setTimeout(()=>{s.value=!1})},onkeydown:f=>{var v,y,w;if(s.value){if(f.key==="Escape"){f.preventDefault(),f.stopPropagation(),s.value=!1;return}if(f.key==="ArrowDown"&&((v=n.value)!=null&&v.length)){f.preventDefault(),f.stopPropagation(),o.value=((o.value??-1)+1)%n.value.length;return}if(f.key==="ArrowUp"&&((y=n.value)!=null&&y.length)){f.preventDefault(),f.stopPropagation();const C=(o.value??n.value.length)-1;o.value=C===-1?n.value.length-1:C;return}if(f.key==="Enter"&&((w=n.value)!=null&&w.length)&&o.value!=null){f.preventDefault(),f.stopPropagation(),c(n.value[o.value]);return}}}},c=f=>{var v,y;t.value=f.value,s.value=!1,(y=(v=document.activeElement)==null?void 0:v.blur)==null||y.call(v)};return{comboboxProps:I(()=>({visible:!!e&&s.value,results:n.value,isError:l.value,isLoading:d.value,error:r.value,onClickItem:c,activeIndex:o.value})),inputEvents:i}}function Zn(){return we(Ve.InstalledAppsProvider)}const Yo={class:"flex flex-col p-2 w-96 text-left max-h-64 overflow-y-auto bg-base-content bg-opacity-5"},Ko={class:"relative"},Zo=["onMousedown"],Jo=T({__name:"SfCombobox",props:{visible:{type:Boolean},isLoading:{type:Boolean},isError:{type:Boolean},error:{},results:{},onClickItem:{type:Function},activeIndex:{}},setup(t){return(e,s)=>(b(),R(Rt,{"align-horizontal":"left",visible:e.visible},{default:g(()=>[m("form",Yo,[m("ul",Ko,[(b(!0),P(le,null,_e(e.results,(o,u)=>(b(),P("li",{key:o.value,onMousedown:d=>e.onClickItem(o)},[M(" Allow rendering custom list items "),pe(e.$slots,"item",{item:o},()=>[m("li",{class:de(["px-4 py-3 clickable rounded cursor-pointer text-base-content opacity-primary bg-base-content bg-opacity-0",{"bg-opacity-active":u===e.activeIndex}])},h(o.value),3)])],40,Zo))),128))])])]),_:3},8,["visible"]))}});function Jn(){return we(Ve.TransformAppIdInput)}function Qt(t){return!!t&&!!t.match(/^[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)+$/)}const Xo={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ea=m("path",{fill:"currentColor",d:"M12 21c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-1h-4m2-13a5.002 5.002 0 0 0-3 9v2c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-2a4.997 4.997 0 0 0 1-7c-.94-1.26-2.43-2-4-2m1 7.82V17h-2v-2.18A3 3 0 0 1 11.17 11A3.003 3.003 0 0 1 15 9.16c1.56.56 2.38 2.27 1.83 3.84c-.3.85-.98 1.5-1.83 1.82M7.68 15H7v1c0 .55.45 1 1 1h1v-.12c-.54-.55-1-1.18-1.32-1.88M13.6 5C12.5 2.47 9.53 1.33 7 2.45S3.34 6.5 4.45 9.04c.34.77.88 1.46 1.55 1.96v2c0 .55.45 1 1 1h.3c-.2-.65-.3-1.32-.3-2c0-3.71 2.89-6.79 6.6-7Z"},null,-1),ta=[ea];function na(t,e){return b(),P("svg",Xo,ta)}const rn={name:"mdi-lightbulb-multiple-outline",render:na},sa={class:"flex flex-col justify-center p-4 w-96 text-left bg-base-content bg-opacity-5 space-y-4"},oa={class:"flex flex-row items-center text-lg font-bold"},aa={href:"https://stayfreeapps.com/?download",class:"link link-secondary",target:"_blank"},ia={class:"whitespace-pre-wrap"},ra={class:"flex flex-col justify-center p-4 w-96 text-left bg-base-content bg-opacity-5 space-y-4"},la={class:"flex flex-row items-center text-lg font-bold"},ca={class:"whitespace-pre-wrap"},ua=T({name:"AppIdInputMessage",__name:"AppIdInputMessage",props:{value:{},focused:{type:Boolean},visible:{type:Boolean}},setup(t){const e=t,s=$(!1),o=Ot(()=>{s.value=!1},300),u=I(()=>e.visible&&s.value);return fe(()=>e.focused,(d,l)=>{l&&!d?o.start():(o.stop(),s.value=d)}),(d,l)=>{const r=Nt("i18n-t");return a(Qt)(d.value)?(b(),R(Rt,{key:0,"align-horizontal":"left",visible:a(u)},{default:g(()=>[m("div",sa,[m("h4",oa,[_(a(rn),{class:"icon"}),L(" "+h(d.$t("installExtensionTitle")),1)]),_(r,{keypath:"installExtensionDescription1",tag:"p",class:"whitespace-pre-wrap"},{default:g(()=>[m("a",aa,h(d.$t("stayfreeBrowserExtension")),1)]),_:1}),m("p",ia,h(d.$t("installExtensionDescription2")),1)])]),_:1},8,["visible"])):(b(),R(Rt,{key:1,"align-horizontal":"left",visible:a(u)},{default:g(()=>[m("div",ra,[m("h4",la,[_(a(rn),{class:"icon"}),L(" "+h(d.$t("cantFindSuggestionTitle")),1)]),m("p",ca,h(d.$t("cantFindSuggestionDescription")),1)])]),_:1},8,["visible"]))}}});function da(){return ht(Ve.DefaultAppPlatform)}const pa=["value"],Xn=T({name:"AppIdInput",__name:"AppIdInput",props:at({allowedHostnames:{},limitType:{}},{modelValue:{required:!0}}),emits:["update:modelValue"],setup(t,{expose:e}){const s=t,o=Jn(),u=ke(t,"modelValue"),d=I({get(){return u.value},set(p){u.value=(o==null?void 0:o(p))??p}}),l=$(null);function r(){var p;(p=l.value)==null||p.focus()}e({focus:r,input:l});const{comboboxProps:n,inputEvents:i}=jo(d,Zn()),c=da();return(p,f)=>{var v,y,w,C;return b(),P("div",null,[M(" Only 1 hostname is allowed "),((v=p.allowedHostnames)==null?void 0:v.length)===1?(b(),R(ge,{key:0,id:"url",disabled:"",placeholder:p.$t("appIdInputPlaceholder"),"model-value":p.allowedHostnames[0]},{right:g(()=>[_(Pt,{class:"icon m-1 pointer-events-none",src:{appId:a(d)},platform:a(c)},null,8,["src","platform"])]),_:1},8,["placeholder","model-value"])):(((y=p.allowedHostnames)==null?void 0:y.length)??0)>1?(b(),P(le,{key:1},[M(" Select from a list of options "),_(Kn,{id:"url",placeholder:p.$t("appIdInputPlaceholder"),"select-helper-text":p.$t("selectOne"),modelValue:a(d),"onUpdate:modelValue":f[0]||(f[0]=D=>Q(d)?d.value=D:null)},Se({default:g(()=>[(b(!0),P(le,null,_e(p.allowedHostnames,D=>(b(),P("option",{key:D,value:D},h(D),9,pa))),128))]),_:2},[a(d)?{name:"right",fn:g(()=>[_(Pt,{class:"icon m-1 pointer-events-none",src:{appId:a(d)},platform:a(c)},null,8,["src","platform"])]),key:"0"}:void 0]),1032,["placeholder","select-helper-text","modelValue"])],2112)):(b(),P(le,{key:2},[M(" Freeform entry "),_(ge,{ref_key:"input",ref:l,id:"url",class:"z-20",placeholder:p.$t("appIdInputPlaceholder"),modelValue:a(d),"onUpdate:modelValue":f[1]||(f[1]=D=>Q(d)?d.value=D:null),"input-props":a(i)},Se({_:2},[a(d)?{name:"right",fn:g(()=>[s.limitType!==a(nt).Web&&a(Qt)(a(d))?M("v-if",!0):(b(),R(Pt,{key:0,class:"icon m-1 pointer-events-none",src:{appId:a(d)},platform:a(c)},null,8,["src","platform"]))]),key:"0"}:void 0]),1032,["placeholder","modelValue","input-props"])],2112)),_(Jo,xn(Rn(a(n))),null,16),s.limitType!==a(nt).Web?(b(),R(ua,{key:3,value:a(d),focused:((w=a(l))==null?void 0:w.focused)??!0,visible:(((C=a(n))==null?void 0:C.results)??[]).length===0},null,8,["value","focused","visible"])):M("v-if",!0)])}}});function kt(t){const e=I(()=>t.reduce((l,r)=>l.isValid?r():l,{isValid:!0})),s=$(!1),o=I(()=>!e.value.isValid),u=$(!1);fe(e,()=>{u.value=!0});const d=I(()=>u.value?e.value.message:void 0);return{resetValidation(){s.value=!1,u.value=!1},submitWrapper(l){return()=>{s.value=!0,!o.value&&l()}},submitDisabled:o,errorMessage:d}}function es(t,e,s){return t===nt.Web&&!Qt(e)?s?{isValid:!1}:{isValid:!1,message:In.global.t("dashboard.editWebsiteLimitDialog.invalidWebsite")}:{isValid:!0}}function ts(t,e,s){return t!==nt.Web&&t!==nt.Brand&&!s.includes(e)?{isValid:!1}:{isValid:!0}}function ns(t,e){return t!=null&&t.trim()?{isValid:!0}:e?{isValid:!1}:{isValid:!1,message:In.global.t("dashboard.editWebsiteLimitDialog.websiteRequired")}}function ss(){const t=Zn();return Qe(["installedApps"],()=>t==null?void 0:t.getItems(),{initialData:[],cacheTime:0,select:e=>(e??[]).map(s=>s.value)})}const fa={key:0,class:"text-base-content text-sm text-opacity-disabled"},ma={key:1,class:"text-opacity-100 text-error text-center"},ha=["disabled"],va=T({name:"AddAppDialog",__name:"AddAppDialog",setup(t){const{t:e}=F(),s=zn(),o=Wt(),u=Jn(),{data:d}=ss(),l=$(),r=$(!1);function n(){var w;(w=l.value)==null||w.focus(),r.value=!0}const i=$(""),c=I(()=>(u==null?void 0:u(i.value))??i.value),{submitDisabled:p,errorMessage:f}=kt([function(){var C;return ns(c.value,!r.value||((C=l.value)==null?void 0:C.input.focused))},function(){return ts(o,c.value,d.value??[])},function(){var w;return es(o,c.value,(w=l.value)==null?void 0:w.input.focused)}]);function v(){var w,C;(C=(w=s.options).addApp)==null||C.call(w,c.value),y()}function y(){s.hide(),i.value="",r.value=!1}return(w,C)=>(b(),R(ie,{name:a(H).AddApp,"overflow-disabled":!0,onDismiss:y,onAfterShowAnimation:n},{default:g(()=>[_(ne,{class:"w-108","data-testid":"add-website-form"},{title:g(()=>[L(h(a(e)("focusMode.addWebsite")),1)]),body:g(()=>[a(s).options.descriptionMessage?(b(),P("p",fa,h(a(s).options.descriptionMessage),1)):M("v-if",!0),_(Xn,{ref_key:"hostnameInput",ref:l,"limit-type":a(o),modelValue:a(i),"onUpdate:modelValue":C[0]||(C[0]=D=>Q(i)?i.value=D:null)},null,8,["limit-type","modelValue"]),a(f)?(b(),P("p",ma,h(a(f)),1)):M("v-if",!0)]),buttons:g(()=>[m("button",{class:"btn btn-primary","data-testid":"save",type:"submit",disabled:a(p),onClick:v},h(a(e)("save")),9,ha),m("button",{class:"btn btn-neutral",onClick:y},h(a(e)("cancel")),1)]),_:1})]),_:1},8,["name"]))}}),_a=$e(H.AddYoutubeUrl,{addChannel(){throw new Error("Function not implemented.")}});function ga(t){const e=I(()=>{if(t.value!=""&&t.value.trim()!=""){const u=t.value.startsWith("https://")?t.value:`https://${t.value}`;return new URL(u)}}),s=I(()=>{var u;return((u=Rs(e.value))==null?void 0:u.hostname)==="youtube.com"}),o=I(()=>{if(s&&e.value)return`youtube.com${Is(e.value)}`});return{isYoutube:s,fullPath:o}}const ba=["disabled"],ya=T({name:"AddYoutubeUrlDialog",__name:"AddYoutubeUrlDialog",setup(t){const e=$(""),s=$(),{t:o}=F(),{isYoutube:u,fullPath:d}=ga(e),l=_a();function r(){var p;(p=s.value)==null||p.focus()}const{submitDisabled:n}=kt([function(){return u.value?{isValid:!0}:{isValid:!1,message:o("youtubePlus.videoRequired")}}]);function i(){var p,f;d.value!=null&&((f=(p=l.options).addChannel)==null||f.call(p,d.value),c())}function c(){l.hide(),e.value=""}return(p,f)=>(b(),R(ie,{name:a(H).AddYoutubeUrl,"overflow-disabled":!0,onDismiss:c,onAfterShowAnimation:r},{default:g(()=>[_(ne,{class:"w-108","data-testId":"add-channel-form"},{title:g(()=>[L(h(a(o)("youtubePlus.addChannel")),1)]),body:g(()=>[_(ge,{ref_key:"channelInput",ref:s,id:"channel",placeholder:p.$t("youtubePlus.addChannelPlaceholder"),modelValue:a(e),"onUpdate:modelValue":f[0]||(f[0]=v=>Q(e)?e.value=v:null)},null,8,["placeholder","modelValue"])]),buttons:g(()=>[m("button",{"data-testId":"save",class:"btn btn-primary",type:"submit",disabled:a(n),onClick:i},h(a(o)("save")),9,ba),m("button",{class:"btn btn-neutral",onClick:c},h(a(o)("cancel")),1)]),_:1})]),_:1},8,["name"]))}}),ka=T({name:"AlertDialog",__name:"AlertDialog",setup(t){const{t:e}=F(),s=so();return(o,u)=>(b(),R(ie,{name:a(s).name},{default:g(()=>[_(ne,{class:"w-84"},Se({buttons:g(()=>[m("button",{class:"btn btn-primary",onClick:u[0]||(u[0]=(...d)=>a(s).hide&&a(s).hide(...d))},h(a(e)("close")),1)]),_:2},[a(s).options.title?{name:"title",fn:g(()=>[L(h(a(s).options.title),1)]),key:"0"}:void 0,a(s).options.message?{name:"message",fn:g(()=>[L(h(a(s).options.message),1)]),key:"1"}:void 0]),1024)]),_:1},8,["name"]))}}),wa=$e(H.Confirmation,{positiveButtonText:"",negativeButtonText:"",onClickPositive:()=>!0}),Da=T({name:"ConfirmationDialog",__name:"ConfirmationDialog",setup(t){const e=wa();async function s(){await e.options.onClickPositive()&&e.hide()}async function o(){var u,d;e.options.onClickNegative?await((d=(u=e.options).onClickNegative)==null?void 0:d.call(u))&&e.hide():e.hide()}return(u,d)=>(b(),R(ie,{name:a(e).name},{default:g(()=>[_(ne,{class:"w-84"},Se({buttons:g(()=>[m("button",{class:de(["btn",{"btn-error":a(e).options.destructive,"btn-primary":!a(e).options.destructive}]),"data-testid":"confirm",onClick:s},h(a(e).options.positiveButtonText),3),m("button",{"data-testid":"cancel",class:"btn btn-neutral",onClick:o},h(a(e).options.negativeButtonText),1)]),_:2},[a(e).options.title?{name:"title",fn:g(()=>[L(h(a(e).options.title),1)]),key:"0"}:void 0,a(e).options.message?{name:"message",fn:g(()=>[L(h(a(e).options.message),1)]),key:"1"}:void 0]),1024)]),_:1},8,["name"]))}}),Ca={class:"space-y-4"},Ea={class:"link link-secondary",href:"https://stayfreeapps.com/privacy",target:"_blank"},Pa={class:"link link-secondary",href:"https://stayfreeapps.com/privacy",target:"_blank"},Sa={key:2,class:"cursor-pointer label justify-start gap-4"},$a=["disabled"],Aa=T({name:"ConnectDeviceRequireDataCollection",__name:"ConnectDeviceRequireDataCollection",setup(t){const{t:e}=F(),{reportEvent:s}=Me(),o=je(),u=qt(),d=$(!0),l=vt(),r=Le(),n=_t(),i=new Date().getFullYear(),c=I(()=>l.birthYear?i-l.birthYear<18:!0);async function p(){await n.setAcceptedDataCollection("accepted"),await n.setAskTosAgain(!1),l.canUploadData&&r.createDevice({installId:o.value,appId:u}),c.value&&await n.setBirthYear(void 0),s("REQUIRE_PERMISSIONS_ACCEPTED")}const f=De();function v(){f.hide(H.ConnectDevice)}return(y,w)=>(b(),R(ne,{class:"w-96 !p-0"},{message:g(()=>[m("div",Ca,[a(c)?(b(),R(K,{key:0,tag:"span",keypath:"devices.requirePrivacyPolicy"},{default:g(()=>[m("a",Ea,h(y.$t("privacyPolicy").toLowerCase()),1)]),_:1})):(b(),R(K,{key:1,tag:"span",keypath:"devices.requirePrivacyPolicyOver18"},{default:g(()=>[m("a",Pa,h(y.$t("privacyPolicy").toLowerCase()),1)]),_:1})),a(c)?(b(),P("label",Sa,[Re(m("input",{type:"checkbox","onUpdate:modelValue":w[0]||(w[0]=C=>Q(d)?d.value=C:null),class:"checkbox checkbox-primary checkbox-sm"},null,512),[[tt,a(d)]]),_(K,{class:"label-text",tag:"span",keypath:"devices.confirmPrivacyPolicy"})])):M("v-if",!0)])]),buttons:g(()=>[m("button",{class:"btn btn-primary",onClick:p,disabled:!a(d)},h(a(e)("accept")),9,$a),m("button",{class:"btn btn-neutral",onClick:v},h(a(e)("cancel")),1)]),_:1}))}}),xa=T({name:"ConnectDeviceRequireUpgrade",__name:"ConnectDeviceRequireUpgrade",setup(t){const{storeUrl:e}=oo(),{t:s}=F();function o(){window.open(e,"_blank")}return(u,d)=>(b(),R(ne,{class:"w-96"},{title:g(()=>[L(h(a(s)("devices.connectDeviceTitle")),1)]),message:g(()=>[L(h(u.$t("devices.upgradeRequired")),1)]),buttons:g(()=>[m("button",{class:"btn btn-primary",onClick:o},h(a(s)("upgrade")),1)]),_:1}))}}),Ra={},Ia={viewBox:"0 0 72 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ta=Ts('<g clip-path="url(#clip0_475_5381)"><path d="M69 53.0001H52V28H69V53.0001ZM69 24H51C50.2043 24 49.4413 24.3161 48.8787 24.8787C48.3161 25.4413 48 26.2044 48 27V57.0001C48 57.7957 48.3161 58.5588 48.8787 59.1214C49.4413 59.684 50.2043 60.0001 51 60.0001H69C69.7956 60.0001 70.5587 59.684 71.1213 59.1214C71.6839 58.5588 72 57.7957 72 57.0001V27C72 26.2044 71.6839 25.4413 71.1213 24.8787C70.5587 24.3161 69.7956 24 69 24ZM10 16H66V12H10C8.75327 12 7.79169 11.9909 6.89584 12.8868C6 13.7826 6 14.7038 6 16V53.0001H0V60.0001H42V53.0001H10V16Z" fill="currentColor"></path><path d="M28 27C25.8783 27 23.8434 27.8429 22.3431 29.3431C20.8429 30.8434 20 32.8783 20 35C20 37.1217 20.8429 39.1566 22.3431 40.6569C23.8434 42.1571 25.8783 43 28 43C30.1217 43 32.1566 42.1571 33.6569 40.6569C35.1571 39.1566 36 37.1217 36 35C36 32.8783 35.1571 30.8434 33.6569 29.3431C32.1566 27.8429 30.1217 27 28 27ZM32.09 31.08L33.5 32.5L27 39L23.21 35.21L24.63 33.79L27 36.17" fill="currentColor"></path></g><defs><clipPath id="clip0_475_5381"><rect width="72" height="72" fill="white"></rect></clipPath></defs>',2),Va=[Ta];function Ma(t,e){return b(),P("svg",Ia,Va)}const La=ot(Ra,[["render",Ma]]),Oa={class:"flex flex-col items-center pt-6 pb-8 space-y-4"},Na={class:"px-8 text-center"},Ua=T({name:"ConnectDeviceSuccess",__name:"ConnectDeviceSuccess",setup(t){const{t:e}=F();return(s,o)=>(b(),P("div",Oa,[_(La,{class:"text-secondary w-20"}),m("p",Na,h(a(e)("connectDevice.success.message")),1)]))}});function jt(t=ht(Ve.ConnectDevicePage)){return{push:e=>{t.value=e},reset:()=>{t.value=j.Platforms}}}function ln(t,e=1e3){const[s,o,u]=Ba(t);return s*e*e+o*e+u}function Ba(t){const e=t.split(".").map(s=>Number.parseInt(s)).map(s=>isNaN(s)||s===1/0?0:s);return[e[0]??0,e[1]??0,e[2]??0]}function Ha(){const{remoteConfig:t}=Qn();return I(()=>ln("1.34.2")<ln(t.value.crossPlatformRequiredVersion))}function za(){return ht(Ve.Platform)==="desktop"}const Wa={class:"text-sm text-opacity-secondary"},Ie=T({name:"DialogSubtitle",__name:"DialogSubtitle",setup(t){return(e,s)=>(b(),P("h5",Wa,[pe(e.$slots,"default")]))}}),Fa={class:"flex-1 min-w-0 truncate text-ellipsis text-start text-opacity-100"},qa={class:"flex gap-1 opacity-icon"},os=T({__name:"ConnectDevicePlatformListItem",props:{name:{},page:{},icons:{}},setup(t){const e=jt();return(s,o)=>(b(),P("li",null,[m("button",{class:"py-4 px-6 gap-4 flex items-center w-full bg-opacity-0 bg-base-content hover:bg-opacity-hover active:bg-opacity-active transition",onClick:o[0]||(o[0]=u=>a(e).push(s.page))},[m("p",Fa,h(s.name),1),m("div",qa,[(b(!0),P(le,null,_e(s.icons,u=>(b(),R(io,{key:u,class:"icon",platform:u},null,8,["platform"]))),128))]),_(a(ao),{class:"icon"})])]))}}),Ga={class:"space-y-4"},Qa=m("a",{href:"https://stayfreeapps.com/?download",target:"_blank"},"stayfreeapps.com",-1),ja={class:"divide-y divide-base-content divide-opacity-divider"},Ya=T({__name:"ConnectDevicePlatformList",setup(t){const{t:e}=F(),s=za(),o=I(()=>{const u={name:e("connectDevice.platforms.android"),icons:["android"],page:j.Android},d={name:e("connectDevice.platforms.ios"),icons:["ios"],page:j.Manual},l={name:e("connectDevice.platforms.desktop"),icons:["windows","mac","linux"],page:j.Desktop},r={name:e("connectDevice.platforms.wearOs"),icons:["wear"],page:j.Manual},n={name:e("connectDevice.platforms.extension"),icons:["chrome","safari","firefox"],page:j.Extension};return s?[u,d,n,r,l]:[u,d,l,r,n]});return(u,d)=>{const l=Nt("I18nT");return b(),P("div",Ga,[M(" eslint-disable @intlify/vue-i18n/no-raw-text "),_(Ie,{class:"px-6"},{default:g(()=>[_(l,{keypath:"connectDevice.platforms.subtitle1",tag:"span"},{default:g(()=>[Qa]),_:1})]),_:1}),M(" eslint-enable @intlify/vue-i18n/no-raw-text "),_(Ie,{class:"px-6"},{default:g(()=>[L(h(a(e)("connectDevice.platforms.subtitle2")),1)]),_:1}),m("ul",ja,[(b(!0),P(le,null,_e(a(o),r=>(b(),R(os,{key:r.page,name:r.name,icons:r.icons,page:r.page},null,8,["name","icons","page"]))),128))])])}}}),Ka={},Za={class:"py-1 text-base-content text-opacity-primary pl-1 list-decimal relative"};function Ja(t,e){return b(),P("li",Za,[pe(t.$slots,"default",{},void 0,!0)])}const ye=ot(Ka,[["render",Ja],["__scopeId","data-v-b778db80"]]),Xa={},ei={class:"ml-6"};function ti(t,e){return b(),P("ol",ei,[pe(t.$slots,"default",{},void 0,!0)])}const Yt=ot(Xa,[["render",ti],["__scopeId","data-v-33f51eab"]]),ni=30*it;function Kt(){const t=Vs("pairing-code-expires-at",Date.now()),e=$(ni),s=$(),o=Le(),{mutateAsync:u}=Wn(),d=je(),l=qt();function r(){const i=t.value-Date.now();e.value=i,clearTimeout(s.value),s.value=setTimeout(n.refetch.value,i)}Lt(()=>clearTimeout(s.value)),Ut(r);const n=Qe("pairing-code",async()=>{try{return await o.createPairingCode({installId:d.value})}catch{return await o.createDevice({installId:d.value,appId:l}),o.createPairingCode({installId:d.value})}},{refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1,cacheTime:e,staleTime:e,keepPreviousData:!0,async onSuccess(i){t.value=i.expiration,r(),await u(!0)},enabled:I(()=>!!d.value)});return{...n,expiresAt:t}}const si={class:"flex items-center space-x-4"},oi={class:"text-error font-medium"},ai=T({name:"ErrorRetry",__name:"ErrorRetry",props:{message:{}},emits:["retry"],setup(t,{emit:e}){const s=t,{t:o}=F(),u=I(()=>s.message??o("genericError"));return(d,l)=>(b(),P("div",si,[m("p",oi,h(a(u)),1),m("button",{class:"btn btn-error",onClick:l[0]||(l[0]=r=>e("retry"))},h(a(o)("retry")),1)]))}}),ii={class:"flex flex-col items-center justify-center mx-auto gap-2"},as=T({name:"PairingCodeBaseGenerator",__name:"PairingCodeBaseGenerator",props:{spinnerContainerClass:{}},setup(t){const{data:e,isLoading:s,isError:o,isSuccess:u,expiresAt:d,dataUpdatedAt:l,refetch:r}=Kt();return(n,i)=>{var c;return b(),P("div",ii,[a(s)?(b(),P("div",{key:0,class:de(n.spinnerContainerClass)},[_(Gt)],2)):a(o)?(b(),R(ai,{key:1,onRetry:a(r)},null,8,["onRetry"])):pe(n.$slots,"default",{key:2,code:(c=a(e))==null?void 0:c.code,expiresAt:a(d),dataUpdatedAt:a(l),isSuccess:a(u)})])}}});/*!
 * qrcode.vue v3.4.1
 * A Vue.js component to generate QRCode.
 * © 2017-2023 @scopewu(https://github.com/scopewu)
 * MIT License.
 */var ft=function(){return ft=Object.assign||function(e){for(var s,o=1,u=arguments.length;o<u;o++){s=arguments[o];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(e[d]=s[d])}return e},ft.apply(this,arguments)};var Te;(function(t){var e=function(){function l(r,n,i,c){if(this.version=r,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],r<l.MIN_VERSION||r>l.MAX_VERSION)throw new RangeError("Version value out of range");if(c<-1||c>7)throw new RangeError("Mask value out of range");this.size=r*4+17;for(var p=[],f=0;f<this.size;f++)p.push(!1);for(var f=0;f<this.size;f++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();var v=this.addEccAndInterleave(i);if(this.drawCodewords(v),c==-1)for(var y=1e9,f=0;f<8;f++){this.applyMask(f),this.drawFormatBits(f);var w=this.getPenaltyScore();w<y&&(c=f,y=w),this.applyMask(f)}u(0<=c&&c<=7),this.mask=c,this.applyMask(c),this.drawFormatBits(c),this.isFunction=[]}return l.encodeText=function(r,n){var i=t.QrSegment.makeSegments(r);return l.encodeSegments(i,n)},l.encodeBinary=function(r,n){var i=t.QrSegment.makeBytes(r);return l.encodeSegments([i],n)},l.encodeSegments=function(r,n,i,c,p,f){if(i===void 0&&(i=1),c===void 0&&(c=40),p===void 0&&(p=-1),f===void 0&&(f=!0),!(l.MIN_VERSION<=i&&i<=c&&c<=l.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");var v,y;for(v=i;;v++){var w=l.getNumDataCodewords(v,n)*8,C=d.getTotalBits(r,v);if(C<=w){y=C;break}if(v>=c)throw new RangeError("Data too long")}for(var D=0,A=[l.Ecc.MEDIUM,l.Ecc.QUARTILE,l.Ecc.HIGH];D<A.length;D++){var O=A[D];f&&y<=l.getNumDataCodewords(v,O)*8&&(n=O)}for(var E=[],N=0,U=r;N<U.length;N++){var q=U[N];s(q.mode.modeBits,4,E),s(q.numChars,q.mode.numCharCountBits(v),E);for(var Z=0,se=q.getData();Z<se.length;Z++){var me=se[Z];E.push(me)}}u(E.length==y);var oe=l.getNumDataCodewords(v,n)*8;u(E.length<=oe),s(0,Math.min(4,oe-E.length),E),s(0,(8-E.length%8)%8,E),u(E.length%8==0);for(var he=236;E.length<oe;he^=253)s(he,8,E);for(var ce=[];ce.length*8<E.length;)ce.push(0);return E.forEach(function(ue,Ce){return ce[Ce>>>3]|=ue<<7-(Ce&7)}),new l(v,n,ce,p)},l.prototype.getModule=function(r,n){return 0<=r&&r<this.size&&0<=n&&n<this.size&&this.modules[n][r]},l.prototype.getModules=function(){return this.modules},l.prototype.drawFunctionPatterns=function(){for(var r=0;r<this.size;r++)this.setFunctionModule(6,r,r%2==0),this.setFunctionModule(r,6,r%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var n=this.getAlignmentPatternPositions(),i=n.length,r=0;r<i;r++)for(var c=0;c<i;c++)r==0&&c==0||r==0&&c==i-1||r==i-1&&c==0||this.drawAlignmentPattern(n[r],n[c]);this.drawFormatBits(0),this.drawVersion()},l.prototype.drawFormatBits=function(r){for(var n=this.errorCorrectionLevel.formatBits<<3|r,i=n,c=0;c<10;c++)i=i<<1^(i>>>9)*1335;var p=(n<<10|i)^21522;u(p>>>15==0);for(var c=0;c<=5;c++)this.setFunctionModule(8,c,o(p,c));this.setFunctionModule(8,7,o(p,6)),this.setFunctionModule(8,8,o(p,7)),this.setFunctionModule(7,8,o(p,8));for(var c=9;c<15;c++)this.setFunctionModule(14-c,8,o(p,c));for(var c=0;c<8;c++)this.setFunctionModule(this.size-1-c,8,o(p,c));for(var c=8;c<15;c++)this.setFunctionModule(8,this.size-15+c,o(p,c));this.setFunctionModule(8,this.size-8,!0)},l.prototype.drawVersion=function(){if(!(this.version<7)){for(var r=this.version,n=0;n<12;n++)r=r<<1^(r>>>11)*7973;var i=this.version<<12|r;u(i>>>18==0);for(var n=0;n<18;n++){var c=o(i,n),p=this.size-11+n%3,f=Math.floor(n/3);this.setFunctionModule(p,f,c),this.setFunctionModule(f,p,c)}}},l.prototype.drawFinderPattern=function(r,n){for(var i=-4;i<=4;i++)for(var c=-4;c<=4;c++){var p=Math.max(Math.abs(c),Math.abs(i)),f=r+c,v=n+i;0<=f&&f<this.size&&0<=v&&v<this.size&&this.setFunctionModule(f,v,p!=2&&p!=4)}},l.prototype.drawAlignmentPattern=function(r,n){for(var i=-2;i<=2;i++)for(var c=-2;c<=2;c++)this.setFunctionModule(r+c,n+i,Math.max(Math.abs(c),Math.abs(i))!=1)},l.prototype.setFunctionModule=function(r,n,i){this.modules[n][r]=i,this.isFunction[n][r]=!0},l.prototype.addEccAndInterleave=function(r){var n=this.version,i=this.errorCorrectionLevel;if(r.length!=l.getNumDataCodewords(n,i))throw new RangeError("Invalid argument");for(var c=l.NUM_ERROR_CORRECTION_BLOCKS[i.ordinal][n],p=l.ECC_CODEWORDS_PER_BLOCK[i.ordinal][n],f=Math.floor(l.getNumRawDataModules(n)/8),v=c-f%c,y=Math.floor(f/c),w=[],C=l.reedSolomonComputeDivisor(p),D=0,A=0;D<c;D++){var O=r.slice(A,A+y-p+(D<v?0:1));A+=O.length;var E=l.reedSolomonComputeRemainder(O,C);D<v&&O.push(0),w.push(O.concat(E))}for(var N=[],U=function(q){w.forEach(function(Z,se){(q!=y-p||se>=v)&&N.push(Z[q])})},D=0;D<w[0].length;D++)U(D);return u(N.length==f),N},l.prototype.drawCodewords=function(r){if(r.length!=Math.floor(l.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var n=0,i=this.size-1;i>=1;i-=2){i==6&&(i=5);for(var c=0;c<this.size;c++)for(var p=0;p<2;p++){var f=i-p,v=(i+1&2)==0,y=v?this.size-1-c:c;!this.isFunction[y][f]&&n<r.length*8&&(this.modules[y][f]=o(r[n>>>3],7-(n&7)),n++)}}u(n==r.length*8)},l.prototype.applyMask=function(r){if(r<0||r>7)throw new RangeError("Mask value out of range");for(var n=0;n<this.size;n++)for(var i=0;i<this.size;i++){var c=void 0;switch(r){case 0:c=(i+n)%2==0;break;case 1:c=n%2==0;break;case 2:c=i%3==0;break;case 3:c=(i+n)%3==0;break;case 4:c=(Math.floor(i/3)+Math.floor(n/2))%2==0;break;case 5:c=i*n%2+i*n%3==0;break;case 6:c=(i*n%2+i*n%3)%2==0;break;case 7:c=((i+n)%2+i*n%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[n][i]&&c&&(this.modules[n][i]=!this.modules[n][i])}},l.prototype.getPenaltyScore=function(){for(var r=0,n=0;n<this.size;n++){for(var i=!1,c=0,p=[0,0,0,0,0,0,0],f=0;f<this.size;f++)this.modules[n][f]==i?(c++,c==5?r+=l.PENALTY_N1:c>5&&r++):(this.finderPenaltyAddHistory(c,p),i||(r+=this.finderPenaltyCountPatterns(p)*l.PENALTY_N3),i=this.modules[n][f],c=1);r+=this.finderPenaltyTerminateAndCount(i,c,p)*l.PENALTY_N3}for(var f=0;f<this.size;f++){for(var i=!1,v=0,p=[0,0,0,0,0,0,0],n=0;n<this.size;n++)this.modules[n][f]==i?(v++,v==5?r+=l.PENALTY_N1:v>5&&r++):(this.finderPenaltyAddHistory(v,p),i||(r+=this.finderPenaltyCountPatterns(p)*l.PENALTY_N3),i=this.modules[n][f],v=1);r+=this.finderPenaltyTerminateAndCount(i,v,p)*l.PENALTY_N3}for(var n=0;n<this.size-1;n++)for(var f=0;f<this.size-1;f++){var y=this.modules[n][f];y==this.modules[n][f+1]&&y==this.modules[n+1][f]&&y==this.modules[n+1][f+1]&&(r+=l.PENALTY_N2)}for(var w=0,C=0,D=this.modules;C<D.length;C++){var A=D[C];w=A.reduce(function(N,U){return N+(U?1:0)},w)}var O=this.size*this.size,E=Math.ceil(Math.abs(w*20-O*10)/O)-1;return u(0<=E&&E<=9),r+=E*l.PENALTY_N4,u(0<=r&&r<=2568888),r},l.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var r=Math.floor(this.version/7)+2,n=this.version==32?26:Math.ceil((this.version*4+4)/(r*2-2))*2,i=[6],c=this.size-7;i.length<r;c-=n)i.splice(1,0,c);return i},l.getNumRawDataModules=function(r){if(r<l.MIN_VERSION||r>l.MAX_VERSION)throw new RangeError("Version number out of range");var n=(16*r+128)*r+64;if(r>=2){var i=Math.floor(r/7)+2;n-=(25*i-10)*i-55,r>=7&&(n-=36)}return u(208<=n&&n<=29648),n},l.getNumDataCodewords=function(r,n){return Math.floor(l.getNumRawDataModules(r)/8)-l.ECC_CODEWORDS_PER_BLOCK[n.ordinal][r]*l.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][r]},l.reedSolomonComputeDivisor=function(r){if(r<1||r>255)throw new RangeError("Degree out of range");for(var n=[],i=0;i<r-1;i++)n.push(0);n.push(1);for(var c=1,i=0;i<r;i++){for(var p=0;p<n.length;p++)n[p]=l.reedSolomonMultiply(n[p],c),p+1<n.length&&(n[p]^=n[p+1]);c=l.reedSolomonMultiply(c,2)}return n},l.reedSolomonComputeRemainder=function(r,n){for(var i=n.map(function(y){return 0}),c=function(y){var w=y^i.shift();i.push(0),n.forEach(function(C,D){return i[D]^=l.reedSolomonMultiply(C,w)})},p=0,f=r;p<f.length;p++){var v=f[p];c(v)}return i},l.reedSolomonMultiply=function(r,n){if(r>>>8||n>>>8)throw new RangeError("Byte out of range");for(var i=0,c=7;c>=0;c--)i=i<<1^(i>>>7)*285,i^=(n>>>c&1)*r;return u(i>>>8==0),i},l.prototype.finderPenaltyCountPatterns=function(r){var n=r[1];u(n<=this.size*3);var i=n>0&&r[2]==n&&r[3]==n*3&&r[4]==n&&r[5]==n;return(i&&r[0]>=n*4&&r[6]>=n?1:0)+(i&&r[6]>=n*4&&r[0]>=n?1:0)},l.prototype.finderPenaltyTerminateAndCount=function(r,n,i){return r&&(this.finderPenaltyAddHistory(n,i),n=0),n+=this.size,this.finderPenaltyAddHistory(n,i),this.finderPenaltyCountPatterns(i)},l.prototype.finderPenaltyAddHistory=function(r,n){n[0]==0&&(r+=this.size),n.pop(),n.unshift(r)},l.MIN_VERSION=1,l.MAX_VERSION=40,l.PENALTY_N1=3,l.PENALTY_N2=3,l.PENALTY_N3=40,l.PENALTY_N4=10,l.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],l.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],l}();t.QrCode=e;function s(l,r,n){if(r<0||r>31||l>>>r)throw new RangeError("Value out of range");for(var i=r-1;i>=0;i--)n.push(l>>>i&1)}function o(l,r){return(l>>>r&1)!=0}function u(l){if(!l)throw new Error("Assertion error")}var d=function(){function l(r,n,i){if(this.mode=r,this.numChars=n,this.bitData=i,n<0)throw new RangeError("Invalid argument");this.bitData=i.slice()}return l.makeBytes=function(r){for(var n=[],i=0,c=r;i<c.length;i++){var p=c[i];s(p,8,n)}return new l(l.Mode.BYTE,r.length,n)},l.makeNumeric=function(r){if(!l.isNumeric(r))throw new RangeError("String contains non-numeric characters");for(var n=[],i=0;i<r.length;){var c=Math.min(r.length-i,3);s(parseInt(r.substring(i,i+c),10),c*3+1,n),i+=c}return new l(l.Mode.NUMERIC,r.length,n)},l.makeAlphanumeric=function(r){if(!l.isAlphanumeric(r))throw new RangeError("String contains unencodable characters in alphanumeric mode");var n=[],i;for(i=0;i+2<=r.length;i+=2){var c=l.ALPHANUMERIC_CHARSET.indexOf(r.charAt(i))*45;c+=l.ALPHANUMERIC_CHARSET.indexOf(r.charAt(i+1)),s(c,11,n)}return i<r.length&&s(l.ALPHANUMERIC_CHARSET.indexOf(r.charAt(i)),6,n),new l(l.Mode.ALPHANUMERIC,r.length,n)},l.makeSegments=function(r){return r==""?[]:l.isNumeric(r)?[l.makeNumeric(r)]:l.isAlphanumeric(r)?[l.makeAlphanumeric(r)]:[l.makeBytes(l.toUtf8ByteArray(r))]},l.makeEci=function(r){var n=[];if(r<0)throw new RangeError("ECI assignment value out of range");if(r<128)s(r,8,n);else if(r<16384)s(2,2,n),s(r,14,n);else if(r<1e6)s(6,3,n),s(r,21,n);else throw new RangeError("ECI assignment value out of range");return new l(l.Mode.ECI,0,n)},l.isNumeric=function(r){return l.NUMERIC_REGEX.test(r)},l.isAlphanumeric=function(r){return l.ALPHANUMERIC_REGEX.test(r)},l.prototype.getData=function(){return this.bitData.slice()},l.getTotalBits=function(r,n){for(var i=0,c=0,p=r;c<p.length;c++){var f=p[c],v=f.mode.numCharCountBits(n);if(f.numChars>=1<<v)return 1/0;i+=4+v+f.bitData.length}return i},l.toUtf8ByteArray=function(r){r=encodeURI(r);for(var n=[],i=0;i<r.length;i++)r.charAt(i)!="%"?n.push(r.charCodeAt(i)):(n.push(parseInt(r.substring(i+1,i+3),16)),i+=2);return n},l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",l}();t.QrSegment=d})(Te||(Te={}));(function(t){(function(e){var s=function(){function o(u,d){this.ordinal=u,this.formatBits=d}return o.LOW=new o(0,1),o.MEDIUM=new o(1,0),o.QUARTILE=new o(2,3),o.HIGH=new o(3,2),o}();e.Ecc=s})(t.QrCode||(t.QrCode={}))})(Te||(Te={}));(function(t){(function(e){var s=function(){function o(u,d){this.modeBits=u,this.numBitsCharCount=d}return o.prototype.numCharCountBits=function(u){return this.numBitsCharCount[Math.floor((u+7)/17)]},o.NUMERIC=new o(1,[10,12,14]),o.ALPHANUMERIC=new o(2,[9,11,13]),o.BYTE=new o(4,[8,16,16]),o.KANJI=new o(8,[8,10,12]),o.ECI=new o(7,[0,0,0]),o}();e.Mode=s})(t.QrSegment||(t.QrSegment={}))})(Te||(Te={}));var He=Te,is="H",Zt={L:He.QrCode.Ecc.LOW,M:He.QrCode.Ecc.MEDIUM,Q:He.QrCode.Ecc.QUARTILE,H:He.QrCode.Ecc.HIGH},ri=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function rs(t){return t in Zt}function ls(t,e){e===void 0&&(e=0);var s=[];return t.forEach(function(o,u){var d=null;o.forEach(function(l,r){if(!l&&d!==null){s.push("M".concat(d+e," ").concat(u+e,"h").concat(r-d,"v1H").concat(d+e,"z")),d=null;return}if(r===o.length-1){if(!l)return;d===null?s.push("M".concat(r+e,",").concat(u+e," h1v1H").concat(r+e,"z")):s.push("M".concat(d+e,",").concat(u+e," h").concat(r+1-d,"v1H").concat(d+e,"z"));return}l&&d===null&&(d=r)})}),s.join("")}var Jt={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:is,validator:function(t){return rs(t)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0}},li=ft(ft({},Jt),{renderAs:{type:String,required:!1,default:"canvas",validator:function(t){return["canvas","svg"].indexOf(t)>-1}}}),ci=T({name:"QRCodeSvg",props:Jt,setup:function(t){var e=$(0),s=$(""),o=function(){var u=t.value,d=t.level,l=t.margin,r=He.QrCode.encodeText(u,Zt[d]).getModules();e.value=r.length+l*2,s.value=ls(r,l)};return o(),Tn(o),function(){return xe("svg",{width:t.size,height:t.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(e.value," ").concat(e.value)},[xe("path",{fill:t.background,d:"M0,0 h".concat(e.value,"v").concat(e.value,"H0z")}),xe("path",{fill:t.foreground,d:s.value})])}}}),ui=T({name:"QRCodeCanvas",props:Jt,setup:function(t){var e=$(null),s=function(){var o=t.value,u=t.level,d=t.size,l=t.margin,r=t.background,n=t.foreground,i=e.value;if(i){var c=i.getContext("2d");if(c){var p=He.QrCode.encodeText(o,Zt[u]).getModules(),f=p.length+l*2,v=window.devicePixelRatio||1,y=d/f*v;i.height=i.width=d*v,c.scale(y,y),c.fillStyle=r,c.fillRect(0,0,f,f),c.fillStyle=n,ri?c.fill(new Path2D(ls(p,l))):p.forEach(function(w,C){w.forEach(function(D,A){D&&c.fillRect(A+l,C+l,1,1)})})}}};return Ut(s),Tn(s),function(){return xe("canvas",{ref:e,style:{width:"".concat(t.size,"px"),height:"".concat(t.size,"px")}})}}}),di=T({name:"Qrcode",render:function(){var t=this.$props,e=t.renderAs,s=t.value,o=t.size,u=t.margin,d=t.level,l=t.background,r=t.foreground,n=o>>>0,i=u>>>0,c=rs(d)?d:is;return xe(e==="svg"?ci:ui,{value:s,size:n,margin:i,level:c,background:l,foreground:r})},props:li});const pi=m("span",{class:"select-none"},"-",-1),cs=T({__name:"PairingCodeDisplay",props:{code:{default:""}},setup(t){return(e,s)=>(b(),P("p",null,[m("span",null,h(e.code[0]),1),m("span",null,h(e.code[1]),1),m("span",null,h(e.code[2]),1),pi,m("span",null,h(e.code[3]),1),m("span",null,h(e.code[4]),1),m("span",null,h(e.code[5]),1)]))}});function fi(t){const e=$(!1),s=$(t());function o(){s.value=t(),e.value&&requestAnimationFrame(o)}return Ut(()=>{e.value=!0,o()}),Lt(()=>{e.value=!1}),s}const mi={class:"w-full h-1 rounded-full bg-base-content bg-opacity-divider relative overflow-hidden"},us=T({__name:"PairingCodeExpirationBar",props:{expiresAt:{},dataUpdatedAt:{},isSuccess:{type:Boolean}},setup(t){const e=t,s=fi(()=>e.isSuccess?`${100*(1-(Date.now()-e.dataUpdatedAt)/(e.expiresAt-e.dataUpdatedAt))}%`:"0%");return(o,u)=>(b(),P("div",mi,[m("div",{class:"bg-secondary absolute right-0 inset-y-0",style:Ms({width:a(s)})},null,4)]))}}),hi={class:"flex gap-8 items-center justify-center"},vi={class:"flex flex-col items-center"},_i={class:"text-base-content text-opacity-primary"},gi={class:"text-sm"},bi=T({name:"PairingCodeTextGenerator",__name:"PairingCodeQrCodeGenerator",setup(t){const{t:e}=F(),s=o=>`https://stayfreeapps.com/android-connect-device?pairingCode=${o}`;return(o,u)=>(b(),R(as,{"spinner-container-class":"w-[128px] h-[128px] bg-base-content flex items-center justify-center rounded"},{default:g(({code:d,expiresAt:l,isSuccess:r,dataUpdatedAt:n})=>[m("div",hi,[d?(b(),R(di,{key:0,class:"rounded overflow-hidden",size:128,margin:2,"render-as":"svg",level:"L",value:s(d)},null,8,["value"])):M("v-if",!0),m("div",vi,[m("p",_i,h(a(e)("connectDevice.qrCodeAltTitle")),1),m("p",gi,h(a(e)("connectDevice.qrCodeAltMessage")),1),m("div",null,[_(cs,{code:d,class:"text-2xl font-mono font-medium text-secondary"},null,8,["code"]),_(us,{"expires-at":l,"is-success":r,"data-updated-at":n},null,8,["expires-at","is-success","data-updated-at"])])])])]),_:1}))}}),yi={class:"space-y-4"},ki=T({__name:"ConnectDeviceAndroid",setup(t){const{t:e}=F();return(s,o)=>(b(),P("div",yi,[_(Ie,null,{default:g(()=>[L(h(a(e)("connectDevice.android.subtitle")),1)]),_:1}),_(Yt,null,{default:g(()=>[_(ye,null,{default:g(()=>[L(h(a(e)("connectDevice.android.step1")),1)]),_:1}),_(ye,null,{default:g(()=>[L(h(a(e)("connectDevice.android.step2"))+" ",1),_(bi,{class:"pt-4 pb-2 -ml-6"})]),_:1}),_(ye,null,{default:g(()=>[L(h(a(e)("connectDevice.android.step3")),1)]),_:1})]),_:1})]))}}),ds=T({name:"PairingCodeTextGenerator",__name:"PairingCodeTextGenerator",setup(t){return(e,s)=>(b(),R(as,null,{default:g(({code:o,expiresAt:u,dataUpdatedAt:d,isSuccess:l})=>[_(cs,{class:"text-secondary text-4xl px-4 font-mono space-x-1.5",code:o},null,8,["code"]),_(us,{"expires-at":u,"is-success":l,"data-updated-at":d},null,8,["expires-at","is-success","data-updated-at"])]),_:1}))}}),wi={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Di=m("path",{fill:"currentColor",d:"M19 21H8V7h11m0-2H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2m-3-4H4a2 2 0 0 0-2 2v14h2V3h12V1Z"},null,-1),Ci=[Di];function Ei(t,e){return b(),P("svg",wi,Ci)}const Pi={name:"mdi-content-copy",render:Ei},Si={class:"text-sm font-medium text-secondary-content"},$i=T({__name:"CopyButton",props:{value:{},tooltipPosition:{default:"right"}},setup(t){const e=t,{t:s}=F(),o=Ot(()=>{u.value=!1},3*it,{immediate:!1}),u=$(!1);function d(){navigator.clipboard.writeText(e.value),u.value=!0,o.start()}return(l,r)=>(b(),P("button",{class:"relative clickable p-2 rounded-full",onClick:d},[_(a(Pi),{class:"icon opacity-secondary"}),a(u)?(b(),P("div",{key:0,class:de(["absolute bg-secondary rounded-lg px-2 py-1 text-center",{"top-full left-[50%] translate-x-[-50%]":l.tooltipPosition==="bottom","left-full top-[50%] translate-y-[-50%]":l.tooltipPosition==="right"}])},[m("p",Si,h(a(s)("copied")),1),m("span",{class:de(["w-0 h-0 absolute border-secondary",{"top-[-6px] left-[50%] translate-x-[-50%] border-x-[6px] border-b-[6px] border-x-transparent":l.tooltipPosition==="bottom","left-[-6px] top-[50%] translate-y-[-50%] border-y-[6px] border-r-[6px] border-y-transparent":l.tooltipPosition==="right"}])},null,2)],2)):M("v-if",!0)]))}}),Ai={class:"space-y-4"},xi={class:"flex items-center w-full"},Ri=["href"],Ii=T({__name:"ConnectDeviceExtension",setup(t){const{t:e}=F(),{data:s}=Kt(),o=I(()=>{var u;return`https://stayfreeapps.com/extension-connect-device?code=${(u=s.value)==null?void 0:u.code}`});return(u,d)=>(b(),P("div",Ai,[_(Ie,null,{default:g(()=>[L(h(a(e)("connectDevice.extension.subtitle")),1)]),_:1}),_(Yt,null,{default:g(()=>[_(ye,{class:"whitespace-pre-line space-y-2"},{default:g(()=>[m("p",null,h(a(e)("connectDevice.extension.step1_1")),1),m("p",xi,[m("a",{class:"flex-1 line-clamp-1 link link-secondary",href:a(o),target:"_blank"},h(a(o)),9,Ri),_($i,{value:a(o),"tooltip-position":"bottom"},null,8,["value"])]),m("p",null,h(a(e)("connectDevice.extension.step1_2")),1),_(ds,{class:"w-max py-4"})]),_:1}),_(ye,null,{default:g(()=>[L(h(a(e)("connectDevice.extension.step2")),1)]),_:1})]),_:1})]))}}),Ti={class:"space-y-4"},Vi=T({__name:"ConnectDeviceDesktop",setup(t){const{t:e}=F();return(s,o)=>(b(),P("div",Ti,[_(Ie,null,{default:g(()=>[L(h(a(e)("connectDevice.desktop.subtitle")),1)]),_:1}),_(Yt,null,{default:g(()=>[_(ye,null,{default:g(()=>[L(h(a(e)("connectDevice.desktop.step1")),1)]),_:1}),_(ye,null,{default:g(()=>[L(h(a(e)("connectDevice.desktop.step2")),1)]),_:1}),_(ye,null,{default:g(()=>[L(h(a(e)("connectDevice.desktop.step3"))+" ",1),_(ds,{class:"w-max py-4"})]),_:1}),_(ye,null,{default:g(()=>[L(h(a(e)("connectDevice.desktop.step4")),1)]),_:1})]),_:1})]))}});function Mi(){const t=Le(),e=yt(),{mutateAsync:s}=Wn(),{refetch:o}=Kt(),u=Vn();return Bt("join-device-group",async d=>{const l=await Mn(u),r=await t.validatePairingCode({code:d,installId:l});return await e.setDeviceGroup(r),r},{async onSuccess(){await s(!0),await o.value()}})}const Li={class:"relative flex justify-center"},Oi=["aria-label","disabled"],Ni=m("p",{class:"text-2xl font-mono select-none"},"-",-1),Ui=T({name:"PairingCodeInput",__name:"PairingCodeInput",props:at({disabled:{type:Boolean}},{modelValue:{required:!0}}),emits:["update:modelValue"],setup(t){const e=t,s=ke(t,"modelValue"),o=$(),{digits:u}=bo({inputLength:6,inputRef:o,inputValue:s,focusOnMount:!0});return fe(()=>e.disabled,(d,l)=>{!d&&l&&setTimeout(()=>{var r;return(r=o.value)==null?void 0:r.focus()})}),(d,l)=>(b(),P("div",Li,[Re(m("input",{ref_key:"input",ref:o,class:"absolute left-0 bottom-0 w-0 h-0 text-black","aria-label":d.$t("connectDevice.manual.pairingCodeInputLabel"),type:"text","onUpdate:modelValue":l[0]||(l[0]=r=>s.value=r),disabled:d.disabled},null,8,Oi),[[Ls,s.value]]),m("ul",{class:"flex items-center space-x-1 cursor-text",onClick:l[1]||(l[1]=r=>{var n;return(n=a(o))==null?void 0:n.focus()})},[_(Ne,{index:0,focused:a(u)[0].focused},{default:g(()=>[L(h(a(u)[0].value),1)]),_:1},8,["focused"]),_(Ne,{index:1,focused:a(u)[1].focused},{default:g(()=>[L(h(a(u)[1].value),1)]),_:1},8,["focused"]),_(Ne,{index:2,focused:a(u)[2].focused},{default:g(()=>[L(h(a(u)[2].value),1)]),_:1},8,["focused"]),Ni,_(Ne,{index:3,focused:a(u)[3].focused},{default:g(()=>[L(h(a(u)[3].value),1)]),_:1},8,["focused"]),_(Ne,{index:4,focused:a(u)[4].focused},{default:g(()=>[L(h(a(u)[4].value),1)]),_:1},8,["focused"]),_(Ne,{index:5,focused:a(u)[5].focused},{default:g(()=>[L(h(a(u)[5].value),1)]),_:1},8,["focused"])])]))}}),Bi={class:"space-y-4"},Hi={class:"pt-6 pb-4 space-y-4"},zi={class:"relative"},Wi={key:0,class:"absolute flex inset-0 bg-neutral bg-opacity-disabled"},Fi={key:0,class:"text-error font-medium text-center"},qi=T({name:"ConnectDeviceManual",__name:"ConnectDeviceManual",emits:["deviceAdded"],setup(t,{emit:e}){const{t:s}=F(),o=$("");fe(o,i=>{i.length===6&&u(i,{onSuccess:()=>e("deviceAdded")})});const{mutate:u,isLoading:d,isError:l,error:r}=Mi(),n=I(()=>l.value?r.value instanceof Os?s("connectDevice.manual.alreadyInGroupMessage"):r.value instanceof Ns?s("connectDevice.manual.invalidCodeMessage"):(Us("API error joining device group",r.value),s("genericError")):"");return(i,c)=>(b(),P("div",Bi,[_(Ie,null,{default:g(()=>[L(h(a(s)("connectDevice.manual.subtitle")),1)]),_:1}),m("div",Hi,[M(" Input "),m("div",zi,[_(Ui,{modelValue:a(o),"onUpdate:modelValue":c[0]||(c[0]=p=>Q(o)?o.value=p:null),disabled:a(d)},null,8,["modelValue","disabled"]),a(d)?(b(),P("div",Wi,[_(Gt,{class:"m-auto"})])):M("v-if",!0)]),M(" Error "),a(l)?(b(),P("p",Fi,h(a(n)),1)):M("v-if",!0)])]))}}),Gi=2*it;async function ps(t,e){const s=await Mn(e),o=await t.getMyDeviceGroup({installId:s}).catch(Fn);return o?(await t.listDeviceGroupDevices({deviceGroupKey:o.key})).length:0}function Qi(t,e){const s=Le();return Qe("devices-count",()=>ps(s,t).catch(),{keepPreviousData:!0,retry:!1,enabled:e,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:e})}function ji(t){const e=$(!1),s=$(0),o=Vn(),u=Le();ps(u,o).then(n=>{s.value=n,e.value=!0},Fn);const{data:d,refetch:l}=Qi(o,e);Bs(()=>l.value().catch(),Gi);const r=Ln();fe(d,n=>{n!=null&&e.value&&n>s.value&&(t(),r.invalidateQueries({queryKey:ro}).catch())})}const Yi=T({__name:"ProvideCodeAutoAdvance",setup(t){const{reportEvent:e}=Me(),s=Ft(),o=jt();return ji(()=>{o.push(j.Success),e("CONNECTED_NEW_DEVICE"),s.update()}),(d,l)=>M(" Blank template, just run setup script ")}}),Ki={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Zi=m("path",{fill:"currentColor",d:"M20 11v2H8l5.5 5.5l-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5L8 11h12Z"},null,-1),Ji=[Zi];function Xi(t,e){return b(),P("svg",Ki,Ji)}const er={name:"mdi-arrow-left",render:Xi};/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const fs=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Ye=t=>fs?Symbol(t):"_vr_"+t,tr=Ye("rvlm"),cn=Ye("rvd"),wt=Ye("r"),Xt=Ye("rl"),It=Ye("rvl"),Be=typeof window<"u";function nr(t){return t.__esModule||fs&&t[Symbol.toStringTag]==="Module"}const G=Object.assign;function St(t,e){const s={};for(const o in e){const u=e[o];s[o]=Array.isArray(u)?u.map(t):t(u)}return s}const Xe=()=>{},sr=/\/$/,or=t=>t.replace(sr,"");function $t(t,e,s="/"){let o,u={},d="",l="";const r=e.indexOf("?"),n=e.indexOf("#",r>-1?r:0);return r>-1&&(o=e.slice(0,r),d=e.slice(r+1,n>-1?n:e.length),u=t(d)),n>-1&&(o=o||e.slice(0,n),l=e.slice(n,e.length)),o=lr(o??e,s),{fullPath:o+(d&&"?")+d+l,path:o,query:u,hash:l}}function ar(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function un(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function ir(t,e,s){const o=e.matched.length-1,u=s.matched.length-1;return o>-1&&o===u&&qe(e.matched[o],s.matched[u])&&ms(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function qe(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ms(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!rr(t[s],e[s]))return!1;return!0}function rr(t,e){return Array.isArray(t)?dn(t,e):Array.isArray(e)?dn(e,t):t===e}function dn(t,e){return Array.isArray(e)?t.length===e.length&&t.every((s,o)=>s===e[o]):t.length===1&&t[0]===e}function lr(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),o=t.split("/");let u=s.length-1,d,l;for(d=0;d<o.length;d++)if(l=o[d],!(u===1||l==="."))if(l==="..")u--;else break;return s.slice(0,u).join("/")+"/"+o.slice(d-(d===o.length?1:0)).join("/")}var st;(function(t){t.pop="pop",t.push="push"})(st||(st={}));var et;(function(t){t.back="back",t.forward="forward",t.unknown=""})(et||(et={}));function cr(t){if(!t)if(Be){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),or(t)}const ur=/^[^#]+#/;function dr(t,e){return t.replace(ur,"#")+e}function pr(t,e){const s=document.documentElement.getBoundingClientRect(),o=t.getBoundingClientRect();return{behavior:e.behavior,left:o.left-s.left-(e.left||0),top:o.top-s.top-(e.top||0)}}const Dt=()=>({left:window.pageXOffset,top:window.pageYOffset});function fr(t){let e;if("el"in t){const s=t.el,o=typeof s=="string"&&s.startsWith("#"),u=typeof s=="string"?o?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!u)return;e=pr(u,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function pn(t,e){return(history.state?history.state.position-e:-1)+t}const Tt=new Map;function mr(t,e){Tt.set(t,e)}function hr(t){const e=Tt.get(t);return Tt.delete(t),e}let vr=()=>location.protocol+"//"+location.host;function hs(t,e){const{pathname:s,search:o,hash:u}=e,d=t.indexOf("#");if(d>-1){let r=u.includes(t.slice(d))?t.slice(d).length:1,n=u.slice(r);return n[0]!=="/"&&(n="/"+n),un(n,"")}return un(s,t)+o+u}function _r(t,e,s,o){let u=[],d=[],l=null;const r=({state:f})=>{const v=hs(t,location),y=s.value,w=e.value;let C=0;if(f){if(s.value=v,e.value=f,l&&l===y){l=null;return}C=w?f.position-w.position:0}else o(v);u.forEach(D=>{D(s.value,y,{delta:C,type:st.pop,direction:C?C>0?et.forward:et.back:et.unknown})})};function n(){l=s.value}function i(f){u.push(f);const v=()=>{const y=u.indexOf(f);y>-1&&u.splice(y,1)};return d.push(v),v}function c(){const{history:f}=window;f.state&&f.replaceState(G({},f.state,{scroll:Dt()}),"")}function p(){for(const f of d)f();d=[],window.removeEventListener("popstate",r),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",r),window.addEventListener("beforeunload",c),{pauseListeners:n,listen:i,destroy:p}}function fn(t,e,s,o=!1,u=!1){return{back:t,current:e,forward:s,replaced:o,position:window.history.length,scroll:u?Dt():null}}function gr(t){const{history:e,location:s}=window,o={value:hs(t,s)},u={value:e.state};u.value||d(o.value,{back:null,current:o.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function d(n,i,c){const p=t.indexOf("#"),f=p>-1?(s.host&&document.querySelector("base")?t:t.slice(p))+n:vr()+t+n;try{e[c?"replaceState":"pushState"](i,"",f),u.value=i}catch(v){console.error(v),s[c?"replace":"assign"](f)}}function l(n,i){const c=G({},e.state,fn(u.value.back,n,u.value.forward,!0),i,{position:u.value.position});d(n,c,!0),o.value=n}function r(n,i){const c=G({},u.value,e.state,{forward:n,scroll:Dt()});d(c.current,c,!0);const p=G({},fn(o.value,n,null),{position:c.position+1},i);d(n,p,!1),o.value=n}return{location:o,state:u,push:r,replace:l}}function br(t){t=cr(t);const e=gr(t),s=_r(t,e.state,e.location,e.replace);function o(d,l=!0){l||s.pauseListeners(),history.go(d)}const u=G({location:"",base:t,go:o,createHref:dr.bind(null,t)},e,s);return Object.defineProperty(u,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(u,"state",{enumerable:!0,get:()=>e.state.value}),u}function yr(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),br(t)}function kr(t){return typeof t=="string"||t&&typeof t=="object"}function vs(t){return typeof t=="string"||typeof t=="symbol"}const Ee={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},_s=Ye("nf");var mn;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(mn||(mn={}));function Ge(t,e){return G(new Error,{type:t,[_s]:!0},e)}function Ae(t,e){return t instanceof Error&&_s in t&&(e==null||!!(t.type&e))}const hn="[^/]+?",wr={sensitive:!1,strict:!1,start:!0,end:!0},Dr=/[.+*?^${}()[\]/\\]/g;function Cr(t,e){const s=G({},wr,e),o=[];let u=s.start?"^":"";const d=[];for(const i of t){const c=i.length?[]:[90];s.strict&&!i.length&&(u+="/");for(let p=0;p<i.length;p++){const f=i[p];let v=40+(s.sensitive?.25:0);if(f.type===0)p||(u+="/"),u+=f.value.replace(Dr,"\\$&"),v+=40;else if(f.type===1){const{value:y,repeatable:w,optional:C,regexp:D}=f;d.push({name:y,repeatable:w,optional:C});const A=D||hn;if(A!==hn){v+=10;try{new RegExp(`(${A})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${y}" (${A}): `+E.message)}}let O=w?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;p||(O=C&&i.length<2?`(?:/${O})`:"/"+O),C&&(O+="?"),u+=O,v+=20,C&&(v+=-8),w&&(v+=-20),A===".*"&&(v+=-50)}c.push(v)}o.push(c)}if(s.strict&&s.end){const i=o.length-1;o[i][o[i].length-1]+=.7000000000000001}s.strict||(u+="/?"),s.end?u+="$":s.strict&&(u+="(?:/|$)");const l=new RegExp(u,s.sensitive?"":"i");function r(i){const c=i.match(l),p={};if(!c)return null;for(let f=1;f<c.length;f++){const v=c[f]||"",y=d[f-1];p[y.name]=v&&y.repeatable?v.split("/"):v}return p}function n(i){let c="",p=!1;for(const f of t){(!p||!c.endsWith("/"))&&(c+="/"),p=!1;for(const v of f)if(v.type===0)c+=v.value;else if(v.type===1){const{value:y,repeatable:w,optional:C}=v,D=y in i?i[y]:"";if(Array.isArray(D)&&!w)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const A=Array.isArray(D)?D.join("/"):D;if(!A)if(C)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):p=!0);else throw new Error(`Missing required param "${y}"`);c+=A}}return c}return{re:l,score:o,keys:d,parse:r,stringify:n}}function Er(t,e){let s=0;for(;s<t.length&&s<e.length;){const o=e[s]-t[s];if(o)return o;s++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Pr(t,e){let s=0;const o=t.score,u=e.score;for(;s<o.length&&s<u.length;){const d=Er(o[s],u[s]);if(d)return d;s++}return u.length-o.length}const Sr={type:0,value:""},$r=/[a-zA-Z0-9_]/;function Ar(t){if(!t)return[[]];if(t==="/")return[[Sr]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(v){throw new Error(`ERR (${s})/"${i}": ${v}`)}let s=0,o=s;const u=[];let d;function l(){d&&u.push(d),d=[]}let r=0,n,i="",c="";function p(){i&&(s===0?d.push({type:0,value:i}):s===1||s===2||s===3?(d.length>1&&(n==="*"||n==="+")&&e(`A repeatable param (${i}) must be alone in its segment. eg: '/:ids+.`),d.push({type:1,value:i,regexp:c,repeatable:n==="*"||n==="+",optional:n==="*"||n==="?"})):e("Invalid state to consume buffer"),i="")}function f(){i+=n}for(;r<t.length;){if(n=t[r++],n==="\\"&&s!==2){o=s,s=4;continue}switch(s){case 0:n==="/"?(i&&p(),l()):n===":"?(p(),s=1):f();break;case 4:f(),s=o;break;case 1:n==="("?s=2:$r.test(n)?f():(p(),s=0,n!=="*"&&n!=="?"&&n!=="+"&&r--);break;case 2:n===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+n:s=3:c+=n;break;case 3:p(),s=0,n!=="*"&&n!=="?"&&n!=="+"&&r--,c="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${i}"`),p(),l(),u}function xr(t,e,s){const o=Cr(Ar(t.path),s),u=G(o,{record:t,parent:e,children:[],alias:[]});return e&&!u.record.aliasOf==!e.record.aliasOf&&e.children.push(u),u}function Rr(t,e){const s=[],o=new Map;e=_n({strict:!1,end:!0,sensitive:!1},e);function u(c){return o.get(c)}function d(c,p,f){const v=!f,y=Tr(c);y.aliasOf=f&&f.record;const w=_n(e,c),C=[y];if("alias"in c){const O=typeof c.alias=="string"?[c.alias]:c.alias;for(const E of O)C.push(G({},y,{components:f?f.record.components:y.components,path:E,aliasOf:f?f.record:y}))}let D,A;for(const O of C){const{path:E}=O;if(p&&E[0]!=="/"){const N=p.record.path,U=N[N.length-1]==="/"?"":"/";O.path=p.record.path+(E&&U+E)}if(D=xr(O,p,w),f?f.alias.push(D):(A=A||D,A!==D&&A.alias.push(D),v&&c.name&&!vn(D)&&l(c.name)),"children"in y){const N=y.children;for(let U=0;U<N.length;U++)d(N[U],D,f&&f.children[U])}f=f||D,n(D)}return A?()=>{l(A)}:Xe}function l(c){if(vs(c)){const p=o.get(c);p&&(o.delete(c),s.splice(s.indexOf(p),1),p.children.forEach(l),p.alias.forEach(l))}else{const p=s.indexOf(c);p>-1&&(s.splice(p,1),c.record.name&&o.delete(c.record.name),c.children.forEach(l),c.alias.forEach(l))}}function r(){return s}function n(c){let p=0;for(;p<s.length&&Pr(c,s[p])>=0;)p++;s.splice(p,0,c),c.record.name&&!vn(c)&&o.set(c.record.name,c)}function i(c,p){let f,v={},y,w;if("name"in c&&c.name){if(f=o.get(c.name),!f)throw Ge(1,{location:c});w=f.record.name,v=G(Ir(p.params,f.keys.filter(A=>!A.optional).map(A=>A.name)),c.params),y=f.stringify(v)}else if("path"in c)y=c.path,f=s.find(A=>A.re.test(y)),f&&(v=f.parse(y),w=f.record.name);else{if(f=p.name?o.get(p.name):s.find(A=>A.re.test(p.path)),!f)throw Ge(1,{location:c,currentLocation:p});w=f.record.name,v=G({},p.params,c.params),y=f.stringify(v)}const C=[];let D=f;for(;D;)C.unshift(D.record),D=D.parent;return{name:w,path:y,params:v,matched:C,meta:Mr(C)}}return t.forEach(c=>d(c)),{addRoute:d,resolve:i,removeRoute:l,getRoutes:r,getRecordMatcher:u}}function Ir(t,e){const s={};for(const o of e)o in t&&(s[o]=t[o]);return s}function Tr(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Vr(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function Vr(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const o in t.components)e[o]=typeof s=="boolean"?s:s[o];return e}function vn(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Mr(t){return t.reduce((e,s)=>G(e,s.meta),{})}function _n(t,e){const s={};for(const o in t)s[o]=o in e?e[o]:t[o];return s}const gs=/#/g,Lr=/&/g,Or=/\//g,Nr=/=/g,Ur=/\?/g,bs=/\+/g,Br=/%5B/g,Hr=/%5D/g,ys=/%5E/g,zr=/%60/g,ks=/%7B/g,Wr=/%7C/g,ws=/%7D/g,Fr=/%20/g;function en(t){return encodeURI(""+t).replace(Wr,"|").replace(Br,"[").replace(Hr,"]")}function qr(t){return en(t).replace(ks,"{").replace(ws,"}").replace(ys,"^")}function Vt(t){return en(t).replace(bs,"%2B").replace(Fr,"+").replace(gs,"%23").replace(Lr,"%26").replace(zr,"`").replace(ks,"{").replace(ws,"}").replace(ys,"^")}function Gr(t){return Vt(t).replace(Nr,"%3D")}function Qr(t){return en(t).replace(gs,"%23").replace(Ur,"%3F")}function jr(t){return t==null?"":Qr(t).replace(Or,"%2F")}function mt(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Yr(t){const e={};if(t===""||t==="?")return e;const o=(t[0]==="?"?t.slice(1):t).split("&");for(let u=0;u<o.length;++u){const d=o[u].replace(bs," "),l=d.indexOf("="),r=mt(l<0?d:d.slice(0,l)),n=l<0?null:mt(d.slice(l+1));if(r in e){let i=e[r];Array.isArray(i)||(i=e[r]=[i]),i.push(n)}else e[r]=n}return e}function gn(t){let e="";for(let s in t){const o=t[s];if(s=Gr(s),o==null){o!==void 0&&(e+=(e.length?"&":"")+s);continue}(Array.isArray(o)?o.map(d=>d&&Vt(d)):[o&&Vt(o)]).forEach(d=>{d!==void 0&&(e+=(e.length?"&":"")+s,d!=null&&(e+="="+d))})}return e}function Kr(t){const e={};for(const s in t){const o=t[s];o!==void 0&&(e[s]=Array.isArray(o)?o.map(u=>u==null?null:""+u):o==null?o:""+o)}return e}function Je(){let t=[];function e(o){return t.push(o),()=>{const u=t.indexOf(o);u>-1&&t.splice(u,1)}}function s(){t=[]}return{add:e,list:()=>t,reset:s}}function Pe(t,e,s,o,u){const d=o&&(o.enterCallbacks[u]=o.enterCallbacks[u]||[]);return()=>new Promise((l,r)=>{const n=p=>{p===!1?r(Ge(4,{from:s,to:e})):p instanceof Error?r(p):kr(p)?r(Ge(2,{from:e,to:p})):(d&&o.enterCallbacks[u]===d&&typeof p=="function"&&d.push(p),l())},i=t.call(o&&o.instances[u],e,s,n);let c=Promise.resolve(i);t.length<3&&(c=c.then(n)),c.catch(p=>r(p))})}function At(t,e,s,o){const u=[];for(const d of t)for(const l in d.components){let r=d.components[l];if(!(e!=="beforeRouteEnter"&&!d.instances[l]))if(Zr(r)){const i=(r.__vccOpts||r)[e];i&&u.push(Pe(i,s,o,d,l))}else{let n=r();u.push(()=>n.then(i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${d.path}"`));const c=nr(i)?i.default:i;d.components[l]=c;const f=(c.__vccOpts||c)[e];return f&&Pe(f,s,o,d,l)()}))}}return u}function Zr(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function bn(t){const e=we(wt),s=we(Xt),o=I(()=>e.resolve(a(t.to))),u=I(()=>{const{matched:n}=o.value,{length:i}=n,c=n[i-1],p=s.matched;if(!c||!p.length)return-1;const f=p.findIndex(qe.bind(null,c));if(f>-1)return f;const v=yn(n[i-2]);return i>1&&yn(c)===v&&p[p.length-1].path!==v?p.findIndex(qe.bind(null,n[i-2])):f}),d=I(()=>u.value>-1&&tl(s.params,o.value.params)),l=I(()=>u.value>-1&&u.value===s.matched.length-1&&ms(s.params,o.value.params));function r(n={}){return el(n)?e[a(t.replace)?"replace":"push"](a(t.to)).catch(Xe):Promise.resolve()}return{route:o,href:I(()=>o.value.href),isActive:d,isExactActive:l,navigate:r}}const Jr=T({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:bn,setup(t,{slots:e}){const s=On(bn(t)),{options:o}=we(wt),u=I(()=>({[kn(t.activeClass,o.linkActiveClass,"router-link-active")]:s.isActive,[kn(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const d=e.default&&e.default(s);return t.custom?d:xe("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:u.value},d)}}}),Xr=Jr;function el(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function tl(t,e){for(const s in e){const o=e[s],u=t[s];if(typeof o=="string"){if(o!==u)return!1}else if(!Array.isArray(u)||u.length!==o.length||o.some((d,l)=>d!==u[l]))return!1}return!0}function yn(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const kn=(t,e,s)=>t??e??s,nl=T({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:s}){const o=we(It),u=I(()=>t.route||o.value),d=we(cn,0),l=I(()=>u.value.matched[d]);dt(cn,d+1),dt(tr,l),dt(It,u);const r=$();return fe(()=>[r.value,l.value,t.name],([n,i,c],[p,f,v])=>{i&&(i.instances[c]=n,f&&f!==i&&n&&n===p&&(i.leaveGuards.size||(i.leaveGuards=f.leaveGuards),i.updateGuards.size||(i.updateGuards=f.updateGuards))),n&&i&&(!f||!qe(i,f)||!p)&&(i.enterCallbacks[c]||[]).forEach(y=>y(n))},{flush:"post"}),()=>{const n=u.value,i=l.value,c=i&&i.components[t.name],p=t.name;if(!c)return wn(s.default,{Component:c,route:n});const f=i.props[t.name],v=f?f===!0?n.params:typeof f=="function"?f(n):f:null,w=xe(c,G({},v,e,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(i.instances[p]=null)},ref:r}));return wn(s.default,{Component:w,route:n})||w}}});function wn(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const sl=nl;function ol(t){const e=Rr(t.routes,t),s=t.parseQuery||Yr,o=t.stringifyQuery||gn,u=t.history,d=Je(),l=Je(),r=Je(),n=Hs(Ee);let i=Ee;Be&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=St.bind(null,k=>""+k),p=St.bind(null,jr),f=St.bind(null,mt);function v(k,x){let S,V;return vs(k)?(S=e.getRecordMatcher(k),V=x):V=k,e.addRoute(V,S)}function y(k){const x=e.getRecordMatcher(k);x&&e.removeRoute(x)}function w(){return e.getRoutes().map(k=>k.record)}function C(k){return!!e.getRecordMatcher(k)}function D(k,x){if(x=G({},x||n.value),typeof k=="string"){const B=$t(s,k,x.path),te=e.resolve({path:B.path},x),Ze=u.createHref(B.fullPath);return G(B,te,{params:f(te.params),hash:mt(B.hash),redirectedFrom:void 0,href:Ze})}let S;if("path"in k)S=G({},k,{path:$t(s,k.path,x.path).path});else{const B=G({},k.params);for(const te in B)B[te]==null&&delete B[te];S=G({},k,{params:p(k.params)}),x.params=p(x.params)}const V=e.resolve(S,x),Y=k.hash||"";V.params=c(f(V.params));const ee=ar(o,G({},k,{hash:qr(Y),path:V.path})),W=u.createHref(ee);return G({fullPath:ee,hash:Y,query:o===gn?Kr(k.query):k.query||{}},V,{redirectedFrom:void 0,href:W})}function A(k){return typeof k=="string"?$t(s,k,n.value.path):G({},k)}function O(k,x){if(i!==k)return Ge(8,{from:x,to:k})}function E(k){return q(k)}function N(k){return E(G(A(k),{replace:!0}))}function U(k){const x=k.matched[k.matched.length-1];if(x&&x.redirect){const{redirect:S}=x;let V=typeof S=="function"?S(k):S;return typeof V=="string"&&(V=V.includes("?")||V.includes("#")?V=A(V):{path:V},V.params={}),G({query:k.query,hash:k.hash,params:k.params},V)}}function q(k,x){const S=i=D(k),V=n.value,Y=k.state,ee=k.force,W=k.replace===!0,B=U(S);if(B)return q(G(A(B),{state:Y,force:ee,replace:W}),x||S);const te=S;te.redirectedFrom=x;let Ze;return!ee&&ir(o,V,S)&&(Ze=Ge(16,{to:te,from:V}),J(V,V,!0,!1)),(Ze?Promise.resolve(Ze):se(te,V)).catch(ve=>Ae(ve)?ve:Ke(ve,te,V)).then(ve=>{if(ve){if(Ae(ve,2))return q(G(A(ve.to),{state:Y,force:ee,replace:W}),x||te)}else ve=oe(te,V,!0,W,Y);return me(te,V,ve),ve})}function Z(k,x){const S=O(k,x);return S?Promise.reject(S):Promise.resolve()}function se(k,x){let S;const[V,Y,ee]=al(k,x);S=At(V.reverse(),"beforeRouteLeave",k,x);for(const B of V)B.leaveGuards.forEach(te=>{S.push(Pe(te,k,x))});const W=Z.bind(null,k,x);return S.push(W),Ue(S).then(()=>{S=[];for(const B of d.list())S.push(Pe(B,k,x));return S.push(W),Ue(S)}).then(()=>{S=At(Y,"beforeRouteUpdate",k,x);for(const B of Y)B.updateGuards.forEach(te=>{S.push(Pe(te,k,x))});return S.push(W),Ue(S)}).then(()=>{S=[];for(const B of k.matched)if(B.beforeEnter&&!x.matched.includes(B))if(Array.isArray(B.beforeEnter))for(const te of B.beforeEnter)S.push(Pe(te,k,x));else S.push(Pe(B.beforeEnter,k,x));return S.push(W),Ue(S)}).then(()=>(k.matched.forEach(B=>B.enterCallbacks={}),S=At(ee,"beforeRouteEnter",k,x),S.push(W),Ue(S))).then(()=>{S=[];for(const B of l.list())S.push(Pe(B,k,x));return S.push(W),Ue(S)}).catch(B=>Ae(B,8)?B:Promise.reject(B))}function me(k,x,S){for(const V of r.list())V(k,x,S)}function oe(k,x,S,V,Y){const ee=O(k,x);if(ee)return ee;const W=x===Ee,B=Be?history.state:{};S&&(V||W?u.replace(k.fullPath,G({scroll:W&&B&&B.scroll},Y)):u.push(k.fullPath,Y)),n.value=k,J(k,x,S,W),lt()}let he;function ce(){he=u.listen((k,x,S)=>{const V=D(k),Y=U(V);if(Y){q(G(Y,{replace:!0}),V).catch(Xe);return}i=V;const ee=n.value;Be&&mr(pn(ee.fullPath,S.delta),Dt()),se(V,ee).catch(W=>Ae(W,12)?W:Ae(W,2)?(q(W.to,V).then(B=>{Ae(B,20)&&!S.delta&&S.type===st.pop&&u.go(-1,!1)}).catch(Xe),Promise.reject()):(S.delta&&u.go(-S.delta,!1),Ke(W,V,ee))).then(W=>{W=W||oe(V,ee,!1),W&&(S.delta?u.go(-S.delta,!1):S.type===st.pop&&Ae(W,20)&&u.go(-1,!1)),me(V,ee,W)}).catch(Xe)})}let ue=Je(),Ce=Je(),Oe;function Ke(k,x,S){lt(k);const V=Ce.list();return V.length?V.forEach(Y=>Y(k,x,S)):console.error(k),Promise.reject(k)}function Ct(){return Oe&&n.value!==Ee?Promise.resolve():new Promise((k,x)=>{ue.add([k,x])})}function lt(k){Oe||(Oe=!0,ce(),ue.list().forEach(([x,S])=>k?S(k):x()),ue.reset())}function J(k,x,S,V){const{scrollBehavior:Y}=t;if(!Be||!Y)return Promise.resolve();const ee=!S&&hr(pn(k.fullPath,0))||(V||!S)&&history.state&&history.state.scroll||null;return zs().then(()=>Y(k,x,ee)).then(W=>W&&fr(W)).catch(W=>Ke(W,k,x))}const z=k=>u.go(k);let X;const Et=new Set;return{currentRoute:n,addRoute:v,removeRoute:y,hasRoute:C,getRoutes:w,resolve:D,options:t,push:E,replace:N,go:z,back:()=>z(-1),forward:()=>z(1),beforeEach:d.add,beforeResolve:l.add,afterEach:r.add,onError:Ce.add,isReady:Ct,install(k){const x=this;k.component("RouterLink",Xr),k.component("RouterView",sl),k.config.globalProperties.$router=x,Object.defineProperty(k.config.globalProperties,"$route",{enumerable:!0,get:()=>a(n)}),Be&&!X&&n.value===Ee&&(X=!0,E(u.location).catch(Y=>{}));const S={};for(const Y in Ee)S[Y]=I(()=>n.value[Y]);k.provide(wt,x),k.provide(Xt,On(S)),k.provide(It,n);const V=k.unmount;Et.add(k),k.unmount=function(){Et.delete(k),Et.size<1&&(i=Ee,he&&he(),n.value=Ee,X=!1,Oe=!1),V()}}}}function Ue(t){return t.reduce((e,s)=>e.then(()=>s()),Promise.resolve())}function al(t,e){const s=[],o=[],u=[],d=Math.max(e.matched.length,t.matched.length);for(let l=0;l<d;l++){const r=e.matched[l];r&&(t.matched.find(i=>qe(i,r))?o.push(r):s.push(r));const n=t.matched[l];n&&(e.matched.find(i=>qe(i,n))||u.push(n))}return[s,o,u]}function il(){return we(wt)}function Du(){return we(Xt)}const rl={class:"flex gap-4 items-center"},ll={class:"flex-1 min-w-0"},cl={key:2},ul={key:6,class:"-mx-6 -mb-6 mt-0 flex flex-col"},dl={class:"flex gap-4 items-center self-center"},pl=m("div",{class:"bg-base-content bg-opacity-20 h-px w-16"},null,-1),fl={class:"text-base-content text-opacity-30 text-sm"},ml=m("div",{class:"bg-base-content bg-opacity-20 h-px w-16"},null,-1),hl=T({name:"ConnectDeviceDialog",__name:"ConnectDeviceDialog",setup(t){const{t:e}=F(),{reportEvent:s}=Me(),o=vt(),u=Ft(),d=$(j.Platforms);dt(Ve.ConnectDevicePage,d);const l=jt(d),r=Ha(),n=()=>{l.push(j.Success),s("CONNECTED_NEW_DEVICE"),u.update()},i=De(),c=I(()=>!!i.visible[H.ConnectDevice]),p=()=>{i.hide(H.ConnectDevice)},f=il(),v=()=>{f.push(ae.devices),p()},y={[j.Platforms]:e("connectDevice.platforms.title"),[j.Android]:e("connectDevice.android.title"),[j.Extension]:e("connectDevice.extension.title"),[j.Desktop]:e("connectDevice.desktop.title"),[j.Manual]:e("connectDevice.manual.title"),[j.Success]:e("connectDevice.success.title")};return fe([d,c],([w,C])=>{C&&s("connect_device_"+w)}),(w,C)=>(b(),R(ie,{name:a(H).ConnectDevice,onShown:a(l).reset},{default:g(()=>[_(ne,{class:"max-w-md","message-class":"pb-4"},Se({title:g(()=>[m("div",rl,[a(d)!==a(j).Platforms?(b(),P("div",{key:0,class:"clickable rounded-full p-2 -m-2 cursor-pointer",onClick:C[0]||(C[0]=(...D)=>a(l).reset&&a(l).reset(...D))},[_(a(er),{class:"icon"})])):M("v-if",!0),m("h2",ll,h(y[a(d)]),1)])]),body:g(()=>[M(" Requirements "),a(r)?(b(),R(xa,{key:0})):a(o).canUploadData?(b(),P("div",cl,[M(" Routes "),a(d)===a(j).Platforms?(b(),R(Ya,{key:0,class:"-mx-6"})):a(d)===a(j).Success?(b(),R(Ua,{key:1})):a(d)===a(j).Android?(b(),R(ki,{key:2})):a(d)===a(j).Extension?(b(),R(Ii,{key:3})):a(d)===a(j).Desktop?(b(),R(Vi,{key:4})):(b(),R(qi,{key:5,onDeviceAdded:n})),M(" OR enter manually "),a(d)!==a(j).Success&&a(d)!==a(j).Manual?(b(),P("ul",ul,[m("li",dl,[pl,m("p",fl,h(a(e)("connectDevice.or")),1),ml]),_(os,{name:a(e)("connectDevice.enterManually"),page:a(j).Manual},null,8,["name","page"])])):M("v-if",!0)])):(b(),R(Aa,{key:1}))]),_:2},[a(d)===a(j).Success?{name:"buttons",fn:g(()=>[m("button",{class:"btn btn-primary",type:"button",onClick:p},h(a(e)("close")),1),m("button",{class:"btn btn-neutral",type:"button",onClick:v},h(a(e)("manageDevices")),1)]),key:"0"}:void 0]),1024),a(c)?(b(),R(Yi,{key:0})):M("v-if",!0)]),_:1},8,["name","onShown"]))}}),vl="devices";function Ds(t){const e=Le(),{canUploadData:s}=Fe(vt()),o=Qe([vl,t],()=>t.value?e.listDeviceGroupDevices({deviceGroupKey:t.value.key}):[],{placeholderData:[],keepPreviousData:!0,enabled:s}),u=je(),d=I(()=>{if(o.data.value==null)return o.data.value;const l=[...gt(o.data.value)],r=l.findIndex(i=>i.install_id===u.value);return[...l.splice(r,1),...Ws(l,({name:i})=>i.toLowerCase())]});return{...o,data:d}}function _l(t,e=Ht()){return qn(["device-usage-time",t],e.getDeviceTotalUsage,{keepPreviousData:!0})}const gl=$e(H.DeviceCard,{startDate:Date.now()-bt,endDate:Date.now(),appIds:[]}),bl={class:"bullet-points"},yl=["value"],kl=T({name:"DeviceCardDialog",__name:"DeviceCardDialog",setup(t){const e=gl(),s=I(()=>({startDate:e.options.startDate,endDate:e.options.endDate,appIds:gt(e.options.appIds)})),{t:o}=F(),{data:u}=_l(s).remote,{deviceGroup:d}=Fe(yt()),{data:l}=Ds(d),r=je(),n=I(()=>{var c;const i={};for(const p of l.value??[])i[p.install_id]=p.name;return(c=u.value)==null?void 0:c.map(p=>({deviceName:i[p.deviceId],deviceId:p.deviceId,usage:Nn(p.totalUsage,{excludeTrailingZeros:!0})}))});return(i,c)=>(b(),R(ie,{name:a(H).DeviceCard},{default:g(()=>[_(ne,{class:"w-108"},Se({title:g(()=>[L(h(a(o)("appDetails.totalUsage.title")),1)]),buttons:g(()=>[m("button",{class:"btn btn-primary",onClick:c[0]||(c[0]=(...p)=>a(e).hide&&a(e).hide(...p))},h(a(o)("close")),1)]),_:2},[a(d)?{name:"message",fn:g(()=>[m("ul",bl,[(b(!0),P(le,null,_e(a(n),p=>(b(),P("li",{key:p.deviceName,value:p.deviceName},h(p.deviceId===a(r)?a(o)("devices.thisDevice"):p.deviceName||a(o)("devices.unknownDeviceName"))+" : "+h(p.usage),9,yl))),128))])]),key:"0"}:void 0]),1024)]),_:1},8,["name"]))}}),Cs=T({name:"DurationInput",__name:"DurationInput",props:{hours:{required:!0},minutes:{required:!0},seconds:{required:!0}},emits:["update:hours","update:minutes","update:seconds"],setup(t){const e=ke(t,"hours"),s=ke(t,"minutes"),o=ke(t,"seconds"),{t:u}=F(),d=I({get(){return e.value},set(n){e.value=Number(n)}}),l=I({get(){return s.value},set(n){s.value=Number(n)}}),r=I({get(){return o.value},set(n){o.value=Number(n)}});return(n,i)=>(b(),R(Fs,null,{default:g(()=>[_(ge,{id:"hours",class:"flex-1",placeholder:a(u)("time.hours"),"input-props":{type:"number",min:0},modelValue:a(d),"onUpdate:modelValue":i[0]||(i[0]=c=>Q(d)?d.value=c:null)},null,8,["placeholder","modelValue"]),_(ge,{id:"minutes",class:"flex-1",placeholder:a(u)("time.minutes"),"input-props":{type:"number",min:0,max:60},modelValue:a(l),"onUpdate:modelValue":i[1]||(i[1]=c=>Q(l)?l.value=c:null)},null,8,["placeholder","modelValue"]),_(ge,{id:"seconds",class:"flex-1",placeholder:a(u)("time.seconds"),"input-props":{type:"number",min:0,max:60},modelValue:a(r),"onUpdate:modelValue":i[2]||(i[2]=c=>Q(r)?r.value=c:null)},null,8,["placeholder","modelValue"])]),_:1}))}}),wl={class:"pointer-events-auto z-50 absolute px-6 py-4 rounded-md ring-2 bg-base-100 ring-base-content ring-opacity-divider ring-inset space-y-2 w-96 flex flex-col p-6"},Dl={class:"list-inside space-y-2"},Cl=["href"],El=["href"],Pl=["href"],Sl={class:"font-normal text-muted"},Dn="enums.WarningType.block",Cn="enums.WarningType.popup",En="enums.WarningType.notification",$l=T({name:"UsageLimitTooltip",__name:"UsageLimitTooltip",props:{message:{}},setup(t){const e=t,{t:s}=F(),{remoteConfig:o}=Qn(),u=I(()=>o.value.tutorialLinks),d=I(()=>{const n=u.value.find(i=>i.key===Dn);return n==null?void 0:n.link}),l=I(()=>{const n=u.value.find(i=>i.key===Cn);return n==null?void 0:n.link}),r=I(()=>{const n=u.value.find(i=>i.key===En);return n==null?void 0:n.link});return(n,i)=>(b(),P("div",wl,[m("ul",Dl,[m("li",null,[m("a",{class:"link link-secondary",href:a(d),target:"_blank"},h(a(s)(Dn)),9,Cl),L(": "+h(a(s)("dashboard.editWebsiteLimitDialog.blockDescription")),1)]),m("li",null,[m("a",{class:"link link-secondary",href:a(l),target:"_blank"},h(a(s)(Cn)),9,El),L(": "+h(a(s)("dashboard.editWebsiteLimitDialog.popupDescription")),1)]),m("li",null,[m("a",{class:"link link-secondary",href:a(r),target:"_blank"},h(a(s)(En)),9,Pl),L(": "+h(a(s)("dashboard.editWebsiteLimitDialog.notificationDescription")),1)])]),m("p",Sl,h(e.message),1)]))}}),Al=["value"],xl=["value"],Rl=["value"],Il=T({name:"WarningTypeSelect",__name:"WarningTypeSelect",props:{modelValue:{required:!0}},emits:["update:modelValue"],setup(t){const e=ke(t,"modelValue"),{t:s}=F();return(o,u)=>(b(),R(Kn,{id:"type",placeholder:a(s)("dashboard.warningTypeLabel"),"select-helper-text":a(s)("selectOne"),modelValue:e.value,"onUpdate:modelValue":u[0]||(u[0]=d=>e.value=d)},Se({default:g(()=>[m("option",{value:a(We).Notification},h(a(s)("enums.WarningType.notification")),9,Al),m("option",{value:a(We).Block},h(a(s)("enums.WarningType.block")),9,xl),m("option",{value:a(We).Popup},h(a(s)("enums.WarningType.popup")),9,Rl)]),_:2},[_e(o.$slots,(d,l)=>({name:l,fn:g(r=>[pe(o.$slots,l,xn(Rn(r)))])}))]),1032,["placeholder","select-helper-text","modelValue"]))}});function Tl(){return ht(Ve.UsageLimitsService)}function Cu(t){const e=Tl();return Qe([Es,t],()=>e.queryLimits(gt(t.value)))}const Es="usage-limits";function Vl(){const t=Ft(),e=Ln();return Bt(async s=>await t.addUsageLimit(s),{onSuccess:()=>{e.invalidateQueries(Es)}})}function Ps(){return We.Block}function Ml(){const t=Ht();return Bt(t.syncUsage)}const Ll=$e(H.EditUsageLimit,()=>({warningType:Ps(),limitType:Wt(),isCrossPlatform:!1})),Ol={class:""},Nl={key:1,class:"space-y-3"},Ul={class:"cursor-pointer label justify-start gap-4"},Bl=["disabled"],Hl={key:2,class:"text-opacity-100 text-error text-center"},zl=["disabled"],Wl=["disabled"],Fl=T({name:"EditUsageLimitDialog",__name:"EditUsageLimitDialog",setup(t){const{t:e}=F(),{reportEvent:s}=Me(),{deviceGroup:o}=Fe(yt()),u=I(()=>o.value==null),{data:d}=ss(),l=$(!1),r=$(!1),n=Ll(),i=$(),c=$(!1),p=e("dashboard.editWebsiteLimitDialog.syncedUsageLimit"),f=I(()=>C.value&&n.options.isCrossPlatform);function v(){var J;n.options.disableAppIdFocus||(J=i.value)==null||J.focus(),c.value=!0}const y=Ps(),w=Wt(),C=$(),D=$(""),A=$(0),O=$(0),E=$(0),N=$(y),U=$(!1),q=I(()=>{var J;return(J=i.value)==null?void 0:J.input.focused}),Z=I(()=>{const J=C.value==null?"dashboard.editWebsiteLimitDialog.newTitle":"dashboard.editWebsiteLimitDialog.editTitle";return e(J)});function se(){var J;if(l.value=!1,C.value=n.options.id,D.value=n.options.appId??((J=n.options.allowedHostnames)==null?void 0:J[0])??"",n.options.duration==null)A.value=0,O.value=0,E.value=0;else{const z=Un(n.options.duration);A.value=z.hours,O.value=z.minutes,E.value=z.seconds}N.value=n.options.warningType,u.value?U.value=!1:U.value=n.options.isCrossPlatform??!0,he(),c.value=!1}const{submitDisabled:me,errorMessage:oe,resetValidation:he,submitWrapper:ce}=kt([function(){return ns(D.value,!c.value||q.value)},function(){return N.value===We.Notification&&A.value===0&&O.value===0&&E.value===0?{isValid:!1,message:e("dashboard.editWebsiteLimitDialog.notificationDurationRequired")}:N.value===We.Popup&&A.value===0&&O.value===0&&E.value===0?{isValid:!1,message:e("dashboard.editWebsiteLimitDialog.popupDurationRequired")}:{isValid:!0}},function(){try{const z=ue();return z.id??(z.id=An()),qs.parse(z),{isValid:!0}}catch(z){return{isValid:!1,message:co(z)}}},function(){return ts(n.options.limitType,D.value,d.value??[])},function(){return es(n.options.limitType,D.value,q.value)}]);function ue(){return{id:C.value,version:Gs,duration:A.value*pt+O.value*zt+E.value*it,appId:D.value,limitType:w,metricType:Qs.UsageTime,warningType:N.value,isCrossPlatform:U.value}}const{isLoading:Ce,isError:Oe,mutate:Ke}=Vl(),{mutate:Ct}=Ml(),lt=ce(()=>{const J=ue();C.value==null?s("ADD_USAGE_LIMIT",J):s("EDIT_USAGE_LIMIT",J),Ke(J,{onSuccess:()=>{n.hide(),Ct()}})});return(J,z)=>(b(),R(ie,{name:a(n).name,"overflow-disabled":!0,onShown:se,onAfterShowAnimation:v,onDismissed:se},{default:g(()=>[_(ne,{"data-testid":"add-limit-form",class:"w-108",onSubmit:a(lt)},{title:g(()=>[L(h(a(Z)),1)]),body:g(()=>[_(Xn,{ref_key:"hostnameInput",ref:i,modelValue:a(D),"onUpdate:modelValue":z[0]||(z[0]=X=>Q(D)?D.value=X:null),"allowed-hostnames":a(n).options.allowedHostnames,"limit-type":a(n).options.limitType},null,8,["modelValue","allowed-hostnames","limit-type"]),_(Il,{class:"pr-12",modelValue:a(N),"onUpdate:modelValue":z[2]||(z[2]=X=>Q(N)?N.value=X:null)},{right:g(()=>[m("div",Ol,[_(a(yo),{class:de(["icon-lg p-0.5",{"popup-clickable-icon":!a(l),"popup-clickable-icon-primary":a(l)}]),onClick:z[1]||(z[1]=X=>l.value=!a(l))},null,8,["class"]),a(l)?(b(),R($l,{key:0,message:a(e)("dashboard.editWebsiteLimitDialog.videoTutorial")},null,8,["message"])):M("v-if",!0)])]),_:1},8,["modelValue"]),_(Ie,null,{default:g(()=>[L(h(a(e)("dashboard.editWebsiteLimitDialog.durationSubtitle")),1)]),_:1}),_(Cs,{hours:a(A),"onUpdate:hours":z[3]||(z[3]=X=>Q(A)?A.value=X:null),minutes:a(O),"onUpdate:minutes":z[4]||(z[4]=X=>Q(O)?O.value=X:null),seconds:a(E),"onUpdate:seconds":z[5]||(z[5]=X=>Q(E)?E.value=X:null)},null,8,["hours","minutes","seconds"]),a(f)?(b(),R(sn,{key:0,type:"info"},{default:g(()=>[L(h(a(p)),1)]),_:1})):(b(),P("div",Nl,[a(u)&&!a(r)?(b(),R(sn,{key:0,type:"info"},{default:g(()=>[L(h(a(e)("dashboard.editWebsiteLimitDialog.crossPlatformWarning")),1)]),buttons:g(()=>[m("div",{class:"clickable p-2",role:"button",onClick:z[6]||(z[6]=X=>r.value=!0)},[_(a(lo),{class:"icon"})])]),_:1})):M("v-if",!0),m("label",Ul,[Re(m("input",{type:"checkbox","onUpdate:modelValue":z[7]||(z[7]=X=>Q(U)?U.value=X:null),class:"checkbox checkbox-primary checkbox-sm",disabled:a(u)},null,8,Bl),[[tt,a(U)]]),_(K,{class:de(["label-text",{"opacity-disabled":a(u)}]),tag:"span",keypath:"dashboard.editWebsiteLimitDialog.syncMessage"},null,8,["class"])])])),a(oe)?(b(),P("p",Hl,h(a(oe)),1)):M("v-if",!0),a(Oe)?(b(),R(K,{key:3,tag:"p",class:"text-opacity-100 text-error text-center",keypath:"genericError"})):M("v-if",!0)]),buttons:g(()=>[m("button",{"data-testid":"save",class:"btn btn-primary",type:"submit",disabled:a(me)||a(Ce)},h(a(e)("save")),9,zl),m("button",{"data-testid":"cancel",class:"btn btn-neutral",disabled:a(Ce),onClick:z[8]||(z[8]=rt((...X)=>a(n).hide&&a(n).hide(...X),["prevent"]))},h(a(e)("cancel")),9,Wl)]),_:1},8,["onSubmit"])]),_:1},8,["name"]))}}),ql=T({name:"LimitsOnTheGoRequiredSitesWarningDialog",__name:"LimitsOnTheGoRequiredSitesWarningDialog",setup(t){const{t:e}=F(),s=zn(),o=_t();function u(){s.show({descriptionMessage:e("limitsOnTheGo.addWebsiteDescription"),async addApp(l){await o.addLimitsOnTheGoWebsite(l)}})}function d(){u()}return(l,r)=>(b(),R(uo,{"ok-click":d,"dialog-name":a(H).LimitsOnTheGoRequiredSitesWarning},{title:g(()=>[L(h(a(e)("limitsOnTheGo.title")),1)]),body:g(()=>[L(h(a(e)("limitsOnTheGo.requiredSitesMessage")),1)]),_:1},8,["dialog-name"]))}}),Gl=T({name:"LoadingDialog",__name:"LoadingDialog",setup(t){return(e,s)=>(b(),R(ie,{name:a(H).Loading,"dismiss-disabled":""},{default:g(()=>[_(ne,{class:"w-84 items-center"},{body:g(()=>[m("p",null,[_(Gt)])]),_:1})]),_:1},8,["name"]))}}),Ql="modulepreload",jl=function(t){return"/"+t},Pn={},re=function(e,s,o){let u=Promise.resolve();if(s&&s.length>0){const d=document.getElementsByTagName("link");u=Promise.all(s.map(l=>{if(l=jl(l),l in Pn)return;Pn[l]=!0;const r=l.endsWith(".css"),n=r?'[rel="stylesheet"]':"";if(!!o)for(let p=d.length-1;p>=0;p--){const f=d[p];if(f.href===l&&(!r||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${n}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":Ql,r||(c.as="script",c.crossOrigin=""),c.href=l,document.head.appendChild(c),r)return new Promise((p,f)=>{c.addEventListener("load",p),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}return u.then(()=>e()).catch(d=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=d,window.dispatchEvent(l),!l.defaultPrevented)throw d})},Ss="/assets/bg-platforms-vclCy7y_.svg",Yl={class:"box-border w-120 flex flex-col"},Kl={class:"flex flex-col items-center gap-1.5 p-8 bg-primary relative"},Zl=["src"],Jl={class:"flex flex-row items-center space-x-5"},Xl={class:"text-primary-content text-opacity-secondary relative"},ec={class:"text-xs text-primary-content text-opacity-secondary relative"},tc=m("div",{class:"h-[3rem]"},null,-1),nc={"data-theme":"dark",class:"bg-base-100 rounded-md mx-2 self-center -mt-[3.75rem] z-10 shadow-md"},sc=["src"],oc={class:"flex flex-col gap-4"},ac={class:"p-6 space-y-4"},ic={class:"flex flex-row-reverse gap-4"},rc=T({name:"NewTabPromotionDialog",__name:"NewTabPromotionDialog",setup(t){const{t:e}=F(),{reportEvent:s}=Me(),o=De(),u=Bn(),{state:d}=js();async function l(){d.value=!0,s("NEW_TAB_PAGE_ENABLED_WITH_PROMOTION"),o.hide(H.NewTabPromotion);{const{getNewTabPageUrl:n}=await re(()=>import("./defineAppConfig-GTQ5Bvuh.js").then(i=>i.dk),__vite__mapDeps([0,1]));window.open(n(),"_blank")}}function r(){o.hide(H.NewTabPromotion)}return(n,i)=>(b(),R(ie,{name:a(H).NewTabPromotion},{default:g(()=>[m("div",Yl,[M(" Header "),m("div",Kl,[m("img",{src:a(Ss),class:"absolute inset-0 w-full h-full object-cover object-center"},null,8,Zl),m("div",Jl,[m("div",null,[m("h2",Xl,h(a(e)("appName")),1),_(K,{tag:"h1",keypath:"newTabPromotion.title",class:"text-3xl text-primary-content text-opacity-primary relative"},{default:g(()=>[_(K,{tag:"span",keypath:"newTabPromotion.titleBold",class:"font-black font-stylized"})]),_:1}),m("h3",ec,h(a(e)("newTabPromotion.titleDescription")),1),tc])])]),M(" Layered Image "),m("div",nc,[m("img",{class:"aspect-[325/204] w-[19rem] text-center",src:a(u)?a(ko):a(wo)},null,8,sc)]),M(" Main body "),m("div",oc,[m("div",ac,[m("p",null,h(a(e)("newTabPromotion.description")),1),M(" Button bar "),m("div",ic,[m("button",{class:"btn btn-primary float-right",onClick:l},h(a(e)("newTabPromotion.tryIt")),1),m("button",{class:"btn btn-neutral",onClick:r},h(a(e)("newTabPromotion.notNow")),1)])])])])]),_:1},8,["name"]))}});function lc(t){return t.length==13&&(t.includes("Qx")||t.includes("bK")||t.includes("GH"))&&(t.includes("25")||t.includes("78")||t.includes("15"))&&(t.includes("Lkl")||t.includes("JgF")||t.includes("eMt"))&&(t.includes("186")||t.includes("374")||t.includes("648"))}const cc=["href"],uc={key:0,class:"text-error font-bold pt-1 text-center"},dc=["onClick"],Sn="ForgotPasscodeStayfree@gmail.com",pc=T({name:"PinResetDialog",__name:"PinResetDialog",setup(t){const e=De(),s=po(),o=_t(),{t:u}=F(),d=$(""),l=$(),r=$(!1);async function n(){var v,y;lc(d.value)?(await o.setSecurity(null),(y=(v=s.options).onSuccess)==null||y.call(v),p()):r.value=!0}function i(){d.value="",r.value=!1}fe(d,()=>{r.value=!1});function c(){var f,v;(v=(f=l.value)==null?void 0:f.form)!=null&&v.reportValidity()&&n()}function p(){var f,v;(v=(f=s.options).onDismiss)==null||v.call(f),s.hide()}return(f,v)=>(b(),R(ie,{name:a(H).ResetPin,visible:!!a(e).visible[a(H).ResetPin],onShown:i,onDismiss:p},{default:g(()=>[_(ne,{ref_key:"scaffold",ref:l,"data-testid":"pin-reset-form",class:"md:w-[400px] w-[320px]",onSubmit:n},{title:g(()=>[L(h(a(u)("pin.reset")),1)]),body:g(()=>[_(K,{keypath:"pin.resetDescription",tag:"p",for:"tos",class:"text-base-content"},{default:g(()=>[m("a",{class:"link link-secondary",href:`mailto:${Sn}`,target:"_blank"},h(Sn),8,cc)]),_:1}),_(Gn,{id:"pin","data-testid":"code-input",class:"h-20",autofocus:!0,"input-props":{minLength:13,maxLength:13,required:!0},modelValue:a(d),"onUpdate:modelValue":v[0]||(v[0]=y=>Q(d)?d.value=y:null)},null,8,["modelValue"]),_(Ys,{name:"slide"},{default:g(()=>[a(r)?(b(),P("p",uc,h(a(u)("pin.invalidResetCode")),1)):M("v-if",!0)]),_:1})]),buttons:g(()=>[m("button",{"data-testid":"confirm",class:"btn btn-primary",type:"submit",onClick:c},h(a(u)("ok")),1),m("button",{class:"btn btn-neutral",onClick:rt(p,["prevent"])},h(a(u)("cancel")),9,dc)]),_:1},512)]),_:1},8,["name","visible"]))}}),fc={class:"text-base-content"},mc=["onClick"],hc=T({name:"PinSetDialog",__name:"PinSetDialog",setup(t){const e=De(),s=fo(),{t:o}=F(),u=$(""),d=$();function l(){var p,f;(f=(p=s.options).onPick)==null||f.call(p,u.value),c()}function r(){u.value=""}function n(){var p,f;(f=(p=d.value)==null?void 0:p.form)!=null&&f.reportValidity()&&l()}function i(){var p,f;(f=(p=s.options).onDismiss)==null||f.call(p),c()}function c(){s.hide()}return(p,f)=>(b(),R(ie,{name:a(H).SetPin,visible:!!a(e).visible[a(H).SetPin],onShown:r,onDismiss:i},{default:g(()=>[_(ne,{ref_key:"scaffold",ref:d,"data-testid":"pin-save-form",class:"md:w-[400px] w-[320px]",onSubmit:l},{title:g(()=>[L(h(a(o)("pin.set")),1)]),body:g(()=>[m("p",fc,h(a(o)("pin.description")),1),m("div",null,[_(Gn,{id:"pin","data-testid":"pin-input",class:"flex-1 h-20",autofocus:!0,"input-props":{minLength:4,maxLength:20,required:!0},modelValue:a(u),"onUpdate:modelValue":f[0]||(f[0]=v=>Q(u)?u.value=v:null)},null,8,["modelValue"])])]),buttons:g(()=>[m("button",{"data-testid":"save",class:"btn btn-primary",type:"submit",onClick:n},h(a(o)("save")),1),m("button",{class:"btn btn-neutral",onClick:rt(c,["prevent"])},h(a(o)("cancel")),9,mc)]),_:1},512)]),_:1},8,["name","visible"]))}});function vc(t,e=Ht()){return qn(["sessions",t],e.getSessions,{keepPreviousData:!0})}const _c=$e(H.Sessions,{startDate:Date.now()-bt,endDate:Date.now(),appIds:[]}),gc={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},bc=m("path",{fill:"currentColor",d:"M4 11v2h12l-5.5 5.5l1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5L16 11H4Z"},null,-1),yc=[bc];function kc(t,e){return b(),P("svg",gc,yc)}const $s={name:"mdi-arrow-right",render:kc},wc={class:"space-y-2"},Dc=["value"],Cc={class:"text-primary font-bold pb-2"},Ec=["value"],Pc=m("td",{class:"pr-1"},"•",-1),Sc={class:"px-1"},$c=m("td",{class:"px-1"},"—",-1),Ac={class:"px-1"},xc={class:"px-1"},Rc={class:"pl-1"},Ic=T({name:"SessionsDialog",__name:"SessionsDialog",setup(t){const e=_c(),s=I(()=>({startDate:e.options.startDate,endDate:e.options.endDate,appIds:gt(e.options.appIds)})),o=De(),{t:u}=F(),{data:d}=vc(s).remote,{deviceGroup:l}=Fe(yt()),{data:r}=Ds(l),{state:n}=Ks(),i=I(()=>n.value==Zs.Hour24),c=je(),p=I(()=>{const y={};for(const w of r.value??[]){if(w.install_id==c.value){y[w.install_id]=u("devices.thisDevice");continue}y[w.install_id]=w.name}return y}),f=I(()=>{if(!d.value)return[];const y=d.value.slice().sort((O,E)=>O.startedAt-E.startedAt),w={};y.forEach(O=>{const E=O.startedAt,N=O.endedAt??Date.now(),U=O.id,q=N-E;let Z=Nn(q,{excludeTrailingZeros:!0});const se=nn(E,{is24HourFormat:i.value}),me=nn(N,{is24HourFormat:i.value}),oe=O.createdBy;w[oe]??(w[oe]=[]),w[oe].push({id:U,durationText:Z,startText:se,endText:me,startTime:E})});const C=Object.keys(w).map(O=>{const E=w[O],N=[];return E.forEach(U=>{const q=Js(U.startTime),Z=N.find(se=>se.date===q);Z?Z.sessions.push(U):N.push({date:q,sessions:[U]})}),{device:O,sessions:N}}),D=C.findIndex(O=>O.device===c.value);return[...C.splice(D,1),...C]});function v(){o.hide(H.Sessions)}return(y,w)=>(b(),R(Xs,{visible:!!a(o).visible[a(H).Sessions],onDismiss:w[0]||(w[0]=C=>a(o).hide(a(H).Sessions))},{default:g(()=>[_(ne,{class:"w-108"},Se({title:g(()=>[L(h(a(u)("appDetails.totalSessions.title")),1)]),buttons:g(()=>[m("button",{class:"btn btn-primary",onClick:v},h(a(u)("close")),1)]),_:2},[a(f)?{name:"body",fn:g(()=>[m("ul",wc,[(b(!0),P(le,null,_e(a(f),C=>(b(),P("li",{key:C.device,value:C.device,class:"pb-4"},[m("p",Cc,h(a(p)[C.device]),1),m("ul",null,[(b(!0),P(le,null,_e(C.sessions,D=>(b(),P("li",{key:D.date,value:D.date},[L(h(D.date)+" ",1),m("table",null,[(b(!0),P(le,null,_e(D.sessions,A=>(b(),P("tr",{key:A.id},[M(" eslint-disable-next-line @intlify/vue-i18n/no-raw-text "),Pc,m("td",Sc,[m("strong",null,h(A.durationText),1)]),M(" eslint-disable-next-line @intlify/vue-i18n/no-raw-text "),$c,m("td",Ac,h(A.startText),1),m("td",xc,[_(a($s),{class:"icon-sm"})]),m("td",Rc,h(A.endText),1)]))),128))])],8,Ec))),128))])],8,Dc))),128))])]),key:"0"}:void 0]),1024)]),_:1},8,["visible"]))}}),Tc={class:"space-y-4"},Vc={class:"cursor-pointer label justify-start gap-4"},Mc={class:"link link-secondary",href:"https://stayfreeapps.com/terms",target:"_blank"},Lc={class:"cursor-pointer label justify-start gap-4","data-testid":"privacy-checkbox"},Oc={class:"link link-secondary",href:"https://stayfreeapps.com/privacy",target:"_blank"},Nc={class:"bullet-points"},Uc=["disabled"],Bc=T({name:"TermsOfServiceDialog",__name:"TermsOfServiceDialog",setup(t){const{t:e}=F(),{reportEvent:s}=Me(),o=je(),u=qt(),d=De(),l=vt(),r=Le(),n=_t(),i=$(!0),c=$(!0);async function p(){await n.setAcceptedTos(!0),await n.setAskTosAgain(!1),s("TURNED_18_ACCEPTED_TOS"),c.value?(await n.setAcceptedDataCollection("accepted"),s("TURNED_18_ACCEPTED_PRIVACY_POLICY")):(await n.setAcceptedDataCollection("declined"),s("TURNED_18_DECLINED_PRIVACY_POLICY")),l.canUploadData&&r.createDevice({installId:o.value,appId:u}),d.hide(H.TermsOfService)}return(f,v)=>(b(),R(ie,{name:a(H).TermsOfService,visible:!!a(d).visible[a(H).TermsOfService],"dismiss-disabled":""},{default:g(()=>[_(ne,{class:"w-96"},{title:g(()=>[_(K,{tag:"h2",class:"onboarding-subtitle",keypath:"onboarding.privacy.title"})]),message:g(()=>[m("div",Tc,[_(K,{tag:"p",keypath:"onboarding.privacy.message"}),m("div",null,[m("label",Vc,[Re(m("input",{type:"checkbox","onUpdate:modelValue":v[0]||(v[0]=y=>Q(i)?i.value=y:null),class:"checkbox checkbox-primary checkbox-sm"},null,512),[[tt,a(i)]]),_(K,{class:"label-text",tag:"span",keypath:"onboarding.privacy.tosMessage"},{default:g(()=>[m("a",Mc,h(f.$t("termsOfService").toLowerCase()),1)]),_:1})]),m("label",Lc,[Re(m("input",{type:"checkbox","onUpdate:modelValue":v[1]||(v[1]=y=>Q(c)?c.value=y:null),class:"checkbox checkbox-primary checkbox-sm"},null,512),[[tt,a(c)]]),_(K,{class:"label-text",tag:"span",keypath:"onboarding.privacy.permission"},{default:g(()=>[m("a",Oc,h(f.$t("privacyPolicy").toLowerCase()),1)]),_:1})])]),_(K,{tag:"h2",class:"onboarding-subtitle",keypath:"onboarding.privacy.keyPoints"}),m("ul",Nc,[_(K,{tag:"li",keypath:"onboarding.privacy.keyPoint1"}),_(K,{tag:"li",keypath:"onboarding.privacy.keyPoint2"}),_(K,{tag:"li",keypath:"onboarding.privacy.keyPoint3"}),_(K,{tag:"li",keypath:"onboarding.privacy.keyPoint4"}),_(K,{tag:"li",keypath:"onboarding.privacy.keyPoint5"})])])]),buttons:g(()=>[m("button",{class:"btn btn-primary",onClick:p,disabled:!a(i)},h(a(e)("accept")),9,Uc)]),_:1})]),_:1},8,["name","visible"]))}}),Hc={key:0,class:"text-opacity-100 text-error text-center"},zc=["disabled"],Wc=["onClick"],Fc=T({name:"TimePicker",__name:"TimePicker",setup(t){const{t:e}=F(),s=Yn();function o(){var y,w;s.hide(),(w=(y=s.options).onDismiss)==null||w.call(y)}const u=$();function d(){var y;(y=u.value)==null||y.focus()}function l(){const y=s.options.initialTimeOfDay??0;return ct(ze()+y,ut)}const r=$(l());function n(){r.value=l(),p()}const{submitDisabled:i,errorMessage:c,resetValidation:p,submitWrapper:f}=kt([]),v=f(()=>{var C,D;const y=new Date(`2021-01-01T${r.value}`).getTime(),w=xt(y);(D=(C=s.options).onPick)==null||D.call(C,w),o()});return(y,w)=>(b(),R(ie,{name:a(s).name,onShown:n,onAfterShowAnimation:d},{default:g(()=>[_(ne,{"data-testid":"add-limit-form",class:"w-108",onSubmit:a(v)},{title:g(()=>[L(h(a(e)("timePickerTitle")),1)]),body:g(()=>[m("div",null,[_(ge,{id:"date",ref_key:"dateInput",ref:u,class:"flex-1",placeholder:a(e)("time.minutes"),"input-props":{type:"time"},modelValue:a(r),"onUpdate:modelValue":w[0]||(w[0]=C=>Q(r)?r.value=C:null)},null,8,["placeholder","modelValue"])]),a(c)?(b(),P("p",Hc,h(a(c)),1)):M("v-if",!0)]),buttons:g(()=>[m("button",{"data-testid":"save",class:"btn btn-primary",type:"submit",disabled:a(i)},h(a(e)("save")),9,zc),m("button",{class:"btn btn-neutral",onClick:rt(o,["prevent"])},h(a(e)("cancel")),9,Wc)]),_:1},8,["onSubmit"])]),_:1},8,["name"]))}}),qc="/assets/stayfree-desktop-dark-AAlPbfqD.png",Gc="/assets/stayfree-desktop-light-1lqQjGEL.png",$n=Hn("promote-desktop-popup-visibility",()=>{const t=$(!1);function e(){t.value=!0}return{isVisible:t,setVisible:e}}),Qc=Hn("walkthrough",()=>{const t=$(!1);return{isVisible:t,onShow:()=>{t.value=!0},onHide:()=>{t.value=!1}}}),jc=3*bt;function Yc(t){const{setVisible:e}=$n(),{isVisible:s}=Fe($n()),{mutateAsync:o}=on(),{mutateAsync:u}=an(),d=$(!1),{state:l}=mo(),r=ho({interval:zt});Ot(()=>{d.value=!0},(t==null?void 0:t.autoShowTimeout)??1e3);const{isVisible:n}=Fe(Qc()),{state:i}=on(),{state:c}=an(),p=eo("PromoteDesktop"),f=I(()=>p&&d.value&&!n.value&&l.value!=null&&r.value>=l.value+jc),v=I(()=>f.value&&c.value);fe(v,A=>{A&&e()});const y=I(()=>(y.value??!1)||v.value),w=I(()=>f.value&&!s.value&&i.value);function C(){return o(!1)}function D(){return u(!1)}return{isPromoteDesktopBannerVisible:w,isPromoteDesktopPopupVisible:v,dismissPromoteDesktopBanner:C,dismissPromoteDesktopPopup:D}}const Kc={class:"box-border w-120 flex flex-col"},Zc={class:"flex flex-col items-center gap-1.5 p-8 bg-primary relative"},Jc=["src"],Xc={class:"flex flex-row items-center space-x-5"},eu={class:"text-primary-content text-opacity-secondary relative"},tu={class:"text-xs text-primary-content text-opacity-secondary relative"},nu=m("div",{class:"h-[3rem]"},null,-1),su={class:"rounded-md mx-2 self-center -mt-[3.75rem] z-10"},ou=["src"],au={class:"flex flex-col gap-4"},iu={class:"p-6 space-y-4"},ru={class:"flex flex-row-reverse gap-4"},lu=T({name:"PromoteDesktopDialog",__name:"DesktopAppPromotionDialog",setup(t){const{t:e}=F(),{reportEvent:s}=Me(),o=De(),u=Bn(),{dismissPromoteDesktopPopup:d,dismissPromoteDesktopBanner:l}=Yc();function r(){window.open(to("popup"),"_blank"),n(),l(),s("CLICKED_PROMOTE_DESKTOP_POPUP")}function n(){o.hide(H.PromoteDesktop)}function i(){d()}return(c,p)=>(b(),R(ie,{name:a(H).PromoteDesktop,onShown:p[0]||(p[0]=f=>i())},{default:g(()=>[m("div",Kc,[M(" Header "),m("div",Zc,[m("img",{src:a(Ss),class:"absolute inset-0 w-full h-full object-cover object-center"},null,8,Jc),m("div",Xc,[m("div",null,[m("h2",eu,h(a(e)("appName")),1),_(K,{tag:"h1",keypath:"promoteDesktop.title",class:"text-3xl text-primary-content text-opacity-primary relative"},{default:g(()=>[_(K,{tag:"span",keypath:"promoteDesktop.titleBold",class:"font-black font-stylized"})]),_:1}),m("h3",tu,h(a(e)("promoteDesktop.description1")),1),nu])])]),M(" Layered Image "),m("div",su,[m("img",{class:"aspect-[5/3] w-[19rem] text-center",src:a(u)?a(qc):a(Gc)},null,8,ou)]),M(" Main body "),m("div",au,[m("div",iu,[m("p",null,h(a(e)("promoteDesktop.description2")),1),M(" Button bar "),m("div",ru,[m("button",{class:"btn btn-primary float-right",onClick:r},h(a(e)("promoteDesktop.popupButton")),1),m("button",{class:"btn btn-neutral",onClick:n},h(a(e)("promoteDesktop.notNow")),1)])])])])]),_:1},8,["name"]))}}),cu=$e(H.EditDuration,{duration:0}),uu={class:"flex items-center justify-between"},du={"data-testid":"save",class:"btn btn-primary",type:"submit"},pu=T({name:"EditDurationDialog",__name:"EditDurationDialog",setup(t){const{t:e}=F(),s=$(0),o=$(0),u=$(0),d=cu(),l=()=>{const i=Un(d.options.duration);s.value=i.hours,o.value=i.minutes,u.value=i.seconds},r=()=>{var c,p;const i=s.value*pt+o.value*zt+u.value*it;(p=(c=d.options).onChange)==null||p.call(c,i),d.hide()},n=()=>{var i,c;(c=(i=d.options).onDismiss)==null||c.call(i)};return(i,c)=>(b(),R(ie,{name:a(d).name,"overflow-disabled":!0,onShown:l,onDismissed:n},{default:g(()=>[_(ne,{"data-testid":"add-duration-form",class:"w-108",onSubmit:r},{title:g(()=>[m("div",uu,h(a(e)("editDuration")),1)]),body:g(()=>[_(Cs,{hours:a(s),"onUpdate:hours":c[0]||(c[0]=p=>Q(s)?s.value=p:null),minutes:a(o),"onUpdate:minutes":c[1]||(c[1]=p=>Q(o)?o.value=p:null),seconds:a(u),"onUpdate:seconds":c[2]||(c[2]=p=>Q(u)?u.value=p:null)},null,8,["hours","minutes","seconds"])]),buttons:g(()=>[m("button",du,h(a(e)("save")),1),m("button",{"data-testid":"cancel",class:"btn btn-neutral",onClick:c[3]||(c[3]=rt((...p)=>a(d).hide&&a(d).hide(...p),["prevent"]))},h(a(e)("cancel")),1)]),_:1})]),_:1},8,["name"]))}}),fu={class:"font-bold"},mu={class:"mt-3"},hu={class:"font-bold"},vu={class:"mt-3"},_u=T({name:"AddAppToIgnoreListDialog",__name:"AddAppToIgnoreListDialog",setup(t){const e=vo(),{t:s}=F(),o=$(!1),u=I(()=>e.options.appName),d=I(()=>ae.settings),l=I(()=>ae.ignore);function r(){o.value=!0,e.options.addAppToIgnoreList()}function n(){o.value=!1,e.hide()}function i(){o.value=!1,e.options.onSubmit(),e.hide()}return(c,p)=>{const f=Nt("router-link");return b(),R(ie,{name:a(H).AddAppToIgnoreListDialog},{default:g(()=>[_(ne,{class:"w-108"},{title:g(()=>[a(o)?(b(),R(K,{key:1,tag:"h1",keypath:"ignoredWebsites.ignored"},{default:g(()=>[L(h(a(u)),1)]),_:1})):(b(),R(K,{key:0,tag:"h1",keypath:"ignoredWebsites.ignore"},{default:g(()=>[L(h(a(u)),1)]),_:1}))]),message:g(()=>[a(o)?(b(),P(le,{key:1},[L(h(a(s)("ignoredWebsites.settingsPath"))+" ",1),m("div",vu,[_(f,{class:"link link-secondary",to:a(d),onClick:n},{default:g(()=>[L(h(a(s)("settings")),1)]),_:1},8,["to"]),_(a($s),{class:"icon-sm inline-block mx-2"}),_(f,{class:"link link-secondary",to:a(l),onClick:n},{default:g(()=>[L(h(a(s)("ignoredWebsites.title")),1)]),_:1},8,["to"])])],64)):(b(),P(le,{key:0},[_(K,{keypath:"ignoredWebsites.ignoreDescription"},{default:g(()=>[m("span",fu,h(a(u)),1)]),_:1}),m("div",mu,[_(K,{keypath:"ignoredWebsites.areYouSureIgnoring"},{default:g(()=>[m("span",hu,h(a(u)),1)]),_:1})])],64))]),buttons:g(()=>[a(o)?(b(),P(le,{key:1},[a(o)?(b(),P("button",{key:0,class:"btn btn-primary",onClick:i},h(a(s)("done")),1)):M("v-if",!0)],64)):(b(),P(le,{key:0},[m("button",{class:"btn btn-primary",onClick:r},h(a(s)("ignoredWebsites.ignore")),1),m("button",{class:"btn btn-neutral",onClick:n},h(a(s)("cancel")),1)],64))]),_:1})]),_:1},8,["name"])}}}),Eu=T({name:"DashboardGlobalDialogs",__name:"DashboardGlobalDialogs",setup(t){return(e,s)=>(b(),P(le,null,[M(" Dialogs "),_(Fl),_(Gl),_(Fc),_(hl),_(rc),_(kl),_(Ic),_(va),_(ya),_(No),_(hc),_(_o),_(pc),_(go),_(ql),_(lu),_(pu),_(_u),M(" High priority dialogs (order affects visibility) "),_(Bc),_(Da),_(ka)],64))}}),gu=[{path:ae.stats,component:()=>re(()=>import("./DashboardStatsIndex-zN-MS1zT.js"),__vite__mapDeps([2,3,4,0,1,5,6,7,8,9,10,11,12,13,14,15,16,17])),children:[{path:ae.overview,component:()=>re(()=>import("./DashboardStatsSummary-ujwx1zwF.js"),__vite__mapDeps([18,19,3,4,0,1,20,21,9,10,22,23,24,25,26,27,28,13,29]))},{path:ae.appDetails,component:()=>re(()=>import("./DashboardStatsAppDetails-DRbi0AV3.js"),__vite__mapDeps([30,19,3,4,0,1,20,21,9,10,22,23,24,25,5,28,31,32,33,34,11,35,16]))},{path:ae.groupDetails,component:()=>re(()=>import("./DashboardStatsAppDetails-DRbi0AV3.js"),__vite__mapDeps([30,19,3,4,0,1,20,21,9,10,22,23,24,25,5,28,31,32,33,34,11,35,16]))},{path:ae.groupAppDetails,component:()=>re(()=>import("./DashboardStatsAppDetails-DRbi0AV3.js"),__vite__mapDeps([30,19,3,4,0,1,20,21,9,10,22,23,24,25,5,28,31,32,33,34,11,35,16]))}]},{path:ae.limits,component:()=>re(()=>import("./DashboardLimits--_-wrEQS.js"),__vite__mapDeps([36,37,8,0,1,9,10,4,31,24,32,33,34,11,21,35,27,28,13,29,16]))},{path:ae.focus,component:()=>re(()=>import("./DashboardFocus-4OmYCTaJ.js"),__vite__mapDeps([38,39,0,1,33,4,34,11,21,35,9,10,40,41,6,42,43,44,32,45,27,28,13,29]))},{path:ae.ignore,component:()=>re(()=>import("./DashboardSettingsIgnoredApps-ign_cjUW.js"),__vite__mapDeps([46,37,39,0,1,33,4,34,11,21,35,9,10,8,47,12,23]))},{path:ae.backup,component:()=>re(()=>import("./DashboardSettingsBackupRestore-NYmuOHrq.js"),__vite__mapDeps([48,0,1,49,50,4,35,15,47,12,9,10]))},{path:ae.devices,component:()=>re(()=>import("./DashboardDevices-jzUHVJKV.js"),__vite__mapDeps([51,7,8,0,1,4,9,10,52,20,53]))},{path:ae.settings,component:()=>re(()=>import("./DashboardSettings-9TziwK62.js"),__vite__mapDeps([54,0,1,55,4,56,9,10,52,49,50,57,35,27,28,13,29]))},{path:ae.help,component:()=>re(()=>import("./DashboardHelp-REsVzLoX.js"),__vite__mapDeps([58,9,0,1,10,55,4,56,59]))},{path:"/:pathMatch(.*)*",component:()=>re(()=>import("./NotFound-BscF6inz.js"),__vite__mapDeps([60,9,0,1,10]))},{path:ae.lotg,component:()=>re(()=>import("./DashboardLimitsOnTheGo-KpV5uvaf.js"),__vite__mapDeps([61,45,0,1,9,10,33,4,44,32,35,41,6,39,34,11,21,62,43,27,28,13,29,50]))},{path:ae.youtubePlus,component:()=>re(()=>import("./DashboardYoutubePlus-qCGaQU4B.js"),__vite__mapDeps([63,9,0,1,10,62,57,49,50,4,33,64]))}],Pu=ol({routes:gu,history:yr()});function Su(t){return{queryKey:"installed-apps",async getItems(){return(await t.getSessionSummaries({startDate:ze()-3*bt,endDate:ze(),platformFilter:no.Web,disableAppGroups:!0})).map(s=>({value:s.appId,display:{id:s.appId,lastUsedAt:s.sessions[0].startedAt}}))}}}export{$s as A,Yn as B,ye as C,vl as D,cu as E,Wo as I,Eu as _,Yc as a,Cu as b,Su as c,Du as d,gl as e,_c as f,ai as g,Ds as h,Kn as i,Ll as j,Ps as k,Es as l,wa as m,Vo as n,da as o,Yt as p,Ml as q,Pu as r,Mi as s,Ha as t,il as u,Pi as v,$i as w,Qc as x,_a as y,To as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["chunks/defineAppConfig-GTQ5Bvuh.js","assets/defineAppConfig-JNaHroNe.css","chunks/DashboardStatsIndex-zN-MS1zT.js","chunks/useDateRange-7L57LI-8.js","chunks/useAddAppToIgnoreListDialogStore-Ki2J31d-.js","chunks/useRouteParams-y9JW7dxF.js","chunks/chevron-down-r-m6rVAr.js","chunks/ConnectDeviceFab.vue_vue_type_script_setup_true_lang-kn97nerI.js","chunks/FloatingActionButton.vue_vue_type_script_setup_true_lang-iV3s1viX.js","chunks/new-tab-light-6CDZBy0y.js","assets/new-tab-light-91HiXvd_.css","chunks/useGetAppMetadataQuery-BcVr5ORk.js","chunks/menu-right-4vh_RkTu.js","chunks/useIsNewTabPage-kpgT7RUw.js","chunks/useAllowedDateRange-sflFr8h-.js","chunks/min-search-date-m8ObA3He.js","chunks/external-link-rqkdzS6I.js","assets/DashboardStatsIndex-VrVEQ9E0.css","chunks/DashboardStatsSummary-ujwx1zwF.js","chunks/filter-variant-AUpd4Xho.js","chunks/more-vert-ui1bvY1Z.js","chunks/useVibrantColor-iCMxnPhp.js","chunks/useFiltersStore-XGjXa_py.js","chunks/useAddIgnoredAppMutation-OJF7vhrO.js","chunks/useGetSessionSummaries--e-QKgL-.js","assets/useFiltersStore-htgoPOYt.css","chunks/SessionSummaryList.vue_vue_type_script_setup_true_lang-Z9Yh3mCs.js","chunks/useWalkthrough-8G963d17.js","chunks/sleep-9Kq7Tjeg.js","assets/useWalkthrough-gjBpzI1f.css","chunks/DashboardStatsAppDetails-DRbi0AV3.js","chunks/usePromoteExtensionVisibility-ByQc8mk5.js","chunks/pencil-outline-S-laxNsu.js","chunks/plus-kS_YE9tP.js","chunks/AppListItem.vue_vue_type_script_setup_true_lang-xBVAs2BQ.js","chunks/useRequirePin-V8f6W3iF.js","chunks/DashboardLimits--_-wrEQS.js","chunks/empty-list-illustration-D_sMLuvy.js","chunks/DashboardFocus-4OmYCTaJ.js","chunks/AppList.vue_vue_type_script_setup_true_lang-Fne50-yk.js","chunks/FocusModeReasonBanner.vue_vue_type_script_setup_true_lang-kmimbFYN.js","chunks/SfOptionsButton.vue_vue_type_script_setup_true_lang-34L7vER_.js","chunks/useFocusModeStore-bWj63oGD.js","chunks/schedules-jPLYWtFX.js","chunks/ScheduleEntry.vue_vue_type_script_setup_true_lang-CQ3wr36S.js","chunks/timer-ald2Cwco.js","chunks/DashboardSettingsIgnoredApps-ign_cjUW.js","chunks/SettingsBreadcrumbs.vue_vue_type_script_setup_true_lang-R27xMxWb.js","chunks/DashboardSettingsBackupRestore-NYmuOHrq.js","chunks/define-preference-list-rE7W6QAZ.js","chunks/DurationPreference.vue_vue_type_script_setup_true_lang-NHMaeWMZ.js","chunks/DashboardDevices-jzUHVJKV.js","chunks/useRemoveDeviceMutation-zhMNlmXK.js","assets/DashboardDevices-YRhm7_u-.css","chunks/DashboardSettings-9TziwK62.js","chunks/useDebugInfo-LQvHw6QN.js","chunks/useReviewPromptStore-M82eMrYS.js","chunks/window-maximize-z-wQw0f7.js","chunks/DashboardHelp-REsVzLoX.js","chunks/useScheduleCallPromptStore-xaa1QQRy.js","chunks/NotFound-BscF6inz.js","chunks/DashboardLimitsOnTheGo-KpV5uvaf.js","chunks/SidebarContentContainer.vue_vue_type_script_setup_true_lang-rNC_pOgm.js","chunks/DashboardYoutubePlus-qCGaQU4B.js","chunks/open-in-new-WGMeGzGm.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
