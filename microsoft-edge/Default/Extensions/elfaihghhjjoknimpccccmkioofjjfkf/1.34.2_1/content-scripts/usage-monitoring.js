var Tf=Object.defineProperty;var Of=(Oe,Ae,De)=>Ae in Oe?Tf(Oe,Ae,{enumerable:!0,configurable:!0,writable:!0,value:De}):Oe[Ae]=De;var pe=(Oe,Ae,De)=>(Of(Oe,typeof Ae!="symbol"?Ae+"":Ae,De),De),ji=(Oe,Ae,De)=>{if(!Ae.has(Oe))throw TypeError("Cannot "+De)};var V=(Oe,Ae,De)=>(ji(Oe,Ae,"read from private field"),De?De.call(Oe):Ae.get(Oe)),Pe=(Oe,Ae,De)=>{if(Ae.has(Oe))throw TypeError("Cannot add the same private member more than once");Ae instanceof WeakSet?Ae.add(Oe):Ae.set(Oe,De)},Ce=(Oe,Ae,De,jr)=>(ji(Oe,Ae,"write to private field"),jr?jr.call(Oe,De):Ae.set(Oe,De),De);var Kt=(Oe,Ae,De)=>(ji(Oe,Ae,"access private method"),De);(function(){"use strict";var je,Ve,Ct,Se,Re,Ft,sr,Wt,at,ir,tn,Fn,to,Nr,bs,Wn,ro,et,ot,Fe,kr,ar,Zn,Ir,Hn,zn,no,Yn,so;function Oe(...t){}function Ae(...t){pn(t)}function De(...t){pn(t)}function jr(...t){pn(t);const{Bugsnag:e,excludeFuncFromStacktrace:r}=globalThis;e==null||e.notify(Vi(t),n=>{r==null||r(jr)(n),n.severity="warning"})}function Bi(...t){pn(t);const{Bugsnag:e,excludeFuncFromStacktrace:r}=globalThis;e==null||e.notify(Vi(t),n=>{r==null||r(Bi)(n),n.severity="error"})}function pn(t){const{Bugsnag:e}=globalThis;e==null||e.leaveBreadcrumb(typeof t[0]=="string"?t[0]:"(no message)",{args:mn(t)},"log")}function Vi(t){return t.find(e=>e instanceof Error)??io(t)}function io(t){return t.map(e=>ao(e)?String(e):JSON.stringify(mn(e))).join(" ")}function ao(t){return typeof t=="string"||typeof t=="boolean"||typeof t=="number"}function mn(t){return t==null?t:t instanceof Error?{errorClass:t.name,errorMessage:t.message}:typeof t=="function"?"[Function]":Array.isArray(t)?t.map(mn):typeof t=="object"?Object.entries(t).reduce((e,[r,n])=>(e[r]=mn(n),e),{}):t}const oo={debug:Oe,log:Ae,info:De,warn:jr,error:Bi};var Me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $i={exports:{}};(function(t,e){(function(r){t.exports=r()})(function(){var r=["navigation","request","process","log","user","state","error","manual"],n=function(s,o,c){for(var d=c,_=0,w=s.length;_<w;_++)d=o(d,s[_],_,s);return d},i=function(s,o){return n(s,function(c,d,_,w){return o(d,_,w)?c.concat(d):c},[])},a=function(s,o){return n(s,function(c,d,_,w){return c===!0||d===o},!1)},u=function(s){return Object.prototype.toString.call(s)==="[object Array]"},f=!{toString:null}.propertyIsEnumerable("toString"),h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(s){var o=[],c;for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&o.push(c);if(!f)return o;for(var d=0,_=h.length;d<_;d++)Object.prototype.hasOwnProperty.call(s,h[d])&&o.push(h[d]);return o},g=function(s,o){return s===void 0&&(s=1),o===void 0&&(o=1/0),function(c){return typeof c=="number"&&parseInt(""+c,10)===c&&c>=s&&c<=o}},v=function(s){return typeof s=="function"||u(s)&&i(s,function(o){return typeof o=="function"}).length===s.length},p=function(s){return typeof s=="string"&&!!s.length},y={},b=function(){return{unhandledExceptions:!0,unhandledRejections:!0}};y.schema={apiKey:{defaultValue:function(){return null},message:"is required",validate:p},appVersion:{defaultValue:function(){},message:"should be a string",validate:function(s){return s===void 0||p(s)}},appType:{defaultValue:function(){},message:"should be a string",validate:function(s){return s===void 0||p(s)}},autoDetectErrors:{defaultValue:function(){return!0},message:"should be true|false",validate:function(s){return s===!0||s===!1}},enabledErrorTypes:{defaultValue:function(){return b()},message:"should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }",allowPartialObject:!0,validate:function(s){if(typeof s!="object"||!s)return!1;var o=l(s),c=l(b());return!(i(o,function(d){return a(c,d)}).length<o.length||i(l(s),function(d){return typeof s[d]!="boolean"}).length>0)}},onError:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:v},onSession:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:v},onBreadcrumb:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:v},endpoints:{defaultValue:function(){return{notify:"https://notify.bugsnag.com",sessions:"https://sessions.bugsnag.com"}},message:"should be an object containing endpoint URLs { notify, sessions }",validate:function(s){return s&&typeof s=="object"&&p(s.notify)&&p(s.sessions)&&i(l(s),function(o){return!a(["notify","sessions"],o)}).length===0}},autoTrackSessions:{defaultValue:function(s){return!0},message:"should be true|false",validate:function(s){return s===!0||s===!1}},enabledReleaseStages:{defaultValue:function(){return null},message:"should be an array of strings",validate:function(s){return s===null||u(s)&&i(s,function(o){return typeof o=="string"}).length===s.length}},releaseStage:{defaultValue:function(){return"production"},message:"should be a string",validate:function(s){return typeof s=="string"&&s.length}},maxBreadcrumbs:{defaultValue:function(){return 25},message:"should be a number ≤100",validate:function(s){return g(0,100)(s)}},enabledBreadcrumbTypes:{defaultValue:function(){return r},message:"should be null or a list of available breadcrumb types ("+r.join(",")+")",validate:function(s){return s===null||u(s)&&n(s,function(o,c){return o===!1?o:a(r,c)},!0)}},context:{defaultValue:function(){},message:"should be a string",validate:function(s){return s===void 0||typeof s=="string"}},user:{defaultValue:function(){return{}},message:"should be an object with { id, email, name } properties",validate:function(s){return s===null||s&&n(l(s),function(o,c){return o&&a(["id","email","name"],c)},!0)}},metadata:{defaultValue:function(){return{}},message:"should be an object",validate:function(s){return typeof s=="object"&&s!==null}},logger:{defaultValue:function(){},message:"should be null or an object with methods { debug, info, warn, error }",validate:function(s){return!s||s&&n(["debug","info","warn","error"],function(o,c){return o&&typeof s[c]=="function"},!0)}},redactedKeys:{defaultValue:function(){return["password"]},message:"should be an array of strings|regexes",validate:function(s){return u(s)&&s.length===i(s,function(o){return typeof o=="string"||o&&typeof o.test=="function"}).length}},plugins:{defaultValue:function(){return[]},message:"should be an array of plugin objects",validate:function(s){return u(s)&&s.length===i(s,function(o){return o&&typeof o=="object"&&typeof o.load=="function"}).length}},featureFlags:{defaultValue:function(){return[]},message:'should be an array of objects that have a "name" property',validate:function(s){return u(s)&&s.length===i(s,function(o){return o&&typeof o=="object"&&typeof o.name=="string"}).length}}};var m=function(s){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(s[d]=c[d])}return s},x=function(s,o){return n(s,function(c,d,_,w){return c.concat(o(d,_,w))},[])};function O(){return O=Object.assign?Object.assign.bind():function(s){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(s[d]=c[d])}return s},O.apply(this,arguments)}var N=y.schema,A={releaseStage:m({},N.releaseStage,{defaultValue:function(){return/^localhost(:\d+)?$/.test(window.location.host)?"development":"production"}}),appType:O({},N.appType,{defaultValue:function(){return"browser"}}),logger:m({},N.logger,{defaultValue:function(){return typeof console<"u"&&typeof console.debug=="function"?E():void 0}})},E=function(){var s={},o=console.log;return x(["debug","info","warn","error"],function(c){var d=console[c];s[c]=typeof d=="function"?d.bind(console,"[bugsnag]"):o.bind(console,"[bugsnag]")}),s},D=function(){function s(c,d,_,w){w===void 0&&(w=new Date),this.type=_,this.message=c,this.metadata=d,this.timestamp=w}var o=s.prototype;return o.toJSON=function(){return{type:this.type,name:this.message,timestamp:this.timestamp,metaData:this.metadata}},s}(),L=D,z={};(function(s,o){typeof z=="object"?z=o():s.StackFrame=o()})(this,function(){function s(P){return!isNaN(parseFloat(P))&&isFinite(P)}function o(P){return P.charAt(0).toUpperCase()+P.substring(1)}function c(P){return function(){return this[P]}}var d=["isConstructor","isEval","isNative","isToplevel"],_=["columnNumber","lineNumber"],w=["fileName","functionName","source"],T=["args"],C=d.concat(_,w,T);function k(P){if(P instanceof Object)for(var ee=0;ee<C.length;ee++)P.hasOwnProperty(C[ee])&&P[C[ee]]!==void 0&&this["set"+o(C[ee])](P[C[ee]])}k.prototype={getArgs:function(){return this.args},setArgs:function(P){if(Object.prototype.toString.call(P)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=P},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(P){if(P instanceof k)this.evalOrigin=P;else if(P instanceof Object)this.evalOrigin=new k(P);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var P=this.getFunctionName()||"{anonymous}",ee="("+(this.getArgs()||[]).join(",")+")",ue=this.getFileName()?"@"+this.getFileName():"",we=s(this.getLineNumber())?":"+this.getLineNumber():"",X=s(this.getColumnNumber())?":"+this.getColumnNumber():"";return P+ee+ue+we+X}};for(var j=0;j<d.length;j++)k.prototype["get"+o(d[j])]=c(d[j]),k.prototype["set"+o(d[j])]=function(P){return function(ee){this[P]=!!ee}}(d[j]);for(var U=0;U<_.length;U++)k.prototype["get"+o(_[U])]=c(_[U]),k.prototype["set"+o(_[U])]=function(P){return function(ee){if(!s(ee))throw new TypeError(P+" must be a Number");this[P]=Number(ee)}}(_[U]);for(var G=0;G<w.length;G++)k.prototype["get"+o(w[G])]=c(w[G]),k.prototype["set"+o(w[G])]=function(P){return function(ee){this[P]=String(ee)}}(w[G]);return k});var I={};(function(s,o){typeof I=="object"?I=o(z):s.ErrorStackParser=o(s.StackFrame)})(this,function(o){var c=/(^|@)\S+\:\d+/,d=/^\s*at .*(\S+\:\d+|\(native\))/m,_=/^(eval@)?(\[native code\])?$/;return{parse:function(T){if(typeof T.stacktrace<"u"||typeof T["opera#sourceloc"]<"u")return this.parseOpera(T);if(T.stack&&T.stack.match(d))return this.parseV8OrIE(T);if(T.stack)return this.parseFFOrSafari(T);throw new Error("Cannot parse given Error object")},extractLocation:function(T){if(T.indexOf(":")===-1)return[T];var C=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,k=C.exec(T.replace(/[\(\)]/g,""));return[k[1],k[2]||void 0,k[3]||void 0]},parseV8OrIE:function(T){var C=T.stack.split(`
`).filter(function(k){return!!k.match(d)},this);return C.map(function(k){k.indexOf("(eval ")>-1&&(k=k.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var j=k.replace(/^\s+/,"").replace(/\(eval code/g,"("),U=j.match(/ (\((.+):(\d+):(\d+)\)$)/);j=U?j.replace(U[0],""):j;var G=j.split(/\s+/).slice(1),P=this.extractLocation(U?U[1]:G.pop()),ee=G.join(" ")||void 0,ue=["eval","<anonymous>"].indexOf(P[0])>-1?void 0:P[0];return new o({functionName:ee,fileName:ue,lineNumber:P[1],columnNumber:P[2],source:k})},this)},parseFFOrSafari:function(T){var C=T.stack.split(`
`).filter(function(k){return!k.match(_)},this);return C.map(function(k){if(k.indexOf(" > eval")>-1&&(k=k.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),k.indexOf("@")===-1&&k.indexOf(":")===-1)return new o({functionName:k});var j=/((.*".+"[^@]*)?[^@]*)(?:@)/,U=k.match(j),G=U&&U[1]?U[1]:void 0,P=this.extractLocation(k.replace(j,""));return new o({functionName:G,fileName:P[0],lineNumber:P[1],columnNumber:P[2],source:k})},this)},parseOpera:function(T){return!T.stacktrace||T.message.indexOf(`
`)>-1&&T.message.split(`
`).length>T.stacktrace.split(`
`).length?this.parseOpera9(T):T.stack?this.parseOpera11(T):this.parseOpera10(T)},parseOpera9:function(T){for(var C=/Line (\d+).*script (?:in )?(\S+)/i,k=T.message.split(`
`),j=[],U=2,G=k.length;U<G;U+=2){var P=C.exec(k[U]);P&&j.push(new o({fileName:P[2],lineNumber:P[1],source:k[U]}))}return j},parseOpera10:function(T){for(var C=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,k=T.stacktrace.split(`
`),j=[],U=0,G=k.length;U<G;U+=2){var P=C.exec(k[U]);P&&j.push(new o({functionName:P[3]||void 0,fileName:P[2],lineNumber:P[1],source:k[U]}))}return j},parseOpera11:function(T){var C=T.stack.split(`
`).filter(function(k){return!!k.match(c)&&!k.match(/^Error created at/)},this);return C.map(function(k){var j=k.split("@"),U=this.extractLocation(j.pop()),G=j.shift()||"",P=G.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0,ee;G.match(/\(([^\)]*)\)/)&&(ee=G.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var ue=ee===void 0||ee==="[arguments not available]"?void 0:ee.split(",");return new o({functionName:P,args:ue,fileName:U[0],lineNumber:U[1],columnNumber:U[2],source:k})},this)}}});var R=I,H=function(s,o,c,d){var _=d&&d.redactedKeys?d.redactedKeys:[],w=d&&d.redactedPaths?d.redactedPaths:[];return JSON.stringify(Ie(s,_,w),o,c)},ne=20,me=25e3,F=8,W="...";function S(s){return s instanceof Error||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(s))}function M(s){return"[Throws: "+(s?s.message:"?")+"]"}function B(s,o){for(var c=0,d=s.length;c<d;c++)if(s[c]===o)return!0;return!1}function Q(s,o){for(var c=0,d=s.length;c<d;c++)if(o.indexOf(s[c])===0)return!0;return!1}function q(s,o){for(var c=0,d=s.length;c<d;c++)if(typeof s[c]=="string"&&s[c].toLowerCase()===o.toLowerCase()||s[c]&&typeof s[c].test=="function"&&s[c].test(o))return!0;return!1}function oe(s){return Object.prototype.toString.call(s)==="[object Array]"}function re(s,o){try{return s[o]}catch(c){return M(c)}}function Ie(s,o,c){var d=[],_=0;function w(T,C){function k(){return C.length>F&&_>me}if(_++,C.length>ne||k())return W;if(T===null||typeof T!="object")return T;if(B(d,T))return"[Circular]";if(d.push(T),typeof T.toJSON=="function")try{_--;var j=w(T.toJSON(),C);return d.pop(),j}catch(le){return M(le)}var U=S(T);if(U){_--;var G=w({name:T.name,message:T.message},C);return d.pop(),G}if(oe(T)){for(var P=[],ee=0,ue=T.length;ee<ue;ee++){if(k()){P.push(W);break}P.push(w(T[ee],C.concat("[]")))}return d.pop(),P}var we={};try{for(var X in T)if(Object.prototype.hasOwnProperty.call(T,X)){if(Q(c,C.join("."))&&q(o,X)){we[X]="[REDACTED]";continue}if(k()){we[X]=W;break}we[X]=w(re(T,X),C.concat(X))}}catch{}return d.pop(),we}return w(s,[])}function tt(s,o,c,d){if(typeof c=="string"){d===void 0?d=null:d!==null&&typeof d!="string"&&(d=H(d));var _=o[c];if(typeof _=="number"){s[_]={name:c,variant:d};return}s.push({name:c,variant:d}),o[c]=s.length-1}}function ut(s,o,c){if(u(o)){for(var d=0;d<o.length;++d){var _=o[d];_===null||typeof _!="object"||tt(s,c,_.name,_.variant)}return s}}function ye(s){return x(i(s,Boolean),function(o){var c=o.name,d=o.variant,_={featureFlag:c};return typeof d=="string"&&(_.variant=d),_})}function ct(s,o,c){var d=o[c];typeof d=="number"&&(s[d]=null,delete o[c])}var rt={add:tt,clear:ct,merge:ut,toEventApi:ye},We=function(s){return!!s&&(!!s.stack||!!s.stacktrace||!!s["opera#sourceloc"])&&typeof(s.stack||s.stacktrace||s["opera#sourceloc"])=="string"&&s.stack!==s.name+": "+s.message},or=ur;function ur(s){switch(Object.prototype.toString.call(s)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return s instanceof Error}}var Dt=or,Et=function(s,o,c,d){var _;if(o){var w;if(c===null)return mt(s,o);typeof c=="object"&&(w=c),typeof c=="string"&&(w=(_={},_[c]=d,_)),w&&(s[o]||(s[o]={}),s[o]=m({},s[o],w))}},cr=function(s,o,c){if(typeof o=="string"){if(!c)return s[o];if(s[o])return s[o][c]}},mt=function(s,o,c){if(typeof o=="string"){if(!c){delete s[o];return}s[o]&&delete s[o][c]}},St={add:Et,get:cr,clear:mt},Mt={};(function(s,o){typeof Mt=="object"?Mt=o(z):s.StackGenerator=o(s.StackFrame)})(this,function(s){return{backtrace:function(c){var d=[],_=10;typeof c=="object"&&typeof c.maxStackSize=="number"&&(_=c.maxStackSize);for(var w=arguments.callee;w&&d.length<_&&w.arguments;){for(var T=new Array(w.arguments.length),C=0;C<T.length;++C)T[C]=w.arguments[C];/function(?:\s+([\w$]+))+\s*\(/.test(w.toString())?d.push(new s({functionName:RegExp.$1||void 0,args:T})):d.push(new s({args:T}));try{w=w.caller}catch{break}}return d}}});var Ye=function(){function s(c,d,_,w,T){_===void 0&&(_=[]),w===void 0&&(w=Cr()),this.apiKey=void 0,this.context=void 0,this.groupingHash=void 0,this.originalError=T,this._handledState=w,this.severity=this._handledState.severity,this.unhandled=this._handledState.unhandled,this.app={},this.device={},this.request={},this.breadcrumbs=[],this.threads=[],this._metadata={},this._features=[],this._featuresIndex={},this._user={},this._session=void 0,this.errors=[Ge(c,d,s.__type,_)]}var o=s.prototype;return o.addMetadata=function(d,_,w){return St.add(this._metadata,d,_,w)},o.getMetadata=function(d,_){return St.get(this._metadata,d,_)},o.clearMetadata=function(d,_){return St.clear(this._metadata,d,_)},o.addFeatureFlag=function(d,_){_===void 0&&(_=null),rt.add(this._features,this._featuresIndex,d,_)},o.addFeatureFlags=function(d){rt.merge(this._features,d,this._featuresIndex)},o.getFeatureFlags=function(){return rt.toEventApi(this._features)},o.clearFeatureFlag=function(d){rt.clear(this._features,this._featuresIndex,d)},o.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},o.getUser=function(){return this._user},o.setUser=function(d,_,w){this._user={id:d,email:_,name:w}},o.toJSON=function(){return{payloadVersion:"4",exceptions:x(this.errors,function(d){return m({},d,{message:d.errorMessage})}),severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,request:this.request,breadcrumbs:this.breadcrumbs,context:this.context,groupingHash:this.groupingHash,metaData:this._metadata,user:this._user,session:this._session,featureFlags:this.getFeatureFlags()}},s}(),lr=function(s){var o={file:s.fileName,method:rn(s.functionName),lineNumber:s.lineNumber,columnNumber:s.columnNumber,code:void 0,inProject:void 0};return o.lineNumber>-1&&!o.file&&!o.method&&(o.file="global code"),o},rn=function(s){return/^global code$/i.test(s)?"global code":s},Cr=function(){return{unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}},dr=function(s){return typeof s=="string"?s:""};function Ge(s,o,c,d){return{errorClass:dr(s),errorMessage:dr(o),type:c,stacktrace:n(d,function(_,w){var T=lr(w);try{return JSON.stringify(T)==="{}"?_:_.concat(T)}catch{return _}},[])}}function yt(s){return s.cause?[s].concat(yt(s.cause)):[s]}Ye.getStacktrace=function(s,o,c){if(We(s))return R.parse(s).slice(o);try{return i(Mt.backtrace(),function(d){return(d.functionName||"").indexOf("StackGenerator$$")===-1}).slice(1+c)}catch{return[]}},Ye.create=function(s,o,c,d,_,w){_===void 0&&(_=0);var T=he(s,o,d,w),C=T[0],k=T[1],j;try{var U=Ye.getStacktrace(C,k>0?1+k+_:0,1+_);j=new Ye(C.name,C.message,U,c,s)}catch{j=new Ye(C.name,C.message,[],c,s)}if(C.name==="InvalidError"&&j.addMetadata(""+d,"non-error parameter",Rt(s)),C.cause){var G,P=yt(C).slice(1),ee=x(P,function(ue){var we=Dt(ue)&&We(ue)?R.parse(ue):[],X=he(ue,!0,"error cause"),le=X[0];return le.name==="InvalidError"&&j.addMetadata("error cause",Rt(ue)),Ge(le.name,le.message,Ye.__type,we)});(G=j.errors).push.apply(G,ee)}return j};var Rt=function(s){return s===null?"null":s===void 0?"undefined":s},he=function(s,o,c,d){var _,w=0,T=function(C){var k=c==="error cause"?"was":"received";d&&d.warn(c+" "+k+' a non-error: "'+C+'"');var j=new Error(c+" "+k+' a non-error. See "'+c+'" tab for more detail.');return j.name="InvalidError",j};if(!o)Dt(s)?_=s:(_=T(typeof s),w+=2);else switch(typeof s){case"string":case"number":case"boolean":_=new Error(String(s)),w+=1;break;case"function":_=T("function"),w+=2;break;case"object":s!==null&&Dt(s)?_=s:s!==null&&ve(s)?(_=new Error(s.message||s.errorMessage),_.name=s.name||s.errorClass,w+=1):(_=T(s===null?"null":"unsupported object"),w+=2);break;default:_=T("nothing"),w+=2}if(!We(_))try{throw _}catch(C){We(C)&&(_=C,w=1)}return[_,w]};Ye.__type="browserjs";var ve=function(s){return(typeof s.name=="string"||typeof s.errorClass=="string")&&(typeof s.message=="string"||typeof s.errorMessage=="string")},se=Ye,be=function(s,o,c){var d=0,_=function(){if(d>=s.length)return c(null,!0);o(s[d],function(w,T){if(w)return c(w);if(T===!1)return c(null,!1);d++,_()})};_()},nt=function(s,o,c,d){var _=function(w,T){if(typeof w!="function")return T(null);try{if(w.length!==2){var C=w(o);return C&&typeof C.then=="function"?C.then(function(k){return setTimeout(function(){return T(null,k)})},function(k){setTimeout(function(){return c(k),T(null,!0)})}):T(null,C)}w(o,function(k,j){if(k)return c(k),T(null);T(null,j)})}catch(k){c(k),T(null)}};be(s,_,d)},Te=function(s,o,c,d){for(var _=!1,w=s.slice();!_&&w.length;)try{_=w.pop()(o)===!1}catch(T){d.error("Error occurred in "+c+" callback, continuing anyway…"),d.error(T)}return _},ge=function(o,c){var d="000000000"+o;return d.substr(d.length-c)},ie=typeof window=="object"?window:self,Xe=0;for(var Zt in ie)Object.hasOwnProperty.call(ie,Zt)&&Xe++;var Lt=navigator.mimeTypes?navigator.mimeTypes.length:0,Gn=ge((Lt+navigator.userAgent.length).toString(36)+Xe.toString(36),4),nn=function(){return Gn},fr=0,vt=4,hr=36,Kn=Math.pow(hr,vt);function qn(){return ge((Math.random()*Kn<<0).toString(hr),vt)}function sn(){return fr=fr<Kn?fr:0,fr++,fr-1}function Ht(){var s="c",o=new Date().getTime().toString(hr),c=ge(sn().toString(hr),vt),d=nn(),_=qn()+qn();return s+o+c+d+_}Ht.fingerprint=nn;var an=Ht,on=function(){function s(){this.id=an(),this.startedAt=new Date,this._handled=0,this._unhandled=0,this._user={},this.app={},this.device={}}var o=s.prototype;return o.getUser=function(){return this._user},o.setUser=function(d,_,w){this._user={id:d,email:_,name:w}},o.toJSON=function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},o._track=function(d){this[d._handledState.unhandled?"_unhandled":"_handled"]+=1},s}(),gr=on,pr=rt.add,gi=rt.clear,un=rt.merge,Tt=function(){},pi=function(){function s(c,d,_,w){var T=this;d===void 0&&(d=y.schema),_===void 0&&(_=[]),this._notifier=w,this._config={},this._schema=d,this._delivery={sendSession:Tt,sendEvent:Tt},this._logger={debug:Tt,info:Tt,warn:Tt,error:Tt},this._plugins={},this._breadcrumbs=[],this._session=null,this._metadata={},this._featuresIndex={},this._features=[],this._context=void 0,this._user={},this._cbs={e:[],s:[],sp:[],b:[]},this.Client=s,this.Event=se,this.Breadcrumb=L,this.Session=gr,this._config=this._configure(c,_),x(_.concat(this._config.plugins),function(j){j&&T._loadPlugin(j)}),this._depth=1;var C=this,k=this.notify;this.notify=function(){return k.apply(C,arguments)}}var o=s.prototype;return o.addMetadata=function(d,_,w){return St.add(this._metadata,d,_,w)},o.getMetadata=function(d,_){return St.get(this._metadata,d,_)},o.clearMetadata=function(d,_){return St.clear(this._metadata,d,_)},o.addFeatureFlag=function(d,_){_===void 0&&(_=null),pr(this._features,this._featuresIndex,d,_)},o.addFeatureFlags=function(d){un(this._features,d,this._featuresIndex)},o.clearFeatureFlag=function(d){gi(this._features,this._featuresIndex,d)},o.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},o.getContext=function(){return this._context},o.setContext=function(d){this._context=d},o._configure=function(d,_){var w=n(_,function(j,U){return U&&U.configSchema?m({},j,U.configSchema):j},this._schema),T=n(l(w),function(j,U){var G=w[U].defaultValue(d[U]);if(d[U]!==void 0){var P=w[U].validate(d[U]);P?w[U].allowPartialObject?j.config[U]=m(G,d[U]):j.config[U]=d[U]:(j.errors[U]=w[U].message,j.config[U]=G)}else j.config[U]=G;return j},{errors:{},config:{}}),C=T.errors,k=T.config;if(w.apiKey){if(!k.apiKey)throw new Error("No Bugsnag API Key set");/^[0-9a-f]{32}$/i.test(k.apiKey)||(C.apiKey="should be a string of 32 hexadecimal characters")}return this._metadata=m({},k.metadata),un(this._features,k.featureFlags,this._featuresIndex),this._user=m({},k.user),this._context=k.context,k.logger&&(this._logger=k.logger),k.onError&&(this._cbs.e=this._cbs.e.concat(k.onError)),k.onBreadcrumb&&(this._cbs.b=this._cbs.b.concat(k.onBreadcrumb)),k.onSession&&(this._cbs.s=this._cbs.s.concat(k.onSession)),l(C).length&&this._logger.warn(mi(C,d)),k},o.getUser=function(){return this._user},o.setUser=function(d,_,w){this._user={id:d,email:_,name:w}},o._loadPlugin=function(d){var _=d.load(this);return d.name&&(this._plugins["~"+d.name+"~"]=_),this},o.getPlugin=function(d){return this._plugins["~"+d+"~"]},o._setDelivery=function(d){this._delivery=d(this)},o.startSession=function(){var d=new gr;d.app.releaseStage=this._config.releaseStage,d.app.version=this._config.appVersion,d.app.type=this._config.appType,d._user=m({},this._user);var _=Te(this._cbs.s,d,"onSession",this._logger);return _?(this._logger.debug("Session not started due to onSession callback"),this):this._sessionDelegate.startSession(this,d)},o.addOnError=function(d,_){_===void 0&&(_=!1),this._cbs.e[_?"unshift":"push"](d)},o.removeOnError=function(d){this._cbs.e=i(this._cbs.e,function(_){return _!==d})},o._addOnSessionPayload=function(d){this._cbs.sp.push(d)},o.addOnSession=function(d){this._cbs.s.push(d)},o.removeOnSession=function(d){this._cbs.s=i(this._cbs.s,function(_){return _!==d})},o.addOnBreadcrumb=function(d,_){_===void 0&&(_=!1),this._cbs.b[_?"unshift":"push"](d)},o.removeOnBreadcrumb=function(d){this._cbs.b=i(this._cbs.b,function(_){return _!==d})},o.pauseSession=function(){return this._sessionDelegate.pauseSession(this)},o.resumeSession=function(){return this._sessionDelegate.resumeSession(this)},o.leaveBreadcrumb=function(d,_,w){if(d=typeof d=="string"?d:"",w=typeof w=="string"&&a(r,w)?w:"manual",_=typeof _=="object"&&_!==null?_:{},!!d){var T=new L(d,_,w),C=Te(this._cbs.b,T,"onBreadcrumb",this._logger);if(C){this._logger.debug("Breadcrumb not attached due to onBreadcrumb callback");return}this._breadcrumbs.push(T),this._breadcrumbs.length>this._config.maxBreadcrumbs&&(this._breadcrumbs=this._breadcrumbs.slice(this._breadcrumbs.length-this._config.maxBreadcrumbs))}},o._isBreadcrumbTypeEnabled=function(d){var _=this._config.enabledBreadcrumbTypes;return _===null||a(_,d)},o.notify=function(d,_,w){w===void 0&&(w=Tt);var T=se.create(d,!0,void 0,"notify()",this._depth+1,this._logger);this._notify(T,_,w)},o._notify=function(d,_,w){var T=this;if(w===void 0&&(w=Tt),d.app=m({},d.app,{releaseStage:this._config.releaseStage,version:this._config.appVersion,type:this._config.appType}),d.context=d.context||this._context,d._metadata=m({},d._metadata,this._metadata),d._user=m({},d._user,this._user),d.breadcrumbs=this._breadcrumbs.slice(),un(d._features,this._features,d._featuresIndex),this._config.enabledReleaseStages!==null&&!a(this._config.enabledReleaseStages,this._config.releaseStage))return this._logger.warn("Event not sent due to releaseStage/enabledReleaseStages configuration"),w(null,d);var C=d.severity,k=function(U){T._logger.error("Error occurred in onError callback, continuing anyway…"),T._logger.error(U)},j=[].concat(this._cbs.e).concat(_);nt(j,d,k,function(U,G){if(U&&k(U),!G)return T._logger.debug("Event not sent due to onError callback"),w(null,d);T._isBreadcrumbTypeEnabled("error")&&s.prototype.leaveBreadcrumb.call(T,d.errors[0].errorClass,{errorClass:d.errors[0].errorClass,errorMessage:d.errors[0].errorMessage,severity:d.severity},"error"),C!==d.severity&&(d._handledState.severityReason={type:"userCallbackSetSeverity"}),d.unhandled!==d._handledState.unhandled&&(d._handledState.severityReason.unhandledOverridden=!0,d._handledState.unhandled=d.unhandled),T._session&&(T._session._track(d),d._session=T._session),T._delivery.sendEvent({apiKey:d.apiKey||T._config.apiKey,notifier:T._notifier,events:[d]},function(P){return w(P,d)})})},s}(),mi=function(s,o){var c=new Error(`Invalid configuration
`+x(l(s),function(d){return"  - "+d+" "+s[d]+", got "+Xn(o[d])}).join(`

`));return c},Xn=function(s){switch(typeof s){case"string":case"number":case"object":return JSON.stringify(s);default:return String(s)}},mr=pi,Qe={},Jn=["events.[].metaData","events.[].breadcrumbs.[].metaData","events.[].request"];Qe.event=function(s,o){var c=H(s,null,null,{redactedPaths:Jn,redactedKeys:o});return c.length>1e6&&(s.events[0]._metadata={notifier:`WARNING!
Serialized payload was `+c.length/1e6+`MB (limit = 1MB)
metadata was removed`},c=H(s,null,null,{redactedPaths:Jn,redactedKeys:o})),c},Qe.session=function(s,o){var c=H(s,null,null);return c};var cn={};cn=function(s,o){return o===void 0&&(o=window),{sendEvent:function(c,d){d===void 0&&(d=function(){});var _=Qn(s._config,"notify","4",o),w=Qe.event(c,s._config.redactedKeys),T=new o.XDomainRequest;T.onload=function(){d(null)},T.onerror=function(){var C=new Error("Event failed to send");s._logger.error("Event failed to send…",C),w.length>1e6&&s._logger.warn("Event oversized ("+(w.length/1e6).toFixed(2)+" MB)"),d(C)},T.open("POST",_),setTimeout(function(){try{T.send(w)}catch(C){s._logger.error(C),d(C)}},0)},sendSession:function(c,d){d===void 0&&(d=function(){});var _=Qn(s._config,"sessions","1",o),w=new o.XDomainRequest;w.onload=function(){d(null)},w.open("POST",_),setTimeout(function(){try{w.send(Qe.session(c,s._config.redactedKeys))}catch(T){s._logger.error(T),d(T)}},0)}}};var Qn=function(s,o,c,d){var _=JSON.parse(JSON.stringify(new Date)),w=yi(s.endpoints[o],d.location.protocol);return w+"?apiKey="+encodeURIComponent(s.apiKey)+"&payloadVersion="+c+"&sentAt="+encodeURIComponent(_)},yi=cn._matchPageProtocol=function(s,o){return o==="http:"?s.replace(/^https:/,"http:"):s},vi=function(s,o){return o===void 0&&(o=window),{sendEvent:function(c,d){d===void 0&&(d=function(){});try{var _=s._config.endpoints.notify,w=new o.XMLHttpRequest,T=Qe.event(c,s._config.redactedKeys);w.onreadystatechange=function(){if(w.readyState===o.XMLHttpRequest.DONE){var C=w.status;if(C===0||C>=400){var k=new Error("Request failed with status "+C);s._logger.error("Event failed to send…",k),T.length>1e6&&s._logger.warn("Event oversized ("+(T.length/1e6).toFixed(2)+" MB)"),d(k)}else d(null)}},w.open("POST",_),w.setRequestHeader("Content-Type","application/json"),w.setRequestHeader("Bugsnag-Api-Key",c.apiKey||s._config.apiKey),w.setRequestHeader("Bugsnag-Payload-Version","4"),w.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),w.send(T)}catch(C){s._logger.error(C)}},sendSession:function(c,d){d===void 0&&(d=function(){});try{var _=s._config.endpoints.sessions,w=new o.XMLHttpRequest;w.onreadystatechange=function(){if(w.readyState===o.XMLHttpRequest.DONE){var T=w.status;if(T===0||T>=400){var C=new Error("Request failed with status "+T);s._logger.error("Session failed to send…",C),d(C)}else d(null)}},w.open("POST",_),w.setRequestHeader("Content-Type","application/json"),w.setRequestHeader("Bugsnag-Api-Key",s._config.apiKey),w.setRequestHeader("Bugsnag-Payload-Version","1"),w.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),w.send(Qe.session(c,s._config.redactedKeys))}catch(T){s._logger.error(T)}}}},lt=new Date,_i=function(){lt=new Date},bi={name:"appDuration",load:function(s){return s.addOnError(function(o){var c=new Date;o.app.duration=c-lt},!0),{reset:_i}}},wi=function(s){return s===void 0&&(s=window),{load:function(o){o.addOnError(function(c){c.context===void 0&&(c.context=s.location.pathname)},!0)}}},ln=function(o,c){var d="000000000"+o;return d.substr(d.length-c)},es=typeof window=="object"?window:self,Ot=0;for(var Ai in es)Object.hasOwnProperty.call(es,Ai)&&Ot++;var xi=navigator.mimeTypes?navigator.mimeTypes.length:0,Ei=ln((xi+navigator.userAgent.length).toString(36)+Ot.toString(36),4),ts=function(){return Ei},yr=0,zt=4,Dr=36,rs=Math.pow(Dr,zt);function _t(){return ln((Math.random()*rs<<0).toString(Dr),zt)}function Si(){return yr=yr<rs?yr:0,yr++,yr-1}function ns(){var s="c",o=new Date().getTime().toString(Dr),c=ln(Si().toString(Dr),zt),d=ts(),_=_t()+_t();return s+o+c+d+_}ns.fingerprint=ts;var Ti=ns,ss="bugsnag-anonymous-id",Oi=function(s){try{var o=s.localStorage,c=o.getItem(ss);return c&&/^c[a-z0-9]{20,32}$/.test(c)||(c=Ti(),o.setItem(ss,c)),c}catch{}},Ni=function(s,o){return s===void 0&&(s=navigator),o===void 0&&(o=window),{load:function(c){var d={locale:s.browserLanguage||s.systemLanguage||s.userLanguage||s.language,userAgent:s.userAgent};o&&o.screen&&o.screen.orientation&&o.screen.orientation.type?d.orientation=o.screen.orientation.type:o&&o.document&&(d.orientation=o.document.documentElement.clientWidth>o.document.documentElement.clientHeight?"landscape":"portrait"),c._config.generateAnonymousId&&(d.id=Oi(o)),c.addOnSession(function(_){_.device=m({},_.device,d),c._config.collectUserIp||vr(_)}),c.addOnError(function(_){_.device=m({},_.device,d,{time:new Date}),c._config.collectUserIp||vr(_)},!0)},configSchema:{generateAnonymousId:{validate:function(c){return c===!0||c===!1},defaultValue:function(){return!0},message:"should be true|false"}}}},vr=function(s){var o=s.getUser();(!o||!o.id)&&s.setUser(s.device.id)},ki=function(s){return s===void 0&&(s=window),{load:function(o){o.addOnError(function(c){c.request&&c.request.url||(c.request=m({},c.request,{url:s.location.href}))},!0)}}},_r={load:function(s){s._sessionDelegate=is}},is={startSession:function(s,o){var c=s;return c._session=o,c._pausedSession=null,c._config.enabledReleaseStages!==null&&!a(c._config.enabledReleaseStages,c._config.releaseStage)?(c._logger.warn("Session not sent due to releaseStage/enabledReleaseStages configuration"),c):(c._delivery.sendSession({notifier:c._notifier,device:o.device,app:o.app,sessions:[{id:o.id,startedAt:o.startedAt,user:o._user}]}),c)},resumeSession:function(s){return s._session?s:s._pausedSession?(s._session=s._pausedSession,s._pausedSession=null,s):s.startSession()},pauseSession:function(s){s._pausedSession=s._session,s._session=null}},as={load:function(s){s._config.collectUserIp||s.addOnError(function(o){o._user&&typeof o._user.id>"u"&&delete o._user.id,o._user=m({id:"[REDACTED]"},o._user),o.request=m({clientIp:"[REDACTED]"},o.request)})},configSchema:{collectUserIp:{defaultValue:function(){return!0},message:"should be true|false",validate:function(s){return s===!0||s===!1}}}},os={};os.load=function(s){var o=/^(local-)?dev(elopment)?$/.test(s._config.releaseStage);o||!s._isBreadcrumbTypeEnabled("log")||x(Ii,function(c){var d=console[c];console[c]=function(){for(var _=arguments.length,w=new Array(_),T=0;T<_;T++)w[T]=arguments[T];s.leaveBreadcrumb("Console output",n(w,function(C,k,j){var U="[Unknown value]";try{U=String(k)}catch{}if(U==="[object Object]")try{U=JSON.stringify(k)}catch{}return C["["+j+"]"]=U,C},{severity:c.indexOf("group")===0?"log":c}),"log"),d.apply(console,w)},console[c]._restore=function(){console[c]=d}})};var Ii=i(["log","debug","info","warn","error"],function(s){return typeof console<"u"&&typeof console[s]=="function"}),us=200,cs=5e5,ls=function(s,o){return s===void 0&&(s=document),o===void 0&&(o=window),{load:function(c){if(!c._config.trackInlineScripts)return;var d=o.location.href,_="",w=!!s.attachEvent,T=w?s.readyState==="complete":s.readyState!=="loading",C=function(){return s.documentElement.outerHTML};_=C();var k=s.onreadystatechange;s.onreadystatechange=function(){s.readyState==="interactive"&&(_=C(),T=!0);try{k.apply(this,arguments)}catch{}};var j=null,U=function(X){j=X},G=function(){var X=s.currentScript||j;if(!X&&!T){var le=s.scripts||s.getElementsByTagName("script");X=le[le.length-1]}return X},P=function(X){(!T||!_)&&(_=C());var le=["<!-- DOC START -->"].concat(_.split(`
`)),Le=X-1,ke=Math.max(Le-3,0),Be=Math.min(Le+3,le.length);return n(le.slice(ke,Be),function(Je,gn,Pi){return Je[ke+1+Pi]=gn.length<=us?gn:gn.substr(0,us),Je},{})};c.addOnError(function(X){X.errors[0].stacktrace=i(X.errors[0].stacktrace,function(Je){return!/__trace__$/.test(Je.method)});var le=X.errors[0].stacktrace[0],Le=function(Je){return Je.replace(/#.*$/,"").replace(/\?.*$/,"")};if(!(le&&le.file&&Le(le.file)!==Le(d))){var ke=G();if(ke){var Be=ke.innerHTML;X.addMetadata("script","content",Be.length<=cs?Be:Be.substr(0,cs)),le&&le.lineNumber&&(le.code=P(le.lineNumber))}}},!0);var ee=x(["setTimeout","setInterval","setImmediate","requestAnimationFrame"],function(X){return dn(o,X,function(le){return we(le,function(Le){return{get:function(){return Le[0]},replace:function(ke){Le[0]=ke}}})})}),ue=ee[0];x(["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],function(X){!o[X]||!o[X].prototype||!Object.prototype.hasOwnProperty.call(o[X].prototype,"addEventListener")||(dn(o[X].prototype,"addEventListener",function(le){return we(le,ds)}),dn(o[X].prototype,"removeEventListener",function(le){return we(le,ds,!0)}))});function we(X,le,Le){return Le===void 0&&(Le=!1),function(){var ke=[].slice.call(arguments);try{var Be=le(ke),Je=Be.get();if(Le&&X.apply(this,ke),typeof Je!="function")return X.apply(this,ke);if(Je.__trace__)Be.replace(Je.__trace__);else{var gn=G();Je.__trace__=function(){U(gn),ue(function(){U(null)},0);var Sf=Je.apply(this,arguments);return U(null),Sf},Je.__trace__.__trace__=Je.__trace__,Be.replace(Je.__trace__)}}catch{}if(X.apply)return X.apply(this,ke);switch(ke.length){case 1:return X(ke[0]);case 2:return X(ke[0],ke[1]);default:return X()}}}},configSchema:{trackInlineScripts:{validate:function(c){return c===!0||c===!1},defaultValue:function(){return!0},message:"should be true|false"}}}};function dn(s,o,c){var d=s[o];if(!d)return d;var _=c(d);return s[o]=_,d}function ds(s){var o=!!s[1]&&typeof s[1].handleEvent=="function";return{get:function(){return o?s[1].handleEvent:s[1]},replace:function(c){o?s[1].handleEvent=c:s[1]=c}}}var fs=function(s){return s===void 0&&(s=window),{load:function(o){"addEventListener"in s&&o._isBreadcrumbTypeEnabled("user")&&s.addEventListener("click",function(c){var d,_;try{d=Ci(c.target),_=hs(c.target,s)}catch{d="[hidden]",_="[hidden]",o._logger.error("Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z")}o.leaveBreadcrumb("UI click",{targetText:d,targetSelector:_},"user")},!0)}}},Mr=/^\s+/,Yt=/(^|[^\s])\s+$/;function Ci(s){var o=s.textContent||s.innerText||"";return!o&&(s.type==="submit"||s.type==="button")&&(o=s.value),o=o.replace(Mr,"").replace(Yt,"$1"),o.length>140?o.slice(0,135)+"(...)":o}function hs(s,o){var c=[s.tagName];if(s.id&&c.push("#"+s.id),s.className&&s.className.length&&c.push("."+s.className.split(" ").join(".")),!o.document.querySelectorAll||!Array.prototype.indexOf)return c.join("");try{if(o.document.querySelectorAll(c.join("")).length===1)return c.join("")}catch{return c.join("")}if(s.parentNode.childNodes.length>1){var d=Array.prototype.indexOf.call(s.parentNode.childNodes,s)+1;c.push(":nth-child("+d+")")}return o.document.querySelectorAll(c.join("")).length===1?c.join(""):s.parentNode?hs(s.parentNode,o)+" > "+c.join(""):c.join("")}var bt={};bt=function(s){s===void 0&&(s=window);var o={load:function(c){if("addEventListener"in s&&c._isBreadcrumbTypeEnabled("navigation")){var d=function(_){return function(){return c.leaveBreadcrumb(_,{},"navigation")}};s.addEventListener("pagehide",d("Page hidden"),!0),s.addEventListener("pageshow",d("Page shown"),!0),s.addEventListener("load",d("Page loaded"),!0),s.document.addEventListener("DOMContentLoaded",d("DOMContentLoaded"),!0),s.addEventListener("load",function(){return s.addEventListener("popstate",d("Navigated back"),!0)}),s.addEventListener("hashchange",function(_){var w=_.oldURL?{from:Rr(_.oldURL,s),to:Rr(_.newURL,s),state:ps(s)}:{to:Rr(s.location.href,s)};c.leaveBreadcrumb("Hash changed",w,"navigation")},!0),s.history.replaceState&&gs(c,s.history,"replaceState",s),s.history.pushState&&gs(c,s.history,"pushState",s)}}};return o};var Rr=function(s,o){var c=o.document.createElement("A");return c.href=s,""+c.pathname+c.search+c.hash},Di=function(s,o,c,d){var _=Rr(s.location.href,s);return{title:c,state:o,prevState:ps(s),to:d||_,from:_}},gs=function(s,o,c,d){var _=o[c];o[c]=function(w,T,C){s.leaveBreadcrumb("History "+c,Di(d,w,T,C),"navigation"),typeof s.resetEventCount=="function"&&s.resetEventCount(),s._config.autoTrackSessions&&s.startSession(),_.apply(o,[w,T].concat(C!==void 0?C:[]))}},ps=function(s){try{return s.history.state}catch{}},Gt="request",Pt=function(s,o){s===void 0&&(s=[]),o===void 0&&(o=window);var c={load:function(d){if(!d._isBreadcrumbTypeEnabled("request"))return;var _=[d._config.endpoints.notify,d._config.endpoints.sessions].concat(s);w(),k();function w(){if("addEventListener"in o.XMLHttpRequest.prototype){var G=o.XMLHttpRequest.prototype.open;o.XMLHttpRequest.prototype.open=function(ee,ue){var we=this,X=!1,le=function(){return C(ee,ue)},Le=function(){return T(ee,ue,we.status)};X&&(this.removeEventListener("load",Le),this.removeEventListener("error",le)),this.addEventListener("load",Le),this.addEventListener("error",le),X=!0,G.apply(this,arguments)}}}function T(G,P,ee){if(P===void 0){d._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}if(!(typeof P=="string"&&a(_,P.replace(/\?.*$/,"")))){var ue={status:ee,request:G+" "+P};ee>=400?d.leaveBreadcrumb("XMLHttpRequest failed",ue,Gt):d.leaveBreadcrumb("XMLHttpRequest succeeded",ue,Gt)}}function C(G,P){if(P===void 0){d._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");return}typeof P=="string"&&a(_,P.replace(/\?.*$/,""))||d.leaveBreadcrumb("XMLHttpRequest error",{request:G+" "+P},Gt)}function k(){if(!(!("fetch"in o)||o.fetch.polyfill)){var G=o.fetch;o.fetch=function(){var ee=arguments,ue=arguments[0],we=arguments[1],X,le=null;return ue&&typeof ue=="object"?(le=ue.url,we&&"method"in we?X=we.method:ue&&"method"in ue&&(X=ue.method)):(le=ue,we&&"method"in we&&(X=we.method)),X===void 0&&(X="GET"),new Promise(function(Le,ke){G.apply(void 0,ee).then(function(Be){j(Be,X,le),Le(Be)}).catch(function(Be){U(X,le),ke(Be)})})}}}var j=function(G,P,ee){var ue={status:G.status,request:P+" "+ee};G.status>=400?d.leaveBreadcrumb("fetch() failed",ue,Gt):d.leaveBreadcrumb("fetch() succeeded",ue,Gt)},U=function(G,P){d.leaveBreadcrumb("fetch() error",{request:G+" "+P},Gt)}}};return c},ms={load:function(s){var o=0;s.addOnError(function(c){if(o>=s._config.maxEvents)return s._logger.warn("Cancelling event send due to maxEvents per session limit of "+s._config.maxEvents+" being reached"),!1;o++}),s.resetEventCount=function(){o=0}},configSchema:{maxEvents:{defaultValue:function(){return 10},message:"should be a positive integer ≤100",validate:function(s){return g(1,100)(s)}}}},fn={};fn={load:function(s){s.addOnError(function(o){var c=n(o.errors,function(d,_){return d.concat(_.stacktrace)},[]);x(c,function(d){d.file=Lr(d.file)})})}};var Lr=fn._strip=function(s){return typeof s=="string"?s.replace(/\?.*$/,"").replace(/#.*$/,""):s},Mi=function(s,o){return s===void 0&&(s=window),o===void 0&&(o="window onerror"),{load:function(c){if(!c._config.autoDetectErrors||!c._config.enabledErrorTypes.unhandledExceptions)return;function d(w,T,C,k,j){if(C===0&&/Script error\.?/.test(w))c._logger.warn("Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z");else{var U={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}},G;if(j)G=c.Event.create(j,!0,U,o,1),Pr(G.errors[0].stacktrace,T,C,k);else if(typeof w=="object"&&w!==null&&(!T||typeof T!="string")&&!C&&!k&&!j){var P=w.type?"Event: "+w.type:"Error",ee=w.message||w.detail||"";G=c.Event.create({name:P,message:ee},!0,U,o,1),G.originalError=w,G.addMetadata(o,{event:w,extraParameters:T})}else G=c.Event.create(w,!0,U,o,1),Pr(G.errors[0].stacktrace,T,C,k);c._notify(G)}typeof _=="function"&&_.apply(this,arguments)}var _=s.onerror;s.onerror=d}}},Pr=function(s,o,c,d){s[0]||s.push({});var _=s[0];!_.file&&typeof o=="string"&&(_.file=o),!_.lineNumber&&hn(c)&&(_.lineNumber=c),_.columnNumber||(hn(d)?_.columnNumber=d:window.event&&hn(window.event.errorCharacter)&&(_.columnNumber=window.event.errorCharacter))},hn=function(s){return typeof s=="number"&&String.call(s)!=="NaN"},ys=function(s){s===void 0&&(s=window);var o={load:function(c){if(!(!c._config.autoDetectErrors||!c._config.enabledErrorTypes.unhandledRejections)){var d=function(_){var w=_.reason,T=!1;try{_.detail&&_.detail.reason&&(w=_.detail.reason,T=!0)}catch{}var C=c.Event.create(w,!1,{severity:"error",unhandled:!0,severityReason:{type:"unhandledPromiseRejection"}},"unhandledrejection handler",1,c._logger);T&&x(C.errors[0].stacktrace,vs(w)),c._notify(C,function(k){if(Dt(k.originalError)&&!k.originalError.stack){var j;k.addMetadata("unhandledRejection handler",(j={},j[Object.prototype.toString.call(k.originalError)]={name:k.originalError.name,message:k.originalError.message,code:k.originalError.code},j))}})};"addEventListener"in s?s.addEventListener("unhandledrejection",d):s.onunhandledrejection=function(_,w){d({detail:{reason:_,promise:w}})}}}};return o},vs=function(s){return function(o){o.file!==s.toString()&&o.method&&(o.method=o.method.replace(/^\s+/,""))}},Nt={},br="Bugsnag JavaScript",_s="7.22.4",Ri="https://github.com/bugsnag/bugsnag-js",Li=m({},y.schema,A),Ze={_client:null,createClient:function(s){typeof s=="string"&&(s={apiKey:s}),s||(s={});var o=[bi,Ni(),wi(),ki(),ms,_r,as,fn,Mi(),ys(),bt(),fs(),Pt(),os,ls()],c=new mr(s,Li,o,{name:br,version:_s,url:Ri});return c._setDelivery(window.XDomainRequest?cn:vi),c._logger.debug("Loaded!"),c.leaveBreadcrumb("Bugsnag loaded",{},"state"),c._config.autoTrackSessions?c.startSession():c},start:function(s){return Ze._client?(Ze._client._logger.warn("Bugsnag.start() was called more than once. Ignoring."),Ze._client):(Ze._client=Ze.createClient(s),Ze._client)},isStarted:function(){return Ze._client!=null}};return x(["resetEventCount"].concat(l(mr.prototype)),function(s){/^_/.test(s)||(Ze[s]=function(){if(!Ze._client)return console.log("Bugsnag."+s+"() was called before Bugsnag.start()");Ze._client._depth+=1;var o=Ze._client[s].apply(Ze._client,arguments);return Ze._client._depth-=1,o})}),Nt=Ze,Nt.Client=mr,Nt.Event=se,Nt.Session=gr,Nt.Breadcrumb=L,Nt.default=Ze,Nt})})($i);var uo=$i.exports,co=uo;const lo=wr(co);var Ui={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(self,()=>(()=>{var r={11:u=>{class f{constructor(l,g,v,p=new Date){this.type=v,this.message=l,this.metadata=g,this.timestamp=p}toJSON(){return{type:this.type,name:this.message,timestamp:this.timestamp,metaData:this.metadata}}}u.exports=f},953:(u,f,h)=>{const l=h(510),g=h(750),v=h(11),p=h(743),y=h(964),b=h(566),m=h(58),x=h(611),O=h(929),N=h(795),A=h(698),E=h(987),D=h(100),L=h(377),{add:z,clear:I,merge:R}=h(908),H=()=>{};class ne{constructor(S,M=l.schema,B=[],Q){this._notifier=Q,this._config={},this._schema=M,this._delivery={sendSession:H,sendEvent:H},this._logger={debug:H,info:H,warn:H,error:H},this._plugins={},this._breadcrumbs=[],this._session=null,this._metadata={},this._featuresIndex={},this._features=[],this._context=void 0,this._user={},this._cbs={e:[],s:[],sp:[],b:[]},this.Client=ne,this.Event=g,this.Breadcrumb=v,this.Session=p,this._config=this._configure(S,B),y(B.concat(this._config.plugins),re=>{re&&this._loadPlugin(re)}),this._depth=1;const q=this,oe=this.notify;this.notify=function(){return oe.apply(q,arguments)}}addMetadata(S,M,B){return E.add(this._metadata,S,M,B)}getMetadata(S,M){return E.get(this._metadata,S,M)}clearMetadata(S,M){return E.clear(this._metadata,S,M)}addFeatureFlag(S,M=null){z(this._features,this._featuresIndex,S,M)}addFeatureFlags(S){R(this._features,S,this._featuresIndex)}clearFeatureFlag(S){I(this._features,this._featuresIndex,S)}clearFeatureFlags(){this._features=[],this._featuresIndex={}}getContext(){return this._context}setContext(S){this._context=S}_configure(S,M){const B=x(M,(oe,re)=>re&&re.configSchema?N({},oe,re.configSchema):oe,this._schema),{errors:Q,config:q}=x(O(B),(oe,re)=>{const Ie=B[re].defaultValue(S[re]);return S[re]!==void 0?B[re].validate(S[re])?B[re].allowPartialObject?oe.config[re]=N(Ie,S[re]):oe.config[re]=S[re]:(oe.errors[re]=B[re].message,oe.config[re]=Ie):oe.config[re]=Ie,oe},{errors:{},config:{}});if(B.apiKey){if(!q.apiKey)throw new Error("No Bugsnag API Key set");/^[0-9a-f]{32}$/i.test(q.apiKey)||(Q.apiKey="should be a string of 32 hexadecimal characters")}return this._metadata=N({},q.metadata),R(this._features,q.featureFlags,this._featuresIndex),this._user=N({},q.user),this._context=q.context,q.logger&&(this._logger=q.logger),q.onError&&(this._cbs.e=this._cbs.e.concat(q.onError)),q.onBreadcrumb&&(this._cbs.b=this._cbs.b.concat(q.onBreadcrumb)),q.onSession&&(this._cbs.s=this._cbs.s.concat(q.onSession)),O(Q).length&&this._logger.warn(me(Q,S)),q}getUser(){return this._user}setUser(S,M,B){this._user={id:S,email:M,name:B}}_loadPlugin(S){const M=S.load(this);return S.name&&(this._plugins[`~${S.name}~`]=M),this}getPlugin(S){return this._plugins[`~${S}~`]}_setDelivery(S){this._delivery=S(this)}startSession(){const S=new p;return S.app.releaseStage=this._config.releaseStage,S.app.version=this._config.appVersion,S.app.type=this._config.appType,S._user=N({},this._user),D(this._cbs.s,S,"onSession",this._logger)?(this._logger.debug("Session not started due to onSession callback"),this):this._sessionDelegate.startSession(this,S)}addOnError(S,M=!1){this._cbs.e[M?"unshift":"push"](S)}removeOnError(S){this._cbs.e=m(this._cbs.e,M=>M!==S)}_addOnSessionPayload(S){this._cbs.sp.push(S)}addOnSession(S){this._cbs.s.push(S)}removeOnSession(S){this._cbs.s=m(this._cbs.s,M=>M!==S)}addOnBreadcrumb(S,M=!1){this._cbs.b[M?"unshift":"push"](S)}removeOnBreadcrumb(S){this._cbs.b=m(this._cbs.b,M=>M!==S)}pauseSession(){return this._sessionDelegate.pauseSession(this)}resumeSession(){return this._sessionDelegate.resumeSession(this)}leaveBreadcrumb(S,M,B){if(S=typeof S=="string"?S:"",B=typeof B=="string"&&b(L,B)?B:"manual",M=typeof M=="object"&&M!==null?M:{},!S)return;const Q=new v(S,M,B);if(D(this._cbs.b,Q,"onBreadcrumb",this._logger)){this._logger.debug("Breadcrumb not attached due to onBreadcrumb callback");return}this._breadcrumbs.push(Q),this._breadcrumbs.length>this._config.maxBreadcrumbs&&(this._breadcrumbs=this._breadcrumbs.slice(this._breadcrumbs.length-this._config.maxBreadcrumbs))}_isBreadcrumbTypeEnabled(S){const M=this._config.enabledBreadcrumbTypes;return M===null||b(M,S)}notify(S,M,B=H){const Q=g.create(S,!0,void 0,"notify()",this._depth+1,this._logger);this._notify(Q,M,B)}_notify(S,M,B=H){if(S.app=N({},S.app,{releaseStage:this._config.releaseStage,version:this._config.appVersion,type:this._config.appType}),S.context=S.context||this._context,S._metadata=N({},S._metadata,this._metadata),S._user=N({},S._user,this._user),S.breadcrumbs=this._breadcrumbs.slice(),R(S._features,this._features,S._featuresIndex),this._config.enabledReleaseStages!==null&&!b(this._config.enabledReleaseStages,this._config.releaseStage))return this._logger.warn("Event not sent due to releaseStage/enabledReleaseStages configuration"),B(null,S);const Q=S.severity,q=re=>{this._logger.error("Error occurred in onError callback, continuing anyway…"),this._logger.error(re)},oe=[].concat(this._cbs.e).concat(M);A(oe,S,q,(re,Ie)=>{if(re&&q(re),!Ie)return this._logger.debug("Event not sent due to onError callback"),B(null,S);this._isBreadcrumbTypeEnabled("error")&&ne.prototype.leaveBreadcrumb.call(this,S.errors[0].errorClass,{errorClass:S.errors[0].errorClass,errorMessage:S.errors[0].errorMessage,severity:S.severity},"error"),Q!==S.severity&&(S._handledState.severityReason={type:"userCallbackSetSeverity"}),S.unhandled!==S._handledState.unhandled&&(S._handledState.severityReason.unhandledOverridden=!0,S._handledState.unhandled=S.unhandled),this._session&&(this._session._track(S),S._session=this._session),this._delivery.sendEvent({apiKey:S.apiKey||this._config.apiKey,notifier:this._notifier,events:[S]},tt=>B(tt,S))})}}const me=(W,S)=>new Error(`Invalid configuration
${y(O(W),B=>`  - ${B} ${W[B]}, got ${F(S[B])}`).join(`

`)}`),F=W=>{switch(typeof W){case"string":case"number":case"object":return JSON.stringify(W);default:return String(W)}};u.exports=ne},510:(u,f,h)=>{const l=h(58),g=h(611),v=h(929),p=h(37),y=h(566),b=h(849),m=h(937),x=h(90),O=h(377),N=()=>({unhandledExceptions:!0,unhandledRejections:!0});u.exports.schema={apiKey:{defaultValue:()=>null,message:"is required",validate:m},appVersion:{defaultValue:()=>{},message:"should be a string",validate:A=>A===void 0||m(A)},appType:{defaultValue:()=>{},message:"should be a string",validate:A=>A===void 0||m(A)},autoDetectErrors:{defaultValue:()=>!0,message:"should be true|false",validate:A=>A===!0||A===!1},enabledErrorTypes:{defaultValue:()=>N(),message:"should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }",allowPartialObject:!0,validate:A=>{if(typeof A!="object"||!A)return!1;const E=v(A),D=v(N());return!(l(E,L=>y(D,L)).length<E.length||l(v(A),L=>typeof A[L]!="boolean").length>0)}},onError:{defaultValue:()=>[],message:"should be a function or array of functions",validate:x},onSession:{defaultValue:()=>[],message:"should be a function or array of functions",validate:x},onBreadcrumb:{defaultValue:()=>[],message:"should be a function or array of functions",validate:x},endpoints:{defaultValue:()=>({notify:"https://notify.bugsnag.com",sessions:"https://sessions.bugsnag.com"}),message:"should be an object containing endpoint URLs { notify, sessions }",validate:A=>A&&typeof A=="object"&&m(A.notify)&&m(A.sessions)&&l(v(A),E=>!y(["notify","sessions"],E)).length===0},autoTrackSessions:{defaultValue:A=>!0,message:"should be true|false",validate:A=>A===!0||A===!1},enabledReleaseStages:{defaultValue:()=>null,message:"should be an array of strings",validate:A=>A===null||p(A)&&l(A,E=>typeof E=="string").length===A.length},releaseStage:{defaultValue:()=>"production",message:"should be a string",validate:A=>typeof A=="string"&&A.length},maxBreadcrumbs:{defaultValue:()=>25,message:"should be a number ≤100",validate:A=>b(0,100)(A)},enabledBreadcrumbTypes:{defaultValue:()=>O,message:`should be null or a list of available breadcrumb types (${O.join(",")})`,validate:A=>A===null||p(A)&&g(A,(E,D)=>E===!1?E:y(O,D),!0)},context:{defaultValue:()=>{},message:"should be a string",validate:A=>A===void 0||typeof A=="string"},user:{defaultValue:()=>({}),message:"should be an object with { id, email, name } properties",validate:A=>A===null||A&&g(v(A),(E,D)=>E&&y(["id","email","name"],D),!0)},metadata:{defaultValue:()=>({}),message:"should be an object",validate:A=>typeof A=="object"&&A!==null},logger:{defaultValue:()=>{},message:"should be null or an object with methods { debug, info, warn, error }",validate:A=>!A||A&&g(["debug","info","warn","error"],(E,D)=>E&&typeof A[D]=="function",!0)},redactedKeys:{defaultValue:()=>["password"],message:"should be an array of strings|regexes",validate:A=>p(A)&&A.length===l(A,E=>typeof E=="string"||E&&typeof E.test=="function").length},plugins:{defaultValue:()=>[],message:"should be an array of plugin objects",validate:A=>p(A)&&A.length===l(A,E=>E&&typeof E=="object"&&typeof E.load=="function").length},featureFlags:{defaultValue:()=>[],message:'should be an array of objects that have a "name" property',validate:A=>p(A)&&A.length===l(A,E=>E&&typeof E=="object"&&typeof E.name=="string").length}}},750:(u,f,h)=>{const l=h(866),g=h(346),v=h(391),p=h(964),y=h(611),b=h(58),m=h(795),x=h(987),O=h(908),N=h(473);class A{constructor(W,S,M=[],B=L(),Q){this.apiKey=void 0,this.context=void 0,this.groupingHash=void 0,this.originalError=Q,this._handledState=B,this.severity=this._handledState.severity,this.unhandled=this._handledState.unhandled,this.app={},this.device={},this.request={},this.breadcrumbs=[],this.threads=[],this._metadata={},this._features=[],this._featuresIndex={},this._user={},this._session=void 0,this.errors=[I(W,S,A.__type,M)]}addMetadata(W,S,M){return x.add(this._metadata,W,S,M)}getMetadata(W,S){return x.get(this._metadata,W,S)}clearMetadata(W,S){return x.clear(this._metadata,W,S)}addFeatureFlag(W,S=null){O.add(this._features,this._featuresIndex,W,S)}addFeatureFlags(W){O.merge(this._features,W,this._featuresIndex)}getFeatureFlags(){return O.toEventApi(this._features)}clearFeatureFlag(W){O.clear(this._features,this._featuresIndex,W)}clearFeatureFlags(){this._features=[],this._featuresIndex={}}getUser(){return this._user}setUser(W,S,M){this._user={id:W,email:S,name:M}}toJSON(){return{payloadVersion:"4",exceptions:p(this.errors,W=>m({},W,{message:W.errorMessage})),severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,request:this.request,breadcrumbs:this.breadcrumbs,context:this.context,groupingHash:this.groupingHash,metaData:this._metadata,user:this._user,session:this._session,featureFlags:this.getFeatureFlags()}}}const E=F=>{const W={file:F.fileName,method:D(F.functionName),lineNumber:F.lineNumber,columnNumber:F.columnNumber,code:void 0,inProject:void 0};return W.lineNumber>-1&&!W.file&&!W.method&&(W.file="global code"),W},D=F=>/^global code$/i.test(F)?"global code":F,L=()=>({unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}),z=F=>typeof F=="string"?F:"";function I(F,W,S,M){return{errorClass:z(F),errorMessage:z(W),type:S,stacktrace:y(M,(B,Q)=>{const q=E(Q);try{return JSON.stringify(q)==="{}"?B:B.concat(q)}catch{return B}},[])}}function R(F){return F.cause?[F,...R(F.cause)]:[F]}A.getStacktrace=function(F,W,S){if(v(F))return l.parse(F).slice(W);try{return b(g.backtrace(),M=>(M.functionName||"").indexOf("StackGenerator$$")===-1).slice(1+S)}catch{return[]}},A.create=function(F,W,S,M,B=0,Q){const[q,oe]=ne(F,W,M,Q);let re;try{const Ie=A.getStacktrace(q,oe>0?1+oe+B:0,1+B);re=new A(q.name,q.message,Ie,S,F)}catch{re=new A(q.name,q.message,[],S,F)}if(q.name==="InvalidError"&&re.addMetadata(`${M}`,"non-error parameter",H(F)),q.cause){const Ie=R(q).slice(1),tt=p(Ie,ut=>{const ye=N(ut)&&v(ut)?l.parse(ut):[],[ct]=ne(ut,!0,"error cause");return ct.name==="InvalidError"&&re.addMetadata("error cause",H(ut)),I(ct.name,ct.message,A.__type,ye)});re.errors.push(...tt)}return re};const H=F=>F===null?"null":F===void 0?"undefined":F,ne=(F,W,S,M)=>{let B,Q=0;const q=oe=>{const re=S==="error cause"?"was":"received";M&&M.warn(`${S} ${re} a non-error: "${oe}"`);const Ie=new Error(`${S} ${re} a non-error. See "${S}" tab for more detail.`);return Ie.name="InvalidError",Ie};if(!W)N(F)?B=F:(B=q(typeof F),Q+=2);else switch(typeof F){case"string":case"number":case"boolean":B=new Error(String(F)),Q+=1;break;case"function":B=q("function"),Q+=2;break;case"object":F!==null&&N(F)?B=F:F!==null&&me(F)?(B=new Error(F.message||F.errorMessage),B.name=F.name||F.errorClass,Q+=1):(B=q(F===null?"null":"unsupported object"),Q+=2);break;default:B=q("nothing"),Q+=2}if(!v(B))try{throw B}catch(oe){v(oe)&&(B=oe,Q=1)}return[B,Q]};A.__type="browserjs";const me=F=>(typeof F.name=="string"||typeof F.errorClass=="string")&&(typeof F.message=="string"||typeof F.errorMessage=="string");u.exports=A},994:u=>{u.exports=(f,h,l)=>{let g=0;const v=()=>{if(g>=f.length)return l(null,!0);h(f[g],(p,y)=>{if(p)return l(p);if(y===!1)return l(null,!1);g++,v()})};v()}},377:u=>{u.exports=["navigation","request","process","log","user","state","error","manual"]},698:(u,f,h)=>{const l=h(994);u.exports=(g,v,p,y)=>{l(g,(m,x)=>{if(typeof m!="function")return x(null);try{if(m.length!==2){const O=m(v);return O&&typeof O.then=="function"?O.then(N=>setTimeout(()=>x(null,N)),N=>{setTimeout(()=>(p(N),x(null,!0)))}):x(null,O)}m(v,(O,N)=>{if(O)return p(O),x(null);x(null,N)})}catch(O){p(O),x(null)}},y)}},866:(u,f,h)=>{u.exports=h(247)},795:u=>{u.exports=function(f){for(var h=1;h<arguments.length;h++){var l=arguments[h];for(var g in l)Object.prototype.hasOwnProperty.call(l,g)&&(f[g]=l[g])}return f}},58:(u,f,h)=>{const l=h(611);u.exports=(g,v)=>l(g,(p,y,b,m)=>v(y,b,m)?p.concat(y):p,[])},566:(u,f,h)=>{const l=h(611);u.exports=(g,v)=>l(g,(p,y,b,m)=>p===!0||y===v,!1)},37:u=>{u.exports=f=>Object.prototype.toString.call(f)==="[object Array]"},929:u=>{const f=!{toString:null}.propertyIsEnumerable("toString"),h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];u.exports=l=>{const g=[];let v;for(v in l)Object.prototype.hasOwnProperty.call(l,v)&&g.push(v);if(!f)return g;for(let p=0,y=h.length;p<y;p++)Object.prototype.hasOwnProperty.call(l,h[p])&&g.push(h[p]);return g}},964:(u,f,h)=>{const l=h(611);u.exports=(g,v)=>l(g,(p,y,b,m)=>p.concat(v(y,b,m)),[])},611:u=>{u.exports=(f,h,l)=>{let g=l;for(let v=0,p=f.length;v<p;v++)g=h(g,f[v],v,f);return g}},908:(u,f,h)=>{const l=h(964),g=h(58),v=h(37),p=h(575);function y(O,N,A,E){if(typeof A!="string")return;E===void 0?E=null:E!==null&&typeof E!="string"&&(E=p(E));const D=N[A];if(typeof D=="number"){O[D]={name:A,variant:E};return}O.push({name:A,variant:E}),N[A]=O.length-1}function b(O,N,A){if(v(N)){for(let E=0;E<N.length;++E){const D=N[E];D===null||typeof D!="object"||y(O,A,D.name,D.variant)}return O}}function m(O){return l(g(O,Boolean),({name:N,variant:A})=>{const E={featureFlag:N};return typeof A=="string"&&(E.variant=A),E})}function x(O,N,A){const E=N[A];typeof E=="number"&&(O[E]=null,delete N[A])}u.exports={add:y,clear:x,merge:b,toEventApi:m}},391:u=>{u.exports=f=>!!f&&(!!f.stack||!!f.stacktrace||!!f["opera#sourceloc"])&&typeof(f.stack||f.stacktrace||f["opera#sourceloc"])=="string"&&f.stack!==`${f.name}: ${f.message}`},473:(u,f,h)=>{u.exports=h(232)},599:(u,f,h)=>{const l=h(575),g=["events.[].metaData","events.[].breadcrumbs.[].metaData","events.[].request"];u.exports.event=(v,p)=>{let y=l(v,null,null,{redactedPaths:g,redactedKeys:p});return y.length>1e6&&(v.events[0]._metadata={notifier:`WARNING!
Serialized payload was ${y.length/1e6}MB (limit = 1MB)
metadata was removed`},y=l(v,null,null,{redactedPaths:g,redactedKeys:p})),y},u.exports.session=(v,p)=>l(v,null,null)},987:(u,f,h)=>{const l=h(795),g=(y,b,m,x)=>{if(!b)return;let O;if(m===null)return p(y,b);typeof m=="object"&&(O=m),typeof m=="string"&&(O={[m]:x}),O&&(y[b]||(y[b]={}),y[b]=l({},y[b],O))},v=(y,b,m)=>{if(typeof b=="string"){if(!m)return y[b];if(y[b])return y[b][m]}},p=(y,b,m)=>{if(typeof b=="string"){if(!m){delete y[b];return}y[b]&&delete y[b][m]}};u.exports={add:g,get:v,clear:p}},100:u=>{u.exports=(f,h,l,g)=>{let v=!1;const p=f.slice();for(;!v&&p.length;)try{v=p.pop()(h)===!1}catch(y){g.error(`Error occurred in ${l} callback, continuing anyway…`),g.error(y)}return v}},849:u=>{u.exports=(f=1,h=1/0)=>l=>typeof l=="number"&&parseInt(""+l,10)===l&&l>=f&&l<=h},90:(u,f,h)=>{const l=h(58),g=h(37);u.exports=v=>typeof v=="function"||g(v)&&l(v,p=>typeof p=="function").length===v.length},937:u=>{u.exports=f=>typeof f=="string"&&!!f.length},277:(u,f,h)=>{var l=h(42),g=h(408),v=0,p=4,y=36,b=Math.pow(y,p);function m(){return g((Math.random()*b<<0).toString(y),p)}function x(){return v=v<b?v:0,v++,v-1}function O(){var N="c",A=new Date().getTime().toString(y),E=g(x().toString(y),p),D=l(),L=m()+m();return N+A+E+D+L}O.fingerprint=l,u.exports=O},42:(u,f,h)=>{var l=h(408),g=typeof window=="object"?window:self,v=0;for(var p in g)Object.hasOwnProperty.call(g,p)&&v++;var y=navigator.mimeTypes?navigator.mimeTypes.length:0,b=l((y+navigator.userAgent.length).toString(36)+v.toString(36),4);u.exports=function(){return b}},408:u=>{u.exports=function(h,l){var g="000000000"+h;return g.substr(g.length-l)}},575:u=>{u.exports=function(A,E,D,L){var z=L&&L.redactedKeys?L.redactedKeys:[],I=L&&L.redactedPaths?L.redactedPaths:[];return JSON.stringify(N(A,z,I),E,D)};var f=20,h=25e3,l=8,g="...";function v(A){return A instanceof Error||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(A))}function p(A){return"[Throws: "+(A?A.message:"?")+"]"}function y(A,E){for(var D=0,L=A.length;D<L;D++)if(A[D]===E)return!0;return!1}function b(A,E){for(var D=0,L=A.length;D<L;D++)if(E.indexOf(A[D])===0)return!0;return!1}function m(A,E){for(var D=0,L=A.length;D<L;D++)if(typeof A[D]=="string"&&A[D].toLowerCase()===E.toLowerCase()||A[D]&&typeof A[D].test=="function"&&A[D].test(E))return!0;return!1}function x(A){return Object.prototype.toString.call(A)==="[object Array]"}function O(A,E){try{return A[E]}catch(D){return p(D)}}function N(A,E,D){var L=[],z=0;function I(R,H){function ne(){return H.length>l&&z>h}if(z++,H.length>f||ne())return g;if(R===null||typeof R!="object")return R;if(y(L,R))return"[Circular]";if(L.push(R),typeof R.toJSON=="function")try{z--;var me=I(R.toJSON(),H);return L.pop(),me}catch(oe){return p(oe)}var F=v(R);if(F){z--;var W=I({name:R.name,message:R.message},H);return L.pop(),W}if(x(R)){for(var S=[],M=0,B=R.length;M<B;M++){if(ne()){S.push(g);break}S.push(I(R[M],H.concat("[]")))}return L.pop(),S}var Q={};try{for(var q in R)if(Object.prototype.hasOwnProperty.call(R,q)){if(b(D,H.join("."))&&m(E,q)){Q[q]="[REDACTED]";continue}if(ne()){Q[q]=g;break}Q[q]=I(O(R,q),H.concat(q))}}catch{}return L.pop(),Q}return I(A,[])}},247:function(u,f,h){var l,g,v;(function(p,y){g=[h(998)],l=y,v=typeof l=="function"?l.apply(f,g):l,v!==void 0&&(u.exports=v)})(this,function(y){var b=/(^|@)\S+\:\d+/,m=/^\s*at .*(\S+\:\d+|\(native\))/m,x=/^(eval@)?(\[native code\])?$/;return{parse:function(N){if(typeof N.stacktrace<"u"||typeof N["opera#sourceloc"]<"u")return this.parseOpera(N);if(N.stack&&N.stack.match(m))return this.parseV8OrIE(N);if(N.stack)return this.parseFFOrSafari(N);throw new Error("Cannot parse given Error object")},extractLocation:function(N){if(N.indexOf(":")===-1)return[N];var A=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,E=A.exec(N.replace(/[\(\)]/g,""));return[E[1],E[2]||void 0,E[3]||void 0]},parseV8OrIE:function(N){var A=N.stack.split(`
`).filter(function(E){return!!E.match(m)},this);return A.map(function(E){E.indexOf("(eval ")>-1&&(E=E.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var D=E.replace(/^\s+/,"").replace(/\(eval code/g,"("),L=D.match(/ (\((.+):(\d+):(\d+)\)$)/);D=L?D.replace(L[0],""):D;var z=D.split(/\s+/).slice(1),I=this.extractLocation(L?L[1]:z.pop()),R=z.join(" ")||void 0,H=["eval","<anonymous>"].indexOf(I[0])>-1?void 0:I[0];return new y({functionName:R,fileName:H,lineNumber:I[1],columnNumber:I[2],source:E})},this)},parseFFOrSafari:function(N){var A=N.stack.split(`
`).filter(function(E){return!E.match(x)},this);return A.map(function(E){if(E.indexOf(" > eval")>-1&&(E=E.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),E.indexOf("@")===-1&&E.indexOf(":")===-1)return new y({functionName:E});var D=/((.*".+"[^@]*)?[^@]*)(?:@)/,L=E.match(D),z=L&&L[1]?L[1]:void 0,I=this.extractLocation(E.replace(D,""));return new y({functionName:z,fileName:I[0],lineNumber:I[1],columnNumber:I[2],source:E})},this)},parseOpera:function(N){return!N.stacktrace||N.message.indexOf(`
`)>-1&&N.message.split(`
`).length>N.stacktrace.split(`
`).length?this.parseOpera9(N):N.stack?this.parseOpera11(N):this.parseOpera10(N)},parseOpera9:function(N){for(var A=/Line (\d+).*script (?:in )?(\S+)/i,E=N.message.split(`
`),D=[],L=2,z=E.length;L<z;L+=2){var I=A.exec(E[L]);I&&D.push(new y({fileName:I[2],lineNumber:I[1],source:E[L]}))}return D},parseOpera10:function(N){for(var A=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,E=N.stacktrace.split(`
`),D=[],L=0,z=E.length;L<z;L+=2){var I=A.exec(E[L]);I&&D.push(new y({functionName:I[3]||void 0,fileName:I[2],lineNumber:I[1],source:E[L]}))}return D},parseOpera11:function(N){var A=N.stack.split(`
`).filter(function(E){return!!E.match(b)&&!E.match(/^Error created at/)},this);return A.map(function(E){var D=E.split("@"),L=this.extractLocation(D.pop()),z=D.shift()||"",I=z.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0,R;z.match(/\(([^\)]*)\)/)&&(R=z.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var H=R===void 0||R==="[arguments not available]"?void 0:R.split(",");return new y({functionName:I,args:H,fileName:L[0],lineNumber:L[1],columnNumber:L[2],source:E})},this)}}})},232:u=>{u.exports=f;function f(h){switch(Object.prototype.toString.call(h)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return h instanceof Error}}},346:function(u,f,h){var l,g,v;(function(p,y){g=[h(998)],l=y,v=typeof l=="function"?l.apply(f,g):l,v!==void 0&&(u.exports=v)})(this,function(p){return{backtrace:function(b){var m=[],x=10;typeof b=="object"&&typeof b.maxStackSize=="number"&&(x=b.maxStackSize);for(var O=arguments.callee;O&&m.length<x&&O.arguments;){for(var N=new Array(O.arguments.length),A=0;A<N.length;++A)N[A]=O.arguments[A];/function(?:\s+([\w$]+))+\s*\(/.test(O.toString())?m.push(new p({functionName:RegExp.$1||void 0,args:N})):m.push(new p({args:N}));try{O=O.caller}catch{break}}return m}}})},998:function(u,f){var h,l,g;(function(v,p){l=[],h=p,g=typeof h=="function"?h.apply(f,l):h,g!==void 0&&(u.exports=g)})(this,function(){function v(z){return!isNaN(parseFloat(z))&&isFinite(z)}function p(z){return z.charAt(0).toUpperCase()+z.substring(1)}function y(z){return function(){return this[z]}}var b=["isConstructor","isEval","isNative","isToplevel"],m=["columnNumber","lineNumber"],x=["fileName","functionName","source"],O=["args"],N=b.concat(m,x,O);function A(z){if(z instanceof Object)for(var I=0;I<N.length;I++)z.hasOwnProperty(N[I])&&z[N[I]]!==void 0&&this["set"+p(N[I])](z[N[I]])}A.prototype={getArgs:function(){return this.args},setArgs:function(z){if(Object.prototype.toString.call(z)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=z},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(z){if(z instanceof A)this.evalOrigin=z;else if(z instanceof Object)this.evalOrigin=new A(z);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var z=this.getFunctionName()||"{anonymous}",I="("+(this.getArgs()||[]).join(",")+")",R=this.getFileName()?"@"+this.getFileName():"",H=v(this.getLineNumber())?":"+this.getLineNumber():"",ne=v(this.getColumnNumber())?":"+this.getColumnNumber():"";return z+I+R+H+ne}};for(var E=0;E<b.length;E++)A.prototype["get"+p(b[E])]=y(b[E]),A.prototype["set"+p(b[E])]=function(z){return function(I){this[z]=!!I}}(b[E]);for(var D=0;D<m.length;D++)A.prototype["get"+p(m[D])]=y(m[D]),A.prototype["set"+p(m[D])]=function(z){return function(I){if(!v(I))throw new TypeError(z+" must be a Number");this[z]=Number(I)}}(m[D]);for(var L=0;L<x.length;L++)A.prototype["get"+p(x[L])]=y(x[L]),A.prototype["set"+p(x[L])]=function(z){return function(I){this[z]=String(I)}}(x[L]);return A})},743:(u,f,h)=>{const l=h(277);class g{constructor(){this.id=l(),this.startedAt=new Date,this._handled=0,this._unhandled=0,this._user={},this.app={},this.device={}}getUser(){return this._user}setUser(p,y,b){this._user={id:p,email:y,name:b}}toJSON(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}}_track(p){this[p._handledState.unhandled?"_unhandled":"_handled"]+=1}}u.exports=g},798:(u,f,h)=>{const l=h(795),g="bugsnag-anonymous-id",v=y=>{try{const b=y.localStorage;let m=b.getItem(g);return m&&/^c[a-z0-9]{20,32}$/.test(m)||(m=h(79)(),b.setItem(g,m)),m}catch{}};u.exports=(y=navigator,b=window)=>({load:m=>{const x={locale:y.browserLanguage||y.systemLanguage||y.userLanguage||y.language,userAgent:y.userAgent};b&&b.screen&&b.screen.orientation&&b.screen.orientation.type?x.orientation=b.screen.orientation.type:b&&b.document&&(x.orientation=b.document.documentElement.clientWidth>b.document.documentElement.clientHeight?"landscape":"portrait"),m._config.generateAnonymousId&&(x.id=v(b)),m.addOnSession(O=>{O.device=l({},O.device,x),m._config.collectUserIp||p(O)}),m.addOnError(O=>{O.device=l({},O.device,x,{time:new Date}),m._config.collectUserIp||p(O)},!0)},configSchema:{generateAnonymousId:{validate:m=>m===!0||m===!1,defaultValue:()=>!0,message:"should be true|false"}}});const p=y=>{const b=y.getUser();(!b||!b.id)&&y.setUser(y.device.id)}},79:(u,f,h)=>{var l=h(963),g=h(879),v=0,p=4,y=36,b=Math.pow(y,p);function m(){return g((Math.random()*b<<0).toString(y),p)}function x(){return v=v<b?v:0,v++,v-1}function O(){var N="c",A=new Date().getTime().toString(y),E=g(x().toString(y),p),D=l(),L=m()+m();return N+A+E+D+L}O.fingerprint=l,u.exports=O},963:(u,f,h)=>{var l=h(879),g=typeof window=="object"?window:self,v=0;for(var p in g)Object.hasOwnProperty.call(g,p)&&v++;var y=navigator.mimeTypes?navigator.mimeTypes.length:0,b=l((y+navigator.userAgent.length).toString(36)+v.toString(36),4);u.exports=function(){return b}},879:u=>{u.exports=function(h,l){var g="000000000"+h;return g.substr(g.length-l)}},223:(u,f,h)=>{const l=h(566);u.exports={load:v=>{v._sessionDelegate=g}};const g={startSession:(v,p)=>{const y=v;return y._session=p,y._pausedSession=null,y._config.enabledReleaseStages!==null&&!l(y._config.enabledReleaseStages,y._config.releaseStage)?(y._logger.warn("Session not sent due to releaseStage/enabledReleaseStages configuration"),y):(y._delivery.sendSession({notifier:y._notifier,device:p.device,app:p.app,sessions:[{id:p.id,startedAt:p.startedAt,user:p._user}]}),y)},resumeSession:v=>v._session?v:v._pausedSession?(v._session=v._pausedSession,v._pausedSession=null,v):v.startSession(),pauseSession:v=>{v._pausedSession=v._session,v._session=null}}},155:(u,f,h)=>{const l=h(795);u.exports={load:g=>{g._config.collectUserIp||g.addOnError(v=>{v._user&&typeof v._user.id>"u"&&delete v._user.id,v._user=l({id:"[REDACTED]"},v._user),v.request=l({clientIp:"[REDACTED]"},v.request)})},configSchema:{collectUserIp:{defaultValue:()=>!0,message:"should be true|false",validate:g=>g===!0||g===!1}}}},584:u=>{u.exports=(l=window,g="window onerror")=>({load:v=>{if(!v._config.autoDetectErrors||!v._config.enabledErrorTypes.unhandledExceptions)return;function p(b,m,x,O,N){if(x===0&&/Script error\.?/.test(b))v._logger.warn("Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z");else{const A={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}};let E;if(N)E=v.Event.create(N,!0,A,g,1),f(E.errors[0].stacktrace,m,x,O);else if(typeof b=="object"&&b!==null&&(!m||typeof m!="string")&&!x&&!O&&!N){const D=b.type?`Event: ${b.type}`:"Error",L=b.message||b.detail||"";E=v.Event.create({name:D,message:L},!0,A,g,1),E.originalError=b,E.addMetadata(g,{event:b,extraParameters:m})}else E=v.Event.create(b,!0,A,g,1),f(E.errors[0].stacktrace,m,x,O);v._notify(E)}typeof y=="function"&&y.apply(this,arguments)}const y=l.onerror;l.onerror=p}});const f=(l,g,v,p)=>{l[0]||l.push({});const y=l[0];!y.file&&typeof g=="string"&&(y.file=g),!y.lineNumber&&h(v)&&(y.lineNumber=v),y.columnNumber||(h(p)?y.columnNumber=p:window.event&&h(window.event.errorCharacter)&&(y.columnNumber=window.event.errorCharacter))},h=l=>typeof l=="number"&&String.call(l)!=="NaN"},536:(u,f,h)=>{const l=h(964),g=h(473);u.exports=(p=window)=>({load:b=>{if(!b._config.autoDetectErrors||!b._config.enabledErrorTypes.unhandledRejections)return;const m=x=>{let O=x.reason,N=!1;try{x.detail&&x.detail.reason&&(O=x.detail.reason,N=!0)}catch{}const A=b.Event.create(O,!1,{severity:"error",unhandled:!0,severityReason:{type:"unhandledPromiseRejection"}},"unhandledrejection handler",1,b._logger);N&&l(A.errors[0].stacktrace,v(O)),b._notify(A,E=>{g(E.originalError)&&!E.originalError.stack&&E.addMetadata("unhandledRejection handler",{[Object.prototype.toString.call(E.originalError)]:{name:E.originalError.name,message:E.originalError.message,code:E.originalError.code}})})};"addEventListener"in p?p.addEventListener("unhandledrejection",m):p.onunhandledrejection=(x,O)=>{m({detail:{reason:x,promise:O}})}}});const v=p=>y=>{y.file!==p.toString()&&y.method&&(y.method=y.method.replace(/^\s+/,""))}},182:(u,f,h)=>{const{schema:l}=h(510),g=h(964),v=h(795);u.exports={appType:{...l.appType,defaultValue:()=>"workerjs"},logger:v({},l.logger,{defaultValue:()=>typeof console<"u"&&typeof console.debug=="function"?p():void 0}),autoTrackSessions:{...l.autoTrackSessions,defaultValue:()=>!1},autoDetectErrors:{...l.autoTrackSessions,defaultValue:()=>!1}};const p=()=>{const y={},b=console.log;return g(["debug","info","warn","error"],m=>{const x=console[m];y[m]=typeof x=="function"?x.bind(console,"[bugsnag]"):b.bind(console,"[bugsnag]")}),y}},230:u=>{const f=/^(chrome|moz|safari|safari-web)-extension:/;u.exports={name:"preventDiscard",load:h=>{h.addOnError(l=>{l.errors.forEach(({stacktrace:g})=>{g.forEach(function(v){v.file=v.file.replace(f,"$1_extension:")})})},!0)}}}},n={};function i(u){var f=n[u];if(f!==void 0)return f.exports;var h=n[u]={exports:{}};return r[u].call(h.exports,h,h.exports,i),h.exports}i.n=u=>{var f=u&&u.__esModule?()=>u.default:()=>u;return i.d(f,{a:f}),f},i.d=(u,f)=>{for(var h in f)i.o(f,h)&&!i.o(u,h)&&Object.defineProperty(u,h,{enumerable:!0,get:f[h]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(u,f)=>Object.prototype.hasOwnProperty.call(u,f);var a={};return(()=>{i.d(a,{default:()=>S});var u=i(953),f=i.n(u),h=i(510),l=i(599);const v=(M,B=i.g.fetch)=>({sendEvent:(Q,q=()=>{})=>{const oe=M._config.endpoints.notify;B(oe,{method:"POST",headers:{"Content-Type":"application/json","Bugsnag-Api-Key":Q.apiKey||M._config.apiKey,"Bugsnag-Payload-Version":"4","Bugsnag-Sent-At":new Date().toISOString()},body:l.event(Q,M._config.redactedKeys)}).then(()=>{q(null)}).catch(re=>{M._logger.error(re),q(re)})},sendSession:(Q,q=()=>{})=>{const oe=M._config.endpoints.sessions;B(oe,{method:"POST",headers:{"Content-Type":"application/json","Bugsnag-Api-Key":M._config.apiKey,"Bugsnag-Payload-Version":"1","Bugsnag-Sent-At":new Date().toISOString()},body:l.session(Q,M._config.redactedKeys)}).then(()=>{q(null)}).catch(re=>{M._logger.error(re),q(re)})}});var p=i(155),y=i.n(p),b=i(584),m=i.n(b),x=i(536),O=i.n(x),N=i(182),A=i.n(N),E=i(798),D=i.n(E),L=i(223),z=i.n(L),I=i(230),R=i.n(I);const H="Bugsnag Web Worker",ne="https://github.com/bugsnag/bugsnag-js",me="7.22.4",F={...h.schema,...A()},W={createClient:M=>{typeof M=="string"&&(M={apiKey:M}),M||(M={});const B=[D()(navigator,null),z(),y(),R(),m()(self,"worker onerror"),O()(self)],Q=new(f())(M,F,B,{name:H,version:me,url:ne});return Q._setDelivery(v),Q._logger.debug("Loaded!"),Q._config.autoTrackSessions?Q.startSession():Q},start:M=>W._client?(W._client._logger.warn("Bugsnag.start() was called more than once. Ignoring."),W._client):(W._client=W.createClient(M),W._client),isStarted:()=>W._client!=null};Object.getOwnPropertyNames(f().prototype).forEach(M=>{/^_/.test(M)||M==="constructor"||(W[M]=function(){if(!W._client)return console.log(`Bugsnag.${M}() was called before Bugsnag.start()`);W._client._depth+=1;const B=W._client[M].apply(W._client,arguments);return W._client._depth-=1,B})});const S=W})(),a=a.default,a})())})(Ui);var fo=Ui.exports;const ho=wr(fo);var Fi={exports:{}};(function(t,e){(function(r,n){n(t)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Me,function(r){var n,i;if(!((i=(n=globalThis.chrome)==null?void 0:n.runtime)!=null&&i.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const a="The message port closed before a response was received.",u=f=>{const h={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(h).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class l extends WeakMap{constructor(R,H=void 0){super(H),this.createItem=R}get(R){return this.has(R)||this.set(R,this.createItem(R)),super.get(R)}}const g=I=>I&&typeof I=="object"&&typeof I.then=="function",v=(I,R)=>(...H)=>{f.runtime.lastError?I.reject(new Error(f.runtime.lastError.message)):R.singleCallbackArg||H.length<=1&&R.singleCallbackArg!==!1?I.resolve(H[0]):I.resolve(H)},p=I=>I==1?"argument":"arguments",y=(I,R)=>function(ne,...me){if(me.length<R.minArgs)throw new Error(`Expected at least ${R.minArgs} ${p(R.minArgs)} for ${I}(), got ${me.length}`);if(me.length>R.maxArgs)throw new Error(`Expected at most ${R.maxArgs} ${p(R.maxArgs)} for ${I}(), got ${me.length}`);return new Promise((F,W)=>{if(R.fallbackToNoCallback)try{ne[I](...me,v({resolve:F,reject:W},R))}catch(S){console.warn(`${I} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,S),ne[I](...me),R.fallbackToNoCallback=!1,R.noCallback=!0,F()}else R.noCallback?(ne[I](...me),F()):ne[I](...me,v({resolve:F,reject:W},R))})},b=(I,R,H)=>new Proxy(R,{apply(ne,me,F){return H.call(me,I,...F)}});let m=Function.call.bind(Object.prototype.hasOwnProperty);const x=(I,R={},H={})=>{let ne=Object.create(null),me={has(W,S){return S in I||S in ne},get(W,S,M){if(S in ne)return ne[S];if(!(S in I))return;let B=I[S];if(typeof B=="function")if(typeof R[S]=="function")B=b(I,I[S],R[S]);else if(m(H,S)){let Q=y(S,H[S]);B=b(I,I[S],Q)}else B=B.bind(I);else if(typeof B=="object"&&B!==null&&(m(R,S)||m(H,S)))B=x(B,R[S],H[S]);else if(m(H,"*"))B=x(B,R[S],H["*"]);else return Object.defineProperty(ne,S,{configurable:!0,enumerable:!0,get(){return I[S]},set(Q){I[S]=Q}}),B;return ne[S]=B,B},set(W,S,M,B){return S in ne?ne[S]=M:I[S]=M,!0},defineProperty(W,S,M){return Reflect.defineProperty(ne,S,M)},deleteProperty(W,S){return Reflect.deleteProperty(ne,S)}},F=Object.create(I);return new Proxy(F,me)},O=I=>({addListener(R,H,...ne){R.addListener(I.get(H),...ne)},hasListener(R,H){return R.hasListener(I.get(H))},removeListener(R,H){R.removeListener(I.get(H))}}),N=new l(I=>typeof I!="function"?I:function(H){const ne=x(H,{},{getContent:{minArgs:0,maxArgs:0}});I(ne)}),A=new l(I=>typeof I!="function"?I:function(H,ne,me){let F=!1,W,S=new Promise(q=>{W=function(oe){F=!0,q(oe)}}),M;try{M=I(H,ne,W)}catch(q){M=Promise.reject(q)}const B=M!==!0&&g(M);if(M!==!0&&!B&&!F)return!1;const Q=q=>{q.then(oe=>{me(oe)},oe=>{let re;oe&&(oe instanceof Error||typeof oe.message=="string")?re=oe.message:re="An unexpected error occurred",me({__mozWebExtensionPolyfillReject__:!0,message:re})}).catch(oe=>{console.error("Failed to send onMessage rejected reply",oe)})};return Q(B?M:S),!0}),E=({reject:I,resolve:R},H)=>{f.runtime.lastError?f.runtime.lastError.message===a?R():I(new Error(f.runtime.lastError.message)):H&&H.__mozWebExtensionPolyfillReject__?I(new Error(H.message)):R(H)},D=(I,R,H,...ne)=>{if(ne.length<R.minArgs)throw new Error(`Expected at least ${R.minArgs} ${p(R.minArgs)} for ${I}(), got ${ne.length}`);if(ne.length>R.maxArgs)throw new Error(`Expected at most ${R.maxArgs} ${p(R.maxArgs)} for ${I}(), got ${ne.length}`);return new Promise((me,F)=>{const W=E.bind(null,{resolve:me,reject:F});ne.push(W),H.sendMessage(...ne)})},L={devtools:{network:{onRequestFinished:O(N)}},runtime:{onMessage:O(A),onMessageExternal:O(A),sendMessage:D.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:D.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},z={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return h.privacy={network:{"*":z},services:{"*":z},websites:{"*":z}},x(f,L,h)};r.exports=u(chrome)}else r.exports=globalThis.browser})})(Fi);var go=Fi.exports;const dt=wr(go);var qt=dt;function po(){return typeof window>"u"}function mo(t){return t.map(e=>(e.file.startsWith("chrome-extension")?e.file=e.file.replace(/chrome-extension:/g,"chrome_extension:"):e.file.startsWith("moz-extension")?e.file=e.file.replace(/moz-extension:\/\/.*?\//g,"moz_extension://elfaihghhjjoknimpccccmkioofjjfkf/"):e.file.startsWith("safari-web-extension:")&&(e.file=e.file.replace(/safari-web-extension:\/\/.*?\//g,"safari_web_extension://elfaihghhjjoknimpccccmkioofjjfkf/")),e))}class ws{constructor(e){pe(this,"sampleId",ws.randomId());this.decimalPercentSampled=e}static randomId(){return Math.random()}updateSampledPercent(e){this.decimalPercentSampled=e}get isSampled(){return this.sampleId<this.decimalPercentSampled}}function yo(){let t=/^.+?(-|_)(.+?)($|-|_)/,e=[...typeof navigator<"u"?navigator.languages:[],Intl.DateTimeFormat().resolvedOptions().locale].map(r=>{var n;return(n=r.match(t))==null?void 0:n[2]}).find(r=>!!r);return e==null?void 0:e.toUpperCase()}var vo=13,Wi="abcdefghijklmnopqrstuvwxyz0123456789",_o=Wi.length;function bo(){let t="";for(let e=0;e<vo;e++)t+=Wi.charAt(Math.floor(Math.random()*_o));return t}const wo=new Error("request for lock canceled");var Ao=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function f(g){try{l(n.next(g))}catch(v){u(v)}}function h(g){try{l(n.throw(g))}catch(v){u(v)}}function l(g){g.done?a(g.value):i(g.value).then(f,h)}l((n=n.apply(t,e||[])).next())})};class xo{constructor(e,r=wo){this._value=e,this._cancelError=r,this._weightedQueues=[],this._weightedWaiters=[]}acquire(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((r,n)=>{this._weightedQueues[e-1]||(this._weightedQueues[e-1]=[]),this._weightedQueues[e-1].push({resolve:r,reject:n}),this._dispatch()})}runExclusive(e,r=1){return Ao(this,void 0,void 0,function*(){const[n,i]=yield this.acquire(r);try{return yield e(n)}finally{i()}})}waitForUnlock(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise(r=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),this._weightedWaiters[e-1].push(r),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatch()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatch()}cancel(){this._weightedQueues.forEach(e=>e.forEach(r=>r.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var e;for(let r=this._value;r>0;r--){const n=(e=this._weightedQueues[r-1])===null||e===void 0?void 0:e.shift();if(!n)continue;const i=this._value,a=r;this._value-=r,r=this._value+1,n.resolve([i,this._newReleaser(a)])}this._drainUnlockWaiters()}_newReleaser(e){let r=!1;return()=>{r||(r=!0,this.release(e))}}_drainUnlockWaiters(){for(let e=this._value;e>0;e--)this._weightedWaiters[e-1]&&(this._weightedWaiters[e-1].forEach(r=>r()),this._weightedWaiters[e-1]=[])}}var Eo=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function f(g){try{l(n.next(g))}catch(v){u(v)}}function h(g){try{l(n.throw(g))}catch(v){u(v)}}function l(g){g.done?a(g.value):i(g.value).then(f,h)}l((n=n.apply(t,e||[])).next())})};class So{constructor(e){this._semaphore=new xo(1,e)}acquire(){return Eo(this,void 0,void 0,function*(){const[,e]=yield this._semaphore.acquire();return e})}runExclusive(e){return this._semaphore.runExclusive(()=>e())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}function To(t){const e=new So;return(...r)=>e.runExclusive(()=>t(...r))}function Oo(t,e){return(...r)=>new Promise((n,i)=>{e(...r).then(n).catch(i),setTimeout(()=>i(new Zi(t)),t)})}class Zi extends Error{constructor(e){super(`Promise timed out after ${e}ms`)}}async function No(t){const e=await t.getItem("installId");if(e)return e;const r=bo();return await t.setItem("installId",r),r}const ko=To(No);async function Io(t){const[e,r,n]=await Promise.all([t.getBirthYear(),t.hasAcceptedTos(),t.hasAcceptedDataCollection()]);return{birthYear:e,hasAcceptedTos:r,hasAcceptedDataCollection:n}}function Co({birthYear:t,hasAcceptedTos:e,hasAcceptedDataCollection:r}){return e&&r==="accepted"&&Do(t??0)}function Do(t){return new Date().getFullYear()-t>=18}const Mo=.1;function Ro(t){const e=globalThis.Bugsnag;if(e)return e;const r=new ws(t.sampleRate||Mo),n=u=>{var f;return r.isSampled&&!!((f=u.errors)!=null&&f.some(h=>{var l;return(((l=t.isErrorValid)==null?void 0:l.call(t,h))??!0)&&!Po(t.remoteConfig,h)}))},i=async()=>{const u=await Io(t.prefs);return Co(u)},a=t.start({appVersion:"1.34.2",enabledReleaseStages:["production"],releaseStage:"production",logger:null,onError:[i,n]});return ko(t.storage).then(u=>a.setUser(u,"","")),globalThis.Bugsnag=a,globalThis.excludeFuncFromStacktrace=Lo,a}function Lo(t){return e=>{e.errors.forEach(r=>{const n=1+r.stacktrace.findIndex(i=>i.method===t.name);r.stacktrace=r.stacktrace.slice(n)})}}function Po(t,e){const{bugsnagIngoreMatches:r}=t.getValue();return r.some(n=>e.errorMessage.match(n))}const jo=["bytes","KiB","MiB","GiB"];function Hi(t){let e=0;for(;t>=1024&&++e;)t=t/1024;return t.toFixed(t<10&&e>0?1:0)+" "+jo[e]}async function Bo(){let t="0",e="0",r=0;if(navigator.storage&&navigator.storage.estimate){const n=await navigator.storage.estimate();n.quota&&n.usage&&(t=Hi(n.quota),e=Hi(n.usage),r=Math.round(n.usage/n.quota*100))}return{quota:t,usage:e,percentageUsed:r}}var yn={exports:{}};yn.exports,function(t,e){var r=200,n="__lodash_hash_undefined__",i=1,a=2,u=9007199254740991,f="[object Arguments]",h="[object Array]",l="[object AsyncFunction]",g="[object Boolean]",v="[object Date]",p="[object Error]",y="[object Function]",b="[object GeneratorFunction]",m="[object Map]",x="[object Number]",O="[object Null]",N="[object Object]",A="[object Promise]",E="[object Proxy]",D="[object RegExp]",L="[object Set]",z="[object String]",I="[object Symbol]",R="[object Undefined]",H="[object WeakMap]",ne="[object ArrayBuffer]",me="[object DataView]",F="[object Float32Array]",W="[object Float64Array]",S="[object Int8Array]",M="[object Int16Array]",B="[object Int32Array]",Q="[object Uint8Array]",q="[object Uint8ClampedArray]",oe="[object Uint16Array]",re="[object Uint32Array]",Ie=/[\\^$.*+?()[\]{}|]/g,tt=/^\[object .+?Constructor\]$/,ut=/^(?:0|[1-9]\d*)$/,ye={};ye[F]=ye[W]=ye[S]=ye[M]=ye[B]=ye[Q]=ye[q]=ye[oe]=ye[re]=!0,ye[f]=ye[h]=ye[ne]=ye[g]=ye[me]=ye[v]=ye[p]=ye[y]=ye[m]=ye[x]=ye[N]=ye[D]=ye[L]=ye[z]=ye[H]=!1;var ct=typeof Me=="object"&&Me&&Me.Object===Object&&Me,rt=typeof self=="object"&&self&&self.Object===Object&&self,We=ct||rt||Function("return this")(),or=e&&!e.nodeType&&e,ur=or&&!0&&t&&!t.nodeType&&t,Dt=ur&&ur.exports===or,Et=Dt&&ct.process,cr=function(){try{return Et&&Et.binding&&Et.binding("util")}catch{}}(),mt=cr&&cr.isTypedArray;function St(s,o){for(var c=-1,d=s==null?0:s.length,_=0,w=[];++c<d;){var T=s[c];o(T,c,s)&&(w[_++]=T)}return w}function Mt(s,o){for(var c=-1,d=o.length,_=s.length;++c<d;)s[_+c]=o[c];return s}function Ye(s,o){for(var c=-1,d=s==null?0:s.length;++c<d;)if(o(s[c],c,s))return!0;return!1}function lr(s,o){for(var c=-1,d=Array(s);++c<s;)d[c]=o(c);return d}function rn(s){return function(o){return s(o)}}function Cr(s,o){return s.has(o)}function dr(s,o){return s==null?void 0:s[o]}function Ge(s){var o=-1,c=Array(s.size);return s.forEach(function(d,_){c[++o]=[_,d]}),c}function yt(s,o){return function(c){return s(o(c))}}function Rt(s){var o=-1,c=Array(s.size);return s.forEach(function(d){c[++o]=d}),c}var he=Array.prototype,ve=Function.prototype,se=Object.prototype,be=We["__core-js_shared__"],nt=ve.toString,Te=se.hasOwnProperty,ge=function(){var s=/[^.]+$/.exec(be&&be.keys&&be.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),ie=se.toString,Xe=RegExp("^"+nt.call(Te).replace(Ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zt=Dt?We.Buffer:void 0,Lt=We.Symbol,Gn=We.Uint8Array,nn=se.propertyIsEnumerable,fr=he.splice,vt=Lt?Lt.toStringTag:void 0,hr=Object.getOwnPropertySymbols,Kn=Zt?Zt.isBuffer:void 0,qn=yt(Object.keys,Object),sn=Yt(We,"DataView"),Ht=Yt(We,"Map"),an=Yt(We,"Promise"),on=Yt(We,"Set"),gr=Yt(We,"WeakMap"),pr=Yt(Object,"create"),gi=Pt(sn),un=Pt(Ht),Tt=Pt(an),pi=Pt(on),mi=Pt(gr),Xn=Lt?Lt.prototype:void 0,mr=Xn?Xn.valueOf:void 0;function Qe(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var d=s[o];this.set(d[0],d[1])}}function Jn(){this.__data__=pr?pr(null):{},this.size=0}function cn(s){var o=this.has(s)&&delete this.__data__[s];return this.size-=o?1:0,o}function Qn(s){var o=this.__data__;if(pr){var c=o[s];return c===n?void 0:c}return Te.call(o,s)?o[s]:void 0}function yi(s){var o=this.__data__;return pr?o[s]!==void 0:Te.call(o,s)}function vi(s,o){var c=this.__data__;return this.size+=this.has(s)?0:1,c[s]=pr&&o===void 0?n:o,this}Qe.prototype.clear=Jn,Qe.prototype.delete=cn,Qe.prototype.get=Qn,Qe.prototype.has=yi,Qe.prototype.set=vi;function lt(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var d=s[o];this.set(d[0],d[1])}}function _i(){this.__data__=[],this.size=0}function bi(s){var o=this.__data__,c=vr(o,s);if(c<0)return!1;var d=o.length-1;return c==d?o.pop():fr.call(o,c,1),--this.size,!0}function wi(s){var o=this.__data__,c=vr(o,s);return c<0?void 0:o[c][1]}function ln(s){return vr(this.__data__,s)>-1}function es(s,o){var c=this.__data__,d=vr(c,s);return d<0?(++this.size,c.push([s,o])):c[d][1]=o,this}lt.prototype.clear=_i,lt.prototype.delete=bi,lt.prototype.get=wi,lt.prototype.has=ln,lt.prototype.set=es;function Ot(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var d=s[o];this.set(d[0],d[1])}}function Ai(){this.size=0,this.__data__={hash:new Qe,map:new(Ht||lt),string:new Qe}}function xi(s){var o=Mr(this,s).delete(s);return this.size-=o?1:0,o}function Ei(s){return Mr(this,s).get(s)}function ts(s){return Mr(this,s).has(s)}function yr(s,o){var c=Mr(this,s),d=c.size;return c.set(s,o),this.size+=c.size==d?0:1,this}Ot.prototype.clear=Ai,Ot.prototype.delete=xi,Ot.prototype.get=Ei,Ot.prototype.has=ts,Ot.prototype.set=yr;function zt(s){var o=-1,c=s==null?0:s.length;for(this.__data__=new Ot;++o<c;)this.add(s[o])}function Dr(s){return this.__data__.set(s,n),this}function rs(s){return this.__data__.has(s)}zt.prototype.add=zt.prototype.push=Dr,zt.prototype.has=rs;function _t(s){var o=this.__data__=new lt(s);this.size=o.size}function Si(){this.__data__=new lt,this.size=0}function ns(s){var o=this.__data__,c=o.delete(s);return this.size=o.size,c}function Ti(s){return this.__data__.get(s)}function ss(s){return this.__data__.has(s)}function Oi(s,o){var c=this.__data__;if(c instanceof lt){var d=c.__data__;if(!Ht||d.length<r-1)return d.push([s,o]),this.size=++c.size,this;c=this.__data__=new Ot(d)}return c.set(s,o),this.size=c.size,this}_t.prototype.clear=Si,_t.prototype.delete=ns,_t.prototype.get=Ti,_t.prototype.has=ss,_t.prototype.set=Oi;function Ni(s,o){var c=Lr(s),d=!c&&fn(s),_=!c&&!d&&Pr(s),w=!c&&!d&&!_&&_s(s),T=c||d||_||w,C=T?lr(s.length,String):[],k=C.length;for(var j in s)(o||Te.call(s,j))&&!(T&&(j=="length"||_&&(j=="offset"||j=="parent")||w&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||Rr(j,k)))&&C.push(j);return C}function vr(s,o){for(var c=s.length;c--;)if(ms(s[c][0],o))return c;return-1}function ki(s,o,c){var d=o(s);return Lr(s)?d:Mt(d,c(s))}function _r(s){return s==null?s===void 0?R:O:vt&&vt in Object(s)?Ci(s):Gt(s)}function is(s){return br(s)&&_r(s)==f}function as(s,o,c,d,_){return s===o?!0:s==null||o==null||!br(s)&&!br(o)?s!==s&&o!==o:os(s,o,c,d,as,_)}function os(s,o,c,d,_,w){var T=Lr(s),C=Lr(o),k=T?h:bt(s),j=C?h:bt(o);k=k==f?N:k,j=j==f?N:j;var U=k==N,G=j==N,P=k==j;if(P&&Pr(s)){if(!Pr(o))return!1;T=!0,U=!1}if(P&&!U)return w||(w=new _t),T||_s(s)?ls(s,o,c,d,_,w):dn(s,o,k,c,d,_,w);if(!(c&i)){var ee=U&&Te.call(s,"__wrapped__"),ue=G&&Te.call(o,"__wrapped__");if(ee||ue){var we=ee?s.value():s,X=ue?o.value():o;return w||(w=new _t),_(we,X,c,d,w)}}return P?(w||(w=new _t),ds(s,o,c,d,_,w)):!1}function Ii(s){if(!Nt(s)||gs(s))return!1;var o=ys(s)?Xe:tt;return o.test(Pt(s))}function us(s){return br(s)&&vs(s.length)&&!!ye[_r(s)]}function cs(s){if(!ps(s))return qn(s);var o=[];for(var c in Object(s))Te.call(s,c)&&c!="constructor"&&o.push(c);return o}function ls(s,o,c,d,_,w){var T=c&i,C=s.length,k=o.length;if(C!=k&&!(T&&k>C))return!1;var j=w.get(s);if(j&&w.get(o))return j==o;var U=-1,G=!0,P=c&a?new zt:void 0;for(w.set(s,o),w.set(o,s);++U<C;){var ee=s[U],ue=o[U];if(d)var we=T?d(ue,ee,U,o,s,w):d(ee,ue,U,s,o,w);if(we!==void 0){if(we)continue;G=!1;break}if(P){if(!Ye(o,function(X,le){if(!Cr(P,le)&&(ee===X||_(ee,X,c,d,w)))return P.push(le)})){G=!1;break}}else if(!(ee===ue||_(ee,ue,c,d,w))){G=!1;break}}return w.delete(s),w.delete(o),G}function dn(s,o,c,d,_,w,T){switch(c){case me:if(s.byteLength!=o.byteLength||s.byteOffset!=o.byteOffset)return!1;s=s.buffer,o=o.buffer;case ne:return!(s.byteLength!=o.byteLength||!w(new Gn(s),new Gn(o)));case g:case v:case x:return ms(+s,+o);case p:return s.name==o.name&&s.message==o.message;case D:case z:return s==o+"";case m:var C=Ge;case L:var k=d&i;if(C||(C=Rt),s.size!=o.size&&!k)return!1;var j=T.get(s);if(j)return j==o;d|=a,T.set(s,o);var U=ls(C(s),C(o),d,_,w,T);return T.delete(s),U;case I:if(mr)return mr.call(s)==mr.call(o)}return!1}function ds(s,o,c,d,_,w){var T=c&i,C=fs(s),k=C.length,j=fs(o),U=j.length;if(k!=U&&!T)return!1;for(var G=k;G--;){var P=C[G];if(!(T?P in o:Te.call(o,P)))return!1}var ee=w.get(s);if(ee&&w.get(o))return ee==o;var ue=!0;w.set(s,o),w.set(o,s);for(var we=T;++G<k;){P=C[G];var X=s[P],le=o[P];if(d)var Le=T?d(le,X,P,o,s,w):d(X,le,P,s,o,w);if(!(Le===void 0?X===le||_(X,le,c,d,w):Le)){ue=!1;break}we||(we=P=="constructor")}if(ue&&!we){var ke=s.constructor,Be=o.constructor;ke!=Be&&"constructor"in s&&"constructor"in o&&!(typeof ke=="function"&&ke instanceof ke&&typeof Be=="function"&&Be instanceof Be)&&(ue=!1)}return w.delete(s),w.delete(o),ue}function fs(s){return ki(s,Ri,hs)}function Mr(s,o){var c=s.__data__;return Di(o)?c[typeof o=="string"?"string":"hash"]:c.map}function Yt(s,o){var c=dr(s,o);return Ii(c)?c:void 0}function Ci(s){var o=Te.call(s,vt),c=s[vt];try{s[vt]=void 0;var d=!0}catch{}var _=ie.call(s);return d&&(o?s[vt]=c:delete s[vt]),_}var hs=hr?function(s){return s==null?[]:(s=Object(s),St(hr(s),function(o){return nn.call(s,o)}))}:Li,bt=_r;(sn&&bt(new sn(new ArrayBuffer(1)))!=me||Ht&&bt(new Ht)!=m||an&&bt(an.resolve())!=A||on&&bt(new on)!=L||gr&&bt(new gr)!=H)&&(bt=function(s){var o=_r(s),c=o==N?s.constructor:void 0,d=c?Pt(c):"";if(d)switch(d){case gi:return me;case un:return m;case Tt:return A;case pi:return L;case mi:return H}return o});function Rr(s,o){return o=o??u,!!o&&(typeof s=="number"||ut.test(s))&&s>-1&&s%1==0&&s<o}function Di(s){var o=typeof s;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?s!=="__proto__":s===null}function gs(s){return!!ge&&ge in s}function ps(s){var o=s&&s.constructor,c=typeof o=="function"&&o.prototype||se;return s===c}function Gt(s){return ie.call(s)}function Pt(s){if(s!=null){try{return nt.call(s)}catch{}try{return s+""}catch{}}return""}function ms(s,o){return s===o||s!==s&&o!==o}var fn=is(function(){return arguments}())?is:function(s){return br(s)&&Te.call(s,"callee")&&!nn.call(s,"callee")},Lr=Array.isArray;function Mi(s){return s!=null&&vs(s.length)&&!ys(s)}var Pr=Kn||Ze;function hn(s,o){return as(s,o)}function ys(s){if(!Nt(s))return!1;var o=_r(s);return o==y||o==b||o==l||o==E}function vs(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=u}function Nt(s){var o=typeof s;return s!=null&&(o=="object"||o=="function")}function br(s){return s!=null&&typeof s=="object"}var _s=mt?rn(mt):us;function Ri(s){return Mi(s)?Ni(s):cs(s)}function Li(){return[]}function Ze(){return!1}t.exports=hn}(yn,yn.exports);var Vo=yn.exports;const zi=wr(Vo);function $o(t){let e=new Set,r={...t.defaultConfig},n,i;async function a(){try{let l=await Promise.all(t.urls.map(y=>fetch(y))),g=await Promise.all(l.map(y=>y.json())),v={...t.defaultConfig,...Object.assign({},...g)},p=r;return n=Date.now(),r=v,await t.persistConfig(v),await t.persistLastFetchedTime(n),e.forEach(y=>{zi(v,p)||y(v,p)}),v}catch(l){throw new Error(`Failed to fetch remote config: ${String(l)}`)}}function u(l){return e.add(l),()=>{e.delete(l)}}let f=t.restoreConfig(),h=t.restoreLastFetchedTime();return f&&h?i=Promise.all([f,h]).then(([l,g])=>(l&&(r=l,n=g),r)):i=Promise.resolve(r),{fetchLatest:a,addChangeListener:u,get value(){return r},get lastFetchedTime(){return n},get restoredPromise(){return new Promise((l,g)=>{i.then(()=>l(r)).catch(g)})}}}var _e;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const u of i)a[u]=u;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(f=>typeof i[i[f]]!="number"),u={};for(const f of a)u[f]=i[f];return t.objectValues(u)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const u in i)Object.prototype.hasOwnProperty.call(i,u)&&a.push(u);return a},t.find=(i,a)=>{for(const u of i)if(a(u))return u},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(u=>typeof u=="string"?`'${u}'`:u).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(_e||(_e={}));var As;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(As||(As={}));const Y=_e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),jt=t=>{switch(typeof t){case"undefined":return Y.undefined;case"string":return Y.string;case"number":return isNaN(t)?Y.nan:Y.number;case"boolean":return Y.boolean;case"function":return Y.function;case"bigint":return Y.bigint;case"symbol":return Y.symbol;case"object":return Array.isArray(t)?Y.array:t===null?Y.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Y.promise:typeof Map<"u"&&t instanceof Map?Y.map:typeof Set<"u"&&t instanceof Set?Y.set:typeof Date<"u"&&t instanceof Date?Y.date:Y.object;default:return Y.unknown}},$=_e.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Uo=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ft extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const u of a.issues)if(u.code==="invalid_union")u.unionErrors.map(i);else if(u.code==="invalid_return_type")i(u.returnTypeError);else if(u.code==="invalid_arguments")i(u.argumentsError);else if(u.path.length===0)n._errors.push(r(u));else{let f=n,h=0;for(;h<u.path.length;){const l=u.path[h];h===u.path.length-1?(f[l]=f[l]||{_errors:[]},f[l]._errors.push(r(u))):f[l]=f[l]||{_errors:[]},f=f[l],h++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,_e.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ft.create=t=>new ft(t);const Br=(t,e)=>{let r;switch(t.code){case $.invalid_type:t.received===Y.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case $.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,_e.jsonStringifyReplacer)}`;break;case $.unrecognized_keys:r=`Unrecognized key(s) in object: ${_e.joinValues(t.keys,", ")}`;break;case $.invalid_union:r="Invalid input";break;case $.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${_e.joinValues(t.options)}`;break;case $.invalid_enum_value:r=`Invalid enum value. Expected ${_e.joinValues(t.options)}, received '${t.received}'`;break;case $.invalid_arguments:r="Invalid function arguments";break;case $.invalid_return_type:r="Invalid function return type";break;case $.invalid_date:r="Invalid date";break;case $.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:_e.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case $.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case $.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case $.custom:r="Invalid input";break;case $.invalid_intersection_types:r="Intersection results could not be merged";break;case $.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case $.not_finite:r="Number must be finite";break;default:r=e.defaultError,_e.assertNever(t)}return{message:r}};let Yi=Br;function Fo(t){Yi=t}function vn(){return Yi}const _n=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],u={...i,path:a};let f="";const h=n.filter(l=>!!l).slice().reverse();for(const l of h)f=l(u,{data:e,defaultError:f}).message;return{...i,path:a,message:i.message||f}},Wo=[];function K(t,e){const r=_n({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,vn(),Br].filter(n=>!!n)});t.common.issues.push(r)}class He{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return ce;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r)n.push({key:await i.key,value:await i.value});return He.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:u}=i;if(a.status==="aborted"||u.status==="aborted")return ce;a.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof u.value<"u"||i.alwaysSet)&&(n[a.value]=u.value)}return{status:e.value,value:n}}}const ce=Object.freeze({status:"aborted"}),Gi=t=>({status:"dirty",value:t}),Ke=t=>({status:"valid",value:t}),xs=t=>t.status==="aborted",Es=t=>t.status==="dirty",Vr=t=>t.status==="valid",bn=t=>typeof Promise<"u"&&t instanceof Promise;var te;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(te||(te={}));class wt{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ki=(t,e)=>{if(Vr(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ft(t.common.issues);return this._error=r,this._error}}};function de(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(u,f)=>u.code!=="invalid_type"?{message:f.defaultError}:typeof f.data>"u"?{message:n??f.defaultError}:{message:r??f.defaultError},description:i}}class fe{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return jt(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:jt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new He,ctx:{common:e.parent.common,data:e.data,parsedType:jt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(bn(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jt(e)},a=this._parseSync({data:e,path:i.path,parent:i});return Ki(i,a)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:jt(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(bn(i)?i:Promise.resolve(i));return Ki(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const u=e(i),f=()=>a.addIssue({code:$.custom,...n(i)});return typeof Promise<"u"&&u instanceof Promise?u.then(h=>h?!0:(f(),!1)):u?!0:(f(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new pt({schema:this,typeName:ae.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return It.create(this,this._def)}nullable(){return er.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return gt.create(this,this._def)}promise(){return Sr.create(this,this._def)}or(e){return Wr.create([this,e],this._def)}and(e){return Zr.create(this,e,this._def)}transform(e){return new pt({...de(this._def),schema:this,typeName:ae.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Kr({...de(this._def),innerType:this,defaultValue:r,typeName:ae.ZodDefault})}brand(){return new Xi({typeName:ae.ZodBranded,type:this,...de(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Tn({...de(this._def),innerType:this,catchValue:r,typeName:ae.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return qr.create(this,e)}readonly(){return Nn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Zo=/^c[^\s-]{8,}$/i,Ho=/^[a-z][a-z0-9]*$/,zo=/^[0-9A-HJKMNP-TV-Z]{26}$/,Yo=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Go=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ko="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ss;const qo=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Xo=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Jo=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Qo(t,e){return!!((e==="v4"||!e)&&qo.test(t)||(e==="v6"||!e)&&Xo.test(t))}class ht extends fe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Y.string){const a=this._getOrReturnCtx(e);return K(a,{code:$.invalid_type,expected:Y.string,received:a.parsedType}),ce}const n=new He;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),K(i,{code:$.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),K(i,{code:$.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const u=e.data.length>a.value,f=e.data.length<a.value;(u||f)&&(i=this._getOrReturnCtx(e,i),u?K(i,{code:$.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):f&&K(i,{code:$.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")Go.test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"email",code:$.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Ss||(Ss=new RegExp(Ko,"u")),Ss.test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"emoji",code:$.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")Yo.test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"uuid",code:$.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")Zo.test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"cuid",code:$.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")Ho.test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"cuid2",code:$.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")zo.test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"ulid",code:$.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),K(i,{validation:"url",code:$.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"regex",code:$.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),K(i,{code:$.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),K(i,{code:$.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),K(i,{code:$.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?Jo(a).test(e.data)||(i=this._getOrReturnCtx(e,i),K(i,{code:$.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="ip"?Qo(e.data,a.version)||(i=this._getOrReturnCtx(e,i),K(i,{validation:"ip",code:$.invalid_string,message:a.message}),n.dirty()):_e.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:$.invalid_string,...te.errToObj(n)})}_addCheck(e){return new ht({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...te.errToObj(e)})}url(e){return this._addCheck({kind:"url",...te.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...te.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...te.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...te.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...te.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...te.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...te.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,...te.errToObj(e==null?void 0:e.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...te.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...te.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...te.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...te.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...te.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...te.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...te.errToObj(r)})}nonempty(e){return this.min(1,te.errToObj(e))}trim(){return new ht({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ht({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ht({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ht.create=t=>{var e;return new ht({checks:[],typeName:ae.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...de(t)})};function eu(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=parseInt(t.toFixed(i).replace(".","")),u=parseInt(e.toFixed(i).replace(".",""));return a%u/Math.pow(10,i)}class Bt extends fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Y.number){const a=this._getOrReturnCtx(e);return K(a,{code:$.invalid_type,expected:Y.number,received:a.parsedType}),ce}let n;const i=new He;for(const a of this._def.checks)a.kind==="int"?_e.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),K(n,{code:$.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),K(n,{code:$.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),K(n,{code:$.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?eu(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),K(n,{code:$.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),K(n,{code:$.not_finite,message:a.message}),i.dirty()):_e.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,te.toString(r))}gt(e,r){return this.setLimit("min",e,!1,te.toString(r))}lte(e,r){return this.setLimit("max",e,!0,te.toString(r))}lt(e,r){return this.setLimit("max",e,!1,te.toString(r))}setLimit(e,r,n,i){return new Bt({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:te.toString(i)}]})}_addCheck(e){return new Bt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:te.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:te.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:te.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:te.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:te.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:te.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&_e.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Bt.create=t=>new Bt({checks:[],typeName:ae.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...de(t)});class Vt extends fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Y.bigint){const a=this._getOrReturnCtx(e);return K(a,{code:$.invalid_type,expected:Y.bigint,received:a.parsedType}),ce}let n;const i=new He;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),K(n,{code:$.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),K(n,{code:$.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),K(n,{code:$.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):_e.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,te.toString(r))}gt(e,r){return this.setLimit("min",e,!1,te.toString(r))}lte(e,r){return this.setLimit("max",e,!0,te.toString(r))}lt(e,r){return this.setLimit("max",e,!1,te.toString(r))}setLimit(e,r,n,i){return new Vt({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:te.toString(i)}]})}_addCheck(e){return new Vt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:te.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:te.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Vt.create=t=>{var e;return new Vt({checks:[],typeName:ae.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...de(t)})};class $r extends fe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Y.boolean){const n=this._getOrReturnCtx(e);return K(n,{code:$.invalid_type,expected:Y.boolean,received:n.parsedType}),ce}return Ke(e.data)}}$r.create=t=>new $r({typeName:ae.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...de(t)});class Xt extends fe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Y.date){const a=this._getOrReturnCtx(e);return K(a,{code:$.invalid_type,expected:Y.date,received:a.parsedType}),ce}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return K(a,{code:$.invalid_date}),ce}const n=new He;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),K(i,{code:$.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),K(i,{code:$.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):_e.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Xt({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:te.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:te.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Xt.create=t=>new Xt({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ae.ZodDate,...de(t)});class wn extends fe{_parse(e){if(this._getType(e)!==Y.symbol){const n=this._getOrReturnCtx(e);return K(n,{code:$.invalid_type,expected:Y.symbol,received:n.parsedType}),ce}return Ke(e.data)}}wn.create=t=>new wn({typeName:ae.ZodSymbol,...de(t)});class Ur extends fe{_parse(e){if(this._getType(e)!==Y.undefined){const n=this._getOrReturnCtx(e);return K(n,{code:$.invalid_type,expected:Y.undefined,received:n.parsedType}),ce}return Ke(e.data)}}Ur.create=t=>new Ur({typeName:ae.ZodUndefined,...de(t)});class Fr extends fe{_parse(e){if(this._getType(e)!==Y.null){const n=this._getOrReturnCtx(e);return K(n,{code:$.invalid_type,expected:Y.null,received:n.parsedType}),ce}return Ke(e.data)}}Fr.create=t=>new Fr({typeName:ae.ZodNull,...de(t)});class Ar extends fe{constructor(){super(...arguments),this._any=!0}_parse(e){return Ke(e.data)}}Ar.create=t=>new Ar({typeName:ae.ZodAny,...de(t)});class Jt extends fe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ke(e.data)}}Jt.create=t=>new Jt({typeName:ae.ZodUnknown,...de(t)});class kt extends fe{_parse(e){const r=this._getOrReturnCtx(e);return K(r,{code:$.invalid_type,expected:Y.never,received:r.parsedType}),ce}}kt.create=t=>new kt({typeName:ae.ZodNever,...de(t)});class An extends fe{_parse(e){if(this._getType(e)!==Y.undefined){const n=this._getOrReturnCtx(e);return K(n,{code:$.invalid_type,expected:Y.void,received:n.parsedType}),ce}return Ke(e.data)}}An.create=t=>new An({typeName:ae.ZodVoid,...de(t)});class gt extends fe{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Y.array)return K(r,{code:$.invalid_type,expected:Y.array,received:r.parsedType}),ce;if(i.exactLength!==null){const u=r.data.length>i.exactLength.value,f=r.data.length<i.exactLength.value;(u||f)&&(K(r,{code:u?$.too_big:$.too_small,minimum:f?i.exactLength.value:void 0,maximum:u?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(K(r,{code:$.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(K(r,{code:$.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((u,f)=>i.type._parseAsync(new wt(r,u,r.path,f)))).then(u=>He.mergeArray(n,u));const a=[...r.data].map((u,f)=>i.type._parseSync(new wt(r,u,r.path,f)));return He.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new gt({...this._def,minLength:{value:e,message:te.toString(r)}})}max(e,r){return new gt({...this._def,maxLength:{value:e,message:te.toString(r)}})}length(e,r){return new gt({...this._def,exactLength:{value:e,message:te.toString(r)}})}nonempty(e){return this.min(1,e)}}gt.create=(t,e)=>new gt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ae.ZodArray,...de(e)});function xr(t){if(t instanceof Ne){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=It.create(xr(n))}return new Ne({...t._def,shape:()=>e})}else return t instanceof gt?new gt({...t._def,type:xr(t.element)}):t instanceof It?It.create(xr(t.unwrap())):t instanceof er?er.create(xr(t.unwrap())):t instanceof At?At.create(t.items.map(e=>xr(e))):t}class Ne extends fe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=_e.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Y.object){const l=this._getOrReturnCtx(e);return K(l,{code:$.invalid_type,expected:Y.object,received:l.parsedType}),ce}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:u}=this._getCached(),f=[];if(!(this._def.catchall instanceof kt&&this._def.unknownKeys==="strip"))for(const l in i.data)u.includes(l)||f.push(l);const h=[];for(const l of u){const g=a[l],v=i.data[l];h.push({key:{status:"valid",value:l},value:g._parse(new wt(i,v,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof kt){const l=this._def.unknownKeys;if(l==="passthrough")for(const g of f)h.push({key:{status:"valid",value:g},value:{status:"valid",value:i.data[g]}});else if(l==="strict")f.length>0&&(K(i,{code:$.unrecognized_keys,keys:f}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const g of f){const v=i.data[g];h.push({key:{status:"valid",value:g},value:l._parse(new wt(i,v,i.path,g)),alwaysSet:g in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const g of h){const v=await g.key;l.push({key:v,value:await g.value,alwaysSet:g.alwaysSet})}return l}).then(l=>He.mergeObjectSync(n,l)):He.mergeObjectSync(n,h)}get shape(){return this._def.shape()}strict(e){return te.errToObj,new Ne({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,a,u,f;const h=(u=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,r,n).message)!==null&&u!==void 0?u:n.defaultError;return r.code==="unrecognized_keys"?{message:(f=te.errToObj(e).message)!==null&&f!==void 0?f:h}:{message:h}}}:{}})}strip(){return new Ne({...this._def,unknownKeys:"strip"})}passthrough(){return new Ne({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ne({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ne({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ae.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Ne({...this._def,catchall:e})}pick(e){const r={};return _e.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ne({...this._def,shape:()=>r})}omit(e){const r={};return _e.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Ne({...this._def,shape:()=>r})}deepPartial(){return xr(this)}partial(e){const r={};return _e.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new Ne({...this._def,shape:()=>r})}required(e){const r={};return _e.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof It;)a=a._def.innerType;r[n]=a}}),new Ne({...this._def,shape:()=>r})}keyof(){return qi(_e.objectKeys(this.shape))}}Ne.create=(t,e)=>new Ne({shape:()=>t,unknownKeys:"strip",catchall:kt.create(),typeName:ae.ZodObject,...de(e)}),Ne.strictCreate=(t,e)=>new Ne({shape:()=>t,unknownKeys:"strict",catchall:kt.create(),typeName:ae.ZodObject,...de(e)}),Ne.lazycreate=(t,e)=>new Ne({shape:t,unknownKeys:"strip",catchall:kt.create(),typeName:ae.ZodObject,...de(e)});class Wr extends fe{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const f of a)if(f.result.status==="valid")return f.result;for(const f of a)if(f.result.status==="dirty")return r.common.issues.push(...f.ctx.common.issues),f.result;const u=a.map(f=>new ft(f.ctx.common.issues));return K(r,{code:$.invalid_union,unionErrors:u}),ce}if(r.common.async)return Promise.all(n.map(async a=>{const u={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:u}),ctx:u}})).then(i);{let a;const u=[];for(const h of n){const l={...r,common:{...r.common,issues:[]},parent:null},g=h._parseSync({data:r.data,path:r.path,parent:l});if(g.status==="valid")return g;g.status==="dirty"&&!a&&(a={result:g,ctx:l}),l.common.issues.length&&u.push(l.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const f=u.map(h=>new ft(h));return K(r,{code:$.invalid_union,unionErrors:f}),ce}}get options(){return this._def.options}}Wr.create=(t,e)=>new Wr({options:t,typeName:ae.ZodUnion,...de(e)});const xn=t=>t instanceof zr?xn(t.schema):t instanceof pt?xn(t.innerType()):t instanceof Yr?[t.value]:t instanceof $t?t.options:t instanceof Gr?Object.keys(t.enum):t instanceof Kr?xn(t._def.innerType):t instanceof Ur?[void 0]:t instanceof Fr?[null]:null;class En extends fe{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Y.object)return K(r,{code:$.invalid_type,expected:Y.object,received:r.parsedType}),ce;const n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(K(r,{code:$.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ce)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const a of r){const u=xn(a.shape[e]);if(!u)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const f of u){if(i.has(f))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(f)}`);i.set(f,a)}}return new En({typeName:ae.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...de(n)})}}function Ts(t,e){const r=jt(t),n=jt(e);if(t===e)return{valid:!0,data:t};if(r===Y.object&&n===Y.object){const i=_e.objectKeys(e),a=_e.objectKeys(t).filter(f=>i.indexOf(f)!==-1),u={...t,...e};for(const f of a){const h=Ts(t[f],e[f]);if(!h.valid)return{valid:!1};u[f]=h.data}return{valid:!0,data:u}}else if(r===Y.array&&n===Y.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const u=t[a],f=e[a],h=Ts(u,f);if(!h.valid)return{valid:!1};i.push(h.data)}return{valid:!0,data:i}}else return r===Y.date&&n===Y.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Zr extends fe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,u)=>{if(xs(a)||xs(u))return ce;const f=Ts(a.value,u.value);return f.valid?((Es(a)||Es(u))&&r.dirty(),{status:r.value,value:f.data}):(K(n,{code:$.invalid_intersection_types}),ce)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,u])=>i(a,u)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Zr.create=(t,e,r)=>new Zr({left:t,right:e,typeName:ae.ZodIntersection,...de(r)});class At extends fe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Y.array)return K(n,{code:$.invalid_type,expected:Y.array,received:n.parsedType}),ce;if(n.data.length<this._def.items.length)return K(n,{code:$.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ce;!this._def.rest&&n.data.length>this._def.items.length&&(K(n,{code:$.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((u,f)=>{const h=this._def.items[f]||this._def.rest;return h?h._parse(new wt(n,u,n.path,f)):null}).filter(u=>!!u);return n.common.async?Promise.all(a).then(u=>He.mergeArray(r,u)):He.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new At({...this._def,rest:e})}}At.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new At({items:t,typeName:ae.ZodTuple,rest:null,...de(e)})};class Hr extends fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Y.object)return K(n,{code:$.invalid_type,expected:Y.object,received:n.parsedType}),ce;const i=[],a=this._def.keyType,u=this._def.valueType;for(const f in n.data)i.push({key:a._parse(new wt(n,f,n.path,f)),value:u._parse(new wt(n,n.data[f],n.path,f))});return n.common.async?He.mergeObjectAsync(r,i):He.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof fe?new Hr({keyType:e,valueType:r,typeName:ae.ZodRecord,...de(n)}):new Hr({keyType:ht.create(),valueType:e,typeName:ae.ZodRecord,...de(r)})}}class Sn extends fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Y.map)return K(n,{code:$.invalid_type,expected:Y.map,received:n.parsedType}),ce;const i=this._def.keyType,a=this._def.valueType,u=[...n.data.entries()].map(([f,h],l)=>({key:i._parse(new wt(n,f,n.path,[l,"key"])),value:a._parse(new wt(n,h,n.path,[l,"value"]))}));if(n.common.async){const f=new Map;return Promise.resolve().then(async()=>{for(const h of u){const l=await h.key,g=await h.value;if(l.status==="aborted"||g.status==="aborted")return ce;(l.status==="dirty"||g.status==="dirty")&&r.dirty(),f.set(l.value,g.value)}return{status:r.value,value:f}})}else{const f=new Map;for(const h of u){const l=h.key,g=h.value;if(l.status==="aborted"||g.status==="aborted")return ce;(l.status==="dirty"||g.status==="dirty")&&r.dirty(),f.set(l.value,g.value)}return{status:r.value,value:f}}}}Sn.create=(t,e,r)=>new Sn({valueType:e,keyType:t,typeName:ae.ZodMap,...de(r)});class Qt extends fe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Y.set)return K(n,{code:$.invalid_type,expected:Y.set,received:n.parsedType}),ce;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(K(n,{code:$.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(K(n,{code:$.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function u(h){const l=new Set;for(const g of h){if(g.status==="aborted")return ce;g.status==="dirty"&&r.dirty(),l.add(g.value)}return{status:r.value,value:l}}const f=[...n.data.values()].map((h,l)=>a._parse(new wt(n,h,n.path,l)));return n.common.async?Promise.all(f).then(h=>u(h)):u(f)}min(e,r){return new Qt({...this._def,minSize:{value:e,message:te.toString(r)}})}max(e,r){return new Qt({...this._def,maxSize:{value:e,message:te.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Qt.create=(t,e)=>new Qt({valueType:t,minSize:null,maxSize:null,typeName:ae.ZodSet,...de(e)});class Er extends fe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Y.function)return K(r,{code:$.invalid_type,expected:Y.function,received:r.parsedType}),ce;function n(f,h){return _n({data:f,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,vn(),Br].filter(l=>!!l),issueData:{code:$.invalid_arguments,argumentsError:h}})}function i(f,h){return _n({data:f,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,vn(),Br].filter(l=>!!l),issueData:{code:$.invalid_return_type,returnTypeError:h}})}const a={errorMap:r.common.contextualErrorMap},u=r.data;if(this._def.returns instanceof Sr){const f=this;return Ke(async function(...h){const l=new ft([]),g=await f._def.args.parseAsync(h,a).catch(y=>{throw l.addIssue(n(h,y)),l}),v=await Reflect.apply(u,this,g);return await f._def.returns._def.type.parseAsync(v,a).catch(y=>{throw l.addIssue(i(v,y)),l})})}else{const f=this;return Ke(function(...h){const l=f._def.args.safeParse(h,a);if(!l.success)throw new ft([n(h,l.error)]);const g=Reflect.apply(u,this,l.data),v=f._def.returns.safeParse(g,a);if(!v.success)throw new ft([i(g,v.error)]);return v.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Er({...this._def,args:At.create(e).rest(Jt.create())})}returns(e){return new Er({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Er({args:e||At.create([]).rest(Jt.create()),returns:r||Jt.create(),typeName:ae.ZodFunction,...de(n)})}}class zr extends fe{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}zr.create=(t,e)=>new zr({getter:t,typeName:ae.ZodLazy,...de(e)});class Yr extends fe{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return K(r,{received:r.data,code:$.invalid_literal,expected:this._def.value}),ce}return{status:"valid",value:e.data}}get value(){return this._def.value}}Yr.create=(t,e)=>new Yr({value:t,typeName:ae.ZodLiteral,...de(e)});function qi(t,e){return new $t({values:t,typeName:ae.ZodEnum,...de(e)})}class $t extends fe{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return K(r,{expected:_e.joinValues(n),received:r.parsedType,code:$.invalid_type}),ce}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),n=this._def.values;return K(r,{received:r.data,code:$.invalid_enum_value,options:n}),ce}return Ke(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return $t.create(e)}exclude(e){return $t.create(this.options.filter(r=>!e.includes(r)))}}$t.create=qi;class Gr extends fe{_parse(e){const r=_e.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Y.string&&n.parsedType!==Y.number){const i=_e.objectValues(r);return K(n,{expected:_e.joinValues(i),received:n.parsedType,code:$.invalid_type}),ce}if(r.indexOf(e.data)===-1){const i=_e.objectValues(r);return K(n,{received:n.data,code:$.invalid_enum_value,options:i}),ce}return Ke(e.data)}get enum(){return this._def.values}}Gr.create=(t,e)=>new Gr({values:t,typeName:ae.ZodNativeEnum,...de(e)});class Sr extends fe{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Y.promise&&r.common.async===!1)return K(r,{code:$.invalid_type,expected:Y.promise,received:r.parsedType}),ce;const n=r.parsedType===Y.promise?r.data:Promise.resolve(r.data);return Ke(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Sr.create=(t,e)=>new Sr({type:t,typeName:ae.ZodPromise,...de(e)});class pt extends fe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ae.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:u=>{K(n,u),u.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const u=i.transform(n.data,a);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(u).then(f=>this._def.schema._parseAsync({data:f,path:n.path,parent:n})):this._def.schema._parseSync({data:u,path:n.path,parent:n})}if(i.type==="refinement"){const u=f=>{const h=i.refinement(f,a);if(n.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(n.common.async===!1){const f=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return f.status==="aborted"?ce:(f.status==="dirty"&&r.dirty(),u(f.value),{status:r.value,value:f.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(f=>f.status==="aborted"?ce:(f.status==="dirty"&&r.dirty(),u(f.value).then(()=>({status:r.value,value:f.value}))))}if(i.type==="transform")if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Vr(u))return u;const f=i.transform(u.value,a);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:f}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>Vr(u)?Promise.resolve(i.transform(u.value,a)).then(f=>({status:r.value,value:f})):u);_e.assertNever(i)}}pt.create=(t,e,r)=>new pt({schema:t,typeName:ae.ZodEffects,effect:e,...de(r)}),pt.createWithPreprocess=(t,e,r)=>new pt({schema:e,effect:{type:"preprocess",transform:t},typeName:ae.ZodEffects,...de(r)});class It extends fe{_parse(e){return this._getType(e)===Y.undefined?Ke(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}It.create=(t,e)=>new It({innerType:t,typeName:ae.ZodOptional,...de(e)});class er extends fe{_parse(e){return this._getType(e)===Y.null?Ke(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}er.create=(t,e)=>new er({innerType:t,typeName:ae.ZodNullable,...de(e)});class Kr extends fe{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Y.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Kr.create=(t,e)=>new Kr({innerType:t,typeName:ae.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...de(e)});class Tn extends fe{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return bn(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ft(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ft(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Tn.create=(t,e)=>new Tn({innerType:t,typeName:ae.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...de(e)});class On extends fe{_parse(e){if(this._getType(e)!==Y.nan){const n=this._getOrReturnCtx(e);return K(n,{code:$.invalid_type,expected:Y.nan,received:n.parsedType}),ce}return{status:"valid",value:e.data}}}On.create=t=>new On({typeName:ae.ZodNaN,...de(t)});const tu=Symbol("zod_brand");class Xi extends fe{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class qr extends fe{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ce:a.status==="dirty"?(r.dirty(),Gi(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ce:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new qr({in:e,out:r,typeName:ae.ZodPipeline})}}class Nn extends fe{_parse(e){const r=this._def.innerType._parse(e);return Vr(r)&&(r.value=Object.freeze(r.value)),r}}Nn.create=(t,e)=>new Nn({innerType:t,typeName:ae.ZodReadonly,...de(e)});const Ji=(t,e={},r)=>t?Ar.create().superRefine((n,i)=>{var a,u;if(!t(n)){const f=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,h=(u=(a=f.fatal)!==null&&a!==void 0?a:r)!==null&&u!==void 0?u:!0,l=typeof f=="string"?{message:f}:f;i.addIssue({code:"custom",...l,fatal:h})}}):Ar.create(),ru={object:Ne.lazycreate};var ae;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ae||(ae={}));const nu=(t,e={message:`Input not instance of ${t.name}`})=>Ji(r=>r instanceof t,e),Ee=ht.create,xe=Bt.create,su=On.create,iu=Vt.create,tr=$r.create,au=Xt.create,ou=wn.create,uu=Ur.create,cu=Fr.create,Qi=Ar.create,lu=Jt.create,du=kt.create,fu=An.create,Os=gt.create,$e=Ne.create,hu=Ne.strictCreate,Ns=Wr.create,gu=En.create,pu=Zr.create,mu=At.create,ea=Hr.create,yu=Sn.create,vu=Qt.create,_u=Er.create,bu=zr.create,ks=Yr.create,rr=$t.create,xt=Gr.create,wu=Sr.create,ta=pt.create,Au=It.create,xu=er.create,Tr=pt.createWithPreprocess,Eu=qr.create;var J=Object.freeze({__proto__:null,defaultErrorMap:Br,setErrorMap:Fo,getErrorMap:vn,makeIssue:_n,EMPTY_PATH:Wo,addIssueToContext:K,ParseStatus:He,INVALID:ce,DIRTY:Gi,OK:Ke,isAborted:xs,isDirty:Es,isValid:Vr,isAsync:bn,get util(){return _e},get objectUtil(){return As},ZodParsedType:Y,getParsedType:jt,ZodType:fe,ZodString:ht,ZodNumber:Bt,ZodBigInt:Vt,ZodBoolean:$r,ZodDate:Xt,ZodSymbol:wn,ZodUndefined:Ur,ZodNull:Fr,ZodAny:Ar,ZodUnknown:Jt,ZodNever:kt,ZodVoid:An,ZodArray:gt,ZodObject:Ne,ZodUnion:Wr,ZodDiscriminatedUnion:En,ZodIntersection:Zr,ZodTuple:At,ZodRecord:Hr,ZodMap:Sn,ZodSet:Qt,ZodFunction:Er,ZodLazy:zr,ZodLiteral:Yr,ZodEnum:$t,ZodNativeEnum:Gr,ZodPromise:Sr,ZodEffects:pt,ZodTransformer:pt,ZodOptional:It,ZodNullable:er,ZodDefault:Kr,ZodCatch:Tn,ZodNaN:On,BRAND:tu,ZodBranded:Xi,ZodPipeline:qr,ZodReadonly:Nn,custom:Ji,Schema:fe,ZodSchema:fe,late:ru,get ZodFirstPartyTypeKind(){return ae},coerce:{string:t=>ht.create({...t,coerce:!0}),number:t=>Bt.create({...t,coerce:!0}),boolean:t=>$r.create({...t,coerce:!0}),bigint:t=>Vt.create({...t,coerce:!0}),date:t=>Xt.create({...t,coerce:!0})},any:Qi,array:Os,bigint:iu,boolean:tr,date:au,discriminatedUnion:gu,effect:ta,enum:rr,function:_u,instanceof:nu,intersection:pu,lazy:bu,literal:ks,map:yu,nan:su,nativeEnum:xt,never:du,null:cu,nullable:xu,number:xe,object:$e,oboolean:()=>tr().optional(),onumber:()=>xe().optional(),optional:Au,ostring:()=>Ee().optional(),pipeline:Eu,preprocess:Tr,promise:wu,record:ea,set:vu,strictObject:hu,string:Ee,symbol:ou,transformer:ta,tuple:mu,undefined:uu,union:Ns,unknown:lu,void:fu,NEVER:ce,ZodIssueCode:$,quotelessJson:Uo,ZodError:ft});const Su=J.object({uploadWebUsage:J.boolean(),bugsnagIngoreMatches:J.array(J.string()),disabledAmplitudeEvents:J.array(J.string()),usageUploadBatchSize:J.number().int().positive(),importHistoryMaxResult:J.number().int().positive(),crossPlatform:J.boolean(),showAmazonAds:J.boolean(),crossPlatformRequiredVersion:J.string(),supportedPlatforms:J.record(J.string(),J.boolean()),platformIconMatches:J.object({chrome:J.array(J.string()),firefox:J.array(J.string())}),tutorialLinks:J.array(J.object({key:J.string(),link:J.string()})),pageViewHostnameAllowlist:J.array(J.string()).optional(),pageViewAllowlist:J.array(J.string()).optional(),abTestWeightOverrides:J.record(J.record(J.number())),systemApps:J.array(J.string()).optional()}),Tu={uploadWebUsage:!1,bugsnagIngoreMatches:["Extension context invalidated.","Could not establish connection. Receiving end does not exist.","The browser is shutting down.",'{\\s*"?isTrusted"?:\\s*true\\s*}',"Failed to execute 'abort' on 'IDBTransaction': The transaction has finished.","Failed to execute 'transaction' on 'IDBDatabase': The database connection is closing.","^IO error: \\.\\.\\.\\/.+?: .*? \\(ChromeMethodBFE: .*\\)$","Cannot access contents of the page. Extension manifest must request permission to access the respective host.","The extensions gallery cannot be scripted."],disabledAmplitudeEvents:[],usageUploadBatchSize:100,importHistoryMaxResult:1e5,crossPlatform:!0,showAmazonAds:!1,crossPlatformRequiredVersion:"1.13.0",supportedPlatforms:{android:!0,googleChrome:!0,firefox:!0},platformIconMatches:{chrome:["chrome","chromium"],firefox:["firefox"]},tutorialLinks:[{key:"enums.WarningType.block",link:"https://www.youtube.com/watch?v=ompaEaSh5rU"},{key:"enums.WarningType.popup",link:"https://www.youtube.com/watch?v=1z1scl57dko"},{key:"enums.WarningType.notification",link:"https://www.youtube.com/watch?v=6VhsJVFk5WQ"}],abTestWeightOverrides:{},pageViewHostnameAllowlist:[]},Ou="https://api.stayfreeapps.com/v1/remote_config/shared-web-config";function Nu(t){const{storage:e,urls:r,defaultConfig:n}=t,i=$o({urls:[Ou,...r],defaultConfig:n,persistConfig:a=>e.setItem("remote-config",a),persistLastFetchedTime:a=>e.setItem("remote-config-last-fetched-at",a),restoreConfig:async()=>await e.getItem("remote-config")??void 0,restoreLastFetchedTime:async()=>await e.getItem("remote-config-last-fetched-at")??void 0});return{fetchLatest:i.fetchLatest,addChangeListener:i.addChangeListener,getLastFetchedTime(){return i.lastFetchedTime},getRestoredPromise(){return i.restoredPromise},getValue(){return i.value}}}const ra=1e3,na=60*ra,sa=60*na;function ku(t){const e=r=>{const n=t.partitions[r];return n||t.default};return{getItem(r){return e(r).getItem(r)},setItem(r,n){return e(r).setItem(r,n)},removeItem(r){return e(r).removeItem(r)},async clear(){await Promise.all([...Object.values(t.partitions),t.default].map(r=>r==null?void 0:r.clear()))},onChange(r,n){return e(r).onChange(r,n)}}}function Iu(t,e){return t.reduce((r,n)=>(r[n]=e,r),{})}const Cu=(t,e)=>e.some(r=>t instanceof r);let ia,aa;function Du(){return ia||(ia=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mu(){return aa||(aa=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oa=new WeakMap,Is=new WeakMap,ua=new WeakMap,Cs=new WeakMap,Ds=new WeakMap;function Ru(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{r(Ut(t.result)),i()},u=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(r=>{r instanceof IDBCursor&&oa.set(r,t)}).catch(()=>{}),Ds.set(e,t),e}function Lu(t){if(Is.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{r(),i()},u=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Is.set(t,e)}let Ms={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Is.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ua.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ut(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Pu(t){Ms=t(Ms)}function ju(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Rs(this),e,...r);return ua.set(n,e.sort?e.sort():[e]),Ut(n)}:Mu().includes(t)?function(...e){return t.apply(Rs(this),e),Ut(oa.get(this))}:function(...e){return Ut(t.apply(Rs(this),e))}}function Bu(t){return typeof t=="function"?ju(t):(t instanceof IDBTransaction&&Lu(t),Cu(t,Du())?new Proxy(t,Ms):t)}function Ut(t){if(t instanceof IDBRequest)return Ru(t);if(Cs.has(t))return Cs.get(t);const e=Bu(t);return e!==t&&(Cs.set(t,e),Ds.set(e,t)),e}const Rs=t=>Ds.get(t);function Vu(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const u=indexedDB.open(t,e),f=Ut(u);return n&&u.addEventListener("upgradeneeded",h=>{n(Ut(u.result),h.oldVersion,h.newVersion,Ut(u.transaction),h)}),r&&u.addEventListener("blocked",h=>r(h.oldVersion,h.newVersion,h)),f.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),f}const $u=["get","getKey","getAll","getAllKeys","count"],Uu=["put","add","delete","clear"],Ls=new Map;function ca(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ls.get(e))return Ls.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Uu.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||$u.includes(r)))return;const a=async function(u,...f){const h=this.transaction(u,i?"readwrite":"readonly");let l=h.store;return n&&(l=l.index(f.shift())),(await Promise.all([l[r](...f),i&&h.done]))[0]};return Ls.set(e,a),a}Pu(t=>({...t,get:(e,r,n)=>ca(e,r)||t.get(e,r,n),has:(e,r)=>!!ca(e,r)||t.has(e,r)}));let Fu=()=>({emit(t,...e){let r=this.events[t]||[];for(let n=0,i=r.length;n<i;n++)r[n](...e)},events:{},on(t,e){var r;return(r=this.events[t])!=null&&r.push(e)||(this.events[t]=[e]),()=>{var n;this.events[t]=(n=this.events[t])==null?void 0:n.filter(i=>e!==i)}}});function Wu(t){return(e,r,n)=>{if(zi(r,n))return;const i={key:e,newValue:r,oldValue:n};t.emit("storage",i)}}const Or="idb-keyval";function Zu(t){const e=Vu("idb-keyval",1,{async upgrade(i,a,u){i.createObjectStore(Or),await(t==null?void 0:t(i,a,u))}}),r=Fu(),n=Wu(r);return{async version(){return(await e).version},async getItem(i){return await(await e).get(Or,String(i))??null},async removeItem(i){const a=await this.getItem(i);await(await e).delete(Or,String(i)),n(i,null,a)},async setItem(i,a){const u=await this.getItem(i);await(await e).put(Or,a,String(i)),n(i,a,u)},async clear(){return(await e).clear(Or)},onChange(i,a){const u=h=>{h.key===i&&a(h.newValue,h.oldValue)},f=r.on("storage",u);return()=>{f()}}}}var Hu=(t,e,r)=>new Promise((n,i)=>{var a=h=>{try{f(r.next(h))}catch(l){i(l)}},u=h=>{try{f(r.throw(h))}catch(l){i(l)}},f=h=>h.done?n(h.value):Promise.resolve(h.value).then(a,u);f((r=r.apply(t,e)).next())});function kn(t){const e=a=>Hu(this,null,function*(){const u=r.map(({key:f,cb:h})=>{if(!(f in a))return;const{newValue:l,oldValue:g}=a[f];if(l!==g)return h(l,g)});yield Promise.all(u)});let r=[];function n(a){r.length===0&&t.onChanged.addListener(e),r.push(a)}function i(a){const u=r.indexOf(a);u>=0&&r.splice(u,1),r.length===0&&dt.storage.onChanged.removeListener(e)}return{clear(){return t.clear()},getItem(a){return t.get(a).then(u=>{var f;return(f=u[a])!=null?f:null})},setItem(a,u){return t.set({[a]:u??null})},removeItem(a){return t.remove(a)},onChange(a,u){const f={key:a,cb:u};return n(f),()=>i(f)}}}kn(dt.storage.local),kn(dt.storage.sync),kn(dt.storage.managed);const Ps=kn(qt.storage.local),zu=Zu(Yu),la=["api-sessions-repo-find-sessions-cache","api-sessions-repo-mobile-app-metadata","app-groups"],js=ku({default:Ps,partitions:{...Iu(la,zu)}});async function Yu(t,e){if(e===0){Ae("idb-keyval-storage: migrate called",t.version);for(const r of la){const n=r,i=await Ps.getItem(n);i&&await t.put(Or,i,r),await Ps.removeItem(n)}}}const Gu="https://api.stayfreeapps.com/v1/remote_config/stayfree-chrome",Ku=Su.extend({instacartSelectors:J.object({companyName:J.array(J.string()),searchTerm:J.array(J.string()),productDetails:J.array(J.string()),productTitle:J.array(J.string()),productSize:J.array(J.string()),productPrice:J.array(J.string())}),forbiddenPromptWords:J.array(J.string())}),qu={...Tu,instacartSelectors:{companyName:[".e-1f1gsmn",".e-1opt332"],searchTerm:["#search-bar-input"],productDetails:[".e-1dlf43s"],productTitle:[".e-th3ch3",".e-u2e78b",".e-1exr31r"],productSize:[".e-k9ly30",".e-owckh2",".e-1hb8rq9"],productPrice:[".e-1jioxed > span.screen-reader-only",".e-1ybpdrh > span.screen-reader-only",".e-1ghw7u1 > span.screen-reader-only",".e-t5lw1y > span.e-13d1dsr"]},forbiddenPromptWords:["drug","alcohol","porn"]},Xu=Nu({urls:[Gu],configDef:Ku,defaultConfig:qu,storage:js}),Ju="5911c68ef50e3b572bf50761a343afed",Qu=typeof window<"u"&&!window.location.href.startsWith(qt.runtime.getURL("/")),ec=po()||Qu?ho:lo;function tc(t,e,r=[]){return Ro({remoteConfig:Xu,prefs:e,isErrorValid:ac,start:n=>ec.start({...n,apiKey:Ju,appType:"Web Extension",context:t,collectUserIp:!1,generateAnonymousId:!1,onError:[rc,...n.onError,nc],plugins:r}),storage:js})}function rc(t){t.errors!=null&&t.errors.forEach(e=>{e.stacktrace=mo(e.stacktrace)})}async function nc(t){for(let e=0;e<t.errors.length;e++)if(t.errors[e].errorMessage.toLowerCase().includes("quotaexceedederror")){const n=await Bo();t.addMetadata("storage quota",n)}}function sc(){return`${new URL(qt.runtime.getURL("/")).protocol.replace(/-/g,"_")}//${qt.runtime.id}`}const ic=sc();function ac(t){var e;return!!((e=t==null?void 0:t.stacktrace)!=null&&e.find(r=>r.file.startsWith(ic)))}var da={},Bs={},In=Me&&Me.__assign||function(){return In=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},In.apply(this,arguments)};Object.defineProperty(Bs,"__esModule",{value:!0});var oc={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};function uc(t){var e=In(In({},oc),t);return e.numOfAttempts<1&&(e.numOfAttempts=1),e}Bs.getSanitizedOptions=uc;var Vs={},$s={},Cn={},Us={},Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});function cc(t){var e=Math.random()*t;return Math.round(e)}Fs.fullJitter=cc;var Ws={};Object.defineProperty(Ws,"__esModule",{value:!0});function lc(t){return t}Ws.noJitter=lc,Object.defineProperty(Us,"__esModule",{value:!0});var dc=Fs,fc=Ws;function hc(t){switch(t.jitter){case"full":return dc.fullJitter;case"none":default:return fc.noJitter}}Us.JitterFactory=hc,Object.defineProperty(Cn,"__esModule",{value:!0});var gc=Us,pc=function(){function t(e){this.options=e,this.attempt=0}return t.prototype.apply=function(){var e=this;return new Promise(function(r){return setTimeout(r,e.jitteredDelay)})},t.prototype.setAttemptNumber=function(e){this.attempt=e},Object.defineProperty(t.prototype,"jitteredDelay",{get:function(){var e=gc.JitterFactory(this.options);return e(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){var e=this.options.startingDelay,r=this.options.timeMultiple,n=this.numOfDelayedAttempts,i=e*Math.pow(r,n);return Math.min(i,this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),t}();Cn.Delay=pc;var mc=Me&&Me.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yc=Me&&Me.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function f(g){try{l(n.next(g))}catch(v){u(v)}}function h(g){try{l(n.throw(g))}catch(v){u(v)}}function l(g){g.done?a(g.value):i(g.value).then(f,h)}l((n=n.apply(t,e||[])).next())})},vc=Me&&Me.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(l){return function(g){return h([l,g])}}function h(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(g){l=[6,g],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty($s,"__esModule",{value:!0});var _c=Cn,bc=function(t){mc(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.apply=function(){return yc(this,void 0,void 0,function(){return vc(this,function(r){return[2,this.isFirstAttempt?!0:t.prototype.apply.call(this)]})})},Object.defineProperty(e.prototype,"isFirstAttempt",{get:function(){return this.attempt===0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),e}(_c.Delay);$s.SkipFirstDelay=bc;var Zs={},wc=Me&&Me.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Zs,"__esModule",{value:!0});var Ac=Cn,xc=function(t){wc(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Ac.Delay);Zs.AlwaysDelay=xc,Object.defineProperty(Vs,"__esModule",{value:!0});var Ec=$s,Sc=Zs;function Tc(t,e){var r=Oc(t);return r.setAttemptNumber(e),r}Vs.DelayFactory=Tc;function Oc(t){return t.delayFirstAttempt?new Sc.AlwaysDelay(t):new Ec.SkipFirstDelay(t)}var Hs=Me&&Me.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(u){u(a)})}return new(r||(r=Promise))(function(a,u){function f(g){try{l(n.next(g))}catch(v){u(v)}}function h(g){try{l(n.throw(g))}catch(v){u(v)}}function l(g){g.done?a(g.value):i(g.value).then(f,h)}l((n=n.apply(t,e||[])).next())})},zs=Me&&Me.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(l){return function(g){return h([l,g])}}function h(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){r.label=l[1];break}if(l[0]===6&&r.label<a[1]){r.label=a[1],a=l;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(l);break}a[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(g){l=[6,g],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};Object.defineProperty(da,"__esModule",{value:!0});var Nc=Bs,kc=Vs;function Ic(t,e){return e===void 0&&(e={}),Hs(this,void 0,void 0,function(){var r,n;return zs(this,function(i){switch(i.label){case 0:return r=Nc.getSanitizedOptions(e),n=new Dc(t,r),[4,n.execute()];case 1:return[2,i.sent()]}})})}var Cc=da.backOff=Ic,Dc=function(){function t(e,r){this.request=e,this.options=r,this.attemptNumber=0}return t.prototype.execute=function(){return Hs(this,void 0,void 0,function(){var e,r;return zs(this,function(n){switch(n.label){case 0:if(this.attemptLimitReached)return[3,7];n.label=1;case 1:return n.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return n.sent(),[4,this.request()];case 3:return[2,n.sent()];case 4:return e=n.sent(),this.attemptNumber++,[4,this.options.retry(e,this.attemptNumber)];case 5:if(r=n.sent(),!r||this.attemptLimitReached)throw e;return[3,6];case 6:return[3,0];case 7:throw new Error("Something went wrong.")}})})},Object.defineProperty(t.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),t.prototype.applyDelay=function(){return Hs(this,void 0,void 0,function(){var e;return zs(this,function(r){switch(r.label){case 0:return e=kc.DelayFactory(this.options,this.attemptNumber),[4,e.apply()];case 1:return r.sent(),[2]}})})},t}();const Mc=250;function Rc(t,e){const n=Oo(Mc,async()=>{const{response:i,error:a}=await qt.runtime.sendNativeMessage("elfaihghhjjoknimpccccmkioofjjfkf",{type:t,payload:e});if(a)throw Error(a);return i});return Cc(n,{jitter:"full",numOfAttempts:5,retry:i=>i instanceof Zi})}function Lc(t){return new Proxy({},{get(e,r){if(r==="then")return e[r];const n=`${t}.${r}`;return(...i)=>Rc(n,i)}})}const Dn=t=>typeof t=="string"?t.trim():t;var fa={exports:{}};(function(t,e){(function(r,n){var i="1.0.35",a="",u="?",f="function",h="undefined",l="object",g="string",v="major",p="model",y="name",b="type",m="vendor",x="version",O="architecture",N="console",A="mobile",E="tablet",D="smarttv",L="wearable",z="embedded",I=350,R="Amazon",H="Apple",ne="ASUS",me="BlackBerry",F="Browser",W="Chrome",S="Edge",M="Firefox",B="Google",Q="Huawei",q="LG",oe="Microsoft",re="Motorola",Ie="Opera",tt="Samsung",ut="Sharp",ye="Sony",ct="Xiaomi",rt="Zebra",We="Facebook",or="Chromium OS",ur="Mac OS",Dt=function(he,ve){var se={};for(var be in he)ve[be]&&ve[be].length%2===0?se[be]=ve[be].concat(he[be]):se[be]=he[be];return se},Et=function(he){for(var ve={},se=0;se<he.length;se++)ve[he[se].toUpperCase()]=he[se];return ve},cr=function(he,ve){return typeof he===g?mt(ve).indexOf(mt(he))!==-1:!1},mt=function(he){return he.toLowerCase()},St=function(he){return typeof he===g?he.replace(/[^\d\.]/g,a).split(".")[0]:n},Mt=function(he,ve){if(typeof he===g)return he=he.replace(/^\s\s*/,a),typeof ve===h?he:he.substring(0,I)},Ye=function(he,ve){for(var se=0,be,nt,Te,ge,ie,Xe;se<ve.length&&!ie;){var Zt=ve[se],Lt=ve[se+1];for(be=nt=0;be<Zt.length&&!ie&&Zt[be];)if(ie=Zt[be++].exec(he),ie)for(Te=0;Te<Lt.length;Te++)Xe=ie[++nt],ge=Lt[Te],typeof ge===l&&ge.length>0?ge.length===2?typeof ge[1]==f?this[ge[0]]=ge[1].call(this,Xe):this[ge[0]]=ge[1]:ge.length===3?typeof ge[1]===f&&!(ge[1].exec&&ge[1].test)?this[ge[0]]=Xe?ge[1].call(this,Xe,ge[2]):n:this[ge[0]]=Xe?Xe.replace(ge[1],ge[2]):n:ge.length===4&&(this[ge[0]]=Xe?ge[3].call(this,Xe.replace(ge[1],ge[2])):n):this[ge]=Xe||n;se+=2}},lr=function(he,ve){for(var se in ve)if(typeof ve[se]===l&&ve[se].length>0){for(var be=0;be<ve[se].length;be++)if(cr(ve[se][be],he))return se===u?n:se}else if(cr(ve[se],he))return se===u?n:se;return he},rn={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Cr={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},dr={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[x,[y,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[x,[y,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[y,x],[/opios[\/ ]+([\w\.]+)/i],[x,[y,Ie+" Mini"]],[/\bopr\/([\w\.]+)/i],[x,[y,Ie]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[y,x],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[x,[y,"UC"+F]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[x,[y,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[x,[y,"WeChat"]],[/konqueror\/([\w\.]+)/i],[x,[y,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[x,[y,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[x,[y,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[y,/(.+)/,"$1 Secure "+F],x],[/\bfocus\/([\w\.]+)/i],[x,[y,M+" Focus"]],[/\bopt\/([\w\.]+)/i],[x,[y,Ie+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[x,[y,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[x,[y,"Dolphin"]],[/coast\/([\w\.]+)/i],[x,[y,Ie+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[x,[y,"MIUI "+F]],[/fxios\/([-\w\.]+)/i],[x,[y,M]],[/\bqihu|(qi?ho?o?|360)browser/i],[[y,"360 "+F]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[y,/(.+)/,"$1 "+F],x],[/(comodo_dragon)\/([\w\.]+)/i],[[y,/_/g," "],x],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[y,x],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[y],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[y,We],x],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[y,x],[/\bgsa\/([\w\.]+) .*safari\//i],[x,[y,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[x,[y,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[x,[y,W+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[y,W+" WebView"],x],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[x,[y,"Android "+F]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[y,x],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[x,[y,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[x,y],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[y,[x,lr,rn]],[/(webkit|khtml)\/([\w\.]+)/i],[y,x],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[y,"Netscape"],x],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[x,[y,M+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[y,x],[/(cobalt)\/([\w\.]+)/i],[y,[x,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[O,"amd64"]],[/(ia32(?=;))/i],[[O,mt]],[/((?:i[346]|x)86)[;\)]/i],[[O,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[O,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[O,"armhf"]],[/windows (ce|mobile); ppc;/i],[[O,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[O,/ower/,a,mt]],[/(sun4\w)[;\)]/i],[[O,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[O,mt]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[m,tt],[b,E]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[p,[m,tt],[b,A]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[p,[m,H],[b,A]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[m,H],[b,E]],[/(macintosh);/i],[p,[m,H]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[m,ut],[b,A]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[p,[m,Q],[b,E]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[m,Q],[b,A]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[p,/_/g," "],[m,ct],[b,A]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[p,/_/g," "],[m,ct],[b,E]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[m,"OPPO"],[b,A]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[m,"Vivo"],[b,A]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[p,[m,"Realme"],[b,A]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[m,re],[b,A]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[m,re],[b,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[m,q],[b,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[m,q],[b,A]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[p,[m,"Lenovo"],[b,E]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[p,/_/g," "],[m,"Nokia"],[b,A]],[/(pixel c)\b/i],[p,[m,B],[b,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[m,B],[b,A]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[m,ye],[b,A]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[m,ye],[b,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[m,"OnePlus"],[b,A]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[m,R],[b,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[m,R],[b,A]],[/(playbook);[-\w\),; ]+(rim)/i],[p,m,[b,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[m,me],[b,A]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[m,ne],[b,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[m,ne],[b,A]],[/(nexus 9)/i],[p,[m,"HTC"],[b,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[p,/_/g," "],[b,A]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[m,"Acer"],[b,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[m,"Meizu"],[b,A]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,p,[b,A]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,p,[b,E]],[/(surface duo)/i],[p,[m,oe],[b,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[m,"Fairphone"],[b,A]],[/(u304aa)/i],[p,[m,"AT&T"],[b,A]],[/\bsie-(\w*)/i],[p,[m,"Siemens"],[b,A]],[/\b(rct\w+) b/i],[p,[m,"RCA"],[b,E]],[/\b(venue[\d ]{2,7}) b/i],[p,[m,"Dell"],[b,E]],[/\b(q(?:mv|ta)\w+) b/i],[p,[m,"Verizon"],[b,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[m,"Barnes & Noble"],[b,E]],[/\b(tm\d{3}\w+) b/i],[p,[m,"NuVision"],[b,E]],[/\b(k88) b/i],[p,[m,"ZTE"],[b,E]],[/\b(nx\d{3}j) b/i],[p,[m,"ZTE"],[b,A]],[/\b(gen\d{3}) b.+49h/i],[p,[m,"Swiss"],[b,A]],[/\b(zur\d{3}) b/i],[p,[m,"Swiss"],[b,E]],[/\b((zeki)?tb.*\b) b/i],[p,[m,"Zeki"],[b,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],p,[b,E]],[/\b(ns-?\w{0,9}) b/i],[p,[m,"Insignia"],[b,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[m,"NextBook"],[b,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],p,[b,A]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],p,[b,A]],[/\b(ph-1) /i],[p,[m,"Essential"],[b,A]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[m,"Envizen"],[b,E]],[/\b(trio[-\w\. ]+) b/i],[p,[m,"MachSpeed"],[b,E]],[/\btu_(1491) b/i],[p,[m,"Rotor"],[b,E]],[/(shield[\w ]+) b/i],[p,[m,"Nvidia"],[b,E]],[/(sprint) (\w+)/i],[m,p,[b,A]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[m,oe],[b,A]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[m,rt],[b,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[m,rt],[b,A]],[/smart-tv.+(samsung)/i],[m,[b,D]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[m,tt],[b,D]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,q],[b,D]],[/(apple) ?tv/i],[m,[p,H+" TV"],[b,D]],[/crkey/i],[[p,W+"cast"],[m,B],[b,D]],[/droid.+aft(\w)( bui|\))/i],[p,[m,R],[b,D]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[m,ut],[b,D]],[/(bravia[\w ]+)( bui|\))/i],[p,[m,ye],[b,D]],[/(mitv-\w{5}) bui/i],[p,[m,ct],[b,D]],[/Hbbtv.*(technisat) (.*);/i],[m,p,[b,D]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,Mt],[p,Mt],[b,D]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[b,D]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,p,[b,N]],[/droid.+; (shield) bui/i],[p,[m,"Nvidia"],[b,N]],[/(playstation [345portablevi]+)/i],[p,[m,ye],[b,N]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[m,oe],[b,N]],[/((pebble))app/i],[m,p,[b,L]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[p,[m,H],[b,L]],[/droid.+; (glass) \d/i],[p,[m,B],[b,L]],[/droid.+; (wt63?0{2,3})\)/i],[p,[m,rt],[b,L]],[/(quest( 2| pro)?)/i],[p,[m,We],[b,L]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[b,z]],[/(aeobc)\b/i],[p,[m,R],[b,z]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[p,[b,A]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[b,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[b,E]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[b,A]],[/(android[-\w\. ]{0,9});.+buil/i],[p,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[x,[y,S+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[x,[y,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[y,x],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[x,y]],os:[[/microsoft (windows) (vista|xp)/i],[y,x],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[y,[x,lr,Cr]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[y,"Windows"],[x,lr,Cr]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[x,/_/g,"."],[y,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[y,ur],[x,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[x,y],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[y,x],[/\(bb(10);/i],[x,[y,me]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[x,[y,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[x,[y,M+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[x,[y,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[x,[y,"watchOS"]],[/crkey\/([\d\.]+)/i],[x,[y,W+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[y,or],x],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[y,x],[/(sunos) ?([\w\.\d]*)/i],[[y,"Solaris"],x],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[y,x]]},Ge=function(he,ve){if(typeof he===l&&(ve=he,he=n),!(this instanceof Ge))return new Ge(he,ve).getResult();var se=typeof r!==h&&r.navigator?r.navigator:n,be=he||(se&&se.userAgent?se.userAgent:a),nt=se&&se.userAgentData?se.userAgentData:n,Te=ve?Dt(dr,ve):dr,ge=se&&se.userAgent==be;return this.getBrowser=function(){var ie={};return ie[y]=n,ie[x]=n,Ye.call(ie,be,Te.browser),ie[v]=St(ie[x]),ge&&se&&se.brave&&typeof se.brave.isBrave==f&&(ie[y]="Brave"),ie},this.getCPU=function(){var ie={};return ie[O]=n,Ye.call(ie,be,Te.cpu),ie},this.getDevice=function(){var ie={};return ie[m]=n,ie[p]=n,ie[b]=n,Ye.call(ie,be,Te.device),ge&&!ie[b]&&nt&&nt.mobile&&(ie[b]=A),ge&&ie[p]=="Macintosh"&&se&&typeof se.standalone!==h&&se.maxTouchPoints&&se.maxTouchPoints>2&&(ie[p]="iPad",ie[b]=E),ie},this.getEngine=function(){var ie={};return ie[y]=n,ie[x]=n,Ye.call(ie,be,Te.engine),ie},this.getOS=function(){var ie={};return ie[y]=n,ie[x]=n,Ye.call(ie,be,Te.os),ge&&!ie[y]&&nt&&nt.platform!="Unknown"&&(ie[y]=nt.platform.replace(/chrome os/i,or).replace(/macos/i,ur)),ie},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return be},this.setUA=function(ie){return be=typeof ie===g&&ie.length>I?Mt(ie,I):ie,this},this.setUA(be),this};Ge.VERSION=i,Ge.BROWSER=Et([y,x,v]),Ge.CPU=Et([O]),Ge.DEVICE=Et([p,m,b,N,A,D,E,L,z]),Ge.ENGINE=Ge.OS=Et([y,x]),t.exports&&(e=t.exports=Ge),e.UAParser=Ge;var yt=typeof r!==h&&(r.jQuery||r.Zepto);if(yt&&!yt.ua){var Rt=new Ge;yt.ua=Rt.getResult(),yt.ua.get=function(){return Rt.getUA()},yt.ua.set=function(he){Rt.setUA(he);var ve=Rt.getResult();for(var se in ve)yt.ua[se]=ve[se]}}})(typeof window=="object"?window:Me)})(fa,fa.exports);var Mn=(t=>(t.Notification="notification",t.Block="block",t.Popup="popup",t))(Mn||{}),Xr=(t=>(t.UsageTime="usage-time",t.SessionCount="session-count",t))(Xr||{}),Rn=(t=>(t.Android="android",t.Windows="windows",t.Mac="mac",t.Linux="linux",t.Web="web",t.Category="category",t.Brand="brand",t))(Rn||{});const Pc="center";$e({id:Ee().uuid(),hostname:Tr(Dn,Ee().min(1)),duration:xe().int().nonnegative(),type:rr(["total-usage","session"]),warningType:xt(Mn)}).strip(),$e({id:Ee().uuid(),version:ks(2),appId:Tr(Dn,Ee().min(1)),duration:xe().int().nonnegative(),limitType:xt(Rn),metricType:xt(Xr),warningType:xt(Mn)}).strip();const jc=$e({id:Ee().trim().nonempty(),version:ks(3),appId:Tr(Dn,Ee().min(1)),duration:xe().int().nonnegative(),limitType:xt(Rn),metricType:xt(Xr),warningType:xt(Mn),isCrossPlatform:tr()}).strip();Tr(t=>("version"in t||(t=Bc(t)),t.version===2&&(t=Vc(t)),t),jc);function Bc(t){return{id:t.id,version:2,appId:t.hostname,duration:t.duration,limitType:Rn.Web,metricType:t.type==="total-usage"?Xr.UsageTime:Xr.SessionCount,warningType:t.warningType}}function Vc(t){return{...t,version:3,isCrossPlatform:!1}}var Ys=(t=>(t.Sunday="sunday",t.Monday="monday",t.Tuesday="tuesday",t.Wednesday="wednesday",t.Thursday="thursday",t.Friday="friday",t.Saturday="saturday",t))(Ys||{});Os($e({day:xt(Ys),display:Ee(),value:tr()})),$e({id:Ee(),name:Tr(Dn,Ee().nonempty()),days:Os(xt(Ys)),allDay:tr(),startTime:xe().int().nonnegative(),endTime:xe().int().nonnegative()});const $c=void 0,Uc=!1,Fc=void 0,Wc=!1,Zc=3*sa,Hc=0,zc=!0,Yc=!1,Gc=!0,Kc=-1,qc=0,Xc=!1,Jc=!0,Qc=21*sa,el="auto",tl="sunday",rl=nl();function nl(){const t=yo();return t&&["AU","BD","CA","CO","EG","SV","HN","IN","IE","JO","MY","MX","NZ","NI","PK","PH","SA","US"].includes(t)?"12-hour":"24-hour"}const sl=!1,il=!1,al=!1,ol=!1,ul=!1,cl=!1,ll=!1,dl=!1,fl=!1,hl=!1,gl=!1,pl=null;var Z=(t=>(t.AcceptedDataCollection="data-collection-acceptance",t.AcceptedTos="accepted-terms-of-service",t.AskTosAgain="ask-tos-again",t.IsTabActiveWhenPlayingAudio="is-tab-active-when-playing-audio",t.IsNewTabPageEnabled="new-tab-page-enabled",t.FocusModeManuallyEnabled="focus-mode-manually-enabled",t.LotgEnabledUntil="lotg-enabled-until",t.LotgCoolDownPeriod="lotg-cool-down-period",t.FocusWebsites="focus-websites",t.LimitsOnTheGoWebsites="limits-on-the-go-websites",t.FocusSchedules="focus-schedules",t.LimitsOnTheGoSchedules="limits-on-the-go-schedules",t.IgnoredWebsites="ignored-websites",t.IgnoredApps="ignored-apps",t.IgnoredDesktopApps="ignored-desktop-apps",t.IsUserActivatedLotg="is-user-activated-lotg",t.BirthYear="birth-year",t.DailyResetTime="daily-reset-time",t.DeleteTime="delete-time",t.PopupPosition="popup-position",t.ExportData="export",t.ImportData="import",t.ExportSettings="export-settings",t.ImportSettings="import-settings",t.Reset="reset",t.FactoryReset="factory-reset",t.BackupRestore="backup-restore",t.IsDailySummaryNotificationEnabled="is-daily-summary-notification-enabled",t.DailySummaryNotificationTime="daily-summary-notification-time",t.UsageLimits="preferences/website-limits",t.Theme="theme",t.StartWeekOn="start-week-on",t.TimeFormat="time-format",t.SecurityConfig="security-config",t.YoutubeShortsHidden="youtube/shorts-hidden",t.YoutubeHomePageHidden="youtube/home-page-hidden",t.YoutubeCommentsHidden="youtube/comments-hidden",t.YoutubeTopBarHidden="youtube/top-bar-hidden",t.YoutubeRecommendedHidden="youtube/recommended-hidden",t.YoutubeEndCardsDisabled="youtube/end-cards-disabled",t.BlackWhiteMode="youtube/black-white-mode",t.YoutubeAutoplayDisabled="youtube/autoplay-disabled",t.YoutubeSubcriptionsHidden="youtube/subscriptions-hidden",t.YoutubeExploreHidden="youtube/explore-hidden",t.YoutubeTrendsHidden="youtube/trends-hidden",t.ShowInTray="is-shown-in-tray",t))(Z||{});class ml{constructor(e){this.storage=e}notifyIosEnabled(){return Promise.resolve()}getBirthYear(){return this.getValue(Z.BirthYear,$c)}setBirthYear(e){return this.setValue(Z.BirthYear,e)}hasAcceptedTos(){return this.getValue(Z.AcceptedTos,Uc)}setAcceptedTos(e){return this.setValue(Z.AcceptedTos,e)}hasAcceptedDataCollection(){return this.getValue(Z.AcceptedDataCollection,Fc)}setAcceptedDataCollection(e){return this.setValue(Z.AcceptedDataCollection,e)}getAskTosAgain(){return this.getValue(Z.AskTosAgain,Wc)}setAskTosAgain(e){return this.setValue(Z.AskTosAgain,e)}async getDailyResetTime(){return await this.getValue(Z.DailyResetTime,Zc)}setDailyResetTime(e){return this.setValue(Z.DailyResetTime,e)}isTabActiveWhenPlayingAudio(){return this.getValue(Z.IsTabActiveWhenPlayingAudio,zc)}setIsTabActiveWhenPlayingAudio(e){return this.setValue(Z.IsTabActiveWhenPlayingAudio,e)}isNewTabPageEnabled(){return this.getValue(Z.IsNewTabPageEnabled,Yc)}setIsNewTabPageEnabled(e){return this.setValue(Z.IsNewTabPageEnabled,e)}isShowInTrayEnabled(){return this.getValue(Z.ShowInTray,Gc)}setIsShowInTrayEnabled(e){return this.setValue(Z.ShowInTray,e)}isDailySummaryNotificationEnabled(){return this.getValue(Z.IsDailySummaryNotificationEnabled,Jc)}async setIsDailySummaryNotificationEnabled(e){await this.setValue(Z.IsDailySummaryNotificationEnabled,e)}async getDailySummaryNotificationTime(){return await this.getValue(Z.DailySummaryNotificationTime,Qc)}async setDailySummaryNotificationTime(e){await this.setValue(Z.DailySummaryNotificationTime,e)}getUsageLimitsMap(){return this.getValue(Z.UsageLimits,{})}async setUsageLimitsMap(e){await this.setValue(Z.UsageLimits,e)}getTheme(){return this.getValue(Z.Theme,el)}async setTheme(e){await this.setValue(Z.Theme,e)}getStartWeekOn(){return this.getValue(Z.StartWeekOn,tl)}async setStartWeekOn(e){await this.setValue(Z.StartWeekOn,e)}getTimeFormat(){return this.getValue(Z.TimeFormat,rl)}async setTimeFormat(e){await this.setValue(Z.TimeFormat,e)}getPopupPosition(){return this.getValue(Z.PopupPosition,Pc)}async setPopupPosition(e){await this.setValue(Z.PopupPosition,e)}getFocusModeManuallyEnabled(){return this.getValue(Z.FocusModeManuallyEnabled,Xc)}async setFocusModeManuallyEnabled(e){await this.setValue(Z.FocusModeManuallyEnabled,e)}getLotgEnabledUntil(){return this.getValue(Z.LotgEnabledUntil,Kc)}setLotgEnabledUntil(e){return this.setValue(Z.LotgEnabledUntil,e)}getLotgCoolDownPeriod(){return this.getValue(Z.LotgCoolDownPeriod,qc)}setLotgCoolDownPeriod(e){return this.setValue(Z.LotgCoolDownPeriod,e)}getFocusWebsites(){return this.getValue(Z.FocusWebsites,[])}async setFocusWebsites(e){await this.setValue(Z.FocusWebsites,e)}async addFocusWebsite(e){const r=await this.getFocusWebsites();e&&!r.includes(e)&&(r.push(e),await this.setFocusWebsites(r))}async removeFocusWebsite(e){const r=await this.getFocusWebsites(),n=r.indexOf(e);n>-1&&(r.splice(n,1),await this.setFocusWebsites(r))}getLimitsOnTheGoWebsites(){return this.getValue(Z.LimitsOnTheGoWebsites,[])}async setLimitsOnTheGoWebsites(e){await this.setValue(Z.LimitsOnTheGoWebsites,e)}async addLimitsOnTheGoWebsite(e){const r=await this.getLimitsOnTheGoWebsites();e&&!r.includes(e)&&(r.push(e),await this.setLimitsOnTheGoWebsites(r))}async removeLimitsOnTheGoWebsite(e){const r=await this.getLimitsOnTheGoWebsites(),n=r.indexOf(e);n>-1&&(r.splice(n,1),await this.setLimitsOnTheGoWebsites(r))}getFocusSchedules(){return this.getValue(Z.FocusSchedules,{})}async setFocusSchedules(e){await this.setValue(Z.FocusSchedules,e)}async addFocusSchedule(e){const r=await this.getFocusSchedules();r[e.id]=e,await this.setFocusSchedules(r)}async removeFocusSchedule(e){const r=await this.getFocusSchedules();delete r[e],await this.setFocusSchedules(r)}getLimitsOnTheGoSchedules(){return this.getValue(Z.LimitsOnTheGoSchedules,{})}async setLimitsOnTheGoSchedules(e){await this.setValue(Z.LimitsOnTheGoSchedules,e)}async addLimitsOnTheGoSchedule(e){const r=await this.getLimitsOnTheGoSchedules();r[e.id]=e,await this.setLimitsOnTheGoSchedules(r)}async removeLimitsOnTheGoSchedule(e){const r=await this.getLimitsOnTheGoSchedules();delete r[e],await this.setLimitsOnTheGoSchedules(r)}getIgnoredWebsites(){return this.getValue(Z.IgnoredWebsites,[])}async setIgnoredWebsites(e){await this.setValue(Z.IgnoredWebsites,e)}getIgnoredApps(){return this.getValue(Z.IgnoredApps,[])}async setIgnoredApps(e){await this.setValue(Z.IgnoredApps,e)}getIgnoredDesktopApps(){return this.getValue(Z.IgnoredDesktopApps,[])}async setIgnoredDesktopApps(e){await this.setValue(Z.IgnoredDesktopApps,e)}async isPinCorrect(e){const r=await this.getValue(Z.SecurityConfig,pl);return(r==null?void 0:r.type)=="pin"&&r.value==e}getSecurity(){return this.getValue(Z.SecurityConfig,null)}async setSecurity(e){await this.setValue(Z.SecurityConfig,e)}getDeleteTime(){return this.getValue(Z.DeleteTime,Hc)}async setDeleteTime(e){await this.setValue(Z.DeleteTime,e)}isUserActivatedLotg(){return this.getValue(Z.IsUserActivatedLotg,!1)}async setUserActivatedLotg(e){await this.setValue(Z.IsUserActivatedLotg,e)}isYoutubeShortsHidden(){return this.getValue(Z.YoutubeShortsHidden,sl)}async setYoutubeShortsHidden(e){await this.setValue(Z.YoutubeShortsHidden,e)}isYoutubeHomePageHidden(){return this.getValue(Z.YoutubeHomePageHidden,il)}async setYoutubeHomePageHidden(e){await this.setValue(Z.YoutubeHomePageHidden,e)}isYoutubeCommentsHidden(){return this.getValue(Z.YoutubeCommentsHidden,al)}async setYoutubeCommentsHidden(e){await this.setValue(Z.YoutubeCommentsHidden,e)}isYoutubeTopBarHidden(){return this.getValue(Z.YoutubeTopBarHidden,ol)}async setYoutubeTopBarHidden(e){await this.setValue(Z.YoutubeTopBarHidden,e)}isYoutubeRecommendedHidden(){return this.getValue(Z.YoutubeRecommendedHidden,dl)}async setYoutubeRecommendedHidden(e){await this.setValue(Z.YoutubeRecommendedHidden,e)}isYoutubeEndCardsDisabled(){return this.getValue(Z.YoutubeEndCardsDisabled,fl)}async setYoutubeEndCardsDisabled(e){await this.setValue(Z.YoutubeEndCardsDisabled,e)}isYoutubeAutoplayDisabled(){return this.getValue(Z.YoutubeAutoplayDisabled,hl)}async setYoutubeAutoplayDisabled(e){await this.setValue(Z.YoutubeAutoplayDisabled,e)}isYoutubeSubscriptionsHidden(){return this.getValue(Z.YoutubeSubcriptionsHidden,ul)}async setYoutubeSubscriptionsHidden(e){await this.setValue(Z.YoutubeSubcriptionsHidden,e)}isYoutubeTrendsHidden(){return this.getValue(Z.YoutubeTrendsHidden,cl)}async setYoutubeTrendsHidden(e){await this.setValue(Z.YoutubeTrendsHidden,e)}isYoutubeExploreHidden(){return this.getValue(Z.YoutubeExploreHidden,ll)}async setYoutubeExploreHidden(e){await this.setValue(Z.YoutubeExploreHidden,e)}isYoutubeBlackWhiteModeEnabled(){return this.getValue(Z.BlackWhiteMode,gl)}async setYoutubeBlackWhiteModeEnabled(e){await this.setValue(Z.BlackWhiteMode,e)}async getValue(e,r){return await this.storage.getItem(e)??r}async setValue(e,r){return await this.storage.setItem(e,r)}}const yl=new ml(js),vl=[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,globalThis.DOMException,globalThis.AssertionError,globalThis.SystemError].filter(Boolean).map(t=>[t.name,t]),_l=new Map(vl);class Gs extends Error{constructor(r){super(Gs._prepareSuperMessage(r));pe(this,"name","NonError")}static _prepareSuperMessage(r){try{return JSON.stringify(r)}catch{return String(r)}}}const bl=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0},{property:"cause",enumerable:!1}],Ks=Symbol(".toJSON was called"),wl=t=>{t[Ks]=!0;const e=t.toJSON();return delete t[Ks],e},ha=t=>_l.get(t)??Error,qs=({from:t,seen:e,to:r,forceEnumerable:n,maxDepth:i,depth:a,useToJSON:u,serialize:f})=>{if(!r)if(Array.isArray(t))r=[];else if(!f&&ga(t)){const l=ha(t.name);r=new l}else r={};if(e.push(t),a>=i)return r;if(u&&typeof t.toJSON=="function"&&t[Ks]!==!0)return wl(t);const h=l=>qs({from:l,seen:[...e],forceEnumerable:n,maxDepth:i,depth:a,useToJSON:u,serialize:f});for(const[l,g]of Object.entries(t)){if(typeof Buffer=="function"&&Buffer.isBuffer(g)){r[l]="[object Buffer]";continue}if(g!==null&&typeof g=="object"&&typeof g.pipe=="function"){r[l]="[object Stream]";continue}if(typeof g!="function"){if(!g||typeof g!="object"){r[l]=g;continue}if(!e.includes(t[l])){a++,r[l]=h(t[l]);continue}r[l]="[Circular]"}}for(const{property:l,enumerable:g}of bl)typeof t[l]<"u"&&t[l]!==null&&Object.defineProperty(r,l,{value:ga(t[l])?h(t[l]):t[l],enumerable:n?!0:g,configurable:!0,writable:!0});return r};function Al(t,e={}){const{maxDepth:r=Number.POSITIVE_INFINITY,useToJSON:n=!0}=e;return typeof t=="object"&&t!==null?qs({from:t,seen:[],forceEnumerable:!0,maxDepth:r,depth:0,useToJSON:n,serialize:!0}):typeof t=="function"?`[Function: ${t.name??"anonymous"}]`:t}function xl(t,e={}){const{maxDepth:r=Number.POSITIVE_INFINITY}=e;if(t instanceof Error)return t;if(El(t)){const n=ha(t.name);return qs({from:t,seen:[],to:new n,maxDepth:r,depth:0,serialize:!1})}return new Gs(t)}function ga(t){return!!t&&typeof t=="object"&&"name"in t&&"message"in t&&"stack"in t}function El(t){return!!t&&typeof t=="object"&&"message"in t&&!Array.isArray(t)}var Sl=Object.defineProperty,Tl=Object.defineProperties,Ol=Object.getOwnPropertyDescriptors,pa=Object.getOwnPropertySymbols,Nl=Object.prototype.hasOwnProperty,kl=Object.prototype.propertyIsEnumerable,ma=(t,e,r)=>e in t?Sl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ya=(t,e)=>{for(var r in e||(e={}))Nl.call(e,r)&&ma(t,r,e[r]);if(pa)for(var r of pa(e))kl.call(e,r)&&ma(t,r,e[r]);return t},va=(t,e)=>Tl(t,Ol(e)),Il=(t,e,r)=>new Promise((n,i)=>{var a=h=>{try{f(r.next(h))}catch(l){i(l)}},u=h=>{try{f(r.throw(h))}catch(l){i(l)}},f=h=>h.done?n(h.value):Promise.resolve(h.value).then(a,u);f((r=r.apply(t,e)).next())});function Cl(t){let e,r={};function n(){Object.entries(r).length===0&&(e==null||e(),e=void 0)}let i=Math.floor(Math.random()*1e4);function a(){return i++}return{sendMessage(u,f,...h){return Il(this,null,function*(){var l,g;const v={id:a(),type:u,data:f,timestamp:Date.now()};(l=t.logger)==null||l.debug(`[messaging] sendMessage {id=${v.id}} ─ᐅ`,v,...h);const p=yield t.sendMessage(v,...h),{res:y,err:b}=p??{err:new Error("No response")};if((g=t.logger)==null||g.debug(`[messaging] sendMessage {id=${v.id}} ᐊ─`,{res:y,err:b}),b!=null)throw xl(b);return y})},onMessage(u,f){var h,l,g;if(e==null&&((h=t.logger)==null||h.debug(`[messaging] "${u}" initialized the message listener for this context`),e=t.addRootListener(v=>{var p,y;if(typeof v.type!="string"||typeof v.timestamp!="number"){const x=Error(`[messaging] Unknown message format, must include the 'type' & 'timestamp' fields, received: ${JSON.stringify(v)}`);throw(p=t.logger)==null||p.error(x),x}(y=t==null?void 0:t.logger)==null||y.debug("[messaging] Received message",v);const b=r[v.type];if(b==null)return;const m=b(v);return Promise.resolve(m).then(x=>{var O;return(O=t==null?void 0:t.logger)==null||O.debug(`[messaging] onMessage {id=${v.id}} ─ᐅ`,{res:x}),{res:x}}).catch(x=>{var O;return(O=t==null?void 0:t.logger)==null||O.debug(`[messaging] onMessage {id=${v.id}} ─ᐅ`,{err:x}),{err:Al(x)}})})),r[u]!=null){const v=Error(`[messaging] In this JS context, only one listener can be setup for ${u}`);throw(l=t.logger)==null||l.error(v),v}return r[u]=f,(g=t.logger)==null||g.log(`[messaging] Added listener for ${u}`),()=>{delete r[u],n()}},removeAllListeners(){Object.keys(r).forEach(u=>{delete r[u]}),n()}}}function _a(t){return Cl(va(ya({},t),{sendMessage(e,r){return r==null?dt.runtime.sendMessage(e):dt.tabs.sendMessage(r,e)},addRootListener(e){const r=(n,i)=>e(typeof n=="object"?va(ya({},n),{sender:i}):n);return dt.runtime.onMessage.addListener(r),()=>dt.runtime.onMessage.removeListener(r)}}))}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Dl=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2018, Jon Schlinkert.
 * Released under the MIT License.
 */const ba=Dl;var Ml=function(t,e,r){if(ba(r)||(r={default:r}),!Aa(t))return typeof r.default<"u"?r.default:t;typeof e=="number"&&(e=String(e));const n=Array.isArray(e),i=typeof e=="string",a=r.separator||".",u=r.joinChar||(typeof a=="string"?a:".");if(!i&&!n)return t;if(i&&e in t)return Xs(e,t,r)?t[e]:r.default;let f=n?e:Rl(e,a,r),h=f.length,l=0;do{let g=f[l];for(typeof g=="number"&&(g=String(g));g&&g.slice(-1)==="\\";)g=wa([g.slice(0,-1),f[++l]||""],u,r);if(g in t){if(!Xs(g,t,r))return r.default;t=t[g]}else{let v=!1,p=l+1;for(;p<h;)if(g=wa([g,f[p++]],u,r),v=g in t){if(!Xs(g,t,r))return r.default;t=t[g],l=p-1;break}if(!v)return r.default}}while(++l<h&&Aa(t));return l===h?t:r.default};function wa(t,e,r){return typeof r.join=="function"?r.join(t):t[0]+e+t[1]}function Rl(t,e,r){return typeof r.split=="function"?r.split(t):t.split(e)}function Xs(t,e,r){return typeof r.isValid=="function"?r.isValid(t,e):!0}function Aa(t){return ba(t)||Array.isArray(t)||typeof t=="function"}const Ll=wr(Ml);var Pl=(t,e,r)=>new Promise((n,i)=>{var a=h=>{try{f(r.next(h))}catch(l){i(l)}},u=h=>{try{f(r.throw(h))}catch(l){i(l)}},f=h=>h.done?n(h.value):Promise.resolve(h.value).then(a,u);f((r=r.apply(t,e)).next())});function jl(){if(!Bl())return!1;const t=dt.runtime.getManifest();return t.background?t.manifest_version===3?Ul():$l():!1}function Bl(){var t;return!!((t=dt.runtime)!=null&&t.id)}var Vl=["/_generated_background_page.html"];function $l(){return typeof window<"u"&&Vl.includes(location.pathname)}function Ul(){return typeof window>"u"}function Fl(t,e,r){let n;const i=`proxy-service.${t}`,{onMessage:a,sendMessage:u}=_a(r);function f(h){const l=()=>{},g=new Proxy(l,{apply(v,p,y){return Pl(this,null,function*(){return yield u(i,{path:h,args:y})})},get(v,p,y){return p==="__proxy"||typeof p=="symbol"?Reflect.get(v,p,y):f(h==null?p:`${h}.${p}`)}});return g.__proxy=!0,g}return[function(...l){return n=e(...l),a(i,({data:g})=>{const v=g.path==null?n:Ll(n??{},g.path);if(v)return Promise.resolve(v.bind(n)(...g.args))}),n},function(){if(!jl())return f();if(n==null)throw Error(`Failed to get an instance of ${t}: in background, but registerService has not been called. Did you forget to call registerService?`);return n}]}const[Rf,Wl]=Fl("PreferencesRepo",()=>Lc("PreferencesRepo"));function Zl(t){return t==="ios"?Wl():yl}function Hl(t,e,r){var n=r||{},i=n.noTrailing,a=i===void 0?!1:i,u=n.noLeading,f=u===void 0?!1:u,h=n.debounceMode,l=h===void 0?void 0:h,g,v=!1,p=0;function y(){g&&clearTimeout(g)}function b(x){var O=x||{},N=O.upcomingOnly,A=N===void 0?!1:N;y(),v=!A}function m(){for(var x=arguments.length,O=new Array(x),N=0;N<x;N++)O[N]=arguments[N];var A=this,E=Date.now()-p;if(v)return;function D(){p=Date.now(),e.apply(A,O)}function L(){g=void 0}!f&&l&&!g&&D(),y(),l===void 0&&E>t?f?(p=Date.now(),a||(g=setTimeout(l?L:D,t))):D():a!==!0&&(g=setTimeout(l?L:D,l===void 0?t-E:t))}return m.cancel=b,m}const{sendMessage:zl,onMessage:Lf,removeAllListeners:Pf}=_a({logger:oo}),Yl=na;function Gl(t){Ae("[user-inactivity] Monitoring for inactivity...");let e=!0,r;const n=()=>{t.isInvalid||zl("fallback-idle-state-changed",e)},i=()=>{Ae(`[user-inactivity] ${window.location.hostname} is new inactive`),e=!1,n()},a=Hl(5*ra,()=>{e||(Ae(`[user-inactivity] ${window.location.hostname} is active again`),e=!0,n()),clearTimeout(r),r=t.setTimeout(i,Yl)});t.addEventListener(window,"mousemove",a),t.addEventListener(window,"load",a),t.addEventListener(document,"visibilitychange",()=>{document.visibilityState==="visible"&&a()})}let Ln;const Kl=new Uint8Array(16);function ql(){if(!Ln&&(Ln=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ln))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ln(Kl)}const Ue=[];for(let t=0;t<256;++t)Ue.push((t+256).toString(16).slice(1));function Xl(t,e=0){return(Ue[t[e+0]]+Ue[t[e+1]]+Ue[t[e+2]]+Ue[t[e+3]]+"-"+Ue[t[e+4]]+Ue[t[e+5]]+"-"+Ue[t[e+6]]+Ue[t[e+7]]+"-"+Ue[t[e+8]]+Ue[t[e+9]]+"-"+Ue[t[e+10]]+Ue[t[e+11]]+Ue[t[e+12]]+Ue[t[e+13]]+Ue[t[e+14]]+Ue[t[e+15]]).toLowerCase()}const xa={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Js(t,e,r){if(xa.randomUUID&&!e&&!t)return xa.randomUUID();t=t||{};const n=t.random||(t.rng||ql)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return Xl(n)}var Jl=Ea;function Ea(t,e,r){t instanceof RegExp&&(t=Sa(t,r)),e instanceof RegExp&&(e=Sa(e,r));var n=Ta(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function Sa(t,e){var r=e.match(t);return r?r[0]:null}Ea.range=Ta;function Ta(t,e,r){var n,i,a,u,f,h=r.indexOf(t),l=r.indexOf(e,h+1),g=h;if(h>=0&&l>0){if(t===e)return[h,l];for(n=[],a=r.length;g>=0&&!f;)g==h?(n.push(g),h=r.indexOf(t,g+1)):n.length==1?f=[n.pop(),l]:(i=n.pop(),i<a&&(a=i,u=l),l=r.indexOf(e,g+1)),g=h<l&&h>=0?h:l;n.length&&(f=[a,u])}return f}var Oa=Jl,Ql=rd,Na="\0SLASH"+Math.random()+"\0",ka="\0OPEN"+Math.random()+"\0",Qs="\0CLOSE"+Math.random()+"\0",Ia="\0COMMA"+Math.random()+"\0",Ca="\0PERIOD"+Math.random()+"\0";function ei(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function ed(t){return t.split("\\\\").join(Na).split("\\{").join(ka).split("\\}").join(Qs).split("\\,").join(Ia).split("\\.").join(Ca)}function td(t){return t.split(Na).join("\\").split(ka).join("{").split(Qs).join("}").split(Ia).join(",").split(Ca).join(".")}function Da(t){if(!t)return[""];var e=[],r=Oa("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,a=r.post,u=n.split(",");u[u.length-1]+="{"+i+"}";var f=Da(a);return a.length&&(u[u.length-1]+=f.shift(),u.push.apply(u,f)),e.push.apply(e,u),e}function rd(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Jr(ed(t),!0).map(td)):[]}function nd(t){return"{"+t+"}"}function sd(t){return/^-?0\d/.test(t)}function id(t,e){return t<=e}function ad(t,e){return t>=e}function Jr(t,e){var r=[],n=Oa("{","}",t);if(!n)return[t];var i=n.pre,a=n.post.length?Jr(n.post,!1):[""];if(/\$$/.test(n.pre))for(var u=0;u<a.length;u++){var f=i+"{"+n.body+"}"+a[u];r.push(f)}else{var h=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),g=h||l,v=n.body.indexOf(",")>=0;if(!g&&!v)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+Qs+n.post,Jr(t)):[t];var p;if(g)p=n.body.split(/\.\./);else if(p=Da(n.body),p.length===1&&(p=Jr(p[0],!1).map(nd),p.length===1))return a.map(function(H){return n.pre+p[0]+H});var y;if(g){var b=ei(p[0]),m=ei(p[1]),x=Math.max(p[0].length,p[1].length),O=p.length==3?Math.abs(ei(p[2])):1,N=id,A=m<b;A&&(O*=-1,N=ad);var E=p.some(sd);y=[];for(var D=b;N(D,m);D+=O){var L;if(l)L=String.fromCharCode(D),L==="\\"&&(L="");else if(L=String(D),E){var z=x-L.length;if(z>0){var I=new Array(z+1).join("0");D<0?L="-"+I+L.slice(1):L=I+L}}y.push(L)}}else{y=[];for(var R=0;R<p.length;R++)y.push.apply(y,Jr(p[R],!1))}for(var R=0;R<y.length;R++)for(var u=0;u<a.length;u++){var f=i+y[R]+a[u];(!e||g||f)&&r.push(f)}}return r}const od=wr(Ql),ud=1024*64,Pn=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>ud)throw new TypeError("pattern is too long")},cd={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Qr=t=>t.replace(/[[\]\\-]/g,"\\$&"),ld=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Ma=t=>t.join(""),dd=(t,e)=>{const r=e;if(t.charAt(r)!=="[")throw new Error("not in a brace expression");const n=[],i=[];let a=r+1,u=!1,f=!1,h=!1,l=!1,g=r,v="";e:for(;a<t.length;){const m=t.charAt(a);if((m==="!"||m==="^")&&a===r+1){l=!0,a++;continue}if(m==="]"&&u&&!h){g=a+1;break}if(u=!0,m==="\\"&&!h){h=!0,a++;continue}if(m==="["&&!h){for(const[x,[O,N,A]]of Object.entries(cd))if(t.startsWith(x,a)){if(v)return["$.",!1,t.length-r,!0];a+=x.length,A?i.push(O):n.push(O),f=f||N;continue e}}if(h=!1,v){m>v?n.push(Qr(v)+"-"+Qr(m)):m===v&&n.push(Qr(m)),v="",a++;continue}if(t.startsWith("-]",a+1)){n.push(Qr(m+"-")),a+=2;continue}if(t.startsWith("-",a+1)){v=m,a+=2;continue}n.push(Qr(m)),a++}if(g<a)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,t.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!l){const m=n[0].length===2?n[0].slice(-1):n[0];return[ld(m),!1,g-r,!1]}const p="["+(l?"^":"")+Ma(n)+"]",y="["+(l?"":"^")+Ma(i)+"]";return[n.length&&i.length?"("+p+"|"+y+")":n.length?p:y,f,g-r,!0]},en=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),fd=new Set(["!","?","+","*","@"]),Ra=t=>fd.has(t),hd="(?!\\.\\.?(?:$|/))",ti="(?!\\.)",gd=new Set(["[","."]),pd=new Set(["..","."]),md=new Set("().*{}+?[]^$\\!"),yd=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),ri="[^/]",La=ri+"*?",Pa=ri+"+?",ze=class ze{constructor(e,r,n={}){Pe(this,Fn);pe(this,"type");Pe(this,je,void 0);Pe(this,Ve,void 0);Pe(this,Ct,!1);Pe(this,Se,[]);Pe(this,Re,void 0);Pe(this,Ft,void 0);Pe(this,sr,void 0);Pe(this,Wt,!1);Pe(this,at,void 0);Pe(this,ir,void 0);Pe(this,tn,!1);this.type=e,e&&Ce(this,Ve,!0),Ce(this,Re,r),Ce(this,je,V(this,Re)?V(V(this,Re),je):this),Ce(this,at,V(this,je)===this?n:V(V(this,je),at)),Ce(this,sr,V(this,je)===this?[]:V(V(this,je),sr)),e==="!"&&!V(V(this,je),Wt)&&V(this,sr).push(this),Ce(this,Ft,V(this,Re)?V(V(this,Re),Se).length:0)}get hasMagic(){if(V(this,Ve)!==void 0)return V(this,Ve);for(const e of V(this,Se))if(typeof e!="string"&&(e.type||e.hasMagic))return Ce(this,Ve,!0);return V(this,Ve)}toString(){return V(this,ir)!==void 0?V(this,ir):this.type?Ce(this,ir,this.type+"("+V(this,Se).map(e=>String(e)).join("|")+")"):Ce(this,ir,V(this,Se).map(e=>String(e)).join(""))}push(...e){for(const r of e)if(r!==""){if(typeof r!="string"&&!(r instanceof ze&&V(r,Re)===this))throw new Error("invalid part: "+r);V(this,Se).push(r)}}toJSON(){var r;const e=this.type===null?V(this,Se).slice().map(n=>typeof n=="string"?n:n.toJSON()):[this.type,...V(this,Se).map(n=>n.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===V(this,je)||V(V(this,je),Wt)&&((r=V(this,Re))==null?void 0:r.type)==="!")&&e.push({}),e}isStart(){var r;if(V(this,je)===this)return!0;if(!((r=V(this,Re))!=null&&r.isStart()))return!1;if(V(this,Ft)===0)return!0;const e=V(this,Re);for(let n=0;n<V(this,Ft);n++){const i=V(e,Se)[n];if(!(i instanceof ze&&i.type==="!"))return!1}return!0}isEnd(){var r,n,i;if(V(this,je)===this||((r=V(this,Re))==null?void 0:r.type)==="!")return!0;if(!((n=V(this,Re))!=null&&n.isEnd()))return!1;if(!this.type)return(i=V(this,Re))==null?void 0:i.isEnd();const e=V(this,Re)?V(V(this,Re),Se).length:0;return V(this,Ft)===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){const r=new ze(this.type,e);for(const n of V(this,Se))r.copyIn(n);return r}static fromGlob(e,r={}){var i;const n=new ze(null,void 0,r);return Kt(i=ze,Nr,bs).call(i,e,n,0,r),n}toMMPattern(){if(this!==V(this,je))return V(this,je).toMMPattern();const e=this.toString(),[r,n,i,a]=this.toRegExpSource();if(!(i||V(this,Ve)||V(this,at).nocase&&!V(this,at).nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;const f=(V(this,at).nocase?"i":"")+(a?"u":"");return Object.assign(new RegExp(`^${r}$`,f),{_src:r,_glob:e})}toRegExpSource(){var i;if(V(this,je)===this&&Kt(this,Fn,to).call(this),!this.type){const a=this.isStart()&&this.isEnd(),u=V(this,Se).map(g=>{var m;const[v,p,y,b]=typeof g=="string"?Kt(m=ze,Wn,ro).call(m,g,V(this,Ve),a):g.toRegExpSource();return Ce(this,Ve,V(this,Ve)||y),Ce(this,Ct,V(this,Ct)||b),v}).join("");let f="";if(this.isStart()&&typeof V(this,Se)[0]=="string"&&!(V(this,Se).length===1&&pd.has(V(this,Se)[0]))){const v=gd,p=V(this,at).dot&&v.has(u.charAt(0))||u.startsWith("\\.")&&v.has(u.charAt(2))||u.startsWith("\\.\\.")&&v.has(u.charAt(4)),y=!V(this,at).dot&&v.has(u.charAt(0));f=p?hd:y?ti:""}let h="";return this.isEnd()&&V(V(this,je),Wt)&&((i=V(this,Re))==null?void 0:i.type)==="!"&&(h="(?:$|\\/)"),[f+u+h,en(u),Ce(this,Ve,!!V(this,Ve)),V(this,Ct)]}const e=this.type==="!"?"(?:(?!(?:":"(?:",r=V(this,Se).map(a=>{if(typeof a=="string")throw new Error("string type in extglob ast??");const[u,f,h,l]=a.toRegExpSource();return Ce(this,Ct,V(this,Ct)||l),u}).filter(a=>!(this.isStart()&&this.isEnd())||!!a).join("|");if(this.isStart()&&this.isEnd()&&!r&&this.type!=="!"){const a=this.toString();return Ce(this,Se,[a]),this.type=null,Ce(this,Ve,void 0),[a,en(this.toString()),!1,!1]}let n="";if(this.type==="!"&&V(this,tn))n=(this.isStart()&&!V(this,at).dot?ti:"")+Pa;else{const a=this.type==="!"?"))"+(this.isStart()&&!V(this,at).dot?ti:"")+La+")":this.type==="@"?")":`)${this.type}`;n=e+r+a}return[n,en(r),Ce(this,Ve,!!V(this,Ve)),V(this,Ct)]}};je=new WeakMap,Ve=new WeakMap,Ct=new WeakMap,Se=new WeakMap,Re=new WeakMap,Ft=new WeakMap,sr=new WeakMap,Wt=new WeakMap,at=new WeakMap,ir=new WeakMap,tn=new WeakMap,Fn=new WeakSet,to=function(){if(this!==V(this,je))throw new Error("should only call on root");if(V(this,Wt))return this;this.toString(),Ce(this,Wt,!0);let e;for(;e=V(this,sr).pop();){if(e.type!=="!")continue;let r=e,n=V(r,Re);for(;n;){for(let i=V(r,Ft)+1;!n.type&&i<V(n,Se).length;i++)for(const a of V(e,Se)){if(typeof a=="string")throw new Error("string part in extglob AST??");a.copyIn(V(n,Se)[i])}r=n,n=V(r,Re)}}return this},Nr=new WeakSet,bs=function(e,r,n,i){var y,b;let a=!1,u=!1,f=-1,h=!1;if(r.type===null){let m=n,x="";for(;m<e.length;){const O=e.charAt(m++);if(a||O==="\\"){a=!a,x+=O;continue}if(u){m===f+1?(O==="^"||O==="!")&&(h=!0):O==="]"&&!(m===f+2&&h)&&(u=!1),x+=O;continue}else if(O==="["){u=!0,f=m,h=!1,x+=O;continue}if(!i.noext&&Ra(O)&&e.charAt(m)==="("){r.push(x),x="";const N=new ze(O,r);m=Kt(y=ze,Nr,bs).call(y,e,N,m,i),r.push(N);continue}x+=O}return r.push(x),m}let l=n+1,g=new ze(null,r);const v=[];let p="";for(;l<e.length;){const m=e.charAt(l++);if(a||m==="\\"){a=!a,p+=m;continue}if(u){l===f+1?(m==="^"||m==="!")&&(h=!0):m==="]"&&!(l===f+2&&h)&&(u=!1),p+=m;continue}else if(m==="["){u=!0,f=l,h=!1,p+=m;continue}if(Ra(m)&&e.charAt(l)==="("){g.push(p),p="";const x=new ze(m,g);g.push(x),l=Kt(b=ze,Nr,bs).call(b,e,x,l,i);continue}if(m==="|"){g.push(p),p="",v.push(g),g=new ze(null,r);continue}if(m===")")return p===""&&V(r,Se).length===0&&Ce(r,tn,!0),g.push(p),p="",r.push(...v,g),l;p+=m}return r.type=null,Ce(r,Ve,void 0),Ce(r,Se,[e.substring(n-1)]),l},Wn=new WeakSet,ro=function(e,r,n=!1){let i=!1,a="",u=!1;for(let f=0;f<e.length;f++){const h=e.charAt(f);if(i){i=!1,a+=(md.has(h)?"\\":"")+h;continue}if(h==="\\"){f===e.length-1?a+="\\\\":i=!0;continue}if(h==="["){const[l,g,v,p]=dd(e,f);if(v){a+=l,u=u||g,f+=v-1,r=r||p;continue}}if(h==="*"){n&&e==="*"?a+=Pa:a+=La,r=!0;continue}if(h==="?"){a+=ri,r=!0;continue}a+=yd(h)}return[a,en(e),!!r,u]},Pe(ze,Nr),Pe(ze,Wn);let jn=ze;const vd=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&"),qe=(t,e,r={})=>(Pn(e),!r.nocomment&&e.charAt(0)==="#"?!1:new Bn(e,r).match(t)),_d=/^\*+([^+@!?\*\[\(]*)$/,bd=t=>e=>!e.startsWith(".")&&e.endsWith(t),wd=t=>e=>e.endsWith(t),Ad=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),xd=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),Ed=/^\*+\.\*+$/,Sd=t=>!t.startsWith(".")&&t.includes("."),Td=t=>t!=="."&&t!==".."&&t.includes("."),Od=/^\.\*+$/,Nd=t=>t!=="."&&t!==".."&&t.startsWith("."),kd=/^\*+$/,Id=t=>t.length!==0&&!t.startsWith("."),Cd=t=>t.length!==0&&t!=="."&&t!=="..",Dd=/^\?+([^+@!?\*\[\(]*)?$/,Md=([t,e=""])=>{const r=ja([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},Rd=([t,e=""])=>{const r=Ba([t]);return e?(e=e.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(e)):r},Ld=([t,e=""])=>{const r=Ba([t]);return e?n=>r(n)&&n.endsWith(e):r},Pd=([t,e=""])=>{const r=ja([t]);return e?n=>r(n)&&n.endsWith(e):r},ja=([t])=>{const e=t.length;return r=>r.length===e&&!r.startsWith(".")},Ba=([t])=>{const e=t.length;return r=>r.length===e&&r!=="."&&r!==".."},Va=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",$a={win32:{sep:"\\"},posix:{sep:"/"}},jd=Va==="win32"?$a.win32.sep:$a.posix.sep;qe.sep=jd;const st=Symbol("globstar **");qe.GLOBSTAR=st;const Bd="[^/]"+"*?",Vd="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",$d="(?:(?!(?:\\/|^)\\.).)*?",Ud=(t,e={})=>r=>qe(r,t,e);qe.filter=Ud;const it=(t,e={})=>Object.assign({},t,e),Fd=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return qe;const e=qe;return Object.assign((n,i,a={})=>e(n,i,it(t,a)),{Minimatch:class extends e.Minimatch{constructor(i,a={}){super(i,it(t,a))}static defaults(i){return e.defaults(it(t,i)).Minimatch}},AST:class extends e.AST{constructor(i,a,u={}){super(i,a,it(t,u))}static fromGlob(i,a={}){return e.AST.fromGlob(i,it(t,a))}},unescape:(n,i={})=>e.unescape(n,it(t,i)),escape:(n,i={})=>e.escape(n,it(t,i)),filter:(n,i={})=>e.filter(n,it(t,i)),defaults:n=>e.defaults(it(t,n)),makeRe:(n,i={})=>e.makeRe(n,it(t,i)),braceExpand:(n,i={})=>e.braceExpand(n,it(t,i)),match:(n,i,a={})=>e.match(n,i,it(t,a)),sep:e.sep,GLOBSTAR:st})};qe.defaults=Fd;const Ua=(t,e={})=>(Pn(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:od(t));qe.braceExpand=Ua;const Wd=(t,e={})=>new Bn(t,e).makeRe();qe.makeRe=Wd;const Zd=(t,e,r={})=>{const n=new Bn(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};qe.match=Zd;const Fa=/[?*]|[+@!]\(.*?\)|\[|\]/,Hd=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Bn{constructor(e,r={}){pe(this,"options");pe(this,"set");pe(this,"pattern");pe(this,"windowsPathsNoEscape");pe(this,"nonegate");pe(this,"negate");pe(this,"comment");pe(this,"empty");pe(this,"preserveMultipleSlashes");pe(this,"partial");pe(this,"globSet");pe(this,"globParts");pe(this,"nocase");pe(this,"isWindows");pe(this,"platform");pe(this,"windowsNoMagicRoot");pe(this,"regexp");Pn(e),r=r||{},this.options=r,this.pattern=e,this.platform=r.platform||Va,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const e of this.set)for(const r of e)if(typeof r!="string")return!0;return!1}debug(...e){}make(){const e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...a)=>console.error(...a)),this.debug(this.pattern,this.globSet);const n=this.globSet.map(a=>this.slashSplit(a));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((a,u,f)=>{if(this.isWindows&&this.windowsNoMagicRoot){const h=a[0]===""&&a[1]===""&&(a[2]==="?"||!Fa.test(a[2]))&&!Fa.test(a[3]),l=/^[a-z]:/i.test(a[0]);if(h)return[...a.slice(0,4),...a.slice(4).map(g=>this.parse(g))];if(l)return[a[0],...a.slice(1).map(g=>this.parse(g))]}return a.map(h=>this.parse(h))});if(this.debug(this.pattern,i),this.set=i.filter(a=>a.indexOf(!1)===-1),this.isWindows)for(let a=0;a<this.set.length;a++){const u=this.set[a];u[0]===""&&u[1]===""&&this.globParts[a][2]==="?"&&typeof u[3]=="string"&&/^[a-z]:$/i.test(u[3])&&(u[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)e[n][i]==="**"&&(e[n][i]="*");const{optimizationLevel:r=1}=this.options;return r>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):r>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let i=n;for(;r[i+1]==="**";)i++;i!==n&&r.splice(n,i-n)}return r})}levelOneOptimize(e){return e.map(r=>(r=r.reduce((n,i)=>{const a=n[n.length-1];return i==="**"&&a==="**"?n:i===".."&&a&&a!==".."&&a!=="."&&a!=="**"?(n.pop(),n):(n.push(i),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){const a=e[i];i===1&&a===""&&e[0]===""||(a==="."||a==="")&&(r=!0,e.splice(i,1),i--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(r=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){const i=e[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(r=!0,e.splice(n-1,2),n-=2)}}while(r);return e.length===0?[""]:e}firstPhasePreProcess(e){let r=!1;do{r=!1;for(let n of e){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let u=i;for(;n[u+1]==="**";)u++;u>i&&n.splice(i+1,u-i);let f=n[i+1];const h=n[i+2],l=n[i+3];if(f!==".."||!h||h==="."||h===".."||!l||l==="."||l==="..")continue;r=!0,n.splice(i,1);const g=n.slice(0);g[i]="**",e.push(g),i--}if(!this.preserveMultipleSlashes){for(let u=1;u<n.length-1;u++){const f=n[u];u===1&&f===""&&n[0]===""||(f==="."||f==="")&&(r=!0,n.splice(u,1),u--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let a=0;for(;(a=n.indexOf("..",a+1))!==-1;){const u=n[a-1];if(u&&u!=="."&&u!==".."&&u!=="**"){r=!0;const h=a===1&&n[a+1]==="**"?["."]:[];n.splice(a-1,2,...h),n.length===0&&n.push(""),a-=2}}}}while(r);return e}secondPhasePreProcess(e){for(let r=0;r<e.length-1;r++)for(let n=r+1;n<e.length;n++){const i=this.partsMatch(e[r],e[n],!this.preserveMultipleSlashes);i&&(e[r]=i,e[n]=[])}return e.filter(r=>r.length)}partsMatch(e,r,n=!1){let i=0,a=0,u=[],f="";for(;i<e.length&&a<r.length;)if(e[i]===r[a])u.push(f==="b"?r[a]:e[i]),i++,a++;else if(n&&e[i]==="**"&&r[a]===e[i+1])u.push(e[i]),i++;else if(n&&r[a]==="**"&&e[i]===r[a+1])u.push(r[a]),a++;else if(e[i]==="*"&&r[a]&&(this.options.dot||!r[a].startsWith("."))&&r[a]!=="**"){if(f==="b")return!1;f="a",u.push(e[i]),i++,a++}else if(r[a]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(f==="a")return!1;f="b",u.push(r[a]),i++,a++}else return!1;return e.length===r.length&&u}parseNegate(){if(this.nonegate)return;const e=this.pattern;let r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n=!1){const i=this.options;if(this.isWindows){const m=e[0]===""&&e[1]===""&&e[2]==="?"&&typeof e[3]=="string"&&/^[a-z]:$/i.test(e[3]),x=r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]);if(m&&x){const O=e[3],N=r[3];O.toLowerCase()===N.toLowerCase()&&(e[3]=N)}else if(x&&typeof e[0]=="string"){const O=r[3],N=e[0];O.toLowerCase()===N.toLowerCase()&&(r[3]=N,r=r.slice(3))}else if(m&&typeof r[0]=="string"){const O=e[3];O.toLowerCase()===r[0].toLowerCase()&&(r[0]=O,e=e.slice(3))}}const{optimizationLevel:a=1}=this.options;a>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var u=0,f=0,h=e.length,l=r.length;u<h&&f<l;u++,f++){this.debug("matchOne loop");var g=r[f],v=e[u];if(this.debug(r,g,v),g===!1)return!1;if(g===st){this.debug("GLOBSTAR",[r,g,v]);var p=u,y=f+1;if(y===l){for(this.debug("** at the end");u<h;u++)if(e[u]==="."||e[u]===".."||!i.dot&&e[u].charAt(0)===".")return!1;return!0}for(;p<h;){var b=e[p];if(this.debug(`
globstar while`,e,p,r,y,b),this.matchOne(e.slice(p),r.slice(y),n))return this.debug("globstar found match!",p,h,b),!0;if(b==="."||b===".."||!i.dot&&b.charAt(0)==="."){this.debug("dot detected!",e,p,r,y);break}this.debug("globstar swallow a segment, and continue"),p++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,p,r,y),p===h))}let m;if(typeof g=="string"?(m=v===g,this.debug("string match",g,v,m)):(m=g.test(v),this.debug("pattern match",g,v,m)),!m)return!1}if(u===h&&f===l)return!0;if(u===h)return n;if(f===l)return u===h-1&&e[u]==="";throw new Error("wtf?")}braceExpand(){return Ua(this.pattern,this.options)}parse(e){Pn(e);const r=this.options;if(e==="**")return st;if(e==="")return"";let n,i=null;(n=e.match(kd))?i=r.dot?Cd:Id:(n=e.match(_d))?i=(r.nocase?r.dot?xd:Ad:r.dot?wd:bd)(n[1]):(n=e.match(Dd))?i=(r.nocase?r.dot?Rd:Md:r.dot?Ld:Pd)(n):(n=e.match(Ed))?i=r.dot?Td:Sd:(n=e.match(Od))&&(i=Nd);const a=jn.fromGlob(e,this.options).toMMPattern();return i?Object.assign(a,{test:i}):a}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const r=this.options,n=r.noglobstar?Bd:r.dot?Vd:$d,i=new Set(r.nocase?["i"]:[]);let a=e.map(h=>{const l=h.map(g=>{if(g instanceof RegExp)for(const v of g.flags.split(""))i.add(v);return typeof g=="string"?Hd(g):g===st?st:g._src});return l.forEach((g,v)=>{const p=l[v+1],y=l[v-1];g!==st||y===st||(y===void 0?p!==void 0&&p!==st?l[v+1]="(?:\\/|"+n+"\\/)?"+p:l[v]=n:p===void 0?l[v-1]=y+"(?:\\/|"+n+")?":p!==st&&(l[v-1]=y+"(?:\\/|\\/"+n+"\\/)"+p,l[v+1]=st))}),l.filter(g=>g!==st).join("/")}).join("|");const[u,f]=e.length>1?["(?:",")"]:["",""];a="^"+u+a+f+"$",this.negate&&(a="^(?!"+a+").+$");try{this.regexp=new RegExp(a,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;const n=this.options;this.isWindows&&(e=e.split("\\").join("/"));const i=this.slashSplit(e);this.debug(this.pattern,"split",i);const a=this.set;this.debug(this.pattern,"set",a);let u=i[i.length-1];if(!u)for(let f=i.length-2;!u&&f>=0;f--)u=i[f];for(let f=0;f<a.length;f++){const h=a[f];let l=i;if(n.matchBase&&h.length===1&&(l=[u]),this.matchOne(l,h,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return qe.defaults(e).Minimatch}}qe.AST=jn,qe.Minimatch=Bn,qe.escape=vd,qe.unescape=en;var Vn=()=>Ee().uuid(),zd=/^(?=.{1,255}$)[0-9A-Za-z_](?:(?:[0-9A-Za-z_]|-){0,61}[0-9A-Za-z_])?(?:\.[0-9A-Za-z_](?:(?:[0-9A-Za-z_]|-){0,61}[0-9A-Za-z_])?)*\.?$/,Wa=()=>Ee().regex(zd);$e({id:Vn(),host:Wa(),startedAt:xe().positive(),endedAt:xe().nullable().optional()}).strict();var Za=$e({id:Vn(),sessionId:Vn(),adUrl:Ee().url(),timestamp:xe().positive().describe("The time in ms since 1970 that this ad was seen at")}).strict(),Yd=Za.extend({type:rr(["image"]),additionalDetails:$e({width:xe().nonnegative(),height:xe().nonnegative()})}).strict(),Gd=Za.extend({type:rr(["iframe"]),additionalDetails:$e({width:xe().nonnegative(),height:xe().nonnegative()})}).strict();Ns([Yd,Gd]);var ni=Vn,Ha=Wa,si=()=>tr().nullable().optional(),ii=()=>tr().nullable().optional();$e({id:ni(),host:Ha(),startedAt:xe().positive(),endedAt:xe().nullable().optional(),imported:si(),generated:ii()}).strict();var za=$e({id:Ee(),sessionId:ni(),timestamp:xe().positive().describe("The time in ms since 1970 that this ad was seen at"),imported:si()}).strict(),Kd=za.extend({type:rr(["basic-display"]),details:$e({type:rr(["image","iframe"]),url:Ee().url().describe("The URL the ad is accessible at"),width:xe().nonnegative(),height:xe().nonnegative()}).strict()}),qd=()=>ea(Ee(),Qi()),Xd=za.extend({type:rr(["youtube/hulu/vast","pathmatics"]),details:qd()}),Jd=Ns([Kd,Xd]),ai=ni,oi=si,Qd=ii,ui=()=>Ha().describe("The mobile app bundle ID or website hostname"),ef=$e({id:ai(),appId:ui(),createdBy:Ee({description:"The install id that created the session"}),startedAt:xe().positive(),endedAt:xe(),imported:oi(),generated:Qd()}).strict(),tf=$e({id:ai(),appId:ui(),createdBy:Ee(),startedAt:xe().positive(),endedAt:xe().nullable().optional(),imported:oi(),generated:ii()}).strict(),rf=Jd,Ya=ai,Ga=oi,Ka=ui,nf=ef,sf=tf,af=$e({id:Ya(),appId:Ka(),path:Ee().startsWith("/"),referrer:Ee().nullish(),createdBy:Ee(),startedAt:xe().positive(),endedAt:xe(),imported:Ga()}).strict(),of=$e({id:Ya(),appId:Ka(),path:Ee().startsWith("/"),referrer:Ee().nullish(),createdBy:Ee(),startedAt:xe().positive(),endedAt:xe().nullish(),imported:Ga()}).strict(),uf=rf,cf=nf,qa=sf,lf=af,df=of,Xa=uf,ci=class{constructor(t,e){this.db=t,this.storeName=e}async deleteAll(){let t=(await this.db).transaction(this.storeName,"readwrite"),e=await t.objectStore(this.storeName).openCursor();for(;e;)await e.delete(),e=await e.continue();await t.done}async findAll(){return await(await this.db).getAll(this.storeName)}},ff=(et=class extends ci{constructor(e){super(e.db,et.STORE_NAME_LATEST),this.config=e}async findAds(e,r){return await(await this.db).getAllFromIndex(this.storeName,et.INDEX_TIMESTAMP,IDBKeyRange.bound(e,r,!1,!0))}async findAdsForSession(e){return await(await this.db).getAllFromIndex(this.storeName,et.INDEX_SESSION_ID,e)}async upsertAd(e){var i,a;let r=await this.db,n=Xa.parse(e);return(a=(i=this.config).onAdUpserted)==null||a.call(i,n),await r.put(this.storeName,n),n}},pe(et,"STORE_NAME_1","ads"),pe(et,"STORE_NAME_2","ads-2"),pe(et,"STORE_NAME_LATEST",et.STORE_NAME_2),pe(et,"INDEX_SESSION_ID","idx_ad_sessionId"),pe(et,"INDEX_TIMESTAMP","idx_ad_timestamp"),et),li=-1;function hf(t){return{id:t.id,appId:t.appId,path:t.path,referrer:t.referrer,createdBy:t.createdBy,endedAt:t.endedAt??li,startedAt:t.startedAt,imported:t.imported}}function di(t){return{id:t.id,appId:t.appId,path:t.path,referrer:t.referrer,createdBy:t.createdBy,endedAt:t.endedAt===li?null:t.endedAt,startedAt:t.startedAt,imported:t.imported}}var gf=(ot=class extends ci{constructor(e){super(e.db,ot.STORE_NAME_LATEST),this.config=e}async startPageView(e){let r=await this.db,n=df.parse({...e,id:Js(),createdBy:await this.config.getInstallId(),endedAt:void 0}),i=hf(n);return await r.add(this.storeName,i),n}async endPageView(e,r){let n=await this.db,i=await n.get(this.storeName,e.id);if(i==null)throw Error(`Cannot update: PageView not found with id=${e.id}`);let a={...i,endedAt:r};return await n.put(this.storeName,a),di(a)}async getActivePageViews(){return(await(await this.db).getAllFromIndex(this.storeName,ot.INDEX_ENDED_AT,li)).map(di)}async findPageViewsByEndedAt(e,r){return(await(await this.db).getAllFromIndex(this.storeName,ot.INDEX_ENDED_AT,IDBKeyRange.bound(e,r,!1,!0))).map(di)}async deleteAllGeneratedPageViews(){let e=(await this.db).transaction(this.storeName,"readwrite"),r=await e.store.openCursor();for(;r;)r.value.imported&&await r.delete(),r=await r.continue();await e.done}},pe(ot,"STORE_NAME_1","page_views"),pe(ot,"STORE_NAME_LATEST",ot.STORE_NAME_1),pe(ot,"INDEX_ENDED_AT","idx_page_view_endedAt"),pe(ot,"INDEX_STARTED_AT","idx_page_view_startedAt"),ot),pf=1e3,Ja=60*pf,mf=60*Ja,fi=-1;function Qa(t){return{id:t.id,appId:t.appId,createdBy:t.createdBy,endedAt:t.endedAt??fi,startedAt:t.startedAt,imported:t.imported,generated:t.generated}}function nr(t){return{id:t.id,appId:t.appId,createdBy:t.createdBy,endedAt:t.endedAt===fi?null:t.endedAt,startedAt:t.startedAt,imported:t.imported,generated:t.generated}}var yf=(Fe=class extends ci{constructor(e){super(e.db,Fe.STORE_NAME_LATEST),this.config=e}async startSession(e){let r=await this.db,n=qa.parse({...e,id:Js(),createdBy:await this.config.getInstallId(),endedAt:void 0}),i=Qa(n);return await r.add(this.storeName,i),n}async createSessions(e){let r=await this.db,n=await this.config.getInstallId(),i=r.transaction(Fe.STORE_NAME_LATEST,"readwrite"),a=i.objectStore(Fe.STORE_NAME_LATEST),u=e.map(h=>qa.parse({...h,id:Js(),createdBy:n})),f=u.map(Qa);return await Promise.all([...f.map(h=>a.add(h)),i.done]),u}async endSession(e,r){var u,f;let n=await this.db;r-e.startedAt>=6*mf&&((f=(u=this.config).onLongSessionDetected)==null||f.call(u,e,r),r=e.startedAt+10*Ja);let i=await n.get(this.storeName,e.id);if(i==null)throw Error(`Cannot update: Session not found with id=${e.id}`);let a={...i,endedAt:r};return await n.put(this.storeName,a),nr(a)}async findAllSessions(){return(await super.findAll()).map(nr)}async findSessions(e,r){return(await(await this.db).getAllFromIndex(this.storeName,Fe.INDEX_STARTED_AT,IDBKeyRange.bound(e,r,!1,!0))).map(nr)}async findSessionsByEndedAt(e,r){return(await(await this.db).getAllFromIndex(this.storeName,Fe.INDEX_ENDED_AT,IDBKeyRange.bound(e,r,!1,!0))).map(nr)}async findOldestSession(){let e=(await(await this.db).getAllFromIndex(this.storeName,Fe.INDEX_STARTED_AT,IDBKeyRange.lowerBound(0,!0))).shift();return e?nr(e):void 0}async getSession(e){let r=await(await this.db).get(this.storeName,e);if(r==null)throw Error(`No session with id=${e} was found`);return nr(r)}async getActiveSessions(){return(await(await this.db).getAllFromIndex(this.storeName,Fe.INDEX_ENDED_AT,fi)).map(nr)}async deleteAllGeneratedSessions(){let e=(await this.db).transaction(this.storeName,"readwrite"),r=await e.store.openCursor();for(;r;){let n=r.value;(n.imported||n.generated)&&await r.delete(),r=await r.continue()}await e.done}},pe(Fe,"STORE_NAME_1","sessions"),pe(Fe,"STORE_NAME_2","sessions_2"),pe(Fe,"STORE_NAME_LATEST",Fe.STORE_NAME_2),pe(Fe,"INDEX_ENDED_AT","idx_session_endedAt"),pe(Fe,"INDEX_STARTED_AT","idx_session_startedAt"),Fe),hi=(t=>(t[t.V2=2]="V2",t[t.V3=3]="V3",t[t.V4=4]="V4",t[t.V5=5]="V5",t[t.V6=6]="V6",t[t.V7=7]="V7",t[t.V8=8]="V8",t))(hi||{});J.object({version:J.nativeEnum(hi),stores:J.object({[yf.STORE_NAME_LATEST]:J.array(cf).optional(),[gf.STORE_NAME_LATEST]:J.array(lf).optional(),[ff.STORE_NAME_LATEST]:J.array(Xa).optional()})}),J.object({version:J.nativeEnum(hi),stores:J.record(J.string(),J.array(J.any()))});function Vf(t){return t}const vf={matches:["*://*/*"],runAt:"document_end",main(t){tc("usage-monitoring.cs",Zl("chrome")),Ae("Loaded usage-monitoring.cs.ts"),Gl(t)}};var _f={VITE_CJS_IGNORE_WARNING:"true",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1,MANIFEST_VERSION:3,BROWSER:"chrome",CHROME:!0,FIREFOX:!1,SAFARI:!1,EDGE:!1,OPERA:!1,COMMAND:"build",ENTRYPOINT:"usage-monitoring"};function $n(t,...e){}var bf={debug:(...t)=>$n(console.debug,...t),log:(...t)=>$n(console.log,...t),warn:(...t)=>$n(console.warn,...t),error:(...t)=>$n(console.error,...t)},wf=(kr=class extends Event{constructor(e,r){super(kr.EVENT_NAME,{}),this.newUrl=e,this.oldUrl=r}},pe(kr,"EVENT_NAME",eo("wxt:locationchange")),kr);function eo(t){const e=typeof _f>"u"?"build":"usage-monitoring";return`${qt.runtime.id}:${e}:${t}`}function Af(t){let e,r;return{run(){e==null&&(r=new URL(location.href),e=t.setInterval(()=>{let n=new URL(location.href);n.href!==r.href&&(window.dispatchEvent(new wf(n,r)),r=n)},1e3))}}}var xf=(ar=class{constructor(e,r){Pe(this,zn);Pe(this,Yn);Pe(this,Zn,window.self===window.top);Pe(this,Ir,void 0);Pe(this,Hn,Af(this));this.contentScriptName=e,this.options=r,Ce(this,Ir,new AbortController),V(this,Zn)&&Kt(this,zn,no).call(this),this.setTimeout(()=>{Kt(this,Yn,so).call(this)})}get signal(){return V(this,Ir).signal}abort(e){return V(this,Ir).abort(e)}get isInvalid(){return qt.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(e){return this.signal.addEventListener("abort",e),()=>this.signal.removeEventListener("abort",e)}block(){return new Promise(()=>{})}setInterval(e,r){const n=setInterval(()=>{this.isValid&&e()},r);return this.onInvalidated(()=>clearInterval(n)),n}setTimeout(e,r){const n=setTimeout(()=>{this.isValid&&e()},r);return this.onInvalidated(()=>clearTimeout(n)),n}requestAnimationFrame(e){const r=requestAnimationFrame((...n)=>{this.isValid&&e(...n)});return this.onInvalidated(()=>cancelAnimationFrame(r)),r}requestIdleCallback(e,r){const n=requestIdleCallback((...i)=>{this.signal.aborted||e(...i)},r);return this.onInvalidated(()=>cancelIdleCallback(n)),n}addEventListener(e,r,n,i){var a;r==="wxt:locationchange"&&this.isValid&&V(this,Hn).run(),(a=e.addEventListener)==null||a.call(e,r.startsWith("wxt:")?eo(r):r,n,{...i,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),bf.debug(`Content script "${this.contentScriptName}" context invalidated`)}},Zn=new WeakMap,Ir=new WeakMap,Hn=new WeakMap,zn=new WeakSet,no=function(){window.postMessage({event:ar.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName},"*")},Yn=new WeakSet,so=function(){const e=r=>{var n,i;((n=r.data)==null?void 0:n.type)===ar.SCRIPT_STARTED_MESSAGE_TYPE&&((i=r.data)==null?void 0:i.contentScriptName)===this.contentScriptName&&this.notifyInvalidated()};addEventListener("message",e),this.onInvalidated(()=>removeEventListener("message",e))},pe(ar,"SCRIPT_STARTED_MESSAGE_TYPE","wxt:content-script-started"),ar);function Un(t,...e){}var Ef={debug:(...t)=>Un(console.debug,...t),log:(...t)=>Un(console.log,...t),warn:(...t)=>Un(console.warn,...t),error:(...t)=>Un(console.error,...t)};(async()=>{try{const{main:t,...e}=vf,r=new xf("usage-monitoring",e);await t(r)}catch(t){Ef.error('The content script "usage-monitoring" crashed on startup!',t)}})()})();
