import{a as Y,c as y}from"./chunk-R5NGUZ66.js";import{e as R}from"./chunk-3GYLW4KZ.js";var o=R(Y()),E=R(y()),k=(e,n)=>n-e,W=(e,n)=>n-e,C=(e,n,r)=>Math.max(n,Math.min(r,e)),c=e=>{let{top:n,left:r}=e;return{top:n,left:r}},$=({dragSelector:e,onDragEnd:n,isDraggable:r=!1,animationCompleted:h=!0,element:S="div",className:M="",style:T={},...L})=>{let[f,w]=(0,o.useState)(null),P=(0,o.useRef)(null),b=(0,o.useRef)(null),a=(0,o.useRef)(null),g=(0,o.useRef)(null);f&&(g.current=c(f)),(0,o.useEffect)(()=>{if(!r)return;let t=P.current;t&&(b.current=c(t.getBoundingClientRect()))},[h]);let x=(t,u)=>{let i=P.current;if(!i)return;let m=window.innerHeight-i.offsetHeight,l=window.innerWidth-i.offsetWidth;w(p=>{let s=p||b.current;return s?{top:C(s.top+u,0,m),left:C(s.left+t,0,l)}:null})},D=()=>{if(a.current)return;let t=f||b.current;t&&(a.current=c(t))},H=t=>{let u=t.target;if(e&&!u.closest(e))return;t.preventDefault();let{clientX:i,clientY:m}=t,l=s=>{let{clientX:d,clientY:v}=s;x(k(i,d),W(m,v)),i=d,m=v,D()};document.addEventListener("mousemove",l);let p=()=>{if(document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",p),!n||!a.current||!g.current)return;let s=c(a.current);a.current=null;let d=c(g.current);n(s,d)};document.addEventListener("mouseup",p)},X=(t,u)=>{if(!u)return t;let{transform:i,translate:m,...l}=t;return{...l,...c(u),right:"auto",bottom:"auto"}};return(0,E.jsx)(S,{ref:P,onMouseDown:r?H:void 0,className:`${r?"draggable-container":""} ${M}`,style:X(T,f),...L})},z=$;export{z as a};
