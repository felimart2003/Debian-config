"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[2025],{349087:(e,t,i)=>{i.d(t,{B:()=>a});var n=i(696832);const a=()=>{const[e,t]=n.useState(""),[i,a]=n.useState(!1),r=()=>{a(!1)};return n.useEffect((()=>{if(!i)return;const e=setTimeout(r,5e3);return()=>clearTimeout(e)}),[i,e]),{isAlertVisible:i,alertMessage:e,setAlertMessage:t,hide:r,show:()=>{a(!0)}}}},406429:(e,t,i)=>{i.r(t),i.d(t,{PaymentCardEditPanel:()=>Z});var n=i(696832),a=i(526849),r=i(310789),s=i(700033),o=i(448430),l=i(382706),c=i(482598),d=i(799852),m=i(287279),u=i(86498),p=i(488203),_=i(692077),g=i(45272),h=i(276376),S=i(61290),C=i(69651),y=i(977257),b=i(349087),f=i(631605),D=i(376452),w=i(682994),A=i(830894),L=i(803322);const T=({item:e})=>{const{translate:t}=(0,p.Z)(),{routes:i}=(0,h.Xo)(),d=(0,u.V)(),T=(0,b.B)(),{protectedItemsUnlockerShown:Z}=(0,A.tY)(),{updateVaultItem:I}=(0,c.u)(o.L),[v,V]=n.useState(!1),[k,E]=n.useState(!1),[G,N]=n.useState(),[P,U]=n.useState(!1),[B,M]=n.useState(e);n.useEffect((()=>{(0,g.Nc)(s.PageView.ItemCreditCardDetails)}),[]);const W=()=>{d.showAlert(t("_common_generic_error"),r.BLW.ERROR)},q=()=>{(0,g.Nc)(s.PageView.ItemPaymentList),(0,_.uX)(i.userPayments)},O=e.itemName||t("payments_header_add_payment_card"),R=t("webapp_payment_edition_delete_text"),z={confirmDeleteConfirm:t("webapp_payment_edition_delete_confirm"),confirmDeleteDismiss:t("webapp_payment_edition_delete_dismiss"),confirmDeleteSubtitle:R,confirmDeleteTitle:t("webapp_payment_edition_delete_header"),deleteSuccessToast:e.itemName?t("webapp_payment_edition_name_delete_alert",{paymentCard:e.itemName}):t("webapp_payment_edition_generic_delete_alert")};return(0,L.BX)(D.zI,{isViewingExistingItem:!0,itemHasBeenEdited:v,onNavigateOut:q,onSubmit:async()=>{if(k)return;const i=(0,C.u)(B);if(!i.isValid)return N(i.errorSet);E(!0);try{const i=await I({vaultItemType:l.U.PaymentCard,content:B,id:e.id});if((0,m.d6)(i)){const e=B.itemName?t("webapp_payment_edition_name_update_alert",{paymentCard:B.itemName}):t("webapp_payment_edition_generic_update_alert");d.showAlert(e,r.BLW.SUCCESS),q()}else E(!1),W()}catch(e){E(!1),W()}},onClickDelete:()=>U(!0),ignoreCloseOnEscape:P||Z,formId:"edit_paymentcard_panel",header:(0,L.tZ)(D.V9,{icon:(0,L.tZ)(S.Z,{paymentCardColor:B.color,iconSize:"large"}),iconBackgroundColor:(0,y.Z)(B.color),title:O}),children:[(0,L.tZ)(C.g,{itemId:e.id,errors:G,paymentCardContent:B,signalEditedValues:t=>{V(!(0,a.equals)(t,e)),M(t)},showCopyAlert:e=>{T.setAlertMessage(e),T.show()}}),(0,L.tZ)(w.s,{isVisible:P,itemId:e.id,closeConfirmDeleteDialog:()=>U(!1),onDeletionSuccess:q,translations:z,vaultItemType:l.U.PaymentCard}),T.isAlertVisible&&(0,L.tZ)("div",{className:f.Z.alertWrapper,children:(0,L.tZ)(r.bZj,{size:r.k3y.SMALL,severity:r.BLW.SUCCESS,closeIconName:t("_common_alert_dismiss_button"),onClose:()=>{T.hide()},children:T.alertMessage})})]})},Z=({match:e})=>{const{data:t}=(0,d.k)(o.L,"query",{vaultItemTypes:[l.U.PaymentCard],ids:[`{${e.params.uuid}}`]});return t?.paymentCardsResult.items.length?(0,L.tZ)(T,{item:t.paymentCardsResult.items[0]}):null}},682994:(e,t,i)=>{i.d(t,{s:()=>_}),i(696832);var n=i(782579),a=i(482598),r=i(133354),s=i(448430),o=i(488203);let l=function(e){return e.LastAdmin="LastAdmin",e.GroupSharing="GroupSharing",e.CollectionSharing="CollectionSharing",e.Generic="Generic",e}({});var c=i(365580),d=i(803322);const m=({reason:e,translations:t,goToSharingAccess:i,closeCantDeleteDialog:a})=>{const{translate:r}=(0,o.Z)(),s=((e,t)=>{const{groupSharingTitle:i,lastAdminTitle:n,collectionSharingTitle:a,genericErrorTitle:r}=e;switch(t){case l.LastAdmin:return n;case l.GroupSharing:return i;case l.CollectionSharing:return a;case l.Generic:return r;default:return(0,c.U)(t)}})(t,e),m=((e,t)=>{const{groupSharingSubtitle:i,lastAdminSubtitle:n,collectionSharingSubtitle:a,genericErrorSubtitle:r}=e;switch(t){case l.LastAdmin:return n;case l.GroupSharing:return i;case l.CollectionSharing:return a;case l.Generic:return r;default:return(0,c.U)(t)}})(t,e);return(0,d.tZ)(n.Vq,{isOpen:!0,onClose:a,title:null!=s?s:"",closeActionLabel:r("_common_dialog_dismiss_button"),actions:e===l.LastAdmin||l.GroupSharing||l.CollectionSharing?{primary:{children:t.lastAdminActionLabel,onClick:()=>{i(),a()}}}:void 0,children:m})};var u=i(837527);const p=({closeConfirmDeleteDialog:e,onDeleteConfirm:t,translations:i})=>{const{translate:a}=(0,o.Z)(),{confirmDeleteSubtitle:r,confirmDeleteTitle:s,confirmDeleteDismiss:l,confirmDeleteConfirm:c}=i;return(0,d.tZ)(n.Vq,{title:s,onClose:e,isOpen:!0,dialogClassName:u.Ht,closeActionLabel:a("_common_dialog_dismiss_button"),isDestructive:!0,actions:{primary:{children:c,onClick:t,id:"deletion-dialog-confirm-button"},secondary:{children:l,onClick:e,autoFocus:!0,id:"deletion-dialog-dismiss-button"}},children:r})},_=({closeConfirmDeleteDialog:e,goToSharingAccess:t,isVisible:i,itemId:c,onDeletionSuccess:u,sharingStatus:_,translations:g,vaultItemType:h,isShared:S,isSharedViaUserGroup:C,isItemInCollection:y,isLastAdmin:b})=>{const{showToast:f}=(0,n.pm)(),{translate:D}=(0,o.Z)(),{deleteVaultItems:w}=(0,a.u)(s.L);if(!i)return null;let A;return(S||_?.isShared)&&(C&&(A=l.GroupSharing),b&&(A=l.LastAdmin),y&&(A=l.CollectionSharing)),A&&t?(0,d.tZ)(m,{reason:A,translations:g,goToSharingAccess:t,closeCantDeleteDialog:e}):(0,d.tZ)(p,{closeConfirmDeleteDialog:e,onDeleteConfirm:async()=>{try{var e;(await w({ids:[c],vaultItemType:h})).tag===r.rq.Success?(f({description:null!=(e=g.deleteSuccessToast)?e:D("webapp_personal_info_edition_delete_success_toast")}),u()):f({description:D("_common_generic_error"),mood:"danger",isManualDismiss:!0})}catch(e){f({description:D("_common_generic_error"),mood:"danger",isManualDismiss:!0})}},translations:g})}},631605:(e,t,i)=>{i.d(t,{Z:()=>n});const n={alertWrapper:"alertWrapper--JLZLLWrHCo"}}}]);