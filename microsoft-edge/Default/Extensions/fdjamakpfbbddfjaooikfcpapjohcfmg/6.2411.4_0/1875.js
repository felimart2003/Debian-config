"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[1875],{504085:(e,t,a)=>{a.d(t,{Z:()=>h});var l=a(696832),s=a(526849),n=a(383849),o=a.n(n),i=a(957459);var r=a(855541),d=a(803322);function c(e,t){const a=e.find((e=>String(e.value)===String(t)));return null!=a?a:null}class h extends l.Component{constructor(e){super(e),this.select=l.createRef(),this.handleChange=e=>{const t=e.target;if(!t)return;const a=t.value,l=c(this.props.options,a);this.setState({optionSelected:l}),this.props.onChange&&this.props.onChange(e)},this.handleKeyDown=e=>{"Enter"===e.key&&e.preventDefault(),this.props.onFieldKeyDown?.(e)},this.handleFocus=()=>{this.setState({isSelectFocused:!0})},this.handleBlur=()=>{this.setState({isSelectFocused:!1})};let t=null;this.props.options.length&&(t=c(this.props.options,null===this.props.defaultOption?(0,s.head)(this.props.options).value:this.props.defaultOption.value)),this.state={fieldHtmlId:(0,i.Z)(),optionSelected:t,isSelectFocused:!1}}getValue(){if(!this.select.current)throw new Error("select ref not initialized");return this.select.current.value}render(){var e;const t=this.props.marginSide||"none",a=o()("selectContainer--mo5uz0qo56",r.Z[t],{"transparent--pz8wb74Jmh":this.props.isTransparent,"disabled--I9BAM7Vdre":this.props.disabled,"focused--ietgHqFLIm":this.state.isSelectFocused}),l=o()("selector--fgNHKzkAC3",this.props.classNames);let n;this.state.optionSelected?n=this.state.optionSelected.value:this.props.options.length&&(n=null===this.props.defaultOption?(0,s.head)(this.props.options).value:this.props.defaultOption.value);const i=this.state.optionSelected?this.state.optionSelected.selectedLabel?this.state.optionSelected.selectedLabel:this.state.optionSelected.label:this.props.placeholder;return(0,d.BX)("div",{className:"container--KChkEdb4YV",children:[this.props.label&&(0,d.tZ)("label",{className:r.Z.label,color:"ds.text.neutral.catchy",htmlFor:this.state.fieldHtmlId,title:this.props.label,children:this.props.label}),(0,d.BX)("div",{className:a,children:[(0,d.BX)("div",{className:l,children:[this.state.optionSelected&&this.state.optionSelected.icon&&(0,d.tZ)("span",{className:"icon--p3a7nsSbg9",children:this.state.optionSelected.icon}),(0,d.tZ)("span",{className:"text--SjkXyB7Kyp",sx:{color:"ds.text.neutral.catchy"},children:i})]}),(0,d.tZ)("select",{className:r.Z.select,ref:this.select,id:this.state.fieldHtmlId,value:n,name:this.props.name,disabled:this.props.disabled,"data-name":this.props.dataName,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,"aria-label":null!=(e=this.props.ariaLabel)?e:this.props.label,children:this.props.options.map((e=>(0,d.tZ)("option",{disabled:e.disabled,value:String(e.value),children:e.label},e.value)))},this.state.fieldHtmlId)]})]})}}},34383:(e,t,a)=>{a.r(t),a.d(t,{Connected:()=>p}),a(696832);var l=a(799852),s=a(448430),n=a(382706),o=a(575257),i=a(615446),r=a(916390),d=a(486816),c=a(803322);const h=(0,d.Y)({getDeleteTitle:e=>e("webapp_personal_info_edition_delete_title_address"),getItemTypeDescription:e=>e("webapp_personal_info_edition_header_address_description"),getTitle:e=>{var t;return null!=(t=e.itemName)?t:""},iconType:i.Tu.address,vaultItemType:n.U.Address,renderForm:(e,t,a,l)=>{const s=o.c[e.globalState.locale.country]||o.c.US,n={...t,localeFormat:t.localeFormat||s};return(0,c.tZ)(r.k,{lee:e,currentValues:n,signalEditedValues:l,ref:a})}}),p=e=>{const t=(0,l.k)(s.L,"query",{vaultItemTypes:[n.U.Address],ids:[`{${e.match.params.uuid}}`]});return(0,c.tZ)(h,{...e,item:t.data?.addressesResult.items[0]})}},916390:(e,t,a)=>{a.d(t,{k:()=>T}),a(696832);var l=a(575257),s=a(611913),n=a(504085),o=a(806697),i=a(242521),r=a(50415);let d=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.WITHSTATE=1]="WITHSTATE",e[e.NORTHAMERICA=2]="NORTHAMERICA",e[e.UNITEDKINGDOM=3]="UNITEDKINGDOM",e[e.ASIA=4]="ASIA",e[e.JAPAN=5]="JAPAN",e}({});const c=new Set([l.c.AR,l.c.BE,l.c.CH,l.c.CL,l.c.CO,l.c.DE,l.c.ES,l.c.IT,l.c.NL,l.c.NO,l.c.PE,l.c.PT,l.c.SE,l.c.MX]),h=new Set([l.c.AU,l.c.CA,l.c.US]),p=new Set([l.c.GB,l.c.IE]),u=new Set([l.c.CN,l.c.IN,l.c.KR,l.c.BR]),b=new Set([l.c.JP]),m=(0,r.Enum)("streetName","city","state","country","streetNumber","zipCode"),N=e=>c.has(e)?d.WITHSTATE:h.has(e)?d.NORTHAMERICA:p.has(e)?d.UNITEDKINGDOM:u.has(e)?d.ASIA:b.has(e)?d.JAPAN:d.DEFAULT;var v=a(718462),_=a(167406),C=a(799852),g=a(133354),S=a(448430),y=a(382706),Z=a(488203);var I=a(803322);const f=({linkedPhoneId:e,handleChange:t,disabled:a=!1})=>{var l;const{translate:s}=(0,Z.Z)(),o=(0,C.k)(S.L,"query",{vaultItemTypes:[y.U.Phone]});if(o.status!==g.rq.Success)return null;const i=o.data.phonesResult.items,r=[{value:"",label:s("webapp_personal_info_edition_address_phone_number_other")},...i.map((e=>({value:e.id,label:`${e.itemName} ${e.phoneNumber}`,selectedLabel:(0,I.BX)("span",{children:[(0,I.tZ)("span",{className:"phoneName--IP3BIyXoAF",children:e.itemName})," ",e.phoneNumber]})})))],d=null!=(l=r.find((t=>t.value===e)))?l:r[0];return(0,I.tZ)(n.Z,{label:s("webapp_personal_info_edition_address_phone_number_label"),placeholder:"",dataName:"linkedPhoneId",defaultOption:d,options:r,onChange:t,disabled:a})};var A=a(89600);class T extends i.ZP{isFormValid(){return this.validateValues({streetName:i.UE})}buildCountryOptionList(){return Object.keys(l.c).filter((e=>e!==l.c[l.c.NO_TYPE]&&e!==l.c[l.c.UNIVERSAL])).map((e=>({value:l.c[e],label:(0,v.go)(this.props.lee.translate,l.c[e])}))).sort(((e,t)=>e.label.localeCompare(t.label,this.props.lee.translate.getLocale())))}buildStateOptionListForCountry(e){var t,a;const l=null!=(a=(null!=(t=this.props.lee.globalState.webapp.geographicStates)?t:{})[e])?a:{};return Object.keys(l).map((e=>({value:e,label:l[e].name}))).sort(((e,t)=>e.label<t.label?-1:1))}renderStreetName(e){const{shouldShowFrozenStateDialog:t}=this.context;return(0,I.tZ)(s.Z,{type:"text",label:e("full_address_label"),placeholder:e("placeholder_no_full_address"),dataName:"streetName",value:this.state.values.streetName,onChange:this.handleChange,error:this.state.errors.streetName,disabled:!!t},"streetName")}renderZipCode(e){const{shouldShowFrozenStateDialog:t}=this.context;return(0,I.tZ)(s.Z,{type:"text",label:e("zip_code_label"),placeholder:e("placeholder_no_zip_code"),dataName:"zipCode",value:this.state.values.zipCode,onChange:this.handleChange,disabled:!!t},"zipCode")}renderCity(e){const{shouldShowFrozenStateDialog:t}=this.context;return(0,I.tZ)(s.Z,{type:"text",label:e("city_label"),placeholder:e("placeholder_no_city"),dataName:"city",value:this.state.values.city,onChange:this.handleChange,disabled:!!t},"city")}renderState(e){var t;const a=this.buildStateOptionListForCountry(this.state.values.localeFormat),l=null!=(t=a.find((e=>e.value===this.state.values.state)))?t:a[0],{shouldShowFrozenStateDialog:s}=this.context;return(0,I.tZ)(n.Z,{label:N(this.state.values.localeFormat)===d.UNITEDKINGDOM?e("county_label"):e("state_label"),dataName:"state",placeholder:this.state.values.state,defaultOption:l,options:a,onChange:this.handleChange,disabled:!!s},`states_${this.state.values.localeFormat}`)}renderCountry(e){var t;const a=this.buildCountryOptionList(),l=null!=(t=a.find((e=>e.value===this.state.values.localeFormat)))?t:a[0],{shouldShowFrozenStateDialog:s}=this.context;return(0,I.tZ)(n.Z,{label:e("country_label"),placeholder:l.label,dataName:"localeFormat",defaultOption:l,options:a,onChange:e=>{const t=e.target.value,a=this.buildStateOptionListForCountry(t);this.handleChanges({localeFormat:t,state:a&&Object.keys(a).length?Object.keys(a)[0]:""})},disabled:!!s},"country")}renderStreetNumber(e){const{shouldShowFrozenStateDialog:t}=this.context;return(0,I.tZ)(s.Z,{type:"text",label:e("street_number_label"),placeholder:e("placeholder_no_street_number"),dataName:"streetNumber",value:this.state.values.streetNumber,onChange:this.handleChange,disabled:!!t},"streetNumber")}renderLocalizedFields(){const e=this.props.lee.translate.namespace("webapp_personal_info_edition_address_"),t={[m.streetName]:this.renderStreetName,[m.city]:this.renderCity,[m.country]:this.renderCountry,[m.zipCode]:this.renderZipCode,[m.streetNumber]:this.renderStreetNumber,[m.state]:this.renderState};return(e=>{const t=N(e);return t===d.NORTHAMERICA?[m.streetName,m.city,m.state,m.zipCode,m.country]:t===d.UNITEDKINGDOM?[m.streetNumber,m.streetName,m.city,m.state,m.zipCode,m.country]:t===d.ASIA?[m.streetName,m.city,m.zipCode,m.country]:t===d.JAPAN?[m.zipCode,m.city,m.streetName,m.country]:t===d.WITHSTATE?[m.streetName,m.zipCode,m.city,m.state,m.country]:[m.streetName,m.zipCode,m.city,m.country]})(this.state.values.localeFormat).map((a=>a in t?t[a].call(this,e):null))}render(){var e;const t=this.props.lee.translate.namespace("webapp_personal_info_edition_address_"),{shouldShowFrozenStateDialog:a}=this.context;return(0,I.BX)(I.HY,{children:[(0,I.tZ)("div",{className:A.Z.containerBlock,children:this.renderLocalizedFields()}),(0,I.BX)("div",{className:A.Z.containerBlock,children:[(0,I.tZ)(s.Z,{type:"text",label:t("name_label"),placeholder:t("placeholder_no_name"),dataName:"itemName",value:this.state.values.itemName,onChange:this.handleChange,disabled:!!a}),(0,I.tZ)(_.M,{labelSx:_.e,spaceId:null!=(e=this.state.values.spaceId)?e:"",onChange:e=>this.handleChange(e,"spaceId"),disabled:!!a})]}),(0,I.BX)("div",{className:A.Z.containerBlock,children:[(0,I.tZ)(s.Z,{type:"text",label:t("receiver_label"),placeholder:t("placeholder_no_receiver"),dataName:"receiver",value:this.state.values.receiver,onChange:this.handleChange,disabled:!!a}),(0,I.BX)("div",{className:A.Z.horizontalContainerBlock,children:[(0,I.tZ)(s.Z,{type:"text",label:t("building_label"),placeholder:t("placeholder_no_building"),dataName:"building",value:this.state.values.building,onChange:this.handleChange,disabled:!!a}),(0,I.tZ)("div",{className:A.Z.secondItem,children:(0,I.tZ)(s.Z,{type:"text",label:t("floor_label"),placeholder:t("placeholder_no_floor"),dataName:"floor",value:this.state.values.floor,onChange:this.handleChange,disabled:!!a})})]}),(0,I.BX)("div",{className:A.Z.horizontalContainerBlock,children:[(0,I.tZ)(s.Z,{type:"text",label:t("door_label"),placeholder:t("placeholder_no_door"),dataName:"door",value:this.state.values.door,onChange:this.handleChange,disabled:!!a}),(0,I.tZ)("div",{className:A.Z.secondItem,children:(0,I.tZ)(s.Z,{type:"text",label:t("digit_code_label"),placeholder:t("placeholder_no_digit_code"),dataName:"digitCode",value:this.state.values.digitCode,onChange:this.handleChange,disabled:!!a})})]})]}),(0,I.tZ)("div",{className:A.Z.containerBlock,children:(0,I.tZ)(f,{linkedPhoneId:this.state.values.linkedPhoneId,handleChange:this.handleChange,disabled:!!a})})]})}}T.contextType=o.CQ},855541:(e,t,a)=>{a.d(t,{Z:()=>l});const l={left:"left--jltGqC2ld6",right:"right--r4mXfTZRXo",select:"select--ivbO452zoA",disable:"disable--F2KcdR2ssV",label:"label--EhkwVb63v9"}},89600:(e,t,a)=>{a.d(t,{Z:()=>l});const l={container:"container--BvfulnQcuP",containerBlock:"containerBlock--lIB_8rMAqf",horizontalContainerBlock:"horizontalContainerBlock--XzyL0HxXte",secondItem:"secondItem--YxYGi1WTY5"}}}]);