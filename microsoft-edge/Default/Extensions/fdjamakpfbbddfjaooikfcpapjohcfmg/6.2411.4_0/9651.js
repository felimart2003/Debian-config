"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[9651],{363338:(e,t,a)=>{a.d(t,{N:()=>r});var l=a(696832),s=a(383849),i=a.n(s);var n=a(803322);const r=({disableHover:e=!1,...t})=>{const[a,s]=l.useState(!1),{children:[r,...o]=[]}=t;return(0,n.BX)("div",{className:"buttonsContainer--TiPIoxROXR",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[r,t.enabled&&(0,n.tZ)("span",{className:i()("buttons--p98QFrEo3f",{"visible--aWYlZRshE_":e||a}),children:o})]})}},183218:(e,t,a)=>{a.d(t,{j:()=>f}),a(696832);var l=a(651154),s=a(307973),i=a(535473),n=a(53830),r=a(400711),o=a(820283),d=a(488203),p=a(504085),c=a(310789),h=a(803322);const u=(e,t)=>(0,l.Z)(e,t,new Date("1900-01-01")),m=(e,t,a)=>l=>i=>{if(""===i.target.value)return void a("");const n=parseInt(i.target.value,10),r=u(e,t),o=isNaN(r.getTime())?(()=>{const e=new Date;return e.setUTCHours(0,0,0,0),e})():r;a((0,s.Z)(l(o,n),t))},b=(e,t)=>{var a;return null!=(a=e.find((({value:e})=>t===e)))?a:e[0]},_="webapp_id_form_field_placeholder_day",y="webapp_id_form_field_placeholder_month",g="webapp_id_form_field_placeholder_year",C=e=>({label:e,value:""}),f=({yearsRange:e=[-120,0],sortYears:t="ASC",hideDay:a=!1,value:l,label:s,dateFormat:f,monthLabelFormatter:v,onChange:w,allowEmpty:Z=!1,locale:N,disabled:S=!1})=>{const{translate:x}=(0,d.Z)(),R=(([e,t],a="ASC")=>{const l=(new Date).getFullYear()+e,s=Math.abs(t-e)+1,i=new Array(s).fill(null).map(((e,t)=>({label:(l+t).toString(),value:l+t})));return"ASC"===a?i:i.sort((({value:e},{value:t})=>t-e))})(e,t),I=(k=e=>v(e),new Array(12).fill(null).map(((e,t)=>({label:k((0,r.Z)(new Date,t)),value:t}))));var k;const F=m(l,f,w),D=F(i.Z),E=F(n.Z),B=F(r.Z),L=u(l,f),X=(T=(0,o.Z)(""===l?31:L),new Array(T||31).fill(null).map(((e,t)=>({label:(t+1).toString(),value:t+1}))));var T;Z&&(R.unshift(C(x(g))),I.unshift(C(x(y))),X.unshift(C(x(_))));const $=b(R,L.getFullYear()),M=b(I,L.getMonth()),O=b(X,L.getDate()),K=N||(new Intl.NumberFormat).resolvedOptions().locale,q=new Date(Date.UTC(2013,11,21)),P=/\D/g,A=q.toLocaleDateString(K,{day:"numeric"}).replace(P,""),H=q.toLocaleDateString(K,{month:"numeric"}).replace(P,""),V=q.toLocaleDateString(K,{year:"numeric"}).replace(P,""),z=q.toLocaleDateString(K,{year:"numeric",month:"numeric",day:"numeric"}),U=z.match(/[.\-/]/);let Y=["month","day","year"];if(U){const e=z.replace(/[\u200E\u200F]/g,"").split(U[0]);if(e.length>=3){const t=e.reduce(((e,t)=>{switch(t.replace(P,"")){case A:a||e.push("day");break;case H:e.push("month");break;case V:e.push("year")}return e}),[]);(3===t.length||a&&2===t.length)&&(Y=t)}}return(0,h.tZ)(c.Ejs,{alignItems:"center",children:Y.map(((e,t)=>{switch(e){case"day":return a?"":(0,h.tZ)(p.Z,{label:t?"":s,ariaLabel:`${s} :${x(_)}`,placeholder:O.label,dataName:"dateDay",options:X,defaultOption:O,onChange:D,disabled:S},`day-${l}`);case"month":return(0,h.tZ)(p.Z,{label:t?"":s,ariaLabel:`${s} :${x(y)}`,placeholder:M.label,dataName:"dateMonth",options:I,defaultOption:M,onChange:B,disabled:S},`month-${l}`);case"year":return(0,h.tZ)(p.Z,{label:t?"":s,ariaLabel:`${s} :${x(g)}`,placeholder:$.label,dataName:"dateYear",options:R,defaultOption:$,onChange:E,disabled:S},`year-${l}`);default:return""}}))})}},611913:(e,t,a)=>{a.d(t,{Z:()=>b});var l=a(696832),s=a(554712),i=a(383849),n=a.n(i),r=a(526849),o=a(957459),d=a(158549),p=a.n(d),c=a(573630);const h={container:"container--Qypu77vxOn",containerMultiLine:"containerMultiLine--ncWYFwQEnR",_field:"_field--KII5X4xmLN",input:"input--Iq10hxAz32 _field--KII5X4xmLN",inputRow:"inputRow--gdD_j5S1R8",textarea:"textarea--VpIWTZemV2 _field--KII5X4xmLN",label:"label--Ww_r49kt_J",text:"text--oXyCzpUMwG",value:"value--aD7nWEqBIq",multiline:"multiline--fdPM1KFHPT"};var u=a(803322);const m=e=>{navigator.clipboard.writeText(e.replaceAll(" ",""))};class b extends l.Component{constructor(e){super(e),this.field=void 0,this.handleChange=e=>{this.setState({selectionRangeStart:e.target.selectionStart,selectionRangeEnd:e.target.selectionEnd}),this.props.onChange&&this.props.onChange(e)},this.state={fieldHtmlId:(0,o.Z)(),selectionRangeStart:null,selectionRangeEnd:null}}componentDidUpdate(){null!==this.state.selectionRangeStart&&null!==this.state.selectionRangeEnd&&this.field.setSelectionRange(this.state.selectionRangeStart,this.state.selectionRangeEnd)}shouldComponentUpdate(e,t){return!((0,r.equals)(this.props.value,e.value)&&(0,r.equals)(this.props.error,e.error)&&(0,r.equals)(this.props.mask,e.mask)&&(0,r.equals)(this.props.label,e.label)&&(0,r.equals)(this.state.selectionRangeStart,t.selectionRangeStart)&&(0,r.equals)(this.state.selectionRangeEnd,t.selectionRangeEnd))}getValue(){return this.field.value}focus(){this.field.focus()}getTextarea(){var e;return(0,u.tZ)(s.Z,{inputRef:e=>{this.field=e},id:this.state.fieldHtmlId,disabled:this.props.disabled,value:null!=(e=this.props.value)?e:"",name:this.props.name,"data-name":this.props.dataName,sx:{borderColor:this.props.error&&"ds.border.danger.standard.idle"},className:h.textarea,placeholder:this.props.placeholder,onBlur:this.props.handleFieldBlur,onKeyDown:this.props.onFieldKeyDown,onChange:this.handleChange,readOnly:this.props.readOnly})}getInput(){var e;const t={onBlur:this.props.handleFieldBlur,onChange:this.handleChange,disabled:this.props.disabled,readOnly:this.props.readOnly,value:null!=(e=this.props.value)?e:""},a={ref:e=>{this.field=e},id:this.state.fieldHtmlId,autoComplete:"off",className:n()(h.input,{[h.error]:Boolean(this.props.error)}),sx:{...this.props.error&&{"::placeholder":{color:"ds.text.danger.quiet"},minWidth:"fit-content"},border:"1px solid",borderColor:this.props.error?"ds.border.danger.standard.idle":"transparent"},name:this.props.name,"data-name":this.props.dataName,type:this.props.type||"text",placeholder:this.props.placeholder,onKeyDown:this.props.onFieldKeyDown};return this.props.mask?(0,u.tZ)(p(),{...t,...this.props.maskProps,mask:this.props.mask,onCopy:()=>m(t.value),onCut:()=>m(t.value),children:e=>(0,u.tZ)("input",{...a,...e})}):(0,u.BX)("div",{className:h.inputRow,children:[(0,u.tZ)("input",{...a,...t}),(0,u.tZ)("div",{hidden:!this.props.error||"string"!=typeof this.props.error,sx:{color:"ds.text.danger.quiet"},className:h.errorMessage,children:this.props.error})]})}render(){const e="password"!==this.props.type?this.props.value||this.props.placeholder:"";return(0,u.BX)("div",{className:n()(h.container,this.props.multiLine?h.containerMultiLine:null),children:[this.props.label&&(0,u.tZ)("label",{className:h.label,sx:{color:"ds.text.neutral.catchy"},htmlFor:this.state.fieldHtmlId,children:(0,u.tZ)("span",{className:h.text,title:this.props.label,children:this.props.label})}),(0,u.tZ)(c.Z,{tooltipText:e,className:n()(h.value,{[h.placeholder]:!this.props.value,[h.multiline]:this.props.multiLine}),children:this.props.multiLine?this.getTextarea():this.getInput()})]})}}b.defaultProps={maskProps:{maskChar:""}}},504085:(e,t,a)=>{a.d(t,{Z:()=>c});var l=a(696832),s=a(526849),i=a(383849),n=a.n(i),r=a(957459);var o=a(855541),d=a(803322);function p(e,t){const a=e.find((e=>String(e.value)===String(t)));return null!=a?a:null}class c extends l.Component{constructor(e){super(e),this.select=l.createRef(),this.handleChange=e=>{const t=e.target;if(!t)return;const a=t.value,l=p(this.props.options,a);this.setState({optionSelected:l}),this.props.onChange&&this.props.onChange(e)},this.handleKeyDown=e=>{"Enter"===e.key&&e.preventDefault(),this.props.onFieldKeyDown?.(e)},this.handleFocus=()=>{this.setState({isSelectFocused:!0})},this.handleBlur=()=>{this.setState({isSelectFocused:!1})};let t=null;this.props.options.length&&(t=p(this.props.options,null===this.props.defaultOption?(0,s.head)(this.props.options).value:this.props.defaultOption.value)),this.state={fieldHtmlId:(0,r.Z)(),optionSelected:t,isSelectFocused:!1}}getValue(){if(!this.select.current)throw new Error("select ref not initialized");return this.select.current.value}render(){var e;const t=this.props.marginSide||"none",a=n()("selectContainer--mo5uz0qo56",o.Z[t],{"transparent--pz8wb74Jmh":this.props.isTransparent,"disabled--I9BAM7Vdre":this.props.disabled,"focused--ietgHqFLIm":this.state.isSelectFocused}),l=n()("selector--fgNHKzkAC3",this.props.classNames);let i;this.state.optionSelected?i=this.state.optionSelected.value:this.props.options.length&&(i=null===this.props.defaultOption?(0,s.head)(this.props.options).value:this.props.defaultOption.value);const r=this.state.optionSelected?this.state.optionSelected.selectedLabel?this.state.optionSelected.selectedLabel:this.state.optionSelected.label:this.props.placeholder;return(0,d.BX)("div",{className:"container--KChkEdb4YV",children:[this.props.label&&(0,d.tZ)("label",{className:o.Z.label,color:"ds.text.neutral.catchy",htmlFor:this.state.fieldHtmlId,title:this.props.label,children:this.props.label}),(0,d.BX)("div",{className:a,children:[(0,d.BX)("div",{className:l,children:[this.state.optionSelected&&this.state.optionSelected.icon&&(0,d.tZ)("span",{className:"icon--p3a7nsSbg9",children:this.state.optionSelected.icon}),(0,d.tZ)("span",{className:"text--SjkXyB7Kyp",sx:{color:"ds.text.neutral.catchy"},children:r})]}),(0,d.tZ)("select",{className:o.Z.select,ref:this.select,id:this.state.fieldHtmlId,value:i,name:this.props.name,disabled:this.props.disabled,"data-name":this.props.dataName,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,"aria-label":null!=(e=this.props.ariaLabel)?e:this.props.label,children:this.props.options.map((e=>(0,d.tZ)("option",{disabled:e.disabled,value:String(e.value),children:e.label},e.value)))},this.state.fieldHtmlId)]})]})}}},69651:(e,t,a)=>{a.d(t,{g:()=>k,u:()=>F});var l=a(696832),s=a(651154),i=a(935813),n=a(307973),r=a(945146),o=a(700033),d=a(782579),p=a(488203),c=a(611913),h=a(504085),u=a(183218),m=a(363338),b=a(616782),_=a(45272),y=a(806697),g=a(921310),C=a(830894),f=a(868819),v=a(167406);var w=a(803322);const Z="webapp_payment_edition_field_card_action_hide",N="webapp_payment_edition_field_card_action_show",S="webapp_payment_edition_field_cardColor_",x="yyyy-MM",R=e=>t=>{t&&(0,_.Kz)(new o.UserCopyVaultItemFieldEvent({itemType:o.ItemType.CreditCard,field:e,itemId:t,isProtected:!0}))},I={[r.X.Black]:`${S}BLACK`,[r.X.Blue1]:`${S}BLUE_1`,[r.X.Blue2]:`${S}BLUE_2`,[r.X.Gold]:`${S}GOLD`,[r.X.Green1]:`${S}GREEN_1`,[r.X.Green2]:`${S}GREEN_2`,[r.X.Orange]:`${S}ORANGE`,[r.X.Red]:`${S}RED`,[r.X.Silver]:`${S}SILVER`,[r.X.White]:`${S}WHITE`},k=({itemId:e,errors:t,paymentCardContent:a,signalEditedValues:S,showCopyAlert:k})=>{const{cardNumber:F,color:D,expireMonth:E,expireYear:B,itemName:L,note:X,ownerName:T,securityCode:$="",spaceId:M}=a,{translate:O}=(0,p.Z)(),{shouldShowFrozenStateDialog:K}=(0,y.Ub)(),q=Boolean(F.length),P=Boolean($.length),A=Boolean(X.length),H=e=>t=>{const l="string"==typeof t?t:t.target.value,s="cardNumber"===e?l.replaceAll(" ",""):l;S({...a,[e]:s})},{areProtectedItemsUnlocked:V,openProtectedItemsUnlocker:z}=(0,C.tY)(),[U,Y]=(0,l.useState)(!q),G=(0,l.useCallback)((t=>{e&&(0,_.Kz)(new o.UserRevealVaultItemFieldEvent({field:t,isProtected:!0,itemId:e,itemType:o.ItemType.CreditCard}))}),[e]),W=(0,l.useCallback)((()=>{U||G(o.Field.CardNumber),Y((e=>!e))}),[U,G]),j=(0,l.useCallback)((()=>{U||V?W():z({action:f.P.Show,itemType:f.R.CreditCard,successCallback:()=>W()})}),[V,z,U,W]),Q=!V,J=(t,a)=>{t(e),k&&k(O(a))},[ee,te]=(0,l.useState)(""===$),[ae,le]=(0,l.useState)(""===X),se=(0,l.useCallback)((()=>{ee||G(o.Field.SecurityCode),te((e=>!e))}),[ee,G]),ie=()=>le((e=>!e)),ne=(0,l.useCallback)((()=>{ee||V?se():z({action:f.P.Show,itemType:f.R.CreditCard,successCallback:()=>se()})}),[V,z,ee,se]),re=(0,l.useCallback)((()=>{ae||V?ie():z({action:f.P.Show,itemType:f.R.CreditCard,successCallback:()=>ie()})}),[V,z,ee,se]),oe=Object.values(r.X).map((e=>({label:O(I[e]),value:e}))),de=q?U?F:"●●●● ●●●● ●●●● ●●●●":"",pe=/^3[47]/.test(F)?"9999 999999 999999":"9999 9999 9999 99999",ce=U?pe:void 0,he=B&&E?`${B}-${E}`:"";return(0,w.BX)(w.HY,{children:[(0,w.tZ)(c.Z,{value:T,label:O("webapp_payment_edition_field_ownerName"),placeholder:O("webapp_payment_edition_field_placeholder_no_ownerName"),onChange:H("ownerName"),disabled:!!K},"ownerName"),(0,w.BX)(m.N,{enabled:q,children:[(0,w.tZ)(c.Z,{label:O("webapp_payment_edition_field_cardNumber"),placeholder:O("webapp_payment_edition_field_placeholder_no_cardNumber"),dataName:"cardNumber",disabled:!U&&q||!!K,type:"text",value:de,mask:ce,onChange:H("cardNumber"),error:t?.has("cardNumber")},`cardNumber${U}`),(0,w.tZ)(d.zx,{mood:"neutral",intensity:"quiet",sx:{marginRight:"16px"},onClick:j,children:O(U?Z:N)}),(0,w.tZ)(g.m,{data:F,checkProtected:()=>Q,onCopy:()=>J(R(o.Field.CardNumber),"webapp_payment_edition_field_cardNumber_copied"),itemType:f.R.CreditCard})]}),(0,w.BX)(m.N,{enabled:P,children:[(0,w.tZ)(c.Z,{disabled:!ee&&P||!!K,value:ee?$:"●●●",label:O("webapp_payment_edition_field_securityCode"),placeholder:O("webapp_payment_edition_field_placeholder_no_securityCode"),type:"text",onChange:H("securityCode"),error:t?.has("securityCode")},`securityCode${ee}`),(0,w.tZ)(d.zx,{mood:"neutral",intensity:"quiet",sx:{marginRight:"16px"},onClick:ne,children:O(ee?Z:N)}),(0,w.tZ)(g.m,{data:$,checkProtected:()=>Q,onCopy:()=>J(R(o.Field.SecurityCode),"webapp_payment_edition_field_securityCode_copied"),itemType:f.R.CreditCard})]}),(0,w.tZ)(u.j,{value:he,dateFormat:x,yearsRange:[0,30],label:O("webapp_payment_edition_field_expireDate"),monthLabelFormatter:e=>O.shortDate(e,b._T.MM),onChange:e=>{const t=(0,s.Z)(e,x,new Date);S({...a,expireMonth:(0,i.Z)(t)?(0,n.Z)(t,"MM"):"",expireYear:(0,i.Z)(t)?(0,n.Z)(t,"yyyy"):""})},hideDay:!0,allowEmpty:!0,disabled:!!K}),(0,w.tZ)("hr",{className:"separator--qhO55oU3dT"}),(0,w.tZ)(c.Z,{value:L,label:O("webapp_payment_edition_field_cardname"),placeholder:O("webapp_payment_edition_field_placeholder_no_cardname"),onChange:H("itemName"),disabled:!!K},"cardname"),(0,w.tZ)(h.Z,{label:O("webapp_payment_edition_field_cardColor"),placeholder:O(I[D]),options:oe,defaultOption:{label:O(I[D]),value:D},onChange:H("color"),disabled:!!K},`cardColor${D}`),(0,w.tZ)(v.M,{spaceId:null!=M?M:"",labelSx:v.e,onChange:e=>H("spaceId")(e),disabled:!!K}),(0,w.BX)(m.N,{enabled:A,children:[(0,w.tZ)(c.Z,{label:O("webapp_payment_edition_field_notes"),placeholder:O("webapp_payment_edition_field_placeholder_no_notes"),dataName:"note",disabled:!ae&&A||!!K,value:ae||!A?X:"●●●●",onChange:H("note"),multiLine:!0,testId:"credential_edit_note_value"}),(0,w.tZ)(d.zx,{mood:"neutral",intensity:"quiet",sx:{marginRight:"16px"},onClick:re,children:O(ae?Z:N)}),(0,w.tZ)(g.m,{data:X,checkProtected:()=>Q,onCopy:()=>J(R(o.Field.Note),"webapp_payment_edition_field_notes_copied"),itemType:f.R.CreditCard})]})]})},F=e=>e.cardNumber||e.securityCode?{isValid:!0}:{isValid:!1,errorSet:new Set(["cardNumber","securityCode"])}},855541:(e,t,a)=>{a.d(t,{Z:()=>l});const l={left:"left--jltGqC2ld6",right:"right--r4mXfTZRXo",select:"select--ivbO452zoA",disable:"disable--F2KcdR2ssV",label:"label--EhkwVb63v9"}}}]);