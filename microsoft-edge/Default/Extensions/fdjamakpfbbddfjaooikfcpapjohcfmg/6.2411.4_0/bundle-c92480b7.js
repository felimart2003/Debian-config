"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[5496],{187319:(e,t,a)=>{a.d(t,{Z:()=>r}),a(696832);var n=a(692077),i=a(454107),s=a(803322);function r({path:e}){return(0,s.tZ)(n.GB,{exact:!0,path:[e,`${e}/create`,`${e}/create/confirm`],children:(0,s.BX)(n.rs,{children:[(0,s.tZ)(n.l_,{exact:!0,from:`${e}/`,to:`${e}/create`}),(0,s.tZ)(i.Z,{path:`${e}/create`,options:{flowIndicator:"memberAccount"}})]})})}},990028:(e,t,a)=>{a.d(t,{t:()=>r}),a(696832);var n=a(488203);var i=a(803322);const s=({title:e,description:t,example:a})=>(0,i.BX)("section",{children:[(0,i.tZ)("h3",{className:"tipTitle--E1xwuwFYGQ",children:e}),(0,i.tZ)("div",{className:"tipDescription--F8jzGudxgL",children:t}),a?(0,i.tZ)("p",{className:"tipExample--OSKD8mHhgv",children:a}):null]}),r=()=>{const{translate:e}=(0,n.Z)();return(0,i.BX)(i.HY,{children:[(0,i.tZ)(s,{title:e("webapp_account_security_settings_passwordtips_general_rules_title"),description:(0,i.BX)("ul",{children:[(0,i.tZ)("li",{children:e("webapp_account_security_settings_passwordtips_general_rules_description_1")}),(0,i.tZ)("li",{children:e("webapp_account_security_settings_passwordtips_general_rules_description_2")}),(0,i.tZ)("li",{children:e("webapp_account_security_settings_passwordtips_general_rules_description_3")})]})}),(0,i.tZ)(s,{title:e("webapp_account_security_settings_passwordtips_story_method_title"),description:e("webapp_account_security_settings_passwordtips_story_method_description"),example:e("webapp_account_security_settings_passwordtips_story_method_example")}),(0,i.tZ)(s,{title:e("webapp_account_security_settings_passwordtips_series_words_title"),description:e("webapp_account_security_settings_passwordtips_series_words_description"),example:e("webapp_account_security_settings_passwordtips_series_words_example")}),(0,i.tZ)(s,{title:e("webapp_account_security_settings_passwordtips_letters_numbers_title"),description:e("webapp_account_security_settings_passwordtips_letters_numbers_description"),example:e("webapp_account_security_settings_passwordtips_letters_numbers_example")})]})}},535412:(e,t,a)=>{var n=a(88275),i=a(459522),s=a(429705),r=(a(696832),a(140431)),o=a(182510),l=a(245094),c=a(133392),d=a(642346),_=a(176014),u=a(397769),m=(a(886730),a(241901)),p=a(197446),g=a(403092),h=a(140),b=a.n(h);const y=(0,a(435681).Z)("STATE_IN_URL",{}),x=(e,t)=>{if(t.length>0){const a=t[0];return a in e||(e[a]={}),x(e[a],t.slice(1))}return e},S=y.registerAction("RESTORE_DATA",((e,t)=>{const a={};return Object.keys(t).forEach((e=>{const n=e.split(".");x(a,n.slice(0,n.length-1))[n[n.length-1]]=t[e]})),b()({},e,a)})),{apply:f}=y,v=f,C=function(e,t){const a=(0,g.parse)(e);return Object.keys(t).filter((e=>e in a)).map((e=>({urlValue:a[e],userValue:t[e]}))).map((({urlValue:e,userValue:t})=>"string"==typeof t?{[t]:e}:t(e)||{})).reduce(((e,t)=>(Object.keys(t).forEach((t=>{if(t in e)throw new Error("Some URL options conflict")})),Object.assign(e,t))),{})};var Z=a(692077),T=a(373880),D=a(158649),E=a(554452),k=a(335396),w=a(249808),N=a(730583),I=a(182422),A=a(74929),M=a(75743),O=a(447614),L=a(158296),B=a(326021),R=a(780300),z=a(300572),P=a(303198),X=a(712369),U=a(500358),j=a(309937),q=a(144134),G=a(158432),$=a(524179);let F;function V(){return F||(F=function(e){const t=[];s.bq&&t.push((0,$.createLogger)({timestamp:!1,collapsed:!0,diff:!0}));const a=(0,I.compose)((0,I.applyMiddleware)(...t),(window.devToolsExtension,e=>e))(I.createStore)(function(e){const t=(0,G.RC)(e);return function(e,a){return e=(0,I.combineReducers)({initialSyncProgress:q.Z.apply,notifications:M.Z.apply,carbon:A.ZP.apply,directorySyncKey:U.ZP.apply,cursor:(e={})=>e,locale:L.ZP.apply,logs:O.Z.apply,user:B.ZP.apply,webapp:z.ZP.apply,dialog:P.Z.apply,afterLogin:X.Z.apply,ieNotifications:j.Z.apply})(e,a),e=t(e,a),e=(0,R.Z)(e,a),v(e,a)}}(e));return a}(N.Z)),F}var H,W=a(160399),Y=a(803322);const K=a(851285),Q=document.getElementById("app"),J=window.location.host,ee=null!=(H=Q?.getAttribute("data-base"))?H:"",te=(Q?.getAttribute("data-build-type"),(0,m.q_)({basename:"/",hashType:"slash"}));let ae;(0,Z.JB)(te);const ne="graphene-background-port";async function ie(e,t){const a=await async function(e){return await async function(e){await function(e){return Promise.all([(0,l.ZP)({store:e,storage:localStorage,whiteList:["locale/language","locale/country"]})])}(e),(0,o.Z)(e),(0,d.CA)(e),function(e,t,a,n){const i=Object.assign(C("",n),C(t,n));Object.keys(i).length>0&&a.dispatch(S(i))}(0,(0,Z.NW)(),e,{login:e=>"dummy"===e?{"user.session.login":"dummy-login@example.com","user.session.uki":"dummy-uki","user.password":null}:{"user.session.login":e},password:"user.session.password",showBillingAdmin:"cursor.app.team.account.billing.admin._.showConfirm",uki:"user.session.uki"})}(e),await(0,u.yd)(e),new w.G(ne)}(e),{client:n}=(0,T.X)({appDefinition:k.R,channels:{background:new D.N(a)},channelsListener:E.y}),i=n["carbon-legacy"].queries.carbonState({path:"userSession.sync.status"});return await(0,W.z)(i),n}var se=a(303810),re=a(589789);((e,t)=>{if(se.isInsideIframe())throw new Error("Leeloo should not be run in an iframe");a(928058),a(853049),a(794383),(0,s.ZP)();const n=(0,re.r9)(e);(async(e,t)=>{const a=V();!function(e,t){e.addEventListener("error",(e=>{e.preventDefault(),"ResizeObserver loop limit exceeded"!==e.message?t.dispatch((0,p.Z)(e.message,e.error)):e.stopPropagation()})),e.onunhandledrejection=e=>{e.preventDefault&&e.preventDefault();const a=e.reason,n=a instanceof Error?a:new Error('Promise rejection reason is not an error, but is "'+JSON.stringify(a)+'" instead');t.dispatch((0,p.Z)(`Unhandled promise rejection: ${n}`,n))}}(window,a);const n=await(0,c.eG)(a);if(document.documentElement.lang=n.getLocale(),ae||(ae=await ie(a),(0,_.Q)(ae)),!ae)throw new Error;K.render((0,Y.tZ)(r.Z,{host:J,basePath:ee,history:te,store:a,translate:n,namedRoutes:t,routes:e,coreClient:ae}),Q)})(t(n,e),n),(()=>{const e=document.querySelectorAll("link.light-scheme-favicon"),t=document.querySelectorAll("link.dark-scheme-favicon"),a=window.matchMedia("(prefers-color-scheme: dark)");function n(){a.matches?(e.forEach((e=>e.remove())),t.forEach((e=>document.head.append(e)))):(t.forEach((e=>e.remove())),e.forEach((e=>document.head.append(e))))}a.addEventListener?a.addEventListener("change",n):a.addListener(n),n()})()})(i.vX.CLIENT,n.t)},429705:(e,t,a)=>{a.d(t,{ZP:()=>r,bq:()=>s,sY:()=>i});var n=a(403092);let i=!1,s=!1;function r(){const e="kw_verbose";"verbose"in(0,n.parseLocationParams)(window.location)&&sessionStorage.setItem(e,"true");const t="true"===sessionStorage.getItem(e);t&&console.info("~~~ Logs activated ~~~"),i=t,s=t,window.KW_LOG=i}},916631:(e,t,a)=>{a.d(t,{j:()=>m});var n=a(696832),i=a(310789),s=a(561605),r=a(692077),o=a(488203),l=a(119471);const c="activateSSOText--uGZ1mGdPI0";var d,_,u=a(803322);const m=({activateLink:e,onClose:t,localSsoRedirect:a,isNitroSSO:m,nitroLoginCommand:p})=>{const{translate:g}=(0,o.Z)(),[h,b]=n.useState(!0);return(0,u.tZ)(i.VqE,{closeIconName:g("_common_dialog_dismiss_button"),isOpen:h,onClose:()=>{b(!1),t()},disableOutsideClickClose:!0,children:(0,u.BX)("div",{className:"dialogContainer--R1vvi6YG8s",children:[(0,u.BX)(i.$N8,{children:[d||(d=(0,u.tZ)(i.HeP,{size:90})),(0,u.tZ)("h2",{className:"activateSSOTitle--TSG6RZuM4T",children:g("activate_sso_popup_title")})]}),(0,u.BX)(i.a7O,{children:[(0,u.tZ)("p",{className:c,children:g("activate_sso_popup_body")}),(0,u.tZ)("p",{className:c,children:g("activate_sso_popup_body_secondary")})]}),(0,u.tZ)(i.cNS,{primaryButtonOnClick:async()=>{if(a)return(0,r.uX)(e);m?p():(0,s.nL)(e)},primaryButtonTitle:g("activate_sso_popup_primary_button"),secondaryButtonOnClick:()=>(0,s.Yo)(l.n0),secondaryButtonTitle:(0,u.BX)(u.HY,{children:[_||(_=(0,u.tZ)(i.RTC,{size:20})),(0,u.tZ)("p",{className:"activateSSOTextWithIcon--p3VZNI9NKb",children:g("activate_sso_popup_secondary_button")})]})})]})})}},328107:(e,t,a)=>{a.d(t,{S:()=>H});var n=a(103128),i=(a(254064),a(696832)),s=a(148038),r=a(828298),o=a(784995),l=a(929986),c=a(799852),d=a(192120),_=a(421548),u=a(72133),m=a(548122),p=a(13403),g=a(488203),h=a(740300),b=a(561605),y=a(210051),x=a(692077),S=a(459522),f=a(169340),v=a(119471),C=a(127521),Z=a(881391);let T=function(e){return e.ASK_FOR_MP="ASK_FOR_MP",e.ACCOUNT_CREATION="ACCOUNT_CREATION",e.D_SPINNER="D_SPINNER",e.CHANGE_MP_PROGRESS="CHANGE_MP_PROGRESS",e}({});var D=a(162864),E=a(781826);var k,w=a(803322);const N=({dispatchGlobal:e,onSubmit:t})=>(0,w.BX)("div",{className:"panelsContainer--jB02U43E37",children:[k||(k=(0,w.tZ)(D.w,{})),(0,w.tZ)(E.R,{dispatchGlobal:e,onSubmit:t})]});var I=a(782579);const A=({animation:e,shouldLoopAnimation:t=!1,progressValue:a=0})=>{const{translate:n}=(0,g.Z)();return(0,w.BX)(w.HY,{children:[(0,w.tZ)("div",{className:"logo--zwQR6n8P2E",children:(0,w.tZ)(I.TR,{height:40,name:"DashlaneLockup",title:n("_common_dashlane_logo_title")})}),(0,w.tZ)("div",{className:"progressContainer--uN3zEbYKRy",children:(0,w.BX)("div",{className:"content--g692RTJxEb",children:[(0,w.tZ)(u.Z,{height:96,width:96,animationParams:{renderer:"svg",animationData:e,loop:t,autoplay:!0}}),(0,w.tZ)("p",{className:"progressValue--EWZwTNi5yM",children:n("_common_generic_percentage",{number:a})}),(0,w.tZ)("h2",{className:"description--urcB98N4_F",children:n("webapp_sso_changemp_loading_desc")}),(0,w.tZ)("p",{className:"subDescription--dtFN1rQZIb",children:n("webapp_sso_changemp_loading_warning")})]})})]})};var M=a(966136),O=a(383849),L=a.n(O),B=a(89368),R=a(928136),z=a(599203),P=a(411538);const X="disclaimerCheckboxWrapper--H9bH4mWFEN",U="visible--tgv48_Tn6M",j="disclaimerCheckbox--I9w4KoQzGz";var q;const G=({error:e,isEu:t,memberEmail:a,onSubmit:n})=>{const s=null===t,r=i.useCallback((()=>Boolean(!!s||t)),[t,s]),{translate:o}=(0,g.Z)(),[l,c]=(0,i.useState)(!r()),[d,_]=(0,i.useState)(!1),[u,m]=(0,i.useState)(!1),p=i.createRef();(0,i.useEffect)((()=>{c(!r())}),[c,r]);const h=r()?o("member_account_creation_info_tips_and_offers_label"):o("member_account_creation_i_want_to_receive_spam_and_ads");return(0,w.BX)("div",{className:"inner--PRBfrJ8ztr",children:[(0,w.tZ)("h1",{className:L()("heading--xkXNXFnweh _headingBase--w98gFdP6ar","acceptHeading--bN5eLgP37u"),children:o("member_account_creation_accept_content_heading")}),s?q||(q=(0,w.tZ)(P.Z,{size:40})):(0,w.BX)("form",{className:"form--mbE1UdEyiO",children:[(0,w.tZ)(B.n,{isDisabled:!0,placeholder:o("member_account_creation_email_hint_text"),labelText:o("member_account_creation_email_floating_label"),ref:p,defaultValue:a}),e?(0,w.tZ)("div",{className:"errorText--kkUVthMMSK",children:e}):null,(0,w.tZ)("div",{className:L()(X,U,"consentCheckbox--OxdBTmWrRI"),children:(0,w.tZ)(R.Z,{label:h,labelClass:j,name:"emailsTipsAndOffers",onCheck:()=>{c(!l)},checked:l})}),r()&&(0,w.tZ)("div",{className:L()(X,U),children:(0,w.tZ)(R.Z,{label:(0,w.tZ)(w.HY,{children:o.markup("account_creation_confirm_terms_of_service_markup")}),labelClass:j,name:"termsAndConditions",onCheck:()=>{_(!d)},checked:d})}),(0,w.tZ)("div",{className:"formAction--_jE50Dey_6",children:(0,w.tZ)(z.Z,{size:"large",label:o("member_account_creation_accept_next"),disabled:Boolean(r()&&!d),onClick:()=>{const e={privacyPolicyAndToS:d,subscribed:l,isEu:r(),setIsLoading:m};n(e)},loading:u,classNames:["nextButton--v8loMwl8E9"]})}),r()?null:(0,w.tZ)("p",{className:"disclaimer--HdF8Agopgb",children:o.markup("member_account_creation_accept_tos_markup",{},{linkTarget:"_blank"})})]})]})},$=e=>{const{...t}=e,a={standardHeader:"standardHeader--mQMlxYDQNk",logoContainer:"logoContainer--U1og3U_Xxu",logo:"logo--I6WuRV58HI"},n=(0,w.tZ)("div",{onClick:()=>(0,x.uX)(S.SF)});return(0,w.BX)("div",{className:"wrapper--wU7M482wCS",children:[(0,w.tZ)(M.A,{classes:a,logoComponent:n}),(0,w.tZ)("div",{className:"content--HXxzOJoWsC",children:(0,w.tZ)(G,{...t})})]})},F="webapp_login_form_regsiter_fallback_browser_name",V=e=>{const t=(0,x.Xo)(),{login:a,ssoToken:n,key:D,exists:E,currentAuths:k,expectedAuths:I,inStore:M}=(0,Z.Ae)(e),{lee:O}=e,L="true"===E,[B,R]=(0,i.useState)(L?T.D_SPINNER:T.ACCOUNT_CREATION),{translate:z}=(0,g.Z)(),[P,X]=(0,i.useState)(""),[U,j]=(0,i.useState)(0),q=(0,d.f)(),G=(0,c.k)(l.V,"getSsoUserSettings"),V=(0,y.vV)(a)?a:"",H=(0,s.K_)({live:h.C.liveChangeMasterPasswordStatus},[]);(0,i.useEffect)((()=>{M||V.length&&D.length&&n.length||(0,x.uX)(S.TT)}),[M,V,D,n]),(0,i.useEffect)((()=>{L&&G.status===s.rq.Success&&q.status===s.rq.Success&&(async()=>{k===r.hr.MP&&I===r.hr.SSO&&R(T.CHANGE_MP_PROGRESS);const i=e.lee.carbon.localAccounts?.find((e=>e.login===a&&"sso"===e.rememberMeType)),o=G.status===s.rq.Success&&G.data.rememberMeForSSOPreference||"true"===localStorage.getItem(m.MG),l=!i&&o&&q.status===s.rq.Success&&!q.data,c={deviceName:(0,f.M)(z(F)),exist:!0,ssoServiceProviderKey:D,login:V,ssoToken:n,currentAuths:k,expectedAuths:I,inStore:M,requiredPermissions:(0,Z.ox)(),shouldRememberMeForSSO:l};i&&t.store.dispatch((0,p.zi)(S.sL)),(await h.C.loginViaSSO(c)).success?I===r.hr.MP&&R(T.ASK_FOR_MP):(0,x.uX)(S.TT)})()}),[L,G.status,q.status]),(0,i.useEffect)((()=>{if(H.status!==s.iD.Received||!H.data)return;const{value:e}=H.data;j(e)}),[H]);const W=async({password:e})=>{const t={newPassword:e,flow:o.pT.SSO_TO_MP};await(async e=>{if(R(T.CHANGE_MP_PROGRESS),!(await h.C.changeMasterPassword(e)).success)return(0,x.uX)(S.TT)})(t)},Y=async({isEu:e,privacyPolicyAndToS:t,setIsLoading:a,subscribed:i})=>{var s;if(e&&!t){const e=new Error("termsOfService set to false on accept submit");O.reportError(e),(0,x.uX)(S.rM)}a(!0);const o=[];if(e){const e={consentType:"privacyPolicyAndToS",status:t};o.push(e)}const l={consentType:"emailsOffersAndTips",status:i};o.push(l);const c={consents:o,deviceName:(0,f.M)(z(F)),exist:!1,ssoServiceProviderKey:D,login:V,ssoToken:n,currentAuths:k,expectedAuths:I,inStore:!1,requiredPermissions:(0,Z.ox)(),anonymousUserId:(0,C.n5)(O.globalState),shouldRememberMeForSSO:"true"===localStorage.getItem(m.MG)};localStorage.removeItem(m.MG);const d=await h.C.loginViaSSO(c);if(a(!1),d.success){X("");let e=v.BJ;e=`${v.Mv}?email=${V}`,(0,b.nL)(e)}else{const e=V.slice(V.indexOf("@")+1);d.error.code===r.E6.SSO_VERIFICATION_FAILED?X(z("webapp_sso_page_create_account_error",{domain:e})):X(null!=(s=d.error.message)?s:"")}},{isEu:K}=O.carbon.currentLocation;switch(B){case T.ACCOUNT_CREATION:return(0,w.tZ)($,{isEu:K,onSubmit:Y,memberEmail:V,error:P});case T.ASK_FOR_MP:return(0,w.tZ)(N,{onSubmit:W,dispatchGlobal:O.dispatchGlobal});case T.CHANGE_MP_PROGRESS:return(0,w.tZ)(A,{animation:_,shouldLoopAnimation:!0,progressValue:U});case T.D_SPINNER:default:return(0,w.tZ)("div",{className:"loadingContainer--z9wx9Wo1ko",children:(0,w.tZ)(u.Z,{height:150,width:150,animationParams:{renderer:"svg",animationData:_,loop:!0,autoplay:!0}})})}},H=e=>{const{loading:t}=(0,n.G)();return t?null:(0,w.tZ)(V,{...e})}},881391:(e,t,a)=>{a.d(t,{$9:()=>r,Ae:()=>s,ox:()=>o});var n=a(342868),i=a(828298);const s=e=>{const{location:{search:t}}=e,a={login:"",ssoToken:"",key:"",exists:"",currentAuths:i.hr.SSO,expectedAuths:i.hr.SSO,inStore:!1};try{if(t?.includes("ssoToken"))return{...a,...(0,n.parse)(t)}}catch(e){return a}return a},r=()=>`/sso?${(0,n.stringify)({ssoToken:"inStore",key:"inStore",currentAuths:i.hr.MP,expectedAuths:i.hr.SSO,exists:!0,inStore:!0})}`,o=()=>window.location.host.startsWith("console")?"BILLING":null},435681:(e,t,a)=>{function n(e,t){const a={};return{apply:function(e=t,n){return a[n.type]?a[n.type](e,n.params):e},registerAction:function(t,n){const i=`${e}/${t}`;return a[i]=n,function(e){return{type:i,params:e}}}}}a.d(t,{Z:()=>n})},475239:(e,t,a)=>{a.d(t,{C:()=>d});var n=a(696832),i=a(148038),s=a(740300),r=a(264997),o=a(965454),l=a(803843);const c=e=>!(!e?.exp_year||!e?.exp_month)&&(0,l.Z)(new Date(e.exp_year,e.exp_month,0)),d=({b2c:e,handleCardUpdate:t,pollInterval:a=3e3,timeoutAmount:l=6e5})=>{const[d,_]=(0,n.useState)(!1),[u,m]=(0,n.useState)({}),[p,g]=(0,n.useState)(),h=(0,r.Z)(),b=h.status!==i.rq.Success||!h.data,y=h?.status===i.rq.Success&&h.data?h.data[e?"b2cSubscription":"b2bSubscription"]?.billingInformation:void 0,x=y?.last4?Number(y.last4).toLocaleString("en-US",{minimumIntegerDigits:4,useGrouping:!1}):void 0,S=y?.type?(0,o.v)(y.type):void 0,f=y?.exp_year,v=y?.exp_month,C=f&&v?`${v}/${f.toString().substring(2)}`:"",Z=(0,n.useCallback)((()=>{d&&_(!1),p&&clearTimeout(p)}),[d,p]);return(0,n.useEffect)((()=>Z),[]),(0,n.useEffect)((()=>{if(d){const e=setInterval((()=>{s.C.refreshSubscriptionInformation()}),a);if(!p){const e=window.setTimeout(Z,l);g(e)}return()=>clearInterval(e)}}),[a,d,Z,l,p]),(0,n.useEffect)((()=>{if(d&&u){const e=u.last4DigitsFormatted!==x||u.expFormatted!==C;if(e&&(Z(),t)){const a=!u.last4DigitsFormatted;t(e,a)}}}),[d,x,C,u,u.expFormatted,u.last4DigitsFormatted,Z,t]),{loading:b,billingInformation:y,hasCreditCardPaymentMethod:!!y?.last4,last4Digits:y?.last4,last4DigitsFormatted:x,cardSvg:S,isExpired:c(y),expYear:y?.exp_year,expMonth:y?.exp_month,expFormatted:C,pollUntilCardUpdate:()=>{_(!0),m({last4DigitsFormatted:x,expFormatted:C})}}}},337466:(e,t,a)=>{a.d(t,{a:()=>r});var n=a(310789),i=a(411538),s=a(803322);const r=({scopedToPage:e=!1})=>(0,s.tZ)(n.Ejs,{justifyContent:"center",alignItems:"center",sx:{backgroundColor:"rgba(245, 247, 247, 0.7)",...e?{}:{position:"absolute",top:0,left:0,right:0,height:"100%"}},children:(0,s.tZ)(i.Z,{containerStyle:{marginTop:"-90px",...e?{position:"relative",height:"90vh"}:{}}})})},500358:(e,t,a)=>{a.d(t,{HK:()=>p,M2:()=>_,Qz:()=>d,ZP:()=>h,b3:()=>u,er:()=>g,vg:()=>m});var n=a(526849);const i=(0,a(435681).Z)("directory-sync-key",{displayDialog:!1,checkDirectorySyncKeyRequest:null,validationPostponed:!1});function s(e){return{...e,displayDialog:!1}}function r(e){return{...e,displayDialog:!0}}function o(e){return{...e,validationPostponed:!1}}function l(e,t){return{...e,checkDirectorySyncKeyRequest:t}}function c(e){return l(e,null)}const d=i.registerAction("CHECK_DIRECTORY_SYNC_KEY_REQUEST",((e,t)=>{if(!t)return e;const a=l(e,t);return e.validationPostponed?a:r(a)})),_=i.registerAction("KEY_VALIDATION_POSTPONED",(0,n.pipe)(s,(function(e){return{...e,validationPostponed:!0}}))),u=i.registerAction("REOPEN_DIALOG",(0,n.pipe)(r,o)),m=i.registerAction("CLOSE_NOTIFICATION",o),p=(i.registerAction("KEY_VALIDATED",(0,n.pipe)(s,o,c)),i.registerAction("KEY_REJECTED",(0,n.pipe)(s,o,c)),i.registerAction("HIDE_DIALOG",s)),g=i.registerAction("TERMINATE_REQUEST",(0,n.pipe)(o,c)),h=i},316172:(e,t,a)=>{a.d(t,{LD:()=>C,DX:()=>f,Bf:()=>T,p_:()=>v,tb:()=>E});var n=a(696832),i=a(148038),s=a(470180),r=a(799852),o=a(482598),l=a(133354),c=a(57904);const d=e=>{const{data:t,status:a}=(0,r.k)(c.h,"hasSeenNotification",{notification:e}),{markNotificationAsSeen:n}=(0,o.u)(c.h);return{status:a,hasSeenNotification:a===l.rq.Success?t:null,markNotificationAsSeen:()=>{n({notification:e})}}};var _=a(782579),u=a(506295),m=a(361607),p=a(379846),g=a(488203),h=a(692077),b=a(718108);const y=(e,t=!1)=>{const a=(0,h.k6)(),s=(0,h.Xo)(),{translate:r}=(0,g.Z)(),{showToast:o,closeToast:c}=(0,_.pm)(),d=(0,m._)(),y=d.status!==l.rq.Success,{onboarding_web_tacgetstarted:x=!1}=y?{}:d.data,{interacted:S,status:f}=(0,p.d)(u.O.TacGetStartedDismissPage),{isTeamAdmin:v,status:C}=(()=>{const[e,t]=(0,n.useState)(null),a=(0,b.E)();if(a.status===i.rq.Success){var s;const n=null!=(s=a.data.some((e=>e.isTeamAdmin)))&&s;n!==e&&t(n)}return{status:a.status,isTeamAdmin:e}})(),Z=C===l.rq.Success&&f===l.rq.Success&&!y;return{showNotification:(0,n.useCallback)((()=>{Z&&v&&!S&&x&&o({isManualDismiss:!0,description:r.markup(e),closeActionLabel:r("team_get_started_notification_close_label"),action:t?{label:r("team_get_started_notification_action_go_to_get_started"),onClick:e=>{c(e),a.push(s.routes.teamGetStartedRoutePath)}}:void 0})}),[Z,v,S,x]),hasDataLoaded:Z}};var x=a(672153),S=a(29267);const f=()=>{const e=x.G.CHECK_PASSWORD_HEALTH,{showNotification:t,hasDataLoaded:a}=y("team_get_started_notification_content_check_password_health_markup",!0),{status:r,hasSeenNotification:o,markNotificationAsSeen:l}=d(e),{hasSecurityScore:c,status:_}=(0,s.h)(),u=a&&_===i.rq.Success&&r===i.rq.Success;(0,n.useEffect)((()=>{u&&!o&&c&&(t(),l(),(0,S.c)(S.O.VisitDashboardPasswordHealth))}),[c,o,u])},v=()=>{const e=x.G.INVITE_MEMBERS,{showNotification:t,hasDataLoaded:a}=y("team_get_started_notification_content_invite_members_markup",!0),{status:r,hasSeenNotification:o,markNotificationAsSeen:l}=d(e),{hasMinimumMemberCount:c,status:_}=(0,s.h)(),u=a&&_===i.rq.Success&&r===i.rq.Success;(0,n.useEffect)((()=>{u&&!o&&c&&(t(),l(),(0,S.c)(S.O.InvitePlanMembers))}),[c,o,u])},C=()=>{const e=x.G.ASSIGN_ADMIN,{showNotification:t,hasDataLoaded:a}=y("team_get_started_notification_content_assign_admin_markup",!0),{status:r,hasSeenNotification:o,markNotificationAsSeen:l}=d(e),{hasMoreThanOneAdmin:c,status:_}=(0,s.h)(),u=a&&_===i.rq.Success&&r===i.rq.Success;(0,n.useEffect)((()=>{u&&!o&&c&&(t(),l(),(0,S.c)(S.O.AssignNewAdmin))}),[c,o,u])};var Z=a(633272);const T=()=>{const e=x.G.CREATE_SHARING_GROUP,{showNotification:t,hasDataLoaded:a}=y("team_get_started_notification_content_create_sharing_group_markup",!0),{status:r,hasSeenNotification:o,markNotificationAsSeen:l}=d(e),{isSharingDisabled:c,status:_}=(0,s.h)(),{hasSharedGroupWithMembers:u=!1,status:m}=(0,Z.A)(),p=a&&_===i.rq.Success&&r===i.rq.Success&&m===i.rq.Success;(0,n.useEffect)((()=>{p&&!o&&!c&&u&&(t(),l(),(0,S.c)(S.O.CreateSharingGroup))}),[c,o,u,p])};var D=a(109215);const E=()=>{const e=x.G.SHARE_ITEM,{showNotification:t,hasDataLoaded:a}=y("team_get_started_notification_content_share_item_markup",!0),{status:r,hasSeenNotification:o,markNotificationAsSeen:l}=d(e),{isSharingDisabled:c,status:_}=(0,s.h)(),{hasSharedAnItemWithAGroup:u=!1,status:m}=(0,D.W)(),p=a&&_===i.rq.Success&&r===i.rq.Success&&m===i.rq.Success;(0,n.useEffect)((()=>{p&&!o&&!c&&u&&(t(),l(),(0,S.c)(S.O.ShareItem))}),[c,o,u,p])}},29267:(e,t,a)=>{a.d(t,{O:()=>n.OnboardingTask,c:()=>s});var n=a(700033),i=a(45272);const s=e=>{(0,i.Kz)(new n.UserCompleteOnboardingTaskEvent({onboardingTask:e}))}},109215:(e,t,a)=>{a.d(t,{W:()=>r});var n=a(133354),i=a(619122),s=a(958602);const r=()=>{const{currentSpaceId:e}=(0,i.fV)(),t=(0,s.c)("ascend",e);return t.status!==n.rq.Success?{status:t.status}:{status:n.rq.Success,hasSharedAnItemWithAGroup:!!t.data.items?.find((e=>e.itemCount>0))}}},633272:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(148038),i=a(133354),s=a(740300);const r=()=>{const e=(0,n.qr)({queryConfig:{query:s.C.getAdministrableUserGroups},liveConfig:{live:s.C.liveAdministrableUserGroups}},[]);return e.status!==i.rq.Success?e:{status:i.rq.Success,hasSharedGroupWithMembers:!!e.data.find((e=>e.users.length>0))}}},55961:(e,t,a)=>{a.d(t,{V:()=>o});var n=a(799852),i=a(482598),s=a(133354),r=a(57904);const o=()=>{const{data:e,status:t}=(0,n.k)(r.h,"hasVisitedVault"),{markVaultAsVisited:a}=(0,i.u)(r.h);return{status:t,hasVisitedVault:t===s.rq.Success?e:null,markVaultAsVisited:()=>{a(void 0)}}}},136577:(e,t,a)=>{a.d(t,{m:()=>r});var n=a(799852),i=a(133354),s=a(57904);const r=()=>{const{data:e,status:t}=(0,n.k)(s.h,"isTeamCreator");return t===i.rq.Loading?{status:t}:t===i.rq.Error?{status:i.rq.Success,isTeamCreator:!1}:null===e?{status:i.rq.Loading}:{status:t,isTeamCreator:e}}},470180:(e,t,a)=>{a.d(t,{h:()=>r});var n=a(799852),i=a(133354),s=a(57904);const r=()=>{const{data:e,status:t}=(0,n.k)(s.h,"teamTasksCompletion");return t!==i.rq.Success?{status:t,hasMinimumMemberCount:!1,hasMoreThanOneAdmin:!1,hasSecurityScore:!1,hasOnlyOneMember:!1,isSharingDisabled:!1}:{status:t,...e}}},672153:(e,t,a)=>{a.d(t,{G:()=>n});let n=function(e){return e.CREATE_ACCOUNT="createAccount",e.VISIT_VAULT="visitVault",e.INVITE_MEMBERS="inviteMembers",e.ASSIGN_ADMIN="assignAdmin",e.CREATE_SHARING_GROUP="createSharingGroup",e.SHARE_ITEM="shareItem",e.CHECK_PASSWORD_HEALTH="checkPasswordHealth",e}({})},728207:(e,t,a)=>{a.d(t,{u:()=>r});var n=a(799852),i=a(133354),s=a(545738);const r=()=>{const{data:e,status:t}=(0,n.k)(s.o,"getTeamCreationDateUnix");return t!==i.rq.Success?{status:t}:{status:t,teamCreationDate:e}}},309937:(e,t,a)=>{a.d(t,{Z:()=>s,w:()=>i});const n=(0,a(435681).Z)("ie-drop-notification",{displayIeDropNotification:!0}),i=n.registerAction("IE_DROP_NOTIFICATION",(()=>({displayIeDropNotification:!1}))),s=n},893383:(e,t,a)=>{a.d(t,{Jo:()=>h,Rb:()=>g,S2:()=>d,VW:()=>u,Wq:()=>l,ZP:()=>y,bh:()=>c,bj:()=>_,eY:()=>b,lp:()=>p,vE:()=>m,xF:()=>o});var n=a(233377),i=a(158432),s=a(438042);const r=(0,i.SP)("members",{members:n.Maybe.nothing(),totalSeatCount:n.Maybe.nothing(),isFreeTrial:n.Maybe.nothing(),teamName:n.Maybe.nothing(),teamSecurityScore:n.Maybe.nothing()}),o=r.action("status-loaded",(({param:e})=>({isFreeTrial:n.Maybe.just(e.isFreeTrial),totalSeatCount:n.Maybe.just(e.membersNumber+e.extraFreeSlots),teamName:n.Maybe.maybe(e.teamName),teamSecurityScore:n.Maybe.maybe(e.teamSecurityScore)}))),l=r.action("members-loaded",(({param:e})=>({members:n.Maybe.just(e.members)}))),c=r.action("user-resent-invitation",(({param:e,state:t})=>({members:t.members.map((t=>t.map((t=>t.login===e.login?Object.assign({},t,{status:"pending",isChecked:!1,isTeamCaptain:!1,isGroupManager:!1}):t))))}))),d=r.action("user-resent-invitation-failed",(({param:e,state:t})=>({members:t.members.map((t=>t.map((t=>t.login===e.login?e:t))))}))),_=r.action("user-demoted-captain",(({state:e,param:t})=>({members:e.members.fmap((e=>e.map((e=>Object.assign({},e,{isTeamCaptain:e.login!==t.login&&e.isTeamCaptain})))))}))),u=r.action("user-promoted-captain",(({state:e,param:t})=>({members:e.members.map((e=>e.map((e=>Object.assign({},e,{isTeamCaptain:e.login===t.login||e.isTeamCaptain})))))}))),m=r.action("user-removed-group-manager",(({state:e,param:t})=>({members:e.members.fmap((e=>e.map((e=>Object.assign({},e,{isGroupManager:e.login!==t.login&&e.isGroupManager})))))}))),p=r.action("user-added-group-manager",(({state:e,param:t})=>({members:e.members.map((e=>e.map((e=>Object.assign({},e,{isGroupManager:e.login===t.login||e.isGroupManager})))))}))),g=r.action("user-revoked-single-member",(({state:e,param:t})=>({members:e.members.map((e=>e.map((e=>e.login===t.login?Object.assign({},e,{revokedDateUnix:(0,s.Z)(new Date),status:"removed"}):e)).filter((e=>Boolean(e)))))}))),h=r.action("user-revoked-single-member-failed",(({state:e,param:t})=>({members:e.members.map((e=>[...e.filter((e=>e.login!==t.login)),t]))}))),b=r.action("members-proposed",(({state:e,param:t})=>({members:n.Maybe.just(e.members.valueOr([]).concat(t.map((e=>({login:e,status:"pending",isTeamCaptain:!1,isGroupManager:!1,lastUpdateDateUnix:(0,s.Z)(new Date)}))))),totalSeatCount:e.totalSeatCount.map((a=>Math.max(a,t.length+e.members.valueOr([]).filter((e=>"removed"!==e.status)).length)))}))),y=r},501093:(e,t,a)=>{a.d(t,{c:()=>D});var n=a(696832),i=a(782579),s=a(700033),r=a(777550),o=a(488203),l=a(68691),c=a(45272),d=a(692077),_=a(806135),u=a(803322);const m={CONTAINER:{display:"flex",padding:"16px 8px",justifyContent:"space-between",alignItems:"center"},ITEM:{display:"flex",gap:"16px",alignItems:"flex-start"}},p=({title:e,description:t,iconName:a,button:n})=>{const{content:s,onClick:r,isUpgradeButton:o,isRoleLink:l}=n;return(0,u.BX)("div",{sx:m.CONTAINER,children:[(0,u.BX)("div",{sx:m.ITEM,children:[(0,u.tZ)(i.JO,{name:a,size:"large",color:"ds.text.neutral.standard"}),(0,u.BX)("div",{sx:{gap:" 4px",maxWidth:"320px"},children:[(0,u.tZ)(i.nv,{textStyle:"ds.title.block.small",color:"ds.text.neutral.catchy",children:e}),(0,u.tZ)(i.nv,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.quiet",children:t})]})]}),(0,u.tZ)(i.zx,{mood:o?"brand":"neutral",intensity:"quiet",icon:o?"PremiumOutlined":void 0,layout:o?"iconLeading":void 0,role:l?"link":void 0,onClick:r,size:"small",children:s})]})},g=()=>(0,u.tZ)("hr",{sx:{border:"0",borderTop:"1px solid ds.border.neutral.quiet.idle",height:"1px",width:"100%",mt:"8px",mb:"8px"}});var h=a(561605),b=a(119471);let y=function(e){return e.SECURITY_GUIDANCE="security_guidance",e.TRAINING="training",e.SEND_MESSAGE="send_message",e}({});const x={[y.SECURITY_GUIDANCE]:b.mA,[y.TRAINING]:b.J0,[y.SEND_MESSAGE]:b.hc},S={[y.SECURITY_GUIDANCE]:s.CallToAction.RequestDemo,[y.TRAINING]:s.CallToAction.RegisterWebinar,[y.SEND_MESSAGE]:s.CallToAction.SendEmail},f=(e,t)=>{const a=[s.CallToAction.SendEmail,s.CallToAction.RequestDemo,s.CallToAction.RegisterWebinar,s.CallToAction.Dismiss];a.push(t?s.CallToAction.ContactPhoneSupport:s.CallToAction.RequestUpgrade),(0,c.Kz)(new s.UserCallToActionEvent({callToActionList:a,chosenAction:S[e],hasChosenNoAction:!1})),(0,h.Yo)(x[e])};var v,C,Z,T;const D=({onDismiss:e})=>{var t;const{translate:a}=(0,o.Z)(),{routes:m}=(0,d.Xo)(),x=(0,r.B)(),S=(0,l.C)(),D=(0,_.S)(),E=null===D||null===S,k=null!=(t=D?.phoneSupport.enabled)&&t;return(0,n.useEffect)((()=>{(0,c.Nc)(s.PageView.TacModalContactSupport)}),[]),(0,u.tZ)(i.Vq,{isOpen:!0,onClose:()=>((e,t)=>{const a=[s.CallToAction.SendEmail,s.CallToAction.RequestDemo,s.CallToAction.RegisterWebinar,s.CallToAction.Dismiss];a.push(t?s.CallToAction.ContactPhoneSupport:s.CallToAction.RequestUpgrade),(0,c.Kz)(new s.UserCallToActionEvent({callToActionList:a,hasChosenNoAction:!0})),e()})(e,k),closeActionLabel:a("_common_dialog_dismiss_button"),title:a("team_contact_support_dialog_title"),children:E?(0,u.tZ)(i.nv,{sx:{textAlign:"center"},children:v||(v=(0,u.tZ)(i.ZX,{size:44}))}):(0,u.BX)(u.HY,{children:[(0,u.tZ)(i.nv,{sx:{marginBottom:"16px"},children:a("team_contact_support_dialog_text")}),(0,u.BX)("div",{sx:{gap:"8px"},children:[(0,u.tZ)(p,{title:a("team_contact_support_phone_support_title"),description:a("team_contact_support_phone_support_subtitle"),iconName:"ItemPhoneHomeOutlined",button:{content:a(k?"team_contact_support_request_call":"team_contact_support_upgrade_to_business_cta"),onClick:()=>((e,t,a,n,i)=>{const r=[s.CallToAction.SendEmail,s.CallToAction.RequestDemo,s.CallToAction.RegisterWebinar,s.CallToAction.Dismiss];return e?(r.push(s.CallToAction.ContactPhoneSupport),(0,c.Kz)(new s.UserCallToActionEvent({callToActionList:r,chosenAction:s.CallToAction.ContactPhoneSupport,hasChosenNoAction:!1})),void(0,h.Yo)(b.$b)):e||!a&&!n?(r.push(s.CallToAction.RequestUpgrade),(0,c.Kz)(new s.UserCallToActionEvent({callToActionList:r,chosenAction:s.CallToAction.RequestUpgrade,hasChosenNoAction:!1})),(0,d.uX)(`${t.teamAccountChangePlanRoutePath}?plan=business`)):(r.push(s.CallToAction.RequestUpgrade),(0,c.Kz)(new s.UserCallToActionEvent({callToActionList:r,chosenAction:s.CallToAction.RequestUpgrade,hasChosenNoAction:!1})),void(0,h.Yo)(`${b.ub}?plan=business&subCode=${null!=i?i:""}&utm_source=button:upgrade_business_tier+origin_page:tac/modal_contact_support+origin_component:main_app`))})(k,m,S?.isFreeTrial,S?.isGracePeriod,x?.subscriptionCode),isUpgradeButton:!k,isRoleLink:k||S?.isFreeTrial||S?.isGracePeriod}}),C||(C=(0,u.tZ)(g,{})),(0,u.tZ)(p,{title:a("team_contact_support_security_guidance_title"),description:a("team_contact_support_security_guidance_subtitle"),iconName:"ProtectionOutlined",button:{content:a("team_contact_support_request_demo"),onClick:()=>f(y.SECURITY_GUIDANCE,k),isRoleLink:!0}}),Z||(Z=(0,u.tZ)(g,{})),(0,u.tZ)(p,{title:a("team_contact_support_training_title"),description:a("team_contact_support_training_subtitle"),iconName:"AccountSettingsOutlined",button:{content:a("team_contact_support_register_for_webinar"),onClick:()=>f(y.TRAINING,k),isRoleLink:!0}}),T||(T=(0,u.tZ)(g,{})),(0,u.tZ)(p,{title:a("team_contact_support_help_customer_support_title"),description:a("team_contact_support_help_customer_support_subtitle"),iconName:"ItemEmailOutlined",button:{content:a("team_contact_support_send_message"),onClick:()=>f(y.SEND_MESSAGE,k),isRoleLink:!0}})]})]})})}},897078:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(158432),i=a(758480),s=a(678128),r=a(874466),o=a(893383);const l=(0,n.SP)("team",{},[i.ZP,s.ZP,r.ZP,o.ZP])},931026:(e,t,a)=>{a.d(t,{Z:()=>af,n:()=>WS});var n,i=a(459522),s=a(692077),r=a(696832),o=a(148038),l=a(782579),c=a(310789),d=a(700033),_=a(799852),u=a(361607),m=a(545738),p=a(627584),g=a(581598),h=a(27144),b=a(45272),y=a(387532),x=a(488203),S=a(475239),f=a(803322);const v=()=>{const{translate:e}=(0,x.Z)(),{loading:t,last4DigitsFormatted:a,expFormatted:i,cardSvg:s}=(0,S.C)({});return t?n||(n=(0,f.tZ)(l.ZX,{})):(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"16px",sx:{borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderWidth:"1px",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"24px",borderRadius:"4px"},children:[(0,f.tZ)(c.X6q,{size:"small",children:e("team_account_addseats_success_credit_card_header")}),(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"8px",children:[(0,f.BX)(c.Ejs,{alignItems:"center",gap:"8px",children:[s,(0,f.BX)(c.nvN,{color:"ds.text.neutral.standard",children:["•••• ",a]})]}),(0,f.tZ)(c.Ejs,{children:(0,f.tZ)(c.nvN,{color:"ds.text.neutral.standard",children:e("team_account_addseats_success_credit_card_expires",{expirationDate:i})})})]})]})};var C;const Z=()=>{const{translate:e}=(0,x.Z)(),{routes:t}=(0,s.Xo)(),a=(0,s.k6)();return(0,f.tZ)(c.k$b,{children:(0,f.tZ)(l.zx,{mood:"neutral",intensity:"supershy",onClick:()=>{a.length>1?a.goBack():(0,s.uX)(t.teamAccountRoutePath)},children:(0,f.BX)(c.Ejs,{alignItems:"center",children:[C||(C=(0,f.tZ)(l.JO,{size:"medium",name:"ArrowLeftOutlined"})),(0,f.tZ)(l.nv,{color:"ds.text.neutral.standard",textStyle:"ds.title.block.medium",sx:{marginLeft:"14px"},children:e("_common_action_back")})]})})})};var T=a(264997);const D=()=>{const e=(0,T.Z)(),t=e.status!==o.rq.Success||!e.data,a=e?.status===o.rq.Success?e?.data?.b2bSubscription?.billingInformation:null,n=a?.country;return{loading:t,billingCountry:n}};var E=a(139378),k=a(38452),w=a(618854),N=a(806697);const I={alignItems:"center",backgroundColor:"ds.background.alternate",borderBottom:"1px solid ds.border.neutral.quiet.idle",display:"flex",height:"80px",justifyContent:"flex-end",padding:"0 48px"},A=({children:e})=>(0,f.tZ)("header",{sx:I,children:e}),M={LAYOUT_CONTAINER:{display:"flex",flexDirection:"column",overflowY:"hidden"},MAIN_AREA:{display:"flex",backgroundColor:"ds.background.alternate",height:" 100vh",position:"relative",overflowY:"hidden",width:"100vw"},CONTENT:{width:"100%",overflowY:"auto"},SIDE_NAV:{backgroundColor:"ds.container.agnostic.inverse.standard",nav:{backgroundColor:"ds.container.agnostic.inverse.standard"}}},O=e=>{const{brand:t,children:a,header:n,sideNav:i,banner:s,dialog:r,bottomButton:o}=e;return(0,f.tZ)("div",{sx:M.LAYOUT_CONTAINER,children:(0,f.BX)("div",{sx:M.MAIN_AREA,children:[(0,f.BX)("div",{sx:M.SIDE_NAV,children:[(0,f.tZ)("div",{children:t}),(0,f.tZ)("div",{style:{height:"calc(100% - 160px)",overflow:"auto"},children:i}),(0,f.tZ)("div",{style:{height:"80px"},children:o})]}),(0,f.BX)("div",{sx:M.CONTENT,children:[s?(0,f.tZ)("div",{children:s}):null,(0,f.tZ)("div",{children:n}),(0,f.tZ)("main",{children:a})]}),r?(0,f.BX)("div",{children:[r," "]}):null]})})};var L=a(383849),B=a.n(L),R=a(580443),z=a(777550),P=a(925918),X=a(561605),U=a(536487),j=a(909673),q=a(482598),G=a(287279);const $=r.createContext(null),F="NETWORK ERROR",V=({globalReportError:e,children:t})=>{const[a,n]=r.useState([]),{translate:i}=(0,x.Z)(),s=e=>{a.find((t=>t.title===e.title&&t.message===e.message))||n((t=>[...t,e]))};return(0,f.tZ)($.Provider,{value:{queue:a,addAlertToQueue:s,popAlertFromQueue:()=>{n((e=>e.slice(1)))},reportTACError:(t,a)=>{t.message.toUpperCase()===F&&s({title:i("_common_alert_network_error_title"),message:i("_common_alert_network_error_message")}),e(t,a)}},children:t})},H=()=>{const e=r.useContext($);if(!e)throw new Error("useAlertQueue must be called from within an AlertQueueProvider");return e},W=({onDismiss:e,onFeedbackSent:t})=>{const[a,n]=(0,r.useState)(!0),[i,s]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1),{translate:_}=(0,x.Z)(),{reportTACError:u}=H(),p=(0,r.useRef)(null),[g,h]=(0,r.useState)(""),{sendFeedback:y}=(0,q.u)(m.o);(0,r.useEffect)((()=>{(0,b.Nc)(d.PageView.TacAccountSendFeedback,d.BrowseComponent.Tac)}),[]);return(0,f.BX)(l.Vq,{isOpen:!0,onClose:()=>{(0,b.Kz)(new d.UserCallToActionEvent({hasChosenNoAction:!0})),e()},actions:{primary:{children:_("team_feedback_dialog_button_ok"),onClick:()=>(async()=>{s(!0),c(!1);const e=await y({feedbackBody:g});(0,G.d6)(e)?((0,b.Kz)(new d.UserCallToActionEvent({callToActionList:[d.CallToAction.SendEmail],chosenAction:d.CallToAction.SendEmail,hasChosenNoAction:!1})),t()):(u(new Error(e.error.message)),s(!1),c(!0))})(),disabled:a||i}},title:_("team_feedback_dialog_upd_title"),closeActionLabel:_("_common_dialog_dismiss_button"),children:[(0,f.tZ)(l.nv,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.quiet",children:_.markup("team_feedback_dialog_upd_text_markup",{},{linkTarget:"_blank"})}),(0,f.tZ)(l.oi,{sx:{resize:"vertical",maxHeight:"300px"},value:g,ref:p,placeholder:_("team_feedback_dialog_upd_textarea_label"),onChange:e=>{var t;h(null!=(t=p?.current?.value)?t:"");const a=!e.target.value;n(a)}}),o?(0,f.tZ)(l.nv,{color:"ds.text.danger.quiet",textStyle:"ds.body.standard.strong",children:_.markup("team_feedback_dialog_error_markup")}):null]})};var Y;const K=({onDismiss:e})=>{const{translate:t}=(0,x.Z)();return(0,f.tZ)(l.Vq,{isOpen:!0,onClose:e,closeActionLabel:t("_common_dialog_dismiss_button"),title:t("team_feedback_result_dialog_title"),children:(0,f.BX)("div",{sx:{display:"flex",gap:"20px",alignItems:"center"},children:[Y||(Y=(0,f.tZ)(l.JO,{name:"FeedbackSuccessOutlined",size:"xlarge",color:"ds.text.positive.standard"})),(0,f.tZ)("div",{children:(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",children:`${t("team_feedback_result_body_title")}. ${t("team_feedback_result_body_text")}`})})]})})};var Q=function(e){return e[e.FeedbackPopup=0]="FeedbackPopup",e[e.ResultPopup=1]="ResultPopup",e[e.Done=2]="Done",e}(Q||{});const J=({onDismiss:e,onSend:t})=>{const[a,n]=(0,r.useState)(Q.FeedbackPopup);let i;const s=()=>{clearTimeout(i),n(Q.Done),t()};return(0,f.BX)("div",{children:[a===Q.FeedbackPopup&&(0,f.tZ)(W,{onDismiss:e,onFeedbackSent:()=>{n(Q.ResultPopup),i=window.setTimeout((()=>{s()}),1e4)}}),a===Q.ResultPopup&&(0,f.tZ)(K,{onDismiss:s})]})};var ee=a(501093),te=a(119471),ae=a(242714),ne=a(65255),ie=a(115607),se=a(68691);const re=()=>{const e=(0,se.C)(),t=(0,ie.lZ)(),a=(0,ae.o)(ne.w.EcommerceWebB2BDiscontinuationPhase1),{translate:n}=(0,x.Z)();if(!e||t.isLoading||void 0===t.isTeamSoftDiscontinued||void 0===t.isTrial||"boolean"!=typeof a)return null;const i=e.daysLeftInTrial,s=e.spaceTier===g.lD.Team,r=e.isGracePeriod,o=t.isTeamSoftDiscontinued&&t.isTrial&&a;return(0,f.tZ)(l.Ct,{label:o?n("trial_ended_discontinued"):r?n("free_trial_expired_badge"):n(s?"team_trial_days_left_badge":"business_trial_days_left_badge",{count:i}),mood:r||o?"warning":"brand",layout:"labelOnly",intensity:r?"catchy":"quiet",sx:{marginTop:"3px"}})};var oe=a(369898);var le,ce;const de=({lee:e})=>{const[t,a]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),[o,_]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1),p=(0,z.B)(),{translate:g}=(0,x.Z)(),h=(0,U.a)(e.dispatchGlobal),y=(0,j.w)(),{routes:S}=(0,s.Xo)(),v=(e,t,a)=>e=>{a(e)},C=({className:e,...t})=>(0,f.tZ)(c.zxk,{type:"button",nature:"ghost",className:B()("dropdownElement--fRxFyumXai",e),...t}),Z=n?(0,f.tZ)(J,{onDismiss:()=>i(!1),onSend:()=>i(!1)}):null,T=o?(0,f.tZ)(ee.c,{onDismiss:()=>_(!1)}):null,D=p?.premiumStatus&&!(0,R.wt)(p?.premiumStatus)&&((0,R.pq)(p?.premiumStatus)||(0,R.f1)(p?.premiumStatus)),E=p?.premiumStatus&&(0,R.pq)(p?.premiumStatus)?"team":"business",k=p?.premiumStatus&&(0,R.wt)(p?.premiumStatus),w=e.permission.adminAccess.hasBillingAccess,N=`button:buy_dashlane+click_origin:account_dropdown+origin_page:${y||void 0}+origin_component:main_app`,I=`${te.ub}?plan=${E}&subCode=${p?.subscriptionCode}&utm_source=${N}`;return(0,f.BX)(f.HY,{children:[(0,f.tZ)("div",{className:"teamAccountDropdown--XD04fGIw1S",children:(0,f.tZ)(P.Lt,{alignment:P.oA.End,position:P.ir.Bottom,onToggle:()=>{a(!t)},withBackdrop:!1,renderRoot:e=>(e=>(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",layout:"iconTrailing",icon:t?"CaretUpOutlined":"CaretDownOutlined",onClick:e,children:g("team_account")}))(e),children:(0,f.BX)("div",{className:"dropdownMenu--Uz1kni0KIt",children:[w?(0,f.tZ)(C,{onClick:v(0,0,(()=>{(0,s.uX)(S.teamAccountRoutePath)})),children:g("team_plan")}):null,(0,f.tZ)(C,{onClick:v(0,0,(()=>{(0,s.uX)("/")})),children:g("team_webapp")}),k&&w?(0,f.tZ)(C,{onClick:v(0,0,(()=>((0,b.Kz)(new d.UserClickEvent({button:d.Button.BuyDashlane,clickOrigin:d.ClickOrigin.AccountDropdown})),void(0,X.Yo)(I)))),children:(0,f.BX)("div",{children:[g("team_buy_dashlane"),le||(le=(0,f.tZ)(re,{}))]})}):null,D&&w?(0,f.tZ)(C,{onClick:v(0,0,(()=>(0,s.uX)(`${S.teamAccountChangePlanRoutePath}`))),children:g("team_upgrade")}):null,(0,f.tZ)(C,{onClick:v(0,0,(()=>(0,X.Yo)(te.Pr))),children:g("team_service_status")}),(0,f.tZ)(C,{onClick:v(0,0,(()=>(0,X.Yo)(te.FX))),children:g("team_support")}),w?(0,f.tZ)(C,{onClick:()=>_(!0),children:g("team_contact_support_menu_item")}):null,(0,f.tZ)(C,{onClick:v(0,0,(()=>i(!0))),children:g("team_feedback")}),ce||(ce=(0,f.tZ)("hr",{})),(0,f.tZ)(C,{onClick:v(0,0,(()=>{h()})),className:"logout--x9WN8NkY4R",children:g("team_logout")})]})})}),u?(0,f.tZ)(oe.F,{isShown:u,setIsShown:m,isFromVault:!1}):null,Z,T]})};var _e=a(506295),ue=a(133354),me=a(379846);let pe=function(e){return e.POLICIES="policies",e.DUO="duo",e.DIRECTORY_SYNC="directory-sync",e.ACCOUNT_RECOVERY="account-recovery",e.SIEM="siem",e.SSO="sso",e}({});var ge=a(16037);const he=r.createContext(null),be=({children:e})=>{const[t,a]=r.useState(!1);return(0,f.tZ)(he.Provider,{value:{hasNewBreaches:t,setHasNewBreaches:a},children:e})},ye=()=>{const e=r.useContext(he);if(!e)throw new Error("useSideNavNotification must be called from within an SideNavNotificationProvider");return e},xe=(0,r.createContext)({isIntegrationsMenuEnabled:!1,hasSiemIntegrationAccess:!1}),Se=({children:e})=>{const{data:t}=(0,u._)(),[a,n]=(0,r.useState)(!1),[i,s]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{t?.["setup_rollout_web_tech-week-integrations"]&&n(!0),t?.setup_rollout_splunk_integration_dev&&s(!0)}),[t]),(0,f.tZ)(xe.Provider,{value:{isIntegrationsMenuEnabled:a,hasSiemIntegrationAccess:i},children:e})};function fe(e){var t,a;const n=(0,z.B)(),i=(0,se.C)();if(!i)return null;let s;return s="hasFullAccess"in e&&e.hasFullAccess||e.hasBillingAccess,{shouldShowBuyOrUpgradePaywall:null!=(t=s)&&t,isTrialOrGracePeriod:i.isFreeTrial||i.isGracePeriod,planType:i.spaceTier,accountSubscriptionCode:null!=(a=n?.subscriptionCode)?a:""}}var ve=a(136577),Ce=a(522640),Ze=a(740300);function Te(e){const[t,a]=r.useState(!0),[n,i]=r.useState({}),[s,o]=r.useState(null),[l,c]=r.useState(null),[d,_]=r.useState(null);return r.useEffect((()=>{if(void 0===e)return;const t=new AbortController;return(async()=>{a(!0);try{const{teamInfo:{ssoServiceProviderUrl:e,ssoIdpMetadata:a,ssoEnabled:n,recoveryEnabled:s,duoSecretKey:r,duoIntegrationKey:o,duoApiHostname:l,duo:d,activeDirectoryToken:u,activeDirectorySyncType:m,activeDirectorySyncStatus:p,uuid:g},capabilities:h,planTier:b}=await async function(){const e=await Ze.C.getTeamInfo();if(e.success){const{data:{teamInfo:t,planTier:a,capabilities:n,seats:i}}=e;return{teamInfo:t,planTier:a,capabilities:n,seats:i}}{const{message:t}=e;throw new Error(`getTeamInfo: failed with error: ${t}`)}}();if(t.signal.aborted)return;i({ssoServiceProviderUrl:e,ssoIdpMetadata:a,ssoEnabled:n,recoveryEnabled:s,duoSecretKey:r,duoIntegrationKey:o,duoApiHostname:l,duo:d,activeDirectoryToken:u,activeDirectorySyncType:m,activeDirectorySyncStatus:p,uuid:g}),_(b),c(h)}catch(e){const t=new Error(`useTeamSettings: ${e}`);o(t)}finally{a(!1)}})(),()=>{t.abort()}}),[e]),{teamSettingsLoading:t,teamSettingsError:s,teamSettings:n,updateTeamSettings:async t=>{if(null===e)return;const a={teamId:e,settings:t};try{await(0,Ce.jy)(a)}catch(e){var s;throw new Error(null!=(s=e?.additionalInfo?.message)?s:"Failed to save metadata")}const r={...n,...t};i(r)},planTier:d,teamCapabilities:l}}var De=a(619122),Ee=a(114943),ke=a(402337);const we=()=>{const e=(0,Ee.Y)(),t=(0,ae.o)("monetization_extension_policies_repackage"),a=(0,se.C)();if(e.status!==ue.rq.Success||!t)return{hasStarterPaywall:!1,hasTrialBusinessPaywall:!1,hasExcludedPolicy:()=>!1};const n=e.data.capabilities?.adminPolicies?.info.excludedPolicies||[],i="full"===(0,ke.R)(e.data);return{hasStarterPaywall:(0,R.f1)(e.data)&&i,hasTrialBusinessPaywall:(0,R.NG)(e.data)&&i&&!!a?.isFreeTrial,hasExcludedPolicy:e=>n.includes(e)}};var Ne=a(15192),Ie=a(784133);const Ae=({isSidenavCollapsed:e,settingsRoute:t,children:a})=>{const{translate:n}=(0,x.Z)(),i=(0,Ne.k6)(),s=(0,Ie.h)(),{unseen:r,setAsSeen:o}=(0,me.m)(_e.O.AccountRecoveryAvailableAdminTooltip);return!r||s.status!==ue.rq.Success||s.data?(0,f.tZ)("div",{children:a}):(0,f.tZ)("div",{sx:{position:"relative"},children:(0,f.tZ)(c.ua7,{sx:{width:"312px",minWidth:"312px",textAlign:"left",top:e?0:"-100px"},trigger:"persist",placement:"left",offset:[0,30],arrowSize:12,content:(0,f.BX)(c.Ejs,{gap:"8px",sx:{padding:"8px"},children:[(0,f.tZ)(c.nvN,{size:"large",as:"h3",sx:{fontWeight:600,color:"ds.text.inverse.catchy"},children:n("team_account_recovery_popover_title")}),(0,f.tZ)(c.nvN,{color:"white",size:"x-small",children:n("team_account_recovery_popover_description")}),(0,f.BX)(c.Ejs,{gap:"8px",justifyContent:"flex-end",sx:{width:"100%",marginTop:"8px"},children:[(0,f.tZ)(l.zx,{type:"button",mood:"neutral",size:"small","data-testid":"ar-tooltip-dismiss",onClick:()=>o(),children:n("team_account_recovery_popover_dismiss")}),(0,f.tZ)(l.zx,{type:"button",mood:"brand",size:"small","data-testid":"ar-tooltip-go-to-settings",onClick:()=>{o(),i.push(t)},children:n("team_account_recovery_popover_go_to_settings")})]})]}),children:(0,f.BX)("div",{sx:{position:"relative"},children:[" ",a]})})})},Me={CONTAINER:{alignItems:"center",borderRadius:"4px",cursor:"pointer",display:"flex",padding:"16px 24px",position:"relative","&:hover":{backgroundColor:"ds.container.expressive.neutral.supershy.hover"}},CONTAINER_COLLAPSED:{textStyle:"ds.title.block.small",alignItems:"center",flexDirection:"column",padding:"6px"},CONTAINER_SELECTED:{backgroundColor:"ds.container.expressive.neutral.supershy.active"},END_ADORNMENT_COLLAPSED:{display:"none"},ICON:{marginBottom:"0",marginRight:"16px",minWidth:"20px",svg:{fill:"ds.text.inverse.catchy"}},ICON_COLLAPSED:{marginBottom:"4px",marginRight:"0"},LABEL:{color:"ds.text.inverse.catchy",hyphens:"auto",minWidth:"0",wordWrap:"break-word"},LABEL_COLLAPSED:{textStyle:"ds.title.block.small",textAlign:"center",width:"100%"},LABEL_CONTAINER:{display:"flex",alignItems:"flex-start",flexDirection:"column",gap:"2px"},NOTIFICATION:{alignSelf:"flex-start",backgroundColor:"ds.container.expressive.warning.catchy.idle",borderRadius:"50%",flexShrink:"0",height:"8px",marginLeft:"4px",width:"8px"},NOTIFICATION_COLLAPSED:{position:"absolute",right:"18px"},TEXT_MEDIUM:{textStyle:"ds.title.block.medium"}},Oe=({collapsed:e,hasNotification:t,icon:a,label:n,endAdornment:i,selected:s,...r})=>{const o=(0,l.jM)([Me.CONTAINER,e?Me.CONTAINER_COLLAPSED:Me.TEXT_MEDIUM,s?Me.CONTAINER_SELECTED:{}]),c=(0,l.jM)([Me.ICON,e?Me.ICON_COLLAPSED:{}]),d=(0,l.jM)([Me.LABEL,e?Me.LABEL_COLLAPSED:Me.TEXT_MEDIUM]),_=(0,l.jM)([Me.NOTIFICATION,e?Me.NOTIFICATION_COLLAPSED:{}]);return(0,f.BX)("span",{sx:o,...r,children:[(0,f.BX)("span",{sx:c,children:[" ",a," "]}),i?(0,f.BX)("div",{sx:Me.LABEL_CONTAINER,children:[(0,f.tZ)("span",{sx:d,children:n}),(0,f.tZ)("div",{sx:e?Me.END_ADORNMENT_COLLAPSED:{},children:i})]}):(0,f.tZ)("span",{sx:d,children:n}),t?(0,f.tZ)("span",{sx:_}):null]})};var Le=a(339409),Be=a(470750);const Re=()=>{const{translate:e}=(0,x.Z)(),{markNewRestrictSharingPolicySeen:t}=(0,q.u)(Le.t),{data:a,status:n}=(0,_.k)(Le.t,"hasSeenNewRestrictSharingPolicy");return n!==ue.rq.Success||a?null:(0,f.tZ)(Be.M,{title:e("team_tooltip_title_restrict_sharing_info"),description:e("team_tooltip_description_restrict_sharing_info"),setIsNotificationVisible:t})},ze={settingsMenuContainer:"settingsMenuContainer--EascJOgBpz",settingsHoverContainer:"settingsHoverContainer--z9ins4al2D",iconContainer:"iconContainer--E97FJLapaB",tooltipMenuOption:"tooltipMenuOption--uuMY2Xcfk0",accordionLinkWithBadge:"accordionLinkWithBadge--j4Qg9gk9xp",categoryTitle:"categoryTitle--krvL3iQ_mG"};var Pe,Xe,Ue,je,qe,Ge,$e,Fe,Ve,He,We,Ye,Ke,Qe,Je,et,tt,at,nt,it,st;const rt="team_settings_menu_title_account_recovery",ot="team_settings_menu_title_directory_sync",lt="team_settings_tab_duo",ct="team_settings_menu_title_policies",dt="team_settings",_t="team_settings_menu_title_events_reporting",ut="team_settings_menu_title_single_sign_on",mt="team_new_label",pt="team_upgrade_label",gt="webapp_sidemenu_category_integrations",ht=(e,t)=>{var a;return(null!=(a=t?.[e].length)?a:0)>0},bt=({isCollapsed:e=!1,permissionChecker:t,routes:a,selectedTab:n,teamNotifications:o,teamSettings:_})=>{var u,m;const{translate:p}=(0,x.Z)(),h={DIRECTORY_SYNC:`${a.teamSettingsRoutePath}${i.B9.DIRECTORY_SYNC}`,DUO:`${a.teamSettingsRoutePath}${i.B9.DUO}`,MASTER_PASSWORD_POLICIES:`${a.teamSettingsRoutePath}${i.B9.MASTER_PASSWORD_POLICIES}`,POLICIES:`${a.teamSettingsRoutePath}${i.B9.POLICIES}`,SSO:`${a.teamSettingsRoutePath}${i.B9.SSO}`,SIEM:`${a.teamSettingsRoutePath}${i.B9.SIEM}`},y={INTEGRATIONS:`${a.teamIntegrationsRoutePath}`,DIRECTORY_SYNC:`${a.teamIntegrationsRoutePath}${i.B9.DIRECTORY_SYNC}`,SSO:`${a.teamIntegrationsRoutePath}${i.B9.SSO}`,SIEM:`${a.teamIntegrationsRoutePath}${i.B9.SIEM}`},{unseen:S}=(0,me.m)(_e.O.TacDarkWebInsightsNewBadge),{hasNewBreaches:v}=ye(),C=(0,ie.lZ)(),Z=(0,ae.o)("BBCOM-238-duo"),T=(0,ae.o)("monetization_extension_trial_activity_logs"),{isIntegrationsMenuEnabled:D,hasSiemIntegrationAccess:E}=function(){const e=(0,r.useContext)(xe);if(!e)throw new Error("useSidenavFeatureflips must be called from within an SideNavFeatureflipsProvider");return e}(),k=(0,ae.o)("onboarding_web_tacgetstarted"),{interacted:w}=(0,me.d)(_e.O.TacGetStartedDismissPage),{shouldShowBuyOrUpgradePaywall:N,planType:I}=null!=(u=fe(t.adminAccess))?u:{},A=(0,ve.m)(),M=A.status===ue.rq.Success&&A.isTeamCreator,{teamId:O}=(0,De.fV)(),L=Te(O),R=(0,se.C)(),z=!(null==(m=L.teamCapabilities?.activityLog.enabled)||m)||T&&R?.isFreeTrial,{hasStarterPaywall:P,hasTrialBusinessPaywall:X}=we(),U=N&&(I===g.lD.Team||I===g.lD.Starter),j=_&&!_.ssoEnabled&&!U&&void 0!==U,q=k&&!w&&M&&!C.isLoading&&!C.isTeamSoftDiscontinued,G=!!L.teamCapabilities?.groupSharing.info?.limit,$=P||X,F=({requiredPermission:e,children:a,...n})=>t.adminAccess.hasPermissionLevel(e)?(0,f.tZ)(c.KJW,{...n,children:a}):null;return(0,f.BX)(c.t7v,{collapsed:e,children:[(0,f.BX)(c.sMA,{sx:{pointerEvents:"auto",backgroundColor:"ds.container.agnostic.inverse.standard",marginBottom:"40px"},children:[q?(0,f.tZ)(F,{requiredPermission:"FULL",collapsed:e,children:(0,f.tZ)(s.rU,{to:a.teamGetStartedRoutePath,children:(0,f.tZ)(Oe,{collapsed:e,icon:Pe||(Pe=(0,f.tZ)(l.JO,{name:"TipOutlined"})),label:p("team_get_started"),selected:n===ge.$.GET_STARTED})})}):null,(0,f.tZ)(F,{requiredPermission:"FULL",collapsed:e,children:(0,f.tZ)(s.rU,{to:a.teamDashboardRoutePath,children:(0,f.tZ)(Oe,{collapsed:e,icon:Xe||(Xe=(0,f.tZ)(c.QGC,{})),label:p("team_general"),selected:n===ge.$.DASHBOARD})})}),(0,f.tZ)(F,{requiredPermission:"FULL",collapsed:e,children:(0,f.tZ)(s.rU,{to:a.teamMembersRoutePath,children:(0,f.tZ)(Oe,{collapsed:e,icon:Ue||(Ue=(0,f.tZ)(c.lMe,{})),label:p("team_members"),selected:n===ge.$.MEMBERS})})}),(0,f.tZ)(F,{requiredPermission:"GROUP_READ",collapsed:e,children:(0,f.tZ)(s.rU,{to:a.teamGroupsRoutePath,children:(0,f.tZ)(Oe,{collapsed:e,icon:je||(je=(0,f.tZ)(c.c6E,{})),label:p("team_groups"),selected:n===ge.$.GROUPS,endAdornment:G?(0,f.tZ)(l.Ct,{mood:"brand",intensity:"catchy",label:p("webapp_sidemenu_group_upgrade_label")}):null})})}),(0,f.tZ)(F,{requiredPermission:"FULL",collapsed:e,children:(0,f.tZ)(s.rU,{to:a.teamActivityRoutePath,children:(0,f.tZ)(Oe,{collapsed:e,hasNotification:ht("accountRecoveryRequests",o),icon:qe||(qe=(0,f.tZ)(c.X4t,{})),label:p("team_activity"),selected:n===ge.$.ACTIVITY,endAdornment:z?(0,f.tZ)(l.Ct,{mood:"brand",intensity:"catchy",label:p(pt),layout:"iconLeading",iconName:"PremiumOutlined","data-testid":"activity-badge"}):null})})}),(0,f.tZ)(F,{requiredPermission:"FULL",collapsed:e,children:(0,f.tZ)(Ae,{isSidenavCollapsed:e,settingsRoute:h.MASTER_PASSWORD_POLICIES,children:e?(0,f.tZ)(c.ua7,{placement:"right",offset:[0,15],hoverCloseDelay:500,sx:{padding:"4px 0","svg, svg:hover":{fill:"ds.text.inverse.catchy"}},content:(0,f.BX)("div",{sx:{width:j?"180px":"148px"},children:[(0,f.BX)("div",{style:{display:"flex"},children:[(0,f.tZ)(s.rU,{to:h.POLICIES,style:{width:"100%"},children:(0,f.BX)("div",{className:ze.tooltipMenuOption,children:[p(ct),$?(0,f.tZ)(l.Ct,{mood:"brand",intensity:"catchy",label:p(pt),layout:"iconLeading",iconName:"PremiumOutlined"}):null]})}),Ge||(Ge=(0,f.tZ)(Re,{}))]}),D?null:(0,f.BX)(f.HY,{children:[(0,f.tZ)(s.rU,{to:h.SSO,children:(0,f.BX)("div",{className:B()(ze.tooltipMenuOption,{[ze.tooltipMenuOptionWithBadge]:j}),children:[p(ut),j||U?(0,f.tZ)(l.Ct,{mood:"brand",intensity:"catchy",label:p(j?mt:pt),layout:"iconLeading",iconName:U?"PremiumOutlined":void 0,"data-testid":"sso-badge"}):null]})}),(0,f.tZ)(s.rU,{to:h.DIRECTORY_SYNC,children:(0,f.tZ)("div",{className:ze.tooltipMenuOption,children:p(ot)})}),E?(0,f.tZ)(s.rU,{to:h.SIEM,children:(0,f.tZ)("div",{className:ze.tooltipMenuOption,children:p(_t)})}):null]}),(0,f.tZ)(s.rU,{to:h.MASTER_PASSWORD_POLICIES,children:(0,f.tZ)("div",{className:ze.tooltipMenuOption,children:p(rt)})}),Z?(0,f.tZ)(s.rU,{to:h.DUO,children:(0,f.tZ)("div",{className:ze.tooltipMenuOption,children:p(lt)})}):null]}),children:(0,f.tZ)("div",{tabIndex:0,children:(0,f.tZ)(Oe,{collapsed:e,icon:$e||($e=(0,f.tZ)(c.ewm,{})),label:p(dt),selected:n===ge.$.SETTINGS})})}):(0,f.BX)(c.UlM,{size:"large",open:!0,sx:{backgroundColor:"ds.container.agnostic.inverse.standard",span:{color:"ds.text.inverse.catchy"},"> summary":{padding:"16px 0"},"&[open]":{padding:0},"&[open] > summary":{padding:"16px 0"},"&[open] > div:nth-of-type(1)":{pointerEvents:"auto",padding:0},"svg, svg:hover":{fill:"ds.text.inverse.catchy"}},children:[(0,f.tZ)(c._Oh,{children:(0,f.BX)("span",{className:ze.settingsMenuContainer,children:[(0,f.tZ)("span",{className:ze.iconContainer,children:Fe||(Fe=(0,f.tZ)(c.ewm,{}))}),(0,f.tZ)(c.nvN,{size:"medium",bold:!0,as:"span",children:p(dt)})]})}),(0,f.BX)(c.rN7,{children:[(0,f.BX)("div",{style:{display:"flex"},children:[(0,f.tZ)(s.rU,{to:h.POLICIES,style:{width:"100%"},children:(0,f.tZ)(Oe,{icon:Ve||(Ve=(0,f.tZ)("span",{})),label:p(ct),selected:n===pe.POLICIES,endAdornment:$?(0,f.tZ)(l.Ct,{mood:"brand",intensity:"catchy",label:p(pt),layout:"iconLeading",iconName:"PremiumOutlined"}):null})}),He||(He=(0,f.tZ)(Re,{}))]}),D?null:(0,f.BX)(f.HY,{children:[(0,f.tZ)(s.rU,{to:h.SSO,children:(0,f.tZ)(Oe,{icon:We||(We=(0,f.tZ)("span",{})),label:p(ut),endAdornment:j||U?(0,f.tZ)(l.Ct,{mood:"brand",intensity:"catchy",label:p(j?mt:pt),layout:"iconLeading",iconName:U?"PremiumOutlined":void 0,"data-testid":"sso-badge"}):null,selected:n===pe.SSO})}),(0,f.tZ)(s.rU,{to:h.DIRECTORY_SYNC,children:(0,f.tZ)(Oe,{icon:Ye||(Ye=(0,f.tZ)("span",{})),label:p(ot),selected:n===pe.DIRECTORY_SYNC})}),E?(0,f.tZ)(s.rU,{to:h.SIEM,children:(0,f.tZ)(Oe,{icon:Ke||(Ke=(0,f.tZ)("span",{})),label:p(_t),selected:n===pe.SIEM})}):null]}),(0,f.tZ)(s.rU,{to:h.MASTER_PASSWORD_POLICIES,children:(0,f.tZ)(Oe,{icon:Qe||(Qe=(0,f.tZ)("span",{})),label:p(rt),selected:n===pe.ACCOUNT_RECOVERY})}),Z?(0,f.tZ)(s.rU,{to:h.DUO,children:(0,f.tZ)(Oe,{icon:Je||(Je=(0,f.tZ)("span",{})),label:p(lt),selected:n===pe.DUO})}):null]})]})})})]}),D?(0,f.BX)(f.HY,{children:[(0,f.tZ)(c.nvN,{color:"ds.text.inverse.quiet",caps:!0,size:"x-small",sx:{marginTop:"40px",marginLeft:"14px",marginBottom:"8px"},children:p("webapp_sidemenu_category_advanced_tools")}),(0,f.tZ)(c.sMA,{children:(0,f.tZ)(F,{requiredPermission:"FULL",collapsed:e,children:(0,f.tZ)(Ae,{isSidenavCollapsed:e,settingsRoute:"TO-BE-DEFINED",children:e?(0,f.tZ)(c.ua7,{placement:"right",offset:[0,15],hoverCloseDelay:500,sx:{padding:"4px 0","svg, svg:hover":{fill:"ds.text.inverse.catchy"}},content:(0,f.BX)("div",{sx:{width:j?"180px":"148px"},children:[(0,f.tZ)(s.rU,{to:y.SSO,children:(0,f.BX)("div",{className:B()(ze.tooltipMenuOption,{[ze.tooltipMenuOptionWithBadge]:j}),children:[p(ut),j||U?(0,f.tZ)(l.Ct,{mood:"brand",intensity:"catchy",label:p(j?mt:pt),layout:"iconLeading",iconName:U?"PremiumOutlined":void 0,"data-testid":"sso-badge"}):null]})}),(0,f.tZ)(s.rU,{to:y.DIRECTORY_SYNC,children:(0,f.tZ)("div",{className:ze.tooltipMenuOption,children:p(ot)})}),E?(0,f.tZ)(s.rU,{to:y.SIEM,children:(0,f.tZ)("div",{className:ze.tooltipMenuOption,children:p(_t)})}):null]}),children:(0,f.tZ)("div",{tabIndex:0,children:(0,f.tZ)(Oe,{collapsed:e,icon:et||(et=(0,f.tZ)(l.JO,{name:"ConfigureOutlined"})),label:p(gt),selected:n===ge.$.INTEGRATIONS})})}):(0,f.BX)(c.UlM,{size:"large",open:!0,sx:{backgroundColor:"ds.container.agnostic.inverse.standard",span:{color:"ds.text.inverse.catchy"},"> summary":{padding:"16px 0"},"&[open]":{padding:0},"&[open] > summary":{padding:"16px 0"},"&[open] > div:nth-of-type(1)":{pointerEvents:"auto",padding:0},"svg, svg:hover":{fill:"ds.text.inverse.catchy"}},children:[(0,f.tZ)(c._Oh,{children:(0,f.tZ)(s.rU,{to:y.INTEGRATIONS,children:(0,f.BX)("span",{className:ze.settingsMenuContainer,children:[(0,f.tZ)("span",{className:ze.iconContainer,children:tt||(tt=(0,f.tZ)(l.JO,{name:"ConfigureOutlined"}))}),(0,f.tZ)(c.nvN,{size:"medium",bold:!0,as:"span",children:p(gt)})]})})}),(0,f.BX)(c.rN7,{children:[(0,f.tZ)(s.rU,{to:y.SSO,children:(0,f.tZ)(Oe,{icon:at||(at=(0,f.tZ)("span",{})),label:p(ut),endAdornment:j||U?(0,f.tZ)(l.Ct,{mood:"brand",intensity:"catchy",label:p(j?mt:pt),layout:"iconLeading",iconName:U?"PremiumOutlined":void 0,"data-testid":"sso-badge"}):null,selected:n===pe.SSO})}),(0,f.tZ)(s.rU,{to:y.DIRECTORY_SYNC,children:(0,f.tZ)(Oe,{icon:nt||(nt=(0,f.tZ)("span",{})),label:p(ot),selected:n===pe.DIRECTORY_SYNC})}),E?(0,f.tZ)(s.rU,{to:y.SIEM,children:(0,f.tZ)(Oe,{icon:it||(it=(0,f.tZ)("span",{})),label:p(_t),selected:n===pe.SIEM})}):null]})]})})})})]}):null,t.adminAccess.hasFullAccess?(0,f.BX)(f.HY,{children:[(0,f.tZ)(c.nvN,{caps:!0,color:"ds.text.inverse.quiet",size:"x-small",sx:{marginTop:"40px",marginLeft:"14px",marginBottom:"8px"},children:p("webapp_sidemenu_category_maintenance")}),(0,f.tZ)(c.sMA,{children:(0,f.tZ)(F,{requiredPermission:"FULL",collapsed:e,children:(0,f.tZ)(s.rU,{to:a.teamDarkWebInsightsRoutePath,onClick:()=>{(0,b.Kz)(new d.UserOpenDomainDarkWebMonitoringEvent({accessPath:d.AccessPath.NavLeftMenuButton,isFirstVisit:S}))},children:(0,f.tZ)(Oe,{collapsed:e,icon:st||(st=(0,f.tZ)(l.JO,{name:"FeatureDarkWebMonitoringOutlined"})),label:p("team_dashboard_dark_web_insights_heading"),selected:n===ge.$.DARK_WEB_INSIGHTS,hasNotification:v})})})})]}):null]})};var yt;const xt=({isCollapsed:e})=>{const{translate:t}=(0,x.Z)(),a=e||!1;return(0,f.tZ)("div",{sx:{width:a?"96px":"256px"},children:(0,f.tZ)("div",{"data-testid":"logo-header",sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"80px !important",borderBottom:"1px solid ds.border.neutral.quiet.idle !important"},children:a?(0,f.tZ)("div",{sx:{position:"relative",right:"3px"},children:yt||(yt=(0,f.tZ)(c.NJ6,{color:"ds.text.inverse.catchy",height:39,width:39}))}):(0,f.tZ)(l.TR,{height:40,name:"DashlaneLockup",title:t("_common_dashlane_logo_title"),color:"ds.text.inverse.catchy"})})})};a(550801);const St="webapp_sidemenu_open_vault_cta",ft=({isCollapsed:e})=>{const{translate:t}=(0,x.Z)(),[a,n]=(0,r.useState)(!1);return(0,f.BX)("div",{sx:{display:"flex",justifyContent:"center",borderTop:"1px solid",position:"fixed",bottom:"0",borderTopColor:"ds.border.neutral.quiet.idle",backgroundColor:"ds.container.agnostic.inverse.standard",width:e?"96px":"256px"},children:[(0,f.tZ)(l.zx,{layout:e?"iconOnly":"iconLeading","aria-label":t(St),fullsize:!e,sx:{margin:"20px 25px"},icon:"VaultOutlined",mood:"brand",intensity:"catchy",onClick:()=>{(0,X.nL)(te.rC)},children:t(St)}),a?(0,f.tZ)(oe.F,{isShown:a,setIsShown:n,isFromVault:!1}):null]})};var vt,Ct=a(277429);const Zt=()=>document.documentElement.clientWidth<1371,Tt=r.createContext({navBarChildren:null,setNavBarChildren:()=>{}}),Dt=({selectedTab:e,children:t,lee:a})=>{const[n,i]=(0,r.useState)(Zt()),[o,l]=(0,r.useState)(),{routes:c}=(0,s.Xo)(),d=a.permission.adminAccess,_=d.hasBillingAccess||d.hasFullAccess;(0,r.useEffect)((()=>{const e=(0,E.throttle)((()=>{const e=Zt();e&&!n?i(!0):!e&&n&&i(!1)}),100);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[n]);const u=(0,k.kA)(a.globalState),m=(0,k.xO)(a.globalState),p=(0,f.BX)(A,{children:[o,(0,f.tZ)(de,{lee:a})]}),g=(0,f.tZ)(xt,{isCollapsed:n}),h=(0,f.tZ)(bt,{isCollapsed:n,permissionChecker:a.permission,routes:c,selectedTab:e,teamNotifications:u?.notifications,teamSettings:m?.details.info}),b=(0,f.tZ)(ft,{isCollapsed:n}),y={navBarChildren:o,setNavBarChildren:l},x=(0,f.tZ)(Ct.Q6,{adminAccess:a.permission.adminAccess}),S=_?vt||(vt=(0,f.tZ)(w.XA,{})):null;return(0,f.tZ)(Tt.Provider,{value:y,children:(0,f.tZ)(N.AH,{adminAccess:d,children:(0,f.tZ)(O,{brand:g,header:p,sideNav:h,bottomButton:b,banner:x,dialog:S,children:t})})})};var Et=a(637269);const kt=()=>{const{data:e,status:t}=(0,_.k)(Et.K,"getTeamOffers",{});return t!==ue.rq.Success?null:e},wt=({offer:e,selectedSeatsQty:t=0})=>{const a=[...e.priceRanges].sort(((e,t)=>e.startMembers-t.startMembers));return a.reduce(((e,a)=>a.startMembers<t&&a.startMembers>e.startMembers?a:e),a[0])},Nt=({offer:e,currentSeats:t=0,additionalSeats:a=0})=>{const n=[...e.priceRanges].sort(((e,t)=>e.startMembers-t.startMembers)),i=t+a;return n.reduce(((e,t)=>t.startMembers<i&&t.startMembers>e.startMembers?t:e),n[0])},It=({offer:e,selectedSeatsQty:t,priceTarget:a="price"})=>wt({offer:e,selectedSeatsQty:t})[a]/(e.duration.includes("y")?12:1),At=({offer:e,selectedSeatsQty:t})=>{const a=wt({offer:e,selectedSeatsQty:t}).price;return e.duration.includes("y")?a:12*a},Mt=e=>!!e.name.match(/_team_/u),Ot=e=>!!e.name.match(/_business_/u),Lt=e=>e?e.priceRanges[1].startMembers-1:0,Bt=()=>{const{translate:e}=(0,x.Z)(),t=(0,Ee.Y)(),a=kt();if(!a||t.status!==o.rq.Success)return{hasLimitedOffer:!1};const n=!(0,R.NG)(t.data),{businessOffer:i}=a,s=It({offer:i}),r=It({offer:i,priceTarget:"equivalentPrice"});return{hasLimitedOffer:n&&s!==r,translatedPrice:e.price(i.currency,s/100,{notation:"compact"}),translatedEquivalentPrice:e.price(i.currency,r/100,{notation:"compact"})}};var Rt,zt,Pt,Xt,Ut;const jt=({plan:e,handleSelectClick:t,selected:a})=>{const{translate:n}=(0,x.Z)(),{currentPlan:i,limitedOffer:s,heading:r,price:o,equivalentPrice:d,planName:_,footer:u,priceDescription1:m,priceDescription2:p,features:g}=e;return(0,f.BX)(c.Ejs,{flexDirection:"column",sx:{minHeight:"480px",display:"flex",flexDirection:"column",borderRadius:"4px",border:`1px solid ${i?"transparent":l.O9.lightTheme.ds.border.neutral.quiet.idle}`,flexGrow:"1",flexShrink:0,width:"188px",backgroundColor:i?l.O9.lightTheme.ds.container.expressive.neutral.supershy.hover:null,padding:"16px",gap:"24px"},children:[(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"16px",children:[(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"8px",children:[(0,f.BX)("div",{sx:{minHeight:"16px"},children:[i?(0,f.tZ)(l.Ct,{label:n("team_account_teamplan_changeplan_plans_plan_current")}):null,s?(0,f.tZ)(l.Ct,{mood:"brand",intensity:"catchy",label:n("team_account_teamplan_changeplan_plans_plan_limited_offer")}):null]}),(0,f.tZ)(c.nvN,{bold:!0,size:"medium",children:n(r.key)})]}),(0,f.BX)(c.Ejs,{flexDirection:"column",children:[(0,f.BX)(c.Ejs,{gap:"4px",children:[o?(0,f.tZ)(c.X6q,{as:"p",size:"large",children:o}):Rt||(Rt=(0,f.tZ)(l.ZX,{size:44,mood:"neutral"})),d?(0,f.BX)(l.nv,{textStyle:"ds.title.block.medium",color:"ds.text.neutral.quiet",sx:{whiteSpace:"break-spaces"},children:[n("team_account_teamplan_changeplan_plans_previous_price"),zt||(zt=(0,f.tZ)("br",{})),(0,f.tZ)("span",{sx:{textDecoration:"line-through"},children:d})]}):null]}),(0,f.BX)(c.Ejs,{flexDirection:"column",sx:{height:"48px"},children:[(0,f.tZ)(c.nvN,{size:"x-small",color:l.O9.lightTheme.ds.text.neutral.quiet,children:n(m.key,m.variables)}),(0,f.tZ)(c.nvN,{size:"x-small",color:l.O9.lightTheme.ds.text.neutral.quiet,children:n(p.key,p.variables)})]})]})]}),a?(0,f.tZ)(l.zx,{disabled:!0,mood:"brand",size:"small",type:"button",fullsize:!0,icon:Pt||(Pt=(0,f.tZ)(c.nQG,{})),children:n("team_account_teamplan_changeplan_plans_selected")}):t?(0,f.tZ)(l.zx,{mood:"brand",size:"small",onClick:t,fullsize:!0,"data-testid":`btn-${_}-select`,children:n("team_account_teamplan_changeplan_plans_select")}):(0,f.tZ)("div",{style:{height:"32px",width:"100%"}}),(0,f.tZ)(c.Ejs,{flexDirection:"column",gap:"6px",children:g.map((({key:e,icon:t,variables:a,loading:s})=>(0,f.BX)(c.Ejs,{sx:{display:"flex",alignItems:"center",gap:"9px",flexWrap:"nowrap",strong:{color:i?null:l.O9.lightTheme.ds.text.neutral.catchy}},children:[(0,f.tZ)(c.k$b,{sx:{width:"10px"},children:"check"===t?Xt||(Xt=(0,f.tZ)(c.nQG,{size:14})):"add"===t?Ut||(Ut=(0,f.tZ)(c.dtP,{size:12})):null}),s?(0,f.tZ)(c.k$b,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexGrow:"1"},children:(0,f.tZ)(l.ZX,{size:32,color:l.O9.lightTheme.ds.text.neutral.catchy})}):(0,f.tZ)(c.nvN,{color:l.O9.lightTheme.ds.text.neutral.quiet,size:"x-small",children:e.includes("markup")?n.markup(e,a):n(e,a)})]},e)))}),s?(0,f.tZ)(l.ke,{mood:"brand",title:n("team_account_teamplan_changeplan_plans_limited_price_infobox")}):null,u?(0,f.tZ)(c.Ejs,{alignItems:"center",gap:"9px",sx:{paddingLeft:"20px"},children:(0,f.tZ)(c.nvN,{color:l.O9.lightTheme.ds.text.neutral.quiet,size:"x-small",children:u.key.includes("markup")?n.markup(u.key):n(u.key)})}):null]})},qt=({title:e,children:t,sx:a,headingLevel:n="h2"})=>(0,f.tZ)(c.Zbd,{sx:(0,c.jMf)([{display:"flex",flexDirection:"column",padding:"24px",gap:"16px",backgroundColor:c.colors.white,borderRadius:"4px",border:`1px solid ${c.colors.dashGreen05}`},...a?[a]:[]]),role:"complementary",children:(0,f.BX)(c.Ejs,{flexDirection:"column",sx:{display:"flex",flexDirection:"column",height:"100%"},children:[e?"string"==typeof e?(0,f.tZ)(l.X6,{as:n,color:"ds.text.neutral.standard",children:e}):e:null,(0,f.tZ)(c.k$b,{flex:"1",children:t})]})});var Gt,$t,Ft,Vt,Ht;const Wt=({handleSelectClick:e,selected:t,businessOffer:a,showRecommendedBadge:n=!1})=>{const{translate:i}=(0,x.Z)(),s=Bt(),r=a?It({offer:a}):null;return(0,f.BX)(c.Ejs,{flexDirection:"column",sx:{display:"flex",flexDirection:"column",padding:"18px 28px 32px",border:`1px solid ${c.colors.dashGreen05}`,borderRadius:"4px",gap:"18px"},role:"contentinfo",children:[s.hasLimitedOffer?(0,f.tZ)(l.Ct,{mood:"brand",intensity:"catchy",label:i("team_account_teamplan_changeplan_plans_plan_limited_offer")}):n?(0,f.tZ)(l.Ct,{mood:"brand",intensity:"quiet",label:i("team_account_teamplan_changeplan_plans_plan_recommended")}):null,(0,f.BX)(c.Ejs,{fullWidth:!0,gap:"12px",children:[(0,f.BX)(c.Ejs,{fullWidth:!0,children:[(0,f.tZ)(c.Ejs,{sx:{display:"flex",alignItems:"center",flex:1},children:(0,f.tZ)(l.X6,{as:"h2",color:"ds.text.neutral.standard",children:i("team_account_teamplan_changeplan_plans_business_name")})}),(0,f.tZ)(c.k$b,{children:a?.currency&&r?(0,f.BX)(c.Ejs,{flexDirection:"column",alignItems:"flex-end",children:[(0,f.BX)(c.Ejs,{alignItems:"flex-end",gap:"0",flexDirection:"column",children:[(0,f.BX)(c.nvN,{size:"small",children:[i.price(a.currency,r/100,{notation:"compact"})," ",i("team_account_teamplan_changeplan_plans_seat")]}),s.hasLimitedOffer?(0,f.BX)(c.nvN,{size:"small",color:"ds.text.neutral.quiet",children:[i("team_account_teamplan_changeplan_plans_previous_price")," ",(0,f.tZ)("span",{sx:{textDecoration:"line-through"},children:s.translatedEquivalentPrice})]}):null]}),(0,f.tZ)(c.nvN,{color:"ds.text.neutral.quiet",size:"x-small",children:i("team_account_teamplan_changeplan_plans_billed_anually")})]}):Gt||(Gt=(0,f.tZ)(l.ZX,{size:16,mood:"neutral"}))})]}),(0,f.tZ)("hr",{style:{width:"100%",borderTop:`1px solid ${c.colors.grey02}`,borderBottom:"0",margin:"0"}})]}),(0,f.tZ)(c.k$b,{flex:"1",children:(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"6px",children:[(0,f.tZ)(c.nvN,{color:c.colors.grey00,size:"x-small",children:i("team_account_teamplan_changeplan_plans_business_header")}),(0,f.BX)(c.Ejs,{alignItems:"center",gap:"9px",sx:{display:"flex",alignItems:"center",gap:"9px",marginTop:"10px"},children:[$t||($t=(0,f.tZ)(c.dtP,{size:8})),(0,f.tZ)(c.nvN,{size:"x-small",color:c.colors.black,children:i.markup("team_account_teamplan_changeplan_plans_business_saml_markup",{ssoUrl:"https://support.dashlane.com/hc/articles/360015111019-SSO-FAQ"},{linkTarget:"_blank"},{color:c.colors.black})})]}),(0,f.BX)(c.Ejs,{alignItems:"center",gap:"9px",children:[Ft||(Ft=(0,f.tZ)(c.dtP,{size:8})),(0,f.tZ)(c.nvN,{size:"x-small",children:(0,f.tZ)(c.rUS,{rel:"noopener noreferrer",href:"https://blog.dashlane.com/how-admins-can-simplify-provisioning/",target:"_blank",children:i("team_account_teamplan_changeplan_plans_business_scim_provisioning")})})]}),(0,f.BX)(c.Ejs,{alignItems:"center",gap:"9px",children:[Vt||(Vt=(0,f.tZ)(c.dtP,{size:8})),(0,f.tZ)(c.nvN,{size:"x-small",color:c.colors.black,children:i.markup("team_account_teamplan_changeplan_plans_business_free_family_plan_markup",{familyPlanUrl:"https://support.dashlane.com/hc/articles/360015393479-Getting-Premium-Family-with-Dashlane-Business"},{linkTarget:"_blank"},{color:c.colors.black})})]})]})}),s.hasLimitedOffer?(0,f.tZ)(l.ke,{title:i("team_account_teamplan_changeplan_plans_limited_price_infobox"),mood:"brand"}):null,a?t?(0,f.tZ)(c.zxk,{sx:{width:"100%"},disabled:!0,nature:"secondary",size:"small",type:"button",children:i("team_account_teamplan_changeplan_plans_selected")}):(0,f.tZ)(c.zxk,{"data-testid":"btn-business-select",sx:{width:"100%"},size:"small",type:"button",onClick:e,children:i("team_account_teamplan_changeplan_plans_select")}):Ht||(Ht=(0,f.tZ)(c.Ejs,{justifyContent:"center",fullWidth:!0,children:(0,f.tZ)(l.ZX,{size:30,mood:"neutral"})}))]})};var Yt;const Kt=["team_account_teamplan_changeplan_plans_team_security_dashboard","team_account_teamplan_changeplan_plans_team_policy_management","team_account_teamplan_changeplan_plans_team_advanced_reporting","team_account_teamplan_changeplan_plans_team_group_sharing","team_account_teamplan_changeplan_plans_team_active_directory_integration","team_account_teamplan_changeplan_plans_team_dark_web_insights","team_account_teamplan_changeplan_plans_team_vpn_via_hotspot_shield","team_account_teamplan_changeplan_plans_team_audit_logs"],Qt=()=>{const{translate:e}=(0,x.Z)();return(0,f.BX)(c.Ejs,{flexDirection:"column",sx:{display:"flex",flexDirection:"column",gap:"12px",height:"fit-content",minWidth:"223px",width:"fit-content",backgroundColor:c.colors.grey06,padding:"16px"},role:"contentinfo",children:[(0,f.tZ)(c.Ejs,{children:(0,f.tZ)(c.Ejs,{sx:{borderRadius:"1px",border:`1px solid ${c.colors.midGreen03}`,padding:"1px",lineHeight:"10px"},children:(0,f.tZ)(c.j49,{size:"small",children:e("team_account_teamplan_changeplan_plans_plan_current")})})}),(0,f.tZ)(l.X6,{as:"h2",color:"ds.text.neutral.quiet",children:e("team_account_teamplan_changeplan_plans_team_name")})," ",(0,f.tZ)("hr",{style:{width:"100%",borderTop:`1px solid ${c.colors.grey02}`,borderBottom:"0",margin:"0"}}),(0,f.tZ)(c.Ejs,{flexDirection:"column",gap:"6px",children:Kt.map((t=>(0,f.BX)(c.Ejs,{alignItems:"center",gap:"9px",children:[Yt||(Yt=(0,f.tZ)(c.nQG,{size:8})),(0,f.tZ)(c.nvN,{color:c.colors.grey00,size:"x-small",children:e(t)})]},t)))})]})};var Jt;const ea=({selectedOffer:e,handleSelection:t,teamOffers:a,currentSpaceTier:n})=>{const{translate:i}=(0,x.Z)(),s=((e,t)=>{const{translate:a}=(0,x.Z)(),n=e?.businessOffer?.currency,i=e?.businessOffer?It({offer:e.businessOffer}):null,s=e?.teamOffer?It({offer:e.teamOffer}):null,r=e?.starterOffer?It({offer:e.starterOffer}):null,o=Lt(e?.starterOffer),l=e?.starterOffer&&r?o*r:0;return{starter:{currentPlan:!0,planName:"starter",price:r&&n?a.price(n,r/100,{notation:"compact"}):null,heading:{key:"team_account_teamplan_changeplan_plans_starter_name"},priceDescription1:{key:"team_account_teamplan_changeplan_plans_per_seat_month"},priceDescription2:{key:"team_account_teamplan_changeplan_plans_billed_monthly_at",variables:{numberSeats:o,monthlyPrice:r&&n?a.price(n,l/100,{notation:"compact"}):null}},features:[{key:"team_account_teamplan_changeplan_plans_seats_flat_rate_markup",icon:"check",loading:!r,variables:{numberSeats:o,monthlyPrice:r&&n?a.price(n,l/100,{notation:"compact"}):null}},{icon:"check",key:"team_account_teamplan_changeplan_plans_unlimited_passwords"},{icon:"check",key:"team_account_teamplan_changeplan_plans_secure_sharing"},{icon:"check",key:"team_account_teamplan_changeplan_plans_business_and_personal_spaces"},{icon:"check",key:"team_account_teamplan_changeplan_plans_audit_logs"},{icon:"check",key:"team_account_teamplan_changeplan_plans_dark_web_insights"}],footer:{key:"team_account_teamplan_changeplan_plans_starter_footer_markup"}},team:{recommended:!t.hasLimitedOffer,planName:"team",price:s&&n?a.price(n,s/100,{notation:"compact"}):null,heading:{key:"team_account_teamplan_changeplan_plans_name_V2"},priceDescription1:{key:"team_account_teamplan_changeplan_plans_per_seat_month"},priceDescription2:{key:"team_account_teamplan_changeplan_plans_billed_anually"},features:[{key:"team_account_teamplan_changeplan_plans_everything_in_starter_markup",icon:"check"},{key:"team_account_teamplan_changeplan_plans_unlimited_seats",icon:"add"},{key:"team_account_teamplan_changeplan_plans_vpn_for_wifi_protection",icon:"add"}]},business:{planName:"business",price:i&&n?a.price(n,i/100,{notation:"compact"}):null,equivalentPrice:t.hasLimitedOffer&&i&&n?t.translatedEquivalentPrice:null,limitedOffer:t.hasLimitedOffer,heading:{key:"team_account_teamplan_changeplan_plans_business_name_V2"},priceDescription1:{key:"team_account_teamplan_changeplan_plans_per_seat_month"},priceDescription2:{key:"team_account_teamplan_changeplan_plans_billed_anually"},features:[{key:"team_account_teamplan_changeplan_plans_everything_in_team_markup",icon:"check"},{icon:"add",key:"team_account_teamplan_changeplan_plans_sso_integration"},{icon:"add",key:"team_account_teamplan_changeplan_plans_scim_provisioning"},{icon:"add",key:"team_account_teamplan_changeplan_plans_free_friends_family_plan"},{icon:"add",key:"team_account_teamplan_changeplan_plans_phone_support"}]}}})(a,Bt()),r=n===g.lD.Starter,{businessOffer:o,teamOffer:l}=a;return(0,f.tZ)(qt,{title:i("team_account_teamplan_changeplan_plans"),headingLevel:"h1",children:r?(0,f.BX)(c.Ejs,{sx:{gap:"16px",paddingTop:"16px"},children:[(0,f.tZ)(jt,{plan:s.starter}),(0,f.tZ)(jt,{plan:s.team,handleSelectClick:()=>t(l),selected:!!e&&e.name===l.name}),(0,f.tZ)(jt,{plan:s.business,handleSelectClick:()=>t(o),selected:!!e&&e.name===o.name})]}):(0,f.BX)(c.Ejs,{sx:{flexWrap:"unset",gap:"16px",paddingTop:"16px"},children:[Jt||(Jt=(0,f.tZ)(Qt,{})),(0,f.tZ)(Wt,{businessOffer:o,selected:!!e&&e.name===o.name,handleSelectClick:()=>t(o)})]})})},ta=()=>(0,f.tZ)("hr",{style:{width:"100%",borderTop:`1px solid ${c.colors.grey02}`,borderBottom:"0",margin:"0"}}),aa=({label:e,value:t})=>(0,f.BX)(c.Ejs,{justifyContent:"flex-end",sx:{display:"flex",justifyContent:"flexEnd",padding:"0 10px"},children:[e?(0,f.tZ)(c.k$b,{flex:"1",sx:{display:"flex",alignItems:"center"},children:e}):null,t?(0,f.tZ)(c.k$b,{sx:{display:"flex",alignItems:"center"},children:t}):null]});var na=a(210994),ia=a(241185),sa=a(632765);function ra({total:e,onError:t}){const[a,n]=(0,r.useState)(!1),[i,s]=(0,r.useState)(),o=(0,_.k)(sa.a,"getTaxAmount",{totalPrice:e});return(0,r.useEffect)((()=>{o.status===ue.rq.Loading?n(!0):o.status===ue.rq.Success&&o.data?(n(!1),s({amount:o.data.amount})):(t?.(),n(!1),s(void 0))}),[o.status,o.data]),{isLoading:a,taxInformation:i}}var oa,la,ca,da,_a=a(23914);const ua=({currency:e,costData:t,isProratedDiscountLoading:a,isTaxLoading:n,selectedOffer:i,setAdditionalSeats:s})=>{const{translate:r}=(0,x.Z)(),{loading:o,billingCountry:d}=D();if(o)return oa||(oa=(0,f.tZ)(l.ZX,{}));const _="US"===d?"team_account_teamplan_changeplan_order_summary_tax":"team_account_teamplan_vat";return(0,f.tZ)(f.HY,{children:i&&e?(0,f.BX)(f.HY,{children:[(0,f.tZ)(aa,{label:(0,f.tZ)(c.nvN,{bold:!0,size:"medium",children:r("team_account_teamplan_changeplan_order_summary_seats_total",{totalSeats:t.totalSeats})}),value:(0,f.tZ)(c.k$b,{sx:{width:"146px"},children:(0,f.tZ)(_a.w,{id:"test",inputWidth:"66px",label:"",ariaLabel:r("team_account_teamplan_upgrade_premium_number_of_seats_free_to_paid"),minValue:0,onChange:s,defaultValue:0})})}),(0,f.tZ)(aa,{label:(0,f.tZ)(c.nvN,{bold:!0,size:"small",children:r("team_account_teamplan_changeplan_order_summary_seats_upgraded",{upgradedSeats:t.currentSeats})}),value:(0,f.tZ)(c.nvN,{bold:!0,size:"small",children:r.price(e,t.upgradedSeatsPrice/100)})}),t.additionalSeats?(0,f.tZ)(aa,{label:(0,f.tZ)(c.nvN,{bold:!0,size:"small",children:r("team_account_teamplan_changeplan_order_summary_seats_new",{newSeats:t.additionalSeats})}),value:(0,f.tZ)(c.nvN,{bold:!0,size:"small",children:r.price(e,t.additionalSeatsPrice/100)})}):null,la||(la=(0,f.tZ)(ta,{})),(0,f.tZ)(aa,{label:(0,f.tZ)(c.nvN,{bold:!0,size:"small",children:r("team_account_teamplan_changeplan_order_summary_subtotal")}),value:e?(0,f.tZ)(c.nvN,{bold:!0,size:"small",children:r.price(e,t.subtotal/100)}):null}),t?.proratedDiscount?(0,f.tZ)(aa,{label:(0,f.BX)(c.Ejs,{alignItems:"center",gap:"5px",children:[(0,f.tZ)(c.nvN,{size:"small",color:c.colors.grey00,children:r("team_account_teamplan_changeplan_order_summary_prorated_discount")}),(0,f.tZ)(c.ua7,{content:r("team_account_teamplan_changeplan_order_summary_prorated_discount_tooltip"),children:(0,f.tZ)(c.uMt,{size:16,color:c.colors.grey00})})]}),value:a?ca||(ca=(0,f.tZ)(l.ZX,{mood:"neutral",size:13})):t.proratedDiscount&&e?(0,f.tZ)(c.nvN,{size:"small",color:c.colors.grey00,children:r.price(e,t.proratedDiscount/100)}):null}):null,t.tax?(0,f.tZ)(aa,{label:(0,f.tZ)(c.nvN,{size:"small",color:c.colors.grey00,children:r(_)}),value:n?da||(da=(0,f.tZ)(l.ZX,{mood:"neutral",size:13})):(0,f.tZ)(c.nvN,{size:"small",color:c.colors.grey00,children:r.price(e,t.tax/100)})}):null]}):null})},ma=({selectedOffer:e,costData:t})=>{const{translate:a}=(0,x.Z)();return(0,f.BX)(f.HY,{children:[e?(0,f.BX)(f.HY,{children:[(0,f.tZ)(aa,{label:(0,f.BX)(c.Ejs,{gap:"5px",children:[(0,f.tZ)(c.nvN,{bold:!0,size:"medium",children:a("team_account_teamplan_changeplan_order_summary_seats_total",{totalSeats:t.totalSeats})}),(0,f.BX)(c.nvN,{bold:!0,size:"medium",children:["(",a("team_account_teamplan_changeplan_order_summary_seats_new",{newSeats:t.additionalSeats}),")"]})]})}),(0,f.tZ)(c.vDh,{severity:"subtle",size:"small",title:a("team_account_teamplan_changeplan_order_summary_invoice_info")})]}):null,(0,f.tZ)(c.zxk,{"data-testid":"btn-request-a-quote",size:"large",sx:{width:"100%"},type:"button",disabled:!e,onClick:()=>{window.open(te.vS,"_blank")},children:a("team_account_teamplan_changeplan_order_summary_request_an_upgrade")})]})};var pa,ga=a(616782);const ha=({selectedOffer:e,currency:t,costData:a})=>{const{translate:n}=(0,x.Z)(),{isLoading:i,taxInformation:s}=ra({total:a.renewalPrice}),{loading:r,billingCountry:o}=D();if(r)return pa||(pa=(0,f.tZ)(l.ZX,{}));const _="US"===o?"team_account_teamplan_changeplan_order_summary_footer_renewal":"team_account_teamplan_changeplan_order_summary_renewal_vat",u=!i&&void 0!==s?.amount&&s?.amount>0,m=u&&s?.amount?a.renewalPrice+s.amount:void 0,p=u?_:"team_account_teamplan_changeplan_order_summary_footer_header",g=u?m:a.renewalPrice;return(0,f.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"12px",padding:"16px",backgroundColor:c.colors.grey06},children:[e&&t&&g?(0,f.tZ)(c.nvN,{bold:!0,size:"small",color:c.colors.grey00,children:n(p,{price:n.price(t,g/100),date:n.shortDate(a.renewalDate,ga.qG.ll)})}):null,(0,f.tZ)(c.nvN,{size:"x-small",color:c.colors.grey00,children:n.markup("team_account_teamplan_changeplan_order_summary_footer_markup",{privacyPolicyUrl:te.Bz,termsUrl:te.sz},{linkTarget:"_blank",onLinkClicked:e=>{e===te.Bz?(0,b.Kz)(new d.UserCallToActionEvent({callToActionList:[d.CallToAction.PrivacyPolicy],chosenAction:d.CallToAction.PrivacyPolicy,hasChosenNoAction:!1})):e===te.sz&&(0,b.Kz)(new d.UserCallToActionEvent({callToActionList:[d.CallToAction.TermsOfService],chosenAction:d.CallToAction.TermsOfService,hasChosenNoAction:!1}))}})})]})},ba={display:"flex",alignItems:"center",padding:"12px 10px",justifyContent:"space-between",backgroundColor:c.colors.dashGreen06},ya=({selectedOffer:e,currency:t,costData:a})=>{const{translate:n}=(0,x.Z)();return e&&t?(0,f.BX)("div",{sx:ba,"data-testid":"order-summary-plan-name",children:[(0,f.tZ)(c.nvN,{bold:!0,color:c.colors.dashGreen01,children:Ot(e)?n("team_account_teamplan_changeplan_plans_business_name"):n("team_account_teamplan_changeplan_plans_team_name")}),(0,f.tZ)(c.nvN,{color:c.colors.dashGreen01,children:n("team_account_teamplan_changeplan_order_summary_seat_year",{cost:n.price(t,a.seatPrice/100,{notation:"compact"})})})]}):(0,f.tZ)("div",{sx:ba,children:(0,f.tZ)(c.nvN,{color:c.colors.dashGreen01,children:n("team_account_teamplan_changeplan_order_summary_select_plan")})})};var xa;const Sa=({onDismiss:e,value:t,buttonProps:a})=>(0,f.BX)(c.Ejs,{alignItems:"center",gap:"6px",children:[(0,f.tZ)(c.Ejs,{sx:{backgroundColor:c.colors.midGreen05,padding:"4px 8px",borderRadius:"4px"},children:"string"==typeof t?(0,f.tZ)(c.nvN,{size:"x-small",children:t}):{value:t}}),e?(0,f.tZ)(c.zxk,{size:"small",type:"button",nature:"ghost",onClick:e,sx:{padding:0,minWidth:0},...a,children:xa||(xa=(0,f.tZ)(c.Two,{size:18}))}):null]});var fa,va,Ca;const Za=e=>e?-e/100:0,Ta=({currency:e,promoPrice:t,promoCode:a,hasError:n,isLoading:i,showInput:s,setShowInput:r,onSubmit:o,onCancel:d,onChange:_,onClear:u})=>{const{translate:m}=(0,x.Z)();return s?(0,f.BX)(c.Ejs,{gap:"6px",fullWidth:!0,sx:{padding:"0 10px"},children:[(0,f.tZ)(c.k$b,{flex:"1",children:(0,f.tZ)(c.oil,{fullWidth:!0,value:a,placeholder:m("team_account_teamplan_changeplan_order_summary_promo_code_cta"),feedbackText:n?m("team_account_teamplan_changeplan_order_summary_promo_code_error"):null,feedbackType:n?"error":void 0,onChange:_?e=>_(e?.target?.value):void 0})}),(0,f.tZ)(c.zxk,{disabled:i,"data-testid":"promo_code_button_submit",type:"button",nature:"secondary",onClick:async()=>{o&&await o()},children:i?fa||(fa=(0,f.tZ)(l.ZX,{size:20,mood:"neutral"})):va||(va=(0,f.tZ)(c.nQG,{size:20}))}),(0,f.tZ)(c.zxk,{"data-testid":"promo_code_button_cancel",type:"button",nature:"ghost",onClick:()=>{d&&d()},children:Ca||(Ca=(0,f.tZ)(c.Two,{size:20}))})]}):a?(0,f.BX)(c.Ejs,{gap:"4px",fullWidth:!0,alignItems:"center",justifyContent:"space-between",sx:{padding:"0 10px"},children:[(0,f.BX)(c.Ejs,{sx:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,f.tZ)(c.nvN,{size:"small",color:c.colors.black,children:m("team_account_teamplan_changeplan_order_summary_promo_code")}),(0,f.tZ)(Sa,{value:a,onDismiss:u,buttonProps:{"data-testid":"promo_code_button_clear"}})]}),(0,f.tZ)(c.k$b,{children:t&&e?(0,f.tZ)(c.nvN,{size:"small",color:c.colors.black,children:m.price(e,Za(t))}):null})]}):(0,f.tZ)(c.Ejs,{sx:{padding:"0 10px"},children:(0,f.tZ)(c.zxk,{"data-testid":"promo_code_button_enter",size:"medium",type:"button",nature:"ghost",onClick:()=>r?r(!0):null,sx:{margin:0,padding:0,minWidth:0,height:"16px"},"aria-label":m("team_account_teamplan_changeplan_order_summary_promo_code_cta"),children:(0,f.tZ)(c.rUS,{children:(0,f.tZ)(c.nvN,{size:"small",color:c.colors.midGreen00,children:m("team_account_teamplan_changeplan_order_summary_promo_code_cta")})})})})};var Da,Ea,ka;const wa=({currency:e,currentSeats:t,additionalSeats:a,selectedOffer:n,email:i,emailValid:s,onSuccess:o,onError:u,setAdditionalSeats:m,setOrderSummaryData:p})=>{const{translate:y}=(0,x.Z)(),S=(0,h.s)(),v=S?.billingType===g.qo.Invoice,{promoCode:C,currentPromoCode:Z,showInput:T,isLoading:D,setShowInput:E,setCurrentPromoCode:k,validatePromoCode:w,clearPromoCode:N,cancelPromoCode:I,hasError:A,teamOffers:M}=function({selectedOffer:e,currentSeats:t,additionalSeats:a}){const[n,i]=(0,r.useState)(""),[s,o]=(0,r.useState)(""),[l,c]=(0,r.useState)(),[d,u]=(0,r.useState)(!1),[m,p]=(0,r.useState)(!1),[g,h]=(0,r.useState)(!1),[b,y]=(0,r.useState)(a),[x,S]=(0,r.useState)(e),{data:f,status:v}=(0,_.k)(Et.K,"getTeamOffers",{couponCode:s}),C=(0,r.useCallback)((()=>{if(!s)return!1;if(v===ue.rq.Error&&!f)return h(!1),u(!0),p(!0),!1;if(v===ue.rq.Loading&&!f)return h(!0),!1;const n=Nt({offer:f.businessOffer,currentSeats:t,additionalSeats:a}),r=n.price!==n.equivalentPrice,o=Nt({offer:f.teamOffer,currentSeats:t,additionalSeats:a}),l=o.price!==o.equivalentPrice;return(e&&Ot(e)?r:l)?(h(!1),i(s),c((()=>f)),u(!1),p(!1),!0):(h(!1),u(!0),p(!0),!1)}),[s,v,f,t,a,e]);return(0,r.useEffect)((()=>{a!==b&&(y(a),C())}),[b,a,C]),(0,r.useEffect)((()=>{e?.name!==x?.name&&(S(e),C())}),[e,x,C]),{promoCode:n,currentPromoCode:s,setCurrentPromoCode:o,validatePromoCode:C,clearPromoCode:()=>{i(""),o(""),c(void 0),u(!1)},cancelPromoCode:()=>{d?(i(""),o("")):o(n),u(!1),p(!1)},showInput:m,setShowInput:p,hasError:d,teamOffers:l,isLoading:g,setIsLoading:h}}({selectedOffer:n,additionalSeats:a,currentSeats:t}),{isSaving:O,costData:L,changeTierMidCycle:B,isTaxLoading:R,isProratedDiscountLoading:z}=function({selectedOffer:e,currentSeats:t,additionalSeats:a,discountedTeamOffers:n,promoCode:i,email:s,onSuccess:o,onError:l}){var c,d;const[u,m]=(0,r.useState)(!1),{translate:p}=(0,x.Z)(),{legacyChangeTierMidcycle:g}=(0,q.u)(Et.K),h=!!i,b=!!e&&Ot(e),y=!!e&&Mt(e),S=n&&e?b?n.businessOffer:y?n.teamOffer:n.starterOffer:e,{isLoading:f,midCycleTierUpgradePrice:v}=function({seats:e,planName:t,onError:a}){const n=(0,_.k)(Et.K,"getLegacyMidcycleTierUpgradePrice",{numberOfSeats:e,newPlan:null!=t?t:""});switch(n.status){case ue.rq.Loading:return{isLoading:!0};case ue.rq.Error:return a?.(),{isLoading:!1};case ue.rq.Success:return{isLoading:!1,midCycleTierUpgradePrice:n.data}}}({seats:a,planName:S?.name}),C=S?Nt({offer:S,currentSeats:t,additionalSeats:a}):null,Z=null!=(c=C?.equivalentPrice)?c:0,T=null!=(d=C?.price)?d:0,D=h?Z:T,E=t+a,k=a*D,w=t*D,N=E*D,I=N-(void 0!==T?E*T:N),A=void 0!==v?.discountAmount?N+v.discountAmount:void 0,M=A?A-I:A,O=v?.nextBillingDateUnix?(0,na.Z)(v.nextBillingDateUnix):(0,ia.Z)(new Date,1),{isLoading:L,taxInformation:B}=ra({total:null!=M?M:0}),R=L||void 0===B?.amount?0:B.amount,z=L||void 0===B?.amount||void 0===M?void 0:M+R;return{isSaving:u,changeTierMidCycle:async e=>{if(void 0===M||!B||!S)return void l("Error with retrieving legacyMidCycleTierUpgradePrice, tax information or target offer");m((()=>!0));const t=await g({amountToPay:M,taxes:R,planId:S.name,couponCode:e||i,seatsToAdd:a,billingContactEmail:""!==s?s:void 0});if(m((()=>!1)),t.error){const e=(e=>{switch(e){case"PaymentMeanIsNotCreditCard":return"The team does not have a credit card payment mean";case"CurrentPlanStartDateInFuture":return"The current plan start date must be in the past";case"ChangeTierMidCycleError":return"Team is ineligible to change tier mid cycle";case"PaymentMeanIsNotInvoice":return"Team Payment mean is not invoice";case"ChangeTierAmountTooExpensive":return"The amount to pay entered is more than 10 times the recommended price";case"ErrorCalculatingTierChange":return"Unable to calculate prorated discount for mid cycle tier change";case"InsufficientAmount":return"Credit Card payment must be zero or more than 50 cents";case"AssignedPlanSameTierAsCurrentPlan":return"The assigned plan tier cannot be the same as the team's current plan";case"SalesTaxMismatch":return"Tax amount sent does not correspond to the supposed taxed amount";case"NotBillingAdmin":return"User is not a billing admin";default:return p("team_account_teamplan_changeplan_error_generic")}})(t.error.tag);l(e)}else o()},isProratedDiscountLoading:f,isTaxLoading:L,costData:{seatPrice:D,additionalSeats:a,currentSeats:t,totalSeats:E,upgradedSeatsPrice:w,additionalSeatsPrice:k,subtotal:N,proratedDiscount:v?.discountAmount,tax:R,pretaxTotal:A,promoPrice:I,total:z,renewalPrice:N,renewalDate:O}}}({selectedOffer:n,discountedTeamOffers:M,currentSeats:t,additionalSeats:a,promoCode:C,email:i,onSuccess:o,onError:u});return S?(0,f.tZ)(qt,{title:y("team_account_teamplan_changeplan_order_summary_header"),children:(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"16px",sx:{marginTop:"16px"},children:[(0,f.tZ)(ya,{selectedOffer:n,currency:e,costData:L}),v?(0,f.tZ)(ma,{selectedOffer:n,costData:L}):(0,f.BX)(f.HY,{children:[(0,f.tZ)(ua,{currency:e,costData:L,isProratedDiscountLoading:z,isTaxLoading:R,selectedOffer:n,setAdditionalSeats:m}),n&&e?(0,f.tZ)(Ta,{currency:e,promoCode:Z,promoPrice:L?.promoPrice,hasError:A,showInput:T,isLoading:D,setShowInput:E,onSubmit:w,onChange:k,onCancel:I,onClear:N}):null,Da||(Da=(0,f.tZ)(ta,{})),(0,f.tZ)(aa,{label:(0,f.tZ)(c.nvN,{bold:!0,size:"large",children:y("team_account_teamplan_changeplan_order_summary_due_today_V2")}),value:!e||R||z?Ea||(Ea=(0,f.tZ)(l.ZX,{size:23,mood:"neutral"})):n?L.total?(0,f.tZ)(c.nvN,{bold:!0,size:"large",children:y.price(e,L.total/100)}):null:(0,f.tZ)(c.nvN,{bold:!0,size:"large",children:`${y.priceSymbol(e)}--.--`})}),O?(0,f.tZ)(c.zxk,{size:"large",sx:{width:"100%"},type:"button",disabled:!0,children:ka||(ka=(0,f.tZ)(l.ZX,{}))}):(0,f.tZ)(c.zxk,{"data-testid":"btn-confirm-and-pay",size:"large",sx:{width:"100%"},type:"button",disabled:!n||!s||D,onClick:async()=>{(!A&&C===Z||await w())&&((0,b.Kz)(new d.UserClickEvent({clickOrigin:d.ClickOrigin.OrderSummary,button:d.Button.ConfirmUpgrade})),B(Z),p(L))},children:y("team_account_teamplan_changeplan_order_summary_confirm_and_pay")})]}),(0,f.tZ)(ha,{selectedOffer:n,currency:e,costData:L})]})}):null},Na="team_account_teamplan_changeplan_order_summary_minimum_active_seats_tooltip",Ia=({isAmountAllowed:e,absoluteMinimum:t,relativeMinimum:a})=>{const{translate:n}=(0,x.Z)(),{routes:i}=(0,s.Xo)(),r=e?"ds.text.neutral.quiet":"ds.text.danger.quiet",o=n("team_account_teamplan_changeplan_order_summary_minimum_active_seats",{count:a});return(0,f.tZ)(aa,{label:(0,f.BX)(c.Ejs,{gap:"5px",children:[(0,f.tZ)(l.nv,{textStyle:"ds.body.reduced.regular",color:r,children:o}),(0,f.tZ)(l.JO,{color:r,name:"FeedbackInfoOutlined",size:"small",tooltip:e?n(Na):t===a?n("team_account_teamplan_changeplan_order_summary_minimum_seats_absolute_tooltip",{count:t}):n(Na)})]}),value:e?(0,f.tZ)(l.Qj,{size:"small",as:s.rU,to:i.teamMembersRoutePath,replace:!0,children:n("team_account_teamplan_changeplan_order_summary_review_active_seats_link")}):null})};var Aa,Ma,Oa,La;const Ba=({costData:e,currency:t,currentSpaceTier:a,isProratedDiscountLoading:n,isAmountAllowed:i,isTaxLoading:s,selectedOffer:o,setSelectedSeatsQty:d,signalAmountValidHandler:_})=>{const{translate:u}=(0,x.Z)(),{loading:m,billingCountry:p}=D(),h=a===g.lD.Starter?10:e.currentSeats;if((0,r.useEffect)((()=>{d(h)}),[h]),m)return Aa||(Aa=(0,f.tZ)(l.ZX,{}));const b=a===g.lD.Starter?e.currentActiveSeats>2?e.currentActiveSeats:2:e.currentSeats,y="US"===p?"team_account_teamplan_changeplan_order_summary_tax":"team_account_teamplan_vat",S=e.totalSeats===e.currentActiveSeats||!i;return(0,f.tZ)(f.HY,{children:o&&t?(0,f.BX)(f.HY,{children:[(0,f.tZ)(aa,{label:(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.strong",children:u("team_account_teamplan_changeplan_order_summary_seats_total",{totalSeats:e.totalSeats})}),value:(0,f.tZ)(c.k$b,{sx:{width:"146px"},children:(0,f.tZ)(_a.w,{id:"test",inputWidth:"66px",label:"",ariaLabel:u("team_account_teamplan_upgrade_premium_number_of_seats_free_to_paid"),minValue:b,onChange:d,signalAmountValidHandler:_,defaultValue:h})})}),S?(0,f.tZ)(Ia,{isAmountAllowed:i,absoluteMinimum:2,relativeMinimum:b}):null,(0,f.tZ)(aa,{label:(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.strong",children:u("team_account_teamplan_changeplan_order_summary_seats_upgraded",{upgradedSeats:Math.min(e.currentSeats,e.totalSeats)})}),value:(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.strong",children:u.price(t,e.upgradedSeatsPrice/100)})}),e.addedSeats?(0,f.tZ)(aa,{label:(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.strong",children:u("team_account_teamplan_changeplan_order_summary_seats_new",{newSeats:e.addedSeats})}),value:(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.strong",children:u.price(t,e.addedSeatsPrice/100)})}):null,Ma||(Ma=(0,f.tZ)(ta,{})),(0,f.tZ)(aa,{label:(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.strong",children:u("team_account_teamplan_changeplan_order_summary_subtotal")}),value:t?(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.strong",children:u.price(t,e.subtotal/100)}):null}),e?.proratedDiscount?(0,f.tZ)(aa,{label:(0,f.BX)(c.Ejs,{alignItems:"center",gap:"5px",children:[(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",children:u("team_account_teamplan_changeplan_order_summary_prorated_discount")}),(0,f.tZ)(l.JO,{color:"ds.text.neutral.quiet",name:"FeedbackInfoOutlined",size:"small",tooltip:u("team_account_teamplan_changeplan_order_summary_prorated_discount_tooltip")})]}),value:n?Oa||(Oa=(0,f.tZ)(l.ZX,{mood:"neutral",size:13})):e.proratedDiscount&&t?(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",children:u.price(t,e.proratedDiscount/100)}):null}):null,e.tax?(0,f.tZ)(aa,{label:(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",children:u(y)}),value:s?La||(La=(0,f.tZ)(l.ZX,{mood:"neutral",size:13})):(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",children:u.price(t,e.tax/100)})}):null]}):null})};const Ra=({selectedOffer:e,costData:t})=>{const{translate:a}=(0,x.Z)();return(0,f.BX)(r.Fragment,{children:[e?(0,f.BX)(r.Fragment,{children:[(0,f.tZ)(aa,{label:(0,f.tZ)(c.Ejs,{gap:"5px",children:(0,f.tZ)(c.nvN,{bold:!0,size:"medium",children:a("team_account_teamplan_changeplan_order_summary_seats_total",{totalSeats:t.totalSeats})})})}),(0,f.tZ)(c.vDh,{severity:"subtle",size:"small",title:a("team_account_teamplan_changeplan_order_summary_invoice_info")})]}):null,(0,f.tZ)(c.zxk,{"data-testid":"btn-request-a-quote",size:"large",sx:{width:"100%"},type:"button",disabled:!e,onClick:()=>{window.open(te.vS,"_blank")},children:a("team_account_teamplan_changeplan_order_summary_request_an_upgrade")})]})};var za,Pa,Xa;const Ua=({currency:e,currentSeats:t,currentActiveSeats:a,currentSpaceTier:n,selectedSeatsQty:i,selectedOffer:s,email:o,emailValid:u,onSuccess:m,onError:p,setSelectedSeatsQty:y,setOrderSummaryData:S})=>{const{translate:v}=(0,x.Z)(),C=(0,h.s)(),Z=C?.billingType===g.qo.Invoice,{promoCode:T,currentPromoCode:D,showInput:E,isLoading:k,setShowInput:w,setCurrentPromoCode:N,validatePromoCode:I,clearPromoCode:A,cancelPromoCode:M,hasError:O,teamOffers:L}=function({selectedOffer:e,currentSeats:t,selectedSeatsQty:a}){const[n,i]=(0,r.useState)(""),[s,o]=(0,r.useState)(""),[l,c]=(0,r.useState)(),[d,u]=(0,r.useState)(!1),[m,p]=(0,r.useState)(!1),[g,h]=(0,r.useState)(!1),[b,y]=(0,r.useState)(a),[x,S]=(0,r.useState)(e),{data:f,status:v}=(0,_.k)(Et.K,"getTeamOffers",{couponCode:s}),C=(0,r.useCallback)((()=>{if(!s)return!1;if(v===ue.rq.Error&&!f)return h(!1),u(!0),p(!0),!1;if(v===ue.rq.Loading&&!f)return h(!0),!1;const t=wt({offer:f.businessOffer,selectedSeatsQty:a}),n=t.price!==t.equivalentPrice,r=wt({offer:f.teamOffer,selectedSeatsQty:a}),o=r.price!==r.equivalentPrice;return(e&&Ot(e)?n:o)?(h(!1),i(s),c((()=>f)),u(!1),p(!1),!0):(h(!1),u(!0),p(!0),!1)}),[s,v,f,t,a,e]);return(0,r.useEffect)((()=>{a!==b&&(y(a),C())}),[b,a,C]),(0,r.useEffect)((()=>{e?.name!==x?.name&&(S(e),C())}),[e,x,C]),{promoCode:n,currentPromoCode:s,setCurrentPromoCode:o,validatePromoCode:C,clearPromoCode:()=>{i(""),o(""),c(void 0),u(!1)},cancelPromoCode:()=>{d?(i(""),o("")):o(n),u(!1),p(!1)},showInput:m,setShowInput:p,hasError:d,teamOffers:l,isLoading:g,setIsLoading:h}}({selectedOffer:s,selectedSeatsQty:i,currentSeats:t}),{isSaving:B,costData:R,changeTierMidCycle:z,isTaxLoading:P,isProratedDiscountLoading:X}=function({selectedOffer:e,currentSeats:t,currentActiveSeats:a,selectedSeatsQty:n,discountedTeamOffers:i,promoCode:s,email:o,onSuccess:l,onError:c}){var d,u;const[m,p]=(0,r.useState)(!1),{translate:g}=(0,x.Z)(),{changeTierMidcycle:h}=(0,q.u)(Et.K),b=!!s,y=!!e&&Ot(e),S=!!e&&Mt(e),f=i&&e?y?i.businessOffer:S?i.teamOffer:i.starterOffer:e,{isLoading:v,midCycleTierUpgradePrice:C}=function({newTotalNumberOfSeats:e,planName:t,onError:a}){const n=(0,_.k)(Et.K,"getMidcycleTierUpgradePrice",{newTotalNumberOfSeats:e,newPlan:null!=t?t:""});switch(n.status){case ue.rq.Loading:return{isLoading:!0};case ue.rq.Error:return a?.(),{isLoading:!1};case ue.rq.Success:return{isLoading:!1,midCycleTierUpgradePrice:n.data}}}({newTotalNumberOfSeats:n,planName:f?.name}),Z=f?wt({offer:f,selectedSeatsQty:n}):null,T=null!=(d=Z?.equivalentPrice)?d:0,D=null!=(u=Z?.price)?u:0,E=b?T:D,k=(n-t)*E,w=Math.min(t,n)*E,N=n*E,I=N-(void 0!==D?n*D:N),A=void 0!==C?.discountAmount?N+C.discountAmount:void 0,M=A?A-I:A,O=C?.nextBillingDateUnix?(0,na.Z)(C.nextBillingDateUnix):(0,ia.Z)(new Date,1),{isLoading:L,taxInformation:B}=ra({total:null!=M?M:0}),R=L||void 0===B?.amount?0:B.amount,z=L||void 0===B?.amount||void 0===M?void 0:M+R;return{isSaving:m,changeTierMidCycle:async e=>{if(void 0===M||!B||!f)return void c("Error with retrieving midCycleTierUpgradePrice, tax information or target offer");p((()=>!0));const t=await h({amountToPay:M,taxes:R,planId:f.name,couponCode:e||s,newTotalNumberOfSeats:n,billingContactEmail:""!==o?o:void 0});if(p((()=>!1)),t.error){const e=(e=>{switch(e){case"PaymentMeanIsNotCreditCard":return"The team does not have a credit card payment mean";case"CurrentPlanStartDateInFuture":return"The current plan start date must be in the past";case"ChangeTierMidCycleError":return"Team is ineligible to change tier mid cycle";case"PaymentMeanIsNotInvoice":return"Team Payment mean is not invoice";case"ChangeTierAmountTooExpensive":return"The amount to pay entered is more than 10 times the recommended price";case"ErrorCalculatingTierChange":return"Unable to calculate prorated discount for mid cycle tier change";case"InsufficientAmount":return"Credit Card payment must be zero or more than 50 cents";case"AssignedPlanSameTierAsCurrentPlan":return"The assigned plan tier cannot be the same as the team's current plan";case"SalesTaxMismatch":return"Tax amount sent does not correspond to the supposed taxed amount";case"NotBillingAdmin":return"User is not a billing admin";default:return g("team_account_teamplan_changeplan_error_generic")}})(t.error.tag);c(e)}else l()},isProratedDiscountLoading:v,isTaxLoading:L,costData:{seatPrice:E,currentSeats:t,currentActiveSeats:a,totalSeats:n,addedSeats:n>=t?n-t:0,removedSeats:n<=t?t-n:0,upgradedSeatsPrice:w,addedSeatsPrice:k,subtotal:N,proratedDiscount:C?.discountAmount,tax:R,pretaxTotal:A,promoPrice:I,total:z,renewalPrice:N,renewalDate:O}}}({selectedOffer:s,discountedTeamOffers:L,currentSeats:t,currentActiveSeats:a,selectedSeatsQty:i,promoCode:T,email:o,onSuccess:m,onError:p}),[U,j]=(0,r.useState)(!0);return C?(0,f.tZ)(qt,{title:v("team_account_teamplan_changeplan_order_summary_header"),children:(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"16px",sx:{marginTop:"16px"},children:[(0,f.tZ)(ya,{selectedOffer:s,currency:e,costData:R}),Z?(0,f.tZ)(Ra,{selectedOffer:s,costData:R}):(0,f.BX)(f.HY,{children:[(0,f.tZ)(Ba,{currency:e,costData:R,isProratedDiscountLoading:X,isAmountAllowed:U,isTaxLoading:P,selectedOffer:s,setSelectedSeatsQty:y,currentSpaceTier:n,signalAmountValidHandler:e=>{j(e)}}),s&&e?(0,f.tZ)(Ta,{currency:e,promoCode:D,promoPrice:R?.promoPrice,hasError:O,showInput:E,isLoading:k,setShowInput:w,onSubmit:I,onChange:N,onCancel:M,onClear:A}):null,za||(za=(0,f.tZ)(ta,{})),(0,f.tZ)(aa,{label:(0,f.tZ)(c.nvN,{bold:!0,size:"large",children:v("team_account_teamplan_changeplan_order_summary_due_today_V2")}),value:!e||P||X?Pa||(Pa=(0,f.tZ)(l.ZX,{size:23,mood:"neutral"})):s?R.total?(0,f.tZ)(c.nvN,{bold:!0,size:"large",children:v.price(e,R.total/100)}):null:(0,f.tZ)(c.nvN,{bold:!0,size:"large",children:`${v.priceSymbol(e)}--.--`})}),B?(0,f.tZ)(c.zxk,{size:"large",sx:{width:"100%"},type:"button",disabled:!0,children:Xa||(Xa=(0,f.tZ)(l.ZX,{}))}):(0,f.tZ)(c.zxk,{"data-testid":"btn-confirm-and-pay",size:"large",sx:{width:"100%"},type:"button",disabled:!s||!u||k||!U,onClick:async()=>{(!O&&T===D||await I())&&((0,b.Kz)(new d.UserClickEvent({clickOrigin:d.ClickOrigin.OrderSummary,button:d.Button.ConfirmUpgrade})),z(D),S(R))},children:v("team_account_teamplan_changeplan_order_summary_confirm_and_pay")})]}),(0,f.tZ)(ha,{selectedOffer:s,currency:e,costData:R})]})}):null};var ja,qa=a(448827),Ga=a(210051);const $a=({email:e,emailValid:t,setEmail:a,setEmailValid:n})=>{const{translate:i}=(0,x.Z)(),s=(0,qa.G)(),[o,l]=r.useState(!1);return s?.email?(0,f.BX)(qt,{title:i("team_account_teamplan_changeplan_billing_contact_header"),children:[ja||(ja=(0,f.tZ)("br",{})),(0,f.tZ)(c.nvN,{size:"medium",color:"ds.text.neutral.quiet",className:"automation-tests-tac-billing",children:i.markup("team_account_teamplan_changeplan_billing_contact_copy_markup",{billContactEmail:s.email})}),(0,f.tZ)("div",{style:{margin:"20px 0px"},children:(0,f.tZ)(c.XZJ,{"data-testid":"additionalEmailCheckbox",label:i("team_account_teamplan_changeplan_billing_contact_checkbox_label"),checked:o,onChange:e=>{a(""),n(!0),l(e.currentTarget.checked)}})}),o?(0,f.tZ)(c.oil,{"data-testid":"additionalEmailInput",type:"text",onChange:e=>a(e.currentTarget.value),onBlur:e=>(e=>{(0,Ga.vV)(e.currentTarget.value)?n(!0):n(!1)})(e),value:e,feedbackType:t?void 0:"error",feedbackText:t?"":i("team_account_teamplan_changeplan_billing_contact_input_warning"),autoFocus:!0}):null]}):null},Fa=()=>{const{translate:e}=(0,x.Z)();return(0,f.BX)(qt,{title:(0,f.tZ)(c.nvN,{bold:!0,size:"large",children:e("team_account_teamplan_changeplan_questions_header")}),children:[(0,f.tZ)(c.nvN,{color:c.colors.grey00,size:"small",style:{marginBottom:"10px"},children:e.markup("team_account_teamplan_changeplan_questions_help_center_markup",{helpCenterUrl:te.Vr},{linkTarget:"_blank",onLinkClicked:()=>{(0,b.Kz)(new d.UserOpenHelpCenterEvent({helpCenterArticleCta:d.HelpCenterArticleCta.HelpCenter}))}})}),(0,f.tZ)(c.nvN,{size:"small",color:c.colors.grey00,children:e.markup("team_account_teamplan_changeplan_questions_customer_support_markup",{customerSupportUrl:te.to},{linkTarget:"_blank",onLinkClicked:()=>{(0,b.Kz)(new d.UserCallToActionEvent({callToActionList:[d.CallToAction.ContactCustomerSupport],chosenAction:d.CallToAction.ContactCustomerSupport,hasChosenNoAction:!1}))}})})]})};var Va,Ha,Wa,Ya,Ka,Qa;const Ja=({targetPlan:e})=>{const{translate:t}=(0,x.Z)(),{data:a}=(({targetPlan:e})=>{const{routes:t}=(0,s.Xo)(),a={DIRECTORY_SYNC:`${t.teamIntegrationsRoutePath}${i.B9.DIRECTORY_SYNC}`,POLICIES:`${t.teamSettingsRoutePath}${i.B9.POLICIES}`,SSO:`${t.teamIntegrationsRoutePath}${i.B9.SSO}`};return{data:{team:{header:"team_account_teamplan_changeplan_success_team_header",description:"team_account_teamplan_changeplan_success_team_description",alert:"team_account_teamplan_changeplan_success_team_alert",features:[{header:"team_account_teamplan_changeplan_success_features_vpn_header",description:"team_account_teamplan_changeplan_success_features_vpn_description",icon:Va||(Va=(0,f.tZ)(c.Qut,{size:24})),actions:[{mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_turn_on_vpn_access",link:a.POLICIES},{external:!0,mood:"neutral",intensity:"quiet",content:"team_account_teamplan_changeplan_success_features_actions_see_setup_guide",link:"https://support.dashlane.com/hc/articles/360000037900#title1"}]},{header:"team_account_teamplan_changeplan_success_features_protection_header",description:"team_account_teamplan_changeplan_success_features_protection_description",icon:Ha||(Ha=(0,f.tZ)(c.c6E,{size:24})),actions:[{mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_add_seats",link:`${t.teamAccountRoutePath}?showSeatsDialog=true`}]}]},business:{header:"team_account_teamplan_changeplan_success_business_header",description:"team_account_teamplan_changeplan_success_business_description",alert:"team_account_teamplan_changeplan_success_business_alert",features:[{header:"team_account_teamplan_changeplan_success_sso_header",description:"team_account_teamplan_changeplan_success_sso_copy",icon:Wa||(Wa=(0,f.tZ)(c.oEX,{size:24})),actions:[{mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_start_setup",link:a.SSO},{external:!0,mood:"neutral",intensity:"quiet",content:"team_account_teamplan_changeplan_success_features_actions_see_setup_guide",link:"https://support.dashlane.com/hc/articles/360015973719-Set-up-SSO-and-SCIM-with-Azure-AD"}]},{header:"team_account_teamplan_changeplan_success_features_scim_header",description:"team_account_teamplan_changeplan_success_features_scim_description",icon:Ya||(Ya=(0,f.tZ)(c.kpp,{size:24})),actions:[{mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_start_setup",link:a.DIRECTORY_SYNC},{external:!0,mood:"neutral",intensity:"quiet",content:"team_account_teamplan_changeplan_success_features_actions_see_setup_guide",link:"https://support.dashlane.com/hc/articles/360015973719#h_01FTXPSRCV3CY1QVY1B5S5TD0J"}]},{header:"team_account_teamplan_changeplan_success_features_friends_and_family_header",description:"team_account_teamplan_changeplan_success_features_friends_and_family_description",icon:Ka||(Ka=(0,f.tZ)(c.c6E,{size:24})),actions:[{external:!0,mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_learn_more",link:"https://www.dashlane.com/plans/family"}]},{header:"team_account_teamplan_changeplan_success_features_phone_support_header",description:"team_account_teamplan_changeplan_success_features_phone_support_description",icon:Qa||(Qa=(0,f.tZ)(c.qWc,{size:24})),actions:[{external:!0,mood:"brand",intensity:"catchy",content:"team_account_teamplan_changeplan_success_features_actions_schedule_a_call",link:"https://calendly.com/dashlane-support/call_back_form",logEvent:new d.UserCallToActionEvent({callToActionList:[d.CallToAction.ContactPhoneSupport],chosenAction:d.CallToAction.ContactPhoneSupport,hasChosenNoAction:!1})}]}]}}[e]}})({targetPlan:e}),{alert:n,show:o}=(0,c.VYq)({message:t(a.alert),severity:c.BLW.SUCCESS,size:c.k3y.SMALL,dismissDelay:5e3});return(0,r.useEffect)((()=>{o()}),[]),(0,f.BX)(f.HY,{children:[(0,f.tZ)("div",{style:{bottom:"12px",position:"absolute",marginLeft:"auto",marginRight:"auto",left:0,right:0,width:"600px"},children:n}),(0,f.BX)(qt,{title:t(a.header),sx:{width:"632px",padding:"32px"},children:[(0,f.tZ)("div",{style:{marginTop:"8px"},children:(0,f.tZ)(c.nvN,{size:"medium",color:l.O9.lightTheme.ds.text.neutral.quiet,children:t(a.description)})}),(0,f.tZ)(c.Ejs,{sx:{marginTop:"32px",display:"flex",flexDirection:"column",borderBottom:`1px solid ${l.O9.lightTheme.ds.border.neutral.quiet.idle}`},children:a.features.map((e=>(0,f.tZ)(c.Ejs,{flexDirection:"column",sx:{display:"flex",flexDirection:"column",borderTop:`1px solid ${l.O9.lightTheme.ds.border.neutral.quiet.idle}`,padding:"32px 0"},children:(0,f.BX)(c.Ejs,{flexDirection:"row",gap:"16px",flexWrap:"nowrap",children:[(0,f.tZ)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:"40px",height:"40px",borderRadius:"8px",backgroundColor:l.O9.lightTheme.ds.container.expressive.brand.quiet.idle},children:e.icon}),(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"8px",children:[(0,f.tZ)(c.nvN,{bold:!0,color:l.O9.lightTheme.ds.text.neutral.catchy,children:t(e.header)}),(0,f.tZ)(c.nvN,{size:"x-small",color:l.O9.lightTheme.ds.text.neutral.quiet,children:t(e.description)}),(0,f.tZ)(c.Ejs,{gap:"8px",children:e.actions.map((e=>e.external?(0,f.tZ)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:(0,f.tZ)(l.zx,{mood:e.mood,intensity:e.intensity,size:"small",type:"button",onClick:()=>{e.logEvent&&(0,b.Kz)(e.logEvent)},children:t(e.content)})},e.content):(0,f.tZ)(s.rU,{to:e.link,children:(0,f.tZ)(l.zx,{mood:e.mood,intensity:e.intensity,size:"small",type:"button",children:t(e.content)})},e.content)))})]})]})},e.header)))})]})]})};var en;const tn=({currentSeats:e,teamOffers:t})=>{const{translate:a}=(0,x.Z)(),n=(0,Ee.Y)(),i=n.status===o.rq.Success&&(0,R.f1)(n.data),s=n.status===o.rq.Success&&(0,R.pq)(n.data),r=n.status===o.rq.Success&&(0,R.NG)(n.data),d=t?.businessOffer?.currency,_=t?.businessOffer?At({offer:t.businessOffer}):null,u=t?.teamOffer?At({offer:t.teamOffer}):null,m=t?.starterOffer?At({offer:t.starterOffer}):null,p=Lt(t?.starterOffer),g=i&&m&&d?a.price(d,m*p/100,{notation:"compact"}):s&&u&&d?a.price(d,u*e/100,{notation:"compact"}):r&&_&&d?a.price(d,_*e/100,{notation:"compact"}):null;return(0,f.tZ)(qt,{title:a("team_account_teamplan_changeplan_current_plan_header"),children:(0,f.tZ)(c.Ejs,{flexDirection:"column",gap:"16px",sx:{marginTop:"16px"},children:(0,f.BX)("div",{sx:{display:"flex",alignItems:"center",padding:"12px 10px",justifyContent:"space-between",backgroundColor:"ds.container.agnostic.neutral.quiet"},children:[(0,f.tZ)(c.nvN,{bold:!0,color:"ds.text.neutral.standard",children:i?a("team_account_teamplan_changeplan_current_plan_starter"):s?a("manage_subscription_plan_name_dashlane_team"):r?a("manage_subscription_plan_name_dashlane_business"):en||(en=(0,f.tZ)(l.ZX,{size:30,mood:"neutral"}))}),(0,f.tZ)(c.nvN,{color:"ds.text.neutral.standard",children:g?a("team_account_teamplan_changeplan_current_plan_per_year",{cost:g}):null})]})})})};var an,nn,sn,rn=a(307973);const on=({currency:e,selectedOffer:t,costData:a})=>{const{translate:n}=(0,x.Z)(),{loading:i,billingCountry:s}=D();if(i)return an||(an=(0,f.tZ)(l.ZX,{}));const r="US"===s?"team_account_teamplan_changeplan_order_summary_tax":"team_account_teamplan_vat";return(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"32px",sx:{borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderWidth:"1px",borderRadius:"4px",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"24px"},children:[(0,f.tZ)(aa,{label:(0,f.tZ)(c.X6q,{size:"small",children:n("team_account_teamplan_changeplan_order_summary_header")}),value:(0,f.tZ)(c.nvN,{color:"ds.text.neutral.quiet",children:(0,rn.Z)(new Date,"MM/dd/yyyy")})}),(0,f.tZ)(c.Ejs,{flexDirection:"column",gap:"16px",sx:{padding:"32px 0"},children:(0,f.tZ)(ya,{selectedOffer:t,currency:e,costData:a})}),(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"16px",children:[(0,f.tZ)(c.nvN,{size:"small",color:"ds.text.neutral.catchy",sx:{padding:"0 10px",fontWeight:"light"},children:n("team_account_teamplan_changeplan_order_summary_seats_total",{totalSeats:a.totalSeats})}),(0,f.tZ)(aa,{label:(0,f.tZ)(c.nvN,{size:"small",color:"ds.text.neutral.standard",children:n("team_account_teamplan_changeplan_order_summary_subtotal")}),value:e?(0,f.tZ)(c.nvN,{size:"small",color:"ds.text.neutral.standard",children:n.price(e,a.subtotal/100)}):null}),a.tax&&e?(0,f.tZ)(aa,{label:(0,f.tZ)(c.nvN,{size:"small",color:"ds.text.neutral.quiet",children:n(r)}),value:(0,f.tZ)(c.nvN,{size:"small",color:"ds.text.neutral.quiet",children:n.price(e,a.tax/100)})}):null,a?.proratedDiscount?(0,f.tZ)(aa,{label:(0,f.BX)(c.Ejs,{alignItems:"center",gap:"5px",children:[(0,f.tZ)(c.nvN,{size:"small",color:"ds.text.neutral.quiet",children:n("team_account_teamplan_changeplan_order_summary_prorated_discount")}),(0,f.tZ)(c.ua7,{content:n("team_account_teamplan_changeplan_order_summary_prorated_discount_tooltip"),children:nn||(nn=(0,f.tZ)(c.uMt,{size:16,color:"ds.text.neutral.quiet"}))})]}),value:e?(0,f.tZ)(c.nvN,{size:"small",color:"ds.text.neutral.quiet",children:n.price(e,a.proratedDiscount/100)}):null}):null,a?.promoPrice?(0,f.tZ)(aa,{label:(0,f.tZ)(c.nvN,{size:"small",color:"ds.text.neutral.quiet",children:n("team_account_teamplan_upgrade_premium_coupon")}),value:e?(0,f.BX)(c.nvN,{size:"small",color:"ds.text.neutral.quiet",children:["-",n.price(e,a.promoPrice/100)]}):null}):null,sn||(sn=(0,f.tZ)(ta,{})),a?.total?(0,f.tZ)(aa,{label:(0,f.tZ)(c.nvN,{bold:!0,size:"large",children:n("team_account_teamplan_total")}),value:e?(0,f.tZ)(c.nvN,{bold:!0,size:"large",children:n.price(e,a.total/100)}):null}):null]})]})},ln=()=>{const{translate:e}=(0,x.Z)();return(0,f.tZ)(qt,{title:e("team_account_teamplan_changeplan_payment_method_header"),children:(0,f.BX)(c.Ejs,{sx:{display:"flex",gap:"6px",marginTop:"16px"},children:[(0,f.tZ)(c.UXA,{size:16,color:c.colors.grey00}),(0,f.tZ)(c.nvN,{size:"medium",color:c.colors.grey00,children:e("team_account_teamplan_changeplan_payment_method_invoice_body")})]})})};var cn=a(788355),dn=a(86498);const _n=/^((AT)(U\d{8})|(BE)(0\d{9}|\d{10})|(BG)(\d{9,10})|(CHE)(\d{9})|(CY)(\d{8}[A-Z])|(CZ)(\d{8,10})|(DE)(\d{9})|(DK)(\d{8})|(EE)(\d{9})|(GB)(\d{5,12})|(EL|GR)(\d{9})|(ES)([\dA-Z]\d{7}[\dA-Z])|(FI)(\d{8})|(FR)([\dA-Z]{2}\d{9})|(HU)(\d{8})|(HR)(\d{11})|(IE)(\d{7}[A-Z]{1,2})|(IT)(\d{11})|(LT)(\d{9}|\d{12})|(LU)(\d{8})|(LV)(\d{11})|(MT)(\d{8})|(NL)(\d{9}(B\d{2}|BO2))|(PL)(\d{10})|(PT)(\d{9})|(RO)(\d{2,10})|(SE)(\d{12})|(SI)(\d{8})|(SK)(\d{10})|(\d{9}MVA))$/i,un="team_account_vat_number_add_description",mn="team_account_vat_number";var pn=function(e){return e[e.ADD=0]="ADD",e[e.UPDATE=1]="UPDATE",e}(pn||{}),gn=function(e){return e.INITIAL_VIEW="initialView",e.EDIT="edit",e.SAVE="save",e.SAVING="saving",e}(gn||{});const hn=({isInAccountSummary:e})=>{const{translate:t}=(0,x.Z)(),[a,n]=(0,r.useState)(""),[i,s]=(0,r.useState)("cancel"),[o,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(pn.ADD),[p,g]=(0,r.useState)(gn.INITIAL_VIEW),h=(0,dn.V)(),{deleteTeamVat:b,upsertTeamVat:y}=(0,q.u)(sa.a),S=(0,_.k)(sa.a,"getTeamVat");(0,r.useEffect)((()=>{S.status===ue.rq.Success?(n(S.data),s("delete"),g(gn.EDIT)):g(gn.INITIAL_VIEW)}),[S.status,S.data]);const v=async()=>{"success"===(await b()).tag&&(n(""),g(gn.INITIAL_VIEW),s("cancel"),m(pn.ADD),h.showAlert(t("team_account_vat_number_delete_success_alert"),c.BLW.SUCCESS))},C=e=>e&&!(e=>{const t=e.replaceAll(/\./g,"");return _n.test(t)})(e)?t("team_account_vat_number_invalid"):null,Z={vatNumber:a},T=u===pn.ADD?"team_account_vat_number_add_success":"team_account_vat_number_update_success";return(0,f.BX)(f.HY,{children:[""===a&&(e?(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.regular",children:t(un)}):(0,f.tZ)(c.nvN,{color:"ds.text.neutral.quiet",size:"medium",children:t(un)})),p===gn.INITIAL_VIEW?(0,f.tZ)("div",{sx:{marginTop:"16px"},children:(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",icon:"ActionAddOutlined",layout:"iconLeading",onClick:()=>{g(gn.SAVE)},children:t("team_account_vat_number_add_label")})}):(0,f.tZ)("div",{sx:{marginTop:"16px"},children:(0,f.tZ)(cn.J9,{initialValues:Z,onSubmit:p===gn.SAVE?async e=>{g(gn.SAVING),"success"===(await y({newVATNumber:e.vatNumber})).tag&&(n(e.vatNumber),d(!0),g(gn.EDIT),s("delete"),setTimeout((()=>{d(!1)}),2e3))}:p===gn.EDIT?()=>{d(!1),g(gn.SAVE),m(pn.UPDATE)}:()=>{},children:({errors:e,resetForm:a,touched:n,values:s})=>(0,f.tZ)(cn.l0,{children:(0,f.BX)(c.T5p,{gap:"16px",gridTemplateColumns:"2fr 0.25fr 1fr",children:[(0,f.BX)(c.dDn,{gridColumn:"1 / 2",children:[(0,f.tZ)(cn.gN,{name:"vatNumber",validate:C,children:({field:{onChange:e,...a}})=>(0,f.tZ)(l.oi,{label:t(mn),disabled:p===gn.EDIT,onChange:t=>{e(t),p===gn.EDIT&&(g(gn.SAVE),d(!1))},...a,sx:{input:{textTransform:"uppercase"}}})}),e.vatNumber&&n.vatNumber&&(0,f.tZ)(c.nvN,{color:"ds.text.danger.quiet",size:"x-small",children:e.vatNumber})]}),(0,f.tZ)(c.dDn,{gridColumn:"2 / 3",sx:{marginTop:"16px"},children:p===gn.SAVING?(0,f.tZ)(l.zx,{intensity:"catchy",layout:"labelOnly",disabled:!0,type:"submit",children:t("team_account_name_saving_label")}):p===gn.SAVE?(0,f.tZ)(l.zx,{intensity:"catchy",layout:"labelOnly",disabled:""===s.vatNumber,type:"submit",children:t("team_settings_button_save_label")}):(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",icon:"ActionEditOutlined",layout:"iconLeading",disabled:""===s.vatNumber,type:"submit",children:t("team_account_name_edit_label")})}),(0,f.tZ)(c.dDn,{gridColumn:"3 / 4",sx:{marginTop:"16px"},children:"cancel"===i?(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",layout:"labelOnly",disabled:p===gn.SAVING,onClick:()=>g(gn.INITIAL_VIEW),children:t("_common_action_cancel")}):(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",icon:"ActionDeleteOutlined",layout:"iconLeading",disabled:p===gn.SAVING,onClick:()=>{a({values:Z}),v()},children:t("team_account_delete_label")})})]})})})}),o&&(0,f.tZ)(c.nvN,{color:"ds.text.positive.quiet",size:"x-small",children:t(T)})]})},bn=({isInAccountSummary:e})=>{const{translate:t}=(0,x.Z)();return(0,f.tZ)("div",{children:e?(0,f.BX)("div",{sx:{marginTop:"24px"},children:[(0,f.tZ)(l.X6,{color:"ds.text.neutral.catchy",as:"h2",textStyle:"ds.title.section.medium",children:t(mn)}),(0,f.tZ)("div",{sx:{marginTop:"16px"},children:(0,f.tZ)(hn,{isInAccountSummary:e})})]}):(0,f.tZ)(qt,{title:t(mn),children:(0,f.tZ)("div",{sx:{marginTop:"16px"},children:(0,f.tZ)(hn,{isInAccountSummary:e})})})})};let yn=function(e){return e.FORM="form",e.SUCCESS="success",e}({});var xn,Sn,fn,vn,Cn,Zn;const Tn=()=>{const{data:e,status:t}=(0,_.k)(m.o,"getTeamName");return t!==ue.rq.Success?null:e};var Dn=a(417799),En=a(63756),kn=a(344554);const wn=()=>{const{translate:e}=(0,x.Z)(),t=kt(),a=Bt();if(!t||!a.hasLimitedOffer)return null;const{translatedEquivalentPrice:n,translatedPrice:i}=a;return(0,f.tZ)(l.ke,{title:e("team_dashboard_upgrade_tile_infobox_title"),description:(0,f.BX)(f.HY,{children:[(0,f.BX)(l.X6,{as:"h5",textStyle:"ds.title.block.small",color:"ds.text.brand.standard",sx:{marginBottom:"4px"},children:[(0,f.tZ)("span",{sx:{textDecoration:"line-through"},children:n})," ",i," ",e("team_dashboard_upgrade_tile_infobox_price")]}),(0,f.tZ)(l.nv,{textStyle:"ds.body.helper.regular",color:"ds.text.brand.standard",children:e("team_dashboard_upgrade_tile_infobox_description")})]}),mood:"brand"})},Nn="team_dashboard_upgrade_tile_feature_unlimited_seats",In="team_dashboard_upgrade_tile_feature_vpn",An="team_dashboard_upgrade_tile_cta_buy_dashlane",Mn="team_dashboard_upgrade_tile_cta_upgrade",On="team_dashboard_upgrade_tile_feature_sso",Ln="team_dashboard_upgrade_tile_feature_scim",Bn="team_dashboard_upgrade_tile_feature_friends_and_family",Rn="team_dashboard_upgrade_tile_feature_support";var zn,Pn,Xn;const Un=({dismissible:e})=>{const t=(0,En.D)(),a=(0,se.C)(),n=(0,ie.lZ)(),i=(0,ae.o)(ne.w.EcommerceWebB2BDiscontinuationPhase1);if(!a||n.isLoading)return!1;const s=a.isFreeTrial;if(a.spaceTier===g.lD.Business&&!s)return!1;const{isTeamSoftDiscontinued:r,isTrial:o}=n;if(r&&o&&i)return!1;const l=t.find((e=>e.type===Dn.U.DASHBOARD_UPRADE&&e.dismissedAt));return!e||!l},jn=({iconName:e,children:t})=>(0,f.BX)(c.Ejs,{flexDirection:"row",gap:"12px",alignItems:"center",flexWrap:"nowrap",children:[(0,f.tZ)("div",{sx:{padding:"8px",backgroundColor:"ds.container.expressive.brand.quiet.idle",borderRadius:"8px"},children:(0,f.tZ)(l.JO,{name:e,size:"large",color:"ds.text.brand.standard"})}),(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.catchy",children:t})]}),qn=({dismissible:e,headingLevel:t="h5"})=>{const{translate:a}=(0,x.Z)(),n=(()=>{const e=(0,z.B)(),{routes:t}=(0,s.Xo)(),a=(0,se.C)();if(!a)return null;const n=a.isFreeTrial,i=a.spaceTier===g.lD.Starter,r=a.spaceTier===g.lD.Team,o=a.spaceTier===g.lD.Business,l=a.daysLeftInTrial;return n&&r?{header:{key:l?"team_dashboard_upgrade_tile_team_trial_header_markup":"team_dashboard_upgrade_tile_team_trial_header_last_day",variables:{daysLeft:l}},description:{key:"team_dashboard_upgrade_tile_business_trial_description"},features:[{iconName:"GroupOutlined",key:Nn},{iconName:"FeatureVpnOutlined",key:In}],cta:{key:An,external:!0,link:`${te.ub}?plan=team&subCode=${e?.subscriptionCode}`}}:n&&o?{header:{key:l?"team_dashboard_upgrade_tile_business_trial_header_markup":"team_dashboard_upgrade_tile_business_trial_header_last_day",variables:{daysLeft:l}},description:{key:"team_dashboard_upgrade_tile_business_trial_description"},features:[{iconName:"ToolsOutlined",key:On},{iconName:"SharedOutlined",key:Ln},{iconName:"GroupOutlined",key:Bn},{iconName:"ItemPhoneHomeOutlined",key:Rn}],cta:{key:An,external:!0,link:`${te.ub}?plan=business&subCode=${e?.subscriptionCode}`}}:!n&&i?{header:{key:"team_dashboard_upgrade_tile_team_upgrade_header"},description:{key:"team_dashboard_upgrade_tile_team_upgrade_description"},features:[{iconName:"GroupOutlined",key:Nn},{iconName:"FeatureVpnOutlined",key:In}],cta:{key:Mn,link:t.teamAccountChangePlanRoutePath}}:!n&&r?{header:{key:"team_dashboard_upgrade_tile_business_upgrade_header"},description:{key:"team_dashboard_upgrade_tile_business_upgrade_description"},features:[{iconName:"ToolsOutlined",key:On},{iconName:"SharedOutlined",key:Ln},{iconName:"GroupOutlined",key:Bn},{iconName:"ItemPhoneHomeOutlined",key:Rn}],cta:{key:Mn,link:t.teamAccountChangePlanRoutePath}}:null})(),i=(0,Ee.Y)(),r=(0,s.k6)(),_=i.status===o.rq.Success&&(0,R.pq)(i.data);return n?(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"24px",children:[(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"8px",children:[(0,f.BX)(c.Ejs,{alignItems:"start",flexWrap:"nowrap",justifyContent:"space-between",children:[(0,f.tZ)(l.X6,{as:t,textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",children:n.header.key.includes("markup")?a.markup(n.header.key,n.header.variables):a(n.header.key,n.header.variables)}),e?(0,f.tZ)(l.zx,{sx:{padding:"4px"},mood:"neutral",intensity:"supershy",size:"medium",layout:"iconOnly",onClick:()=>(0,kn.ql)({type:Dn.U.DASHBOARD_UPRADE}),icon:Pn||(Pn=(0,f.tZ)(l.JO,{color:"ds.text.neutral.quiet",name:"ActionCloseOutlined"}))}):null]}),(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",children:a(n.description.key)})]}),n.features.map((e=>(0,f.tZ)(jn,{iconName:e.iconName,children:e.key.includes("markup")?a.markup(e.key):a(e.key)},e.key))),_?Xn||(Xn=(0,f.tZ)(wn,{})):null,(0,f.tZ)(l.zx,{fullsize:!0,mood:e?"brand":"neutral",intensity:e?"catchy":"quiet",onClick:()=>{n&&(n.cta.external?(0,X.Yo)(n.cta.link):r.push(n.cta.link),(0,b.Kz)(new d.UserClickEvent({button:d.Button.BuyDashlane,clickOrigin:d.ClickOrigin.FeatureLimitationsBlock})))},children:a(n.cta.key)},n.cta.key)]}):zn||(zn=(0,f.tZ)(l.ZX,{size:"large",mood:"neutral"}))};var Gn=a(127521),$n=a(891828),Fn=function(e){return e[e.DUPLICATE=0]="DUPLICATE",e[e.SOMETHING_WRONG=1]="SOMETHING_WRONG",e[e.EMPTY=2]="EMPTY",e[e.MALFORMED=3]="MALFORMED",e}(Fn||{});const Vn=(e,t)=>{switch(t){case Fn.DUPLICATE:return e("team_account_name_already_exists");case Fn.SOMETHING_WRONG:return e("team_account_name_error_something_wrong");case Fn.EMPTY:return e("team_account_name_is_empty");case Fn.MALFORMED:return e("team_account_name_is_malformed");default:return e("team_account_name_error_something_wrong")}};var Hn=a(824107);const Wn="col1--a1XY6sTFa0",Yn="col2--K8GKZ0pbNU";var Kn;const Qn=({hasFullAdminAccess:e,handleSave:t,defaultValue:a})=>{const{translate:n}=(0,x.Z)();return(0,f.BX)("div",{children:[(0,f.tZ)(l.X6,{color:"ds.text.neutral.catchy",as:"h2",textStyle:"ds.title.section.medium",sx:{mb:"1em"},children:n("team_account_heading_team_name")}),e?(0,f.tZ)("div",{children:(0,f.tZ)(Hn.X,{defaultValue:a,saveBtnLabel:n("team_account_name_save_label"),savingBtnLabel:n("team_account_name_saving_label"),editBtnLabel:n("team_account_name_edit_label"),placeholder:n("team_account_name_add_your_team_name"),successMessage:n("team_account_name_add_your_team_success"),textFieldClassName:Wn,buttonClassName:Yn,onSave:t,layout:"iconLeading",icon:Kn||(Kn=(0,f.tZ)(l.JO,{name:"ActionEditOutlined"})),inputStyle:{fontSize:"15px"}})}):a]})},Jn="team_account_teamplan_buy_more",ei=({isFreeTrial:e,isGracePeriod:t,isStarter:a,isDiscontinuedTrial:n,onClick:i,licenseCount:s})=>{const{translate:r}=(0,x.Z)();return a?null:t&&!e?(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",title:r("team_account_teamplan_hint_cannot_add_seats"),disabled:!0,children:r(Jn)}):n?(0,f.tZ)(l.zx,{mood:"brand",intensity:"catchy",onClick:i,children:r("team_account_teamplan_trial_ended_buy_dashlane")}):e?(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",onClick:i,disabled:!1,children:r("team_account_teamplan_upgrade_button")}):(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",onClick:i,disabled:!s,children:r(Jn)})};var ti;const ai={width:"300px",margin:"10px 0px",flexWrap:"wrap",gap:"8px"},ni={margin:"10px",gap:"8px"},ii=({style:e,licenseCount:t,onRequestTeamUpgrade:a,onRequestBuyMoreSeats:n})=>{const{routes:i}=(0,s.Xo)(),{translate:o}=(0,x.Z)(),_=(0,se.C)(),u=(0,ie.lZ)(),[m,p]=(0,r.useState)(!1),h=(0,ae.o)(ne.w.EcommerceWebB2BDiscontinuationPhase1),y=!!_&&_.spaceTier===g.lD.Starter,S=!!_&&_.spaceTier===g.lD.Team,v=!!_&&_.spaceTier===g.lD.Business,C=!!_?.isFreeTrial,Z=(0,r.useMemo)((()=>{let e;return e=o(y?"team_account_teamplan_changeplan_plans_starter_name":S?"team_account_teamplan_team":"team_account_teamplan_business"),C?o("team_account_teamplan_trial",{planName:e}):`Dashlane ${e}`}),[y,S,C,o]);if(u.isLoading)return null;const{isTeamSoftDiscontinued:T,isTrial:D}=u,E=!!h&&T&&D;if(!_)return null;const k=_.isGracePeriod,N=0===_.daysLeftInTrial;return C?(0,f.BX)(f.HY,{children:[(0,f.BX)("div",{style:e,children:[(0,f.BX)("div",{sx:{display:"flex"},children:[(0,f.BX)("div",{sx:(0,l.jM)([{display:"flex",flexDirection:"row"},ai]),children:[(0,f.tZ)("span",{className:"licenseCountText--hXtj4u8ji3",children:Z}),E?(0,f.tZ)(l.Ct,{mood:"danger",label:o("team_account_teamplan_trial_ended_badge")}):null]}),(0,f.BX)("div",{sx:(0,l.jM)([{display:"flex",flexDirection:"row"},ni]),children:[(0,f.tZ)(ei,{isGracePeriod:k,isFreeTrial:C,isStarter:y,isDiscontinuedTrial:!!E,onClick:()=>a(d.ClickOrigin.AccountStatus),licenseCount:t}),k||!N||T?null:(0,f.tZ)(l.zx,{mood:"brand",intensity:"supershy",layout:"labelOnly",onClick:()=>{(0,b.Kz)(new d.UserClickEvent({button:d.Button.ExtendTrial,clickOrigin:d.ClickOrigin.AccountStatus})),p(!0)},children:o("team_dashboard_extend_trial_button")}),E?(0,f.tZ)(l.zx,{mood:"brand",intensity:"supershy",onClick:()=>{(0,X.Yo)(te.oH)},children:o("team_account_teamplan_trial_ended_pay_by_invoice_button")}):null]})]}),(0,f.tZ)("div",{className:"licenseCountContainer--bEWqbHZbKG",children:o("team_account_teamplan_users",{count:t})})]}),m?(0,f.tZ)(w.XA,{initialDialog:w.s9.SURVEY}):null]}):(0,f.BX)(c.Ejs,{flexDirection:"column",sx:{marginTop:"8px"},children:[(0,f.BX)(c.Ejs,{alignItems:"center",children:[(0,f.tZ)("div",{sx:ai,children:(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",children:o("team_account_teamplan_plan_name",{planName:Z})})}),(0,f.tZ)("div",{sx:ni,children:v?null:(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",type:"button",onClick:()=>{(0,s.uX)(i.teamAccountChangePlanRoutePath)},children:o("team_account_teamplan_change_plan")})})]}),(0,f.BX)(c.Ejs,{alignItems:"center",sx:{marginTop:"8px"},children:[(0,f.tZ)("div",{sx:ai,children:(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",children:o("team_account_teamplan_seats",{numSeats:t})})}),(0,f.BX)("div",{sx:ni,children:[(0,f.tZ)(ei,{isGracePeriod:k,isFreeTrial:C,isStarter:y,onClick:n,licenseCount:t,isDiscontinuedTrial:!!E}),E?ti||(ti=(0,f.tZ)(l.zx,{})):null]})]})]})},si={CARD_BORDER:{border:"1px solid ds.border.neutral.quiet.idle",borderRadius:"8px",overflow:"hidden"},ACCOUNT_PAGE:{backgroundColor:"ds.background.alternate",minHeight:"100%","& > div":{maxWidth:"74em",padding:"32px 48px"}}};var ri;const oi=({lee:e,seatsNumber:t,isWindowCollapsed:a,hasFullAdminAccess:n,onRequestBuyMoreSeats:i,onRequestTeamUpgrade:s})=>{const{translate:r}=(0,x.Z)(),{reportTACError:o}=H(),d=Un({}),_=Tn();return null===_?null:(0,f.BX)(c.Ejs,{flexDirection:"column",role:"main",children:[(0,f.tZ)(l.X6,{textStyle:"ds.title.section.large",as:"h1",color:"ds.text.neutral.standard",sx:{marginBottom:"32px"},children:r("team_account_heading_team_setup")}),(0,f.BX)(c.Ejs,{flexDirection:"row",gap:"24px",children:[(0,f.BX)(c.Ejs,{flexDirection:"column",sx:(0,l.jM)([{flexGrow:"1",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"32px",maxWidth:"40em"},si.CARD_BORDER]),children:[(0,f.tZ)(Qn,{hasFullAdminAccess:n,handleSave:t=>(async(e,t,a,n)=>{const i=(0,Gn.v0)(t.globalState);if(!i){const e=new Error(Vn(a,Fn.SOMETHING_WRONG));throw n(e),e}if(!e.length)throw new Error(Vn(a,Fn.EMPTY));if(!/^[\w\s-.]*$/.test(e))throw new Error(Vn(a,Fn.MALFORMED));try{var s;const t=await(new $n.Z).editSettings({auth:i,operations:[{type:"set_name",value:e}]});return null!=(s=t.content.team?.info.name)?s:""}catch(e){const t="team_name_already_exists"===e.message?Fn.DUPLICATE:Fn.SOMETHING_WRONG;throw new Error(Vn(a,t))}})(t,e,r,o),defaultValue:_}),(0,f.BX)("div",{sx:{marginTop:"2em"},children:[(0,f.tZ)(l.X6,{color:"ds.text.neutral.catchy",as:"h2",textStyle:"ds.title.section.medium",children:r("team_account_teamplan")}),(0,f.tZ)(ii,{licenseCount:t,onRequestBuyMoreSeats:i,onRequestTeamUpgrade:s})]})]}),d?(0,f.tZ)(c.k$b,{sx:(0,l.jM)([{backgroundColor:"ds.container.agnostic.neutral.supershy",width:a?"40em":"416px",padding:"32px"},si.CARD_BORDER]),children:ri||(ri=(0,f.tZ)(qn,{headingLevel:"h3"}))}):null]})]})};var li=a(784906),ci=a(798423);const di=({children:e})=>(0,f.tZ)(c.Ejs,{flexDirection:"column",sx:(0,c.jMf)([si.CARD_BORDER,{backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"24px",flex:"1",overflow:"visible"}]),children:e}),_i={none:{paragraph:"team_account_cancel_widget_unsolicited_content_markup",button:"team_account_cancel_widget_unsolicited_button"},pending:{heading:"team_account_cancel_widget_requested_pending_heading",paragraph:"team_account_cancel_widget_requested_pending_content_markup"},canceled:{heading:"team_account_cancel_widget_requested_complete_heading",paragraph:"team_account_cancel_widget_requested_complete_content",button:"team_account_cancel_widget_requested_complete_button"},unknown:{}},ui=(e,t,a)=>{var n,i,s,r,o;switch(e){case g.Uz.None:return"paragraph"===t?a.markup(null!=(n=_i.none[t])?n:"",{},{linkTarget:"_blank"}):a(null!=(i=_i.none[t])?i:"");case g.Uz.Pending:return"paragraph"===t?a.markup(null!=(s=_i.pending[t])?s:"",{},{linkTarget:"_blank"}):a(null!=(r=_i.pending[t])?r:"");case g.Uz.Canceled:return a(null!=(o=_i.canceled[t])?o:"");case g.Uz.Unknown:return""}},mi=({status:e,handleClickButton:t})=>{const{translate:a}=(0,x.Z)();return(0,f.BX)(di,{children:[e!==g.Uz.None?(0,f.tZ)(l.X6,{as:"h2",color:"ds.text.neutral.catchy",textStyle:"ds.title.block.medium",sx:{marginBottom:"16px"},children:ui(e,"heading",a)}):null,(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",sx:{fontSize:"15px"},children:ui(e,"paragraph",a)}),e!==g.Uz.Pending?(0,f.tZ)(l.zx,{intensity:"quiet",mood:"neutral",sx:{marginTop:"16px"},onClick:t,children:ui(e,"button",a)}):null]})};var pi=a(668531);const gi=({spaceTier:e,handleClose:t,sendCancelRequest:a,requestStatus:n})=>{const{translate:i}=(0,x.Z)(),[s,o]=(0,r.useState)({[g.Gr.ChoseOtherPasswordManager]:!1,[g.Gr.MissingCriticalFeatures]:!1,[g.Gr.NoInternalUsage]:!1,[g.Gr.DownsizedEmployeeCount]:!1,[g.Gr.Other]:!1,[g.Gr.TechnicalIssues]:!1,[g.Gr.TooExpensive]:!1});(0,r.useEffect)((()=>{(0,b.Nc)(d.PageView.TacModalReasonsToCancelSubscription)}),[]);const c=`${e[0].toUpperCase()}${e.slice(1)}`,_=e=>{const t=!s[e];o({...s,[e]:t})};return(0,f.BX)(l.Vq,{isOpen:!0,onClose:()=>{(0,b.Kz)(new d.UserCallToActionEvent({callToActionList:[d.CallToAction.Confirm,d.CallToAction.Cancel],hasChosenNoAction:!0})),t()},title:i("team_account_cancel_form_heading"),actions:{primary:{children:i("team_account_cancel_form_button_confirm"),onClick:()=>{const e=Object.keys(s).filter((e=>s[e])).map((e=>pi.V[e]));a(e),(0,b.Kz)(new d.UserCallToActionEvent({callToActionList:[d.CallToAction.Confirm,d.CallToAction.Cancel],chosenAction:d.CallToAction.Confirm,hasChosenNoAction:!1})),(0,b.Kz)(new d.UserSubmitInProductFormAnswerEvent({formName:d.FormName.ReasonToCancelSubscription,answerList:Object.keys(s).map((e=>pi.V[e])),chosenAnswerList:e}))},isLoading:"pending"===n},secondary:{children:i("team_account_cancel_form_button_cancel",{planTier:c}),onClick:()=>{(0,b.Kz)(new d.UserCallToActionEvent({callToActionList:[d.CallToAction.Confirm,d.CallToAction.Cancel],chosenAction:d.CallToAction.Cancel,hasChosenNoAction:!1})),t()}}},isDestructive:!0,closeActionLabel:i("_common_dialog_dismiss_button"),children:[(0,f.tZ)(l.nv,{sx:{marginBottom:"20px"},textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",children:i("team_account_cancel_form_subheading")}),(0,f.tZ)(l.nv,{textStyle:"ds.title.block.medium",children:i("team_account_cancel_form_question")}),(0,f.tZ)(l.nv,{sx:{marginBottom:"20px"},textStyle:"ds.body.standard.regular",children:i("team_account_cancel_form_context")}),(0,f.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,f.tZ)(l.XZ,{label:i("team_account_cancel_form_option_1"),checked:s.no_internal_usage,disabled:"pending"===n,onChange:()=>_(g.Gr.NoInternalUsage)}),(0,f.tZ)(l.XZ,{label:i("team_account_cancel_form_option_2_revised"),checked:s.downsized_employee_count,disabled:"pending"===n,onChange:()=>_(g.Gr.DownsizedEmployeeCount)}),(0,f.tZ)(l.XZ,{label:i("team_account_cancel_form_option_3"),checked:s.chose_other_password_manager,disabled:"pending"===n,onChange:()=>_(g.Gr.ChoseOtherPasswordManager)}),(0,f.tZ)(l.XZ,{label:i("team_account_cancel_form_option_4"),checked:s.missing_critical_features,disabled:"pending"===n,onChange:()=>_(g.Gr.MissingCriticalFeatures)}),(0,f.tZ)(l.XZ,{label:i("team_account_cancel_form_option_5"),checked:s.technical_issues,disabled:"pending"===n,onChange:()=>_(g.Gr.TechnicalIssues)}),(0,f.tZ)(l.XZ,{label:i("team_account_cancel_form_option_6"),checked:s.too_expensive,disabled:"pending"===n,onChange:()=>_(g.Gr.TooExpensive)}),(0,f.tZ)(l.XZ,{sx:{marginBottom:"8px"},label:i("team_account_cancel_form_option_7"),checked:s.other,disabled:"pending"===n,onChange:()=>_(g.Gr.Other)})]}),(0,f.tZ)(l.nv,{sx:{margin:"20px 0"},textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",children:i.markup("team_account_cancel_form_help_markup",{},{linkTarget:"_blank"})})]})};var hi,bi;const yi={ITEM:{display:"flex",flexDirection:"row",alignItems:"flex-start",gap:"16px"},WRAPPER:{margin:"16px 0",gap:"24px",display:"flex",flexDirection:"column"}},xi="team_account_cancel_confirmation_dialog_close",Si=({handleClose:e})=>{const{translate:t}=(0,x.Z)();return(0,r.useEffect)((()=>{(0,b.Nc)(d.PageView.TacConfirmSubscriptionCancellationRequestSubmission)}),[]),(0,f.tZ)(l.Vq,{isOpen:!0,onClose:e,title:t("team_account_cancel_confirmation_dialog_heading"),closeActionLabel:t(xi),actions:{primary:{children:t(xi),onClick:e}},children:(0,f.BX)("div",{sx:yi.WRAPPER,children:[(0,f.BX)("div",{sx:yi.ITEM,children:[hi||(hi=(0,f.tZ)(l.JO,{name:"ItemEmailOutlined",size:"xlarge"})),(0,f.tZ)(l.nv,{children:t.markup("team_account_cancel_confirmation_dialog_paragraph_1_markup")})]}),(0,f.BX)("div",{sx:yi.ITEM,children:[bi||(bi=(0,f.tZ)(l.JO,{name:"ActionUndoOutlined",size:"xlarge"})),(0,f.tZ)(l.nv,{children:t("team_account_cancel_confirmation_dialog_paragraph_2")})]})]})})};let fi=function(e){return e.NONE="none",e.SURVEY="survey",e.REQUEST_SUCCESS="requestSentConfirmation",e.REQUEST_ERROR="requestError",e}({});const vi=({status:e})=>{const[t,a]=(0,r.useState)(fi.NONE),[n,i]=(0,r.useState)("idle"),s=(0,ie.lZ)(),o=(0,se.C)(),{translate:l}=(0,x.Z)(),_=(0,dn.V)();(0,r.useEffect)((()=>{e!==g.Uz.Unknown&&t!==fi.REQUEST_ERROR||_.showAlert(l("team_account_cancel_request_error"),c.BLW.ERROR,!1,void 0,void 0,1e4)}),[t,_,e,l]);const{requestTeamPlanCancellation:u}=(0,q.u)(m.o);return s.isLoading||!o||s.isTeamSoftDiscontinued||o.isFreeTrial||o.isGracePeriod?null:(0,f.BX)(f.HY,{children:[(0,f.tZ)(mi,{status:e,handleClickButton:e===g.Uz.None?()=>{(0,b.Kz)(new d.UserClickEvent({clickOrigin:d.ClickOrigin.BillingInformation,button:d.Button.CancelSubscription})),a(fi.SURVEY)}:()=>{(0,b.Kz)(new d.UserClickEvent({clickOrigin:d.ClickOrigin.BillingInformation,button:d.Button.ReactivateSubscription})),(0,X.Yo)(te.lh)}}),t===fi.SURVEY?(0,f.tZ)(gi,{spaceTier:o.spaceTier,handleClose:()=>{a(fi.NONE)},sendCancelRequest:async e=>{i("pending");try{const t=await u({reasons:e});if(i("finished"),"failure"===t.tag)throw new Error("Failed to request team plan cancellation.");a(fi.REQUEST_SUCCESS)}catch(e){a(fi.REQUEST_ERROR)}},requestStatus:n}):null,t===fi.REQUEST_SUCCESS?(0,f.tZ)(Si,{handleClose:()=>{a(fi.NONE)}}):null]})};var Ci=a(526849),Zi=a(729274),Ti=a(319474);const Di=e=>e.trim().toLocaleLowerCase(),Ei="team_account_billing_admin_search_field_placeholder",ki=({defaultSelected:e,handleConfirmClick:t,handleClose:a,allMembersCount:n,membersList:i})=>{const{translate:o}=(0,x.Z)(),{routes:d}=(0,s.Xo)(),[_,u]=(0,r.useState)(e),[m,p]=(0,r.useState)(""),[g,h]=(0,r.useState)([]),[b,y]=(0,r.useState)(!1);(0,r.useEffect)((()=>{h(((e,t)=>""===t.trim()?e:e.filter((({login:e})=>Di(e).includes(Di(t)))))(i,m).slice(0,5))}),[i,m]);const S=!g.length||e===_;return(0,f.tZ)(l.Vq,{isOpen:!0,title:o("team_account_billing_admin_dialog_title"),actions:{primary:{children:o("team_account_billing_admin_dialog_confirm"),onClick:()=>t(_),disabled:S}},onClose:a,closeActionLabel:o("_common_dialog_dismiss_button"),children:(0,f.BX)(c.T5p,{gap:"1.5em",gridTemplateColumns:"auto",children:[(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",children:o("team_account_billing_admin_dialog_warning")}),(0,f.tZ)(l.Um,{autoFocus:!0,onChange:({target:{value:e}})=>{p(e),b||y(!0)},label:o(Ei),placeholder:o(Ei)}),g.length>0?(0,f.BX)(f.HY,{children:[(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",children:o("team_account_billing_admin_search_results_count",{count:g.length,totalCount:n})}),(0,f.tZ)(Ti.S,{value:_,onChange:({target:{value:e}})=>{u(e)},groupName:"billingAdmins",children:g.map((({login:e})=>(0,f.tZ)(Ti.E,{value:e,className:"radioWrapper--raI9eMnbBj",children:e},e)))}),g.length<n?(0,f.BX)("div",{sx:{display:"flex",flexDirection:"row",gap:"8px",alignItems:"center"},children:[(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",children:o("team_account_billing_admin_help")}),(0,f.tZ)(l.Qj,{as:s.rU,to:d.teamMembersRoutePath,onClick:a,children:o("team_account_billing_admin_link_to_members_page")})]}):null]}):null,0===g.length?(0,f.tZ)(l.nv,{children:o("team_account_billing_admin_search_no_match")}):null]})})};var wi;const Ni=({lee:e})=>{const{globalState:t}=e,[a,n]=(0,r.useState)(""),[i,s]=(0,r.useState)(0),[o,_]=(0,r.useState)([]),[u,m]=(0,r.useState)(!1),p=(0,Gn.v0)(t),{translate:g}=(0,x.Z)(),{reportTACError:h}=H(),y=(0,dn.V)();return(0,r.useEffect)((()=>{(async()=>{if(!p?.teamId)return;const e=await(0,Ce.YY)({teamId:p.teamId}),t=e.filter((e=>"accepted"===e.status)),a=(0,Ci.sortWith)([(0,Ci.descend)((0,Ci.prop)("isBillingAdmin")),(0,Ci.descend)((0,Ci.prop)("isTeamCaptain"))])(t);_(a),s(e.length);const i=a[0].login;n(i)})().catch(h)}),[p?.teamId]),p?(0,f.BX)(f.HY,{children:[(0,f.BX)(c.Ejs,{gap:"16px",children:[(0,f.tZ)(l.X6,{color:"ds.text.neutral.catchy",as:"h2",textStyle:"ds.title.section.medium",children:g("team_account_heading_billing_admin")}),(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.regular",children:g("team_account_billing_admin_access_information")})]}),(0,f.BX)("div",{className:"container--cNaXIUykkA",children:[(0,f.tZ)("div",{className:Wn,children:(0,f.tZ)("span",{className:B()("text--Jm4WO6KPbc",{"emptyText--YnRMwaHw2m":!a},"automation-tests-tac-billing"),children:a||"████████████████"})}),(0,f.tZ)("div",{className:Yn,children:e.permission.adminAccess.hasFullAccess?(0,f.BX)("div",{className:"editContainer--ZJk2BSq6aw",children:[(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",icon:wi||(wi=(0,f.tZ)(l.JO,{name:"ActionEditOutlined"})),layout:"iconLeading",disabled:!o.length,onClick:()=>{m(!0),(0,b.Nc)(d.PageView.TacAccountBillingInfo)},children:g("team_account_billing_admin_edit_contact_info")}),u?(0,f.tZ)(ki,{defaultSelected:a,handleConfirmClick:async e=>{if(a===e)return;m(!1),(0,b.Nc)(d.PageView.TacAccount);const i=(0,Gn.v0)(t);if(i)try{await(new $n.Z).updateBillingAdmin({auth:i,newAdminLogin:e,oldAdminLogin:a}),y.showAlert(g("team_account_billing_admin_notification_success"),c.BLW.SUCCESS),n(e)}catch{y.showAlert(g("team_account_billing_admin_notification_something_wrong"),c.BLW.ERROR)}else h(new Error(Zi.N))},handleClose:()=>{m(!1),(0,b.Nc)(d.PageView.TacAccount)},membersList:o,allMembersCount:i}):null]}):null})]})]}):(h(new Error(Zi.N)),null)};var Ii;const Ai=()=>{const{translate:e}=(0,x.Z)();return(0,f.BX)(c.Ejs,{gap:"16px",sx:{margin:"24px 0"},children:[(0,f.tZ)(c.nvN,{color:"ds.text.neutral.catchy",as:"h2",size:"large",children:e("team_account_invoice_payment_plan_heading")}),(0,f.BX)("div",{children:[(0,f.tZ)(c.nvN,{color:"ds.text.neutral.quiet",size:"small",children:e("team_account_invoice_payment_plan_pay_credit_card")}),(0,f.tZ)(c.nvN,{size:"small",children:(0,f.tZ)(c.rUS,{href:te.Bw,target:"_blank",rel:"noopener noreferrer",sx:{color:"ds.text.neutral.quiet",fontWeight:"400"},children:e("team_account_invoice_payment_plan_contact_support")})})]}),(0,f.BX)(c.Ejs,{flexDirection:"row",gap:"8px",alignItems:"center",sx:{width:"100%"},children:[(0,f.tZ)("div",{sx:{padding:"8px",backgroundColor:"ds.container.expressive.brand.quiet.idle",borderRadius:"8px"},children:Ii||(Ii=(0,f.tZ)(l.JO,{name:"ItemTaxNumberOutlined",size:"large",color:"ds.text.brand.standard"}))}),(0,f.tZ)(c.nvN,{color:"ds.text.neutral.catchy",size:"medium",children:e("team_account_invoice_payment")})]})]})};var Mi,Oi,Li=a(83175);const Bi=({isDisabled:e})=>{const[t,a]=(0,r.useState)(!1),{translate:n}=(0,x.Z)(),{loading:i,hasCreditCardPaymentMethod:s,last4DigitsFormatted:o,cardSvg:_,isExpired:u,expFormatted:m,pollUntilCardUpdate:p}=(0,S.C)({handleCardUpdate:(e,t)=>{e&&t&&(0,b.Kz)(new d.UserAddNewPaymentMethodEvent({flowStep:d.FlowStep.Complete}))}});return i?Mi||(Mi=(0,f.tZ)(l.ZX,{})):(0,f.BX)(c.Ejs,{gap:"16px",sx:{marginTop:"24px"},children:[(0,f.tZ)(c.nvN,{color:"ds.text.neutral.catchy",as:"h2",size:"large",children:n("team_account_invoice_payment_seats_heading")}),s?(0,f.BX)(c.T5p,{gridTemplateColumns:"1fr 1fr",sx:{width:"100%"},children:[(0,f.BX)(c.dDn,{sx:{width:"300px"},children:[(0,f.BX)(c.nvN,{color:"ds.text.neutral.standard",sx:{display:"flex",alignItems:"center"},children:[_,(0,f.tZ)("span",{style:{marginLeft:"10px"},children:"••••"}),(0,f.tZ)("span",{"data-testid":"card-last-four",style:{marginLeft:"3px"},children:o})]}),u?(0,f.tZ)(c.nvN,{color:c.colors.red00,sx:{marginTop:"8px",fontSize:14},children:n("manage_subscription_payment_section_expired_stripe")}):(0,f.tZ)(c.nvN,{color:"ds.text.neutral.standard",sx:{marginTop:"8px"},children:m?n("manage_subscription_payment_section_expiration_date",{date:m}):null})]}),(0,f.tZ)(c.dDn,{alignSelf:"center",children:(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",icon:Oi||(Oi=(0,f.tZ)(l.JO,{name:"ActionEditOutlined"})),layout:"iconLeading",onClick:()=>{p(),a(!0)},disabled:e,children:t?(0,f.tZ)(Li.J,{b2c:!1,setPaymentLoading:a}):n("team_account_payment_edit_credit_card")})})]}):(0,f.BX)(f.HY,{children:[(0,f.BX)("div",{children:[(0,f.tZ)(c.nvN,{color:"ds.text.neutral.quiet",size:"small",children:n("team_account_invoice_payment_seats_save_credit_card")}),(0,f.tZ)(c.nvN,{color:"ds.text.neutral.quiet",size:"small",children:n("team_account_invoice_payment_seats_subscription")})]}),(0,f.tZ)("div",{children:(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",onClick:()=>{(0,b.Kz)(new d.UserAddNewPaymentMethodEvent({flowStep:d.FlowStep.Start})),p(),a(!0)},children:t?(0,f.tZ)(Li.J,{b2c:!1,setPaymentLoading:a}):n("team_account_payment_add_credit_card")})})]})]})};var Ri=a(909216);const zi="billing--etj61dTqkE";var Pi,Xi,Ui;const ji=({premiumStatusData:e,isDisabled:t})=>{var a;const[n,i]=r.useState(!1),{translate:s}=(0,x.Z)(),c=(0,Ee.Y)(),{loading:_,billingInformation:u,last4DigitsFormatted:m,cardSvg:p,isExpired:g,expFormatted:h,pollUntilCardUpdate:b}=(0,S.C)({handleCardUpdate:t=>{t&&(0,Ri.dV)(e,d.FlowStep.Complete)}});if(c.status!==o.rq.Success||!c.data||_)return Pi||(Pi=(0,f.tZ)(l.ZX,{}));const y=()=>(0,f.tZ)("div",{children:(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",icon:Xi||(Xi=(0,f.tZ)(l.JO,{name:"ActionAddOutlined"})),layout:"iconLeading",onClick:()=>{b(),i(!0)},sx:{marginTop:"1em"},children:n?a||(a=(0,f.tZ)(Li.J,{b2c:!1,setPaymentLoading:i})):s("team_account_payment_add_credit_card")})});return(0,f.BX)("div",{style:{marginTop:"24px"},children:[(0,f.tZ)(l.X6,{color:"ds.text.neutral.catchy",as:"h2",textStyle:"ds.title.section.medium",children:s("team_account_paymentmethod_heading")}),u?.billingType?m?(0,f.BX)("div",{className:"container--GmEeyXCXpH",children:[(0,f.BX)("div",{className:Wn,children:[(0,f.tZ)("div",{className:zi,children:(0,f.BX)("div",{className:zi,children:[p,(0,f.BX)(l.nv,{color:"ds.text.neutral.standard",children:[(0,f.tZ)("span",{style:{marginLeft:"10px"},children:"••••"}),(0,f.tZ)("span",{"data-testid":"card-last-four",style:{marginLeft:"3px"},children:m})]})]})}),g?(0,f.tZ)(l.nv,{color:"ds.text.danger.standard",sx:{marginBottom:"8px",fontSize:14},children:s("manage_subscription_payment_section_expired_stripe")}):(0,f.tZ)(l.nv,{color:"ds.text.neutral.standard",sx:{marginBottom:"8px"},children:h?s("manage_subscription_payment_section_expiration_date",{date:h}):null})]}),(0,f.tZ)("div",{className:Yn,children:(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",icon:Ui||(Ui=(0,f.tZ)(l.JO,{name:"ActionEditOutlined"})),layout:"iconLeading",onClick:()=>{b(),i(!0),(0,Ri.dV)(c.data,d.FlowStep.Start)},disabled:t,children:n?(0,f.tZ)(Li.J,{b2c:!1,setPaymentLoading:i}):s("team_account_payment_edit_credit_card")})})]}):(0,f.BX)("div",{sx:{margin:"16px 0 24px"},children:[(0,f.tZ)("div",{children:(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.regular",children:s("team_account_paymentmethod_payment_method_unknow")})}),(0,f.tZ)(y,{})]}):(0,f.BX)("div",{sx:{margin:"16px 0 24px"},children:[(0,f.tZ)("div",{children:(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.regular",children:s("team_account_paymentmethod_no_payment_method")})}),(0,f.tZ)(y,{})]})]})},qi=({handleGetPastReceipts:e})=>{const{translate:t}=(0,x.Z)();return(0,f.tZ)(c.Ejs,{sx:{marginTop:"16px",display:"flex",justifyContent:"center"},children:(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",icon:"DownloadOutlined",layout:"iconLeading",onClick:e,sx:{width:"100%"},children:t("team_account_teamplan_plan_download_billing_history")})})};var Gi;const $i={WRAPPER:{display:"flex",flexDirection:"column",padding:"24px",backgroundColor:"ds.container.agnostic.neutral.supershy"},BUY_DASHLANE_BUTTON:{marginTop:"20px",display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"center",alignItems:"center",gap:"10px"}},Fi=({isRenewalStopped:e,onClickBuyDashlane:t,handleGetPastReceipts:a,usersToBeRenewedCount:n,discontinuedTrial:i})=>{var s;const{translate:o}=(0,x.Z)(),{loading:_,billingCountry:u}=D(),[m,p]=(0,r.useState)(!1),y=(0,se.C)(),S=(0,h.s)(),v=S?.nextBillingDetails,{isLoading:C,taxInformation:Z}=ra({total:null!=(s=v?.amount)?s:0});if(_||!y||!v)return Gi||(Gi=(0,f.tZ)(l.ZX,{mood:"brand"}));const T=y.isFreeTrial,E=0===y.daysLeftInTrial,k=v.amount,N=v.currency,I=y.spaceTier===g.lD.Team,A=(0,na.Z)(v.dateUnix),M=k/100,O=M&&n?M/n:0,L="US"===u?"team_account_teamplan_plan_total_with_tax":"team_account_teamplan_plan_total_with_vat",B=!C&&void 0!==Z?.amount&&Z?.amount>0,R=B&&k&&Z?.amount?(k+Z.amount)/100:void 0;return(0,f.BX)(f.HY,{children:[(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"12px",sx:si.CARD_BORDER,children:[T&&!i&&(0,f.BX)(c.Ejs,{sx:$i.WRAPPER,children:[(0,f.tZ)(l.nv,{textStyle:"ds.title.block.medium",color:"ds.text.neutral.quiet",children:o("team_account_teamplan_plan_header_trial")}),(0,f.tZ)(c.Ejs,{sx:{margin:"16px 0px"},children:(0,f.tZ)(l.nv,{color:"ds.text.neutral.standard",textStyle:"ds.specialty.spotlight.small",children:A?o.shortDate(A,ga.qG.LL):null})}),(0,f.tZ)(l.nv,{color:"ds.text.neutral.catchy",textStyle:"ds.title.block.medium",children:A?o("team_account_teamplan_plan_copy_trial",{expireDate:o.shortDate(A,ga.qG.MMMM_D)}):null}),(0,f.BX)("div",{sx:$i.BUY_DASHLANE_BUTTON,children:[(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",size:"medium",fullsize:!0,onClick:t,children:o("team_account_teamplan_plan_buy_dashlane")}),!y.isGracePeriod&&E?(0,f.tZ)(l.zx,{mood:"brand",intensity:"supershy",layout:"labelOnly",size:"medium",fullsize:!0,onClick:()=>{(0,b.Kz)(new d.UserClickEvent({button:d.Button.ExtendTrial,clickOrigin:d.ClickOrigin.BillingInformation})),p(!0)},children:o("team_dashboard_extend_trial_button")}):null]})]}),!T&&!i&&(0,f.BX)(c.Ejs,{sx:$i.WRAPPER,children:[(0,f.tZ)(l.nv,{textStyle:"ds.title.block.medium",color:"ds.text.neutral.quiet",children:o(e?"team_account_teamplan_plan_expiration_header":"team_account_teamplan_plan_header_annual")}),(0,f.tZ)(c.Ejs,{sx:{margin:"16px 0px"},children:(0,f.tZ)(l.nv,{color:"ds.text.neutral.standard",textStyle:"ds.specialty.spotlight.small",className:"automation-tests-tac-billing",children:o.shortDate(A,ga.qG.LL)})}),e?(0,f.tZ)(l.nv,{color:"ds.text.neutral.catchy",textStyle:"ds.title.block.medium",children:o("team_account_teamplan_plan_expiration_description",{expireDate:o.shortDate(A,ga.qG.LL)})}):(0,f.tZ)(l.nv,{color:"ds.text.neutral.catchy",textStyle:"ds.title.block.medium",children:B?o(L,{numSeats:n,seatCost:O?o.price(N,O,{notation:"compact"}):null,totalCost:R?o.price(N,R):null}):o("team_account_teamplan_plan_copy",{numSeats:n,seatCost:O?o.price(N,O,{notation:"compact"}):null,totalCost:M?o.price(N,M,{notation:"compact"}):null})}),(0,f.tZ)(qi,{handleGetPastReceipts:a})]}),i&&(0,f.BX)(c.Ejs,{sx:$i.WRAPPER,children:[(0,f.tZ)(l.nv,{textStyle:"ds.title.block.medium",color:"ds.text.danger.standard",children:o("team_account_teamplan_plan_header_trial_discontinued")}),(0,f.tZ)(c.Ejs,{sx:{margin:"16px 0px"},children:(0,f.tZ)(l.nv,{color:"ds.text.danger.standard",textStyle:"ds.specialty.spotlight.small",children:o.shortDate(A,ga.qG.LL)})}),(0,f.tZ)(l.nv,{color:"ds.text.neutral.catchy",textStyle:"ds.title.block.medium",children:o(I?"team_account_teamplan_plan_copy_trial_team_discontinued":"team_account_teamplan_plan_copy_trial_business_discontinued")}),(0,f.tZ)("div",{sx:$i.BUY_DASHLANE_BUTTON,children:(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",size:"medium",fullsize:!0,onClick:t,children:o("team_account_teamplan_plan_buy_dashlane_trial_discontinued")})}),(0,f.tZ)(qi,{handleGetPastReceipts:a})]})]}),m?(0,f.tZ)(w.XA,{initialDialog:w.s9.SURVEY}):null]})},Vi=()=>{const{translate:e}=(0,x.Z)();return(0,f.tZ)(di,{children:(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.regular",children:e.markup("team_account_discontinued_downgrade_message_markup",{},{linkTarget:"_blank"})})})};var Hi,Wi,Yi,Ki,Qi,Ji,es;const ts={backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"32px",flex:"1",overflow:"visible"},as=({lee:e,planName:t,usersToBeRenewedCount:a,isWindowCollapsed:n,handleGetPastReceipts:i,onRequestTeamUpgrade:s})=>{const{translate:r}=(0,x.Z)(),d=(0,Ee.Y)(),_=(0,ie.JS)(),u=(0,ie.lZ)(),{loading:m,billingCountry:p}=D(),g=(0,ci.M)(),h=!t,b=(0,ae.o)(li.P.EcommerceWebSadPathProd),y=(0,ae.o)(ne.w.EcommerceWebB2BDiscontinuationPhase1);if(d.status!==o.rq.Success||!d.data||_.status!==o.rq.Success||!_.data||!g||u.isLoading||m)return Hi||(Hi=(0,f.tZ)(l.ZX,{}));const S=_.data.b2bStatus?.currentTeam?.isRenewalStopped,v="invoice"===d.data.planType,C=!v&&"US"!==p,Z=u.isTrial&&u.isTeamSoftDiscontinued,T=y&&Z;return(0,f.BX)(c.Ejs,{flexDirection:"column",role:"complementary",children:[(0,f.tZ)(l.X6,{textStyle:"ds.title.section.large",as:"h1",color:"ds.text.neutral.standard",sx:{mb:"32px"},children:r("team_account_heading_billing_information")}),(0,f.BX)(c.Ejs,{gap:"24px",children:[(0,f.tZ)(c.Ejs,{flexDirection:"column",sx:{maxWidth:"40em"},children:(0,f.BX)(c.Ejs,{sx:(0,l.jM)([si.CARD_BORDER,ts]),flexDirection:"column",children:[(0,f.tZ)(Ni,{lee:e}),Wi||(Wi=(0,f.tZ)(ta,{})),v?(0,f.BX)(f.HY,{children:[Yi||(Yi=(0,f.tZ)(Ai,{})),Ki||(Ki=(0,f.tZ)(ta,{})),(0,f.tZ)(Bi,{isDisabled:h})]}):(0,f.tZ)(ji,{premiumStatusData:d.data,isDisabled:h}),C?(0,f.BX)(f.HY,{children:[(0,f.tZ)("div",{sx:{marginBottom:"16px"}}),Qi||(Qi=(0,f.tZ)(ta,{})),Ji||(Ji=(0,f.tZ)(bn,{isInAccountSummary:!0}))]}):null]})}),(0,f.tZ)(c.k$b,{sx:{width:n?"40em":"416px"},children:(0,f.tZ)(Fi,{onClickBuyDashlane:s,handleGetPastReceipts:i,usersToBeRenewedCount:a,isRenewalStopped:S,discontinuedTrial:!!T})}),(0,f.tZ)(c.Ejs,{flexDirection:"column",sx:{maxWidth:"40em"},children:T?es||(es=(0,f.tZ)(Vi,{})):b?(0,f.tZ)(vi,{status:g.status}):null})]})]})};var ns=a(342868);const is=({isOpen:e,lee:t,onClose:a})=>{const n=(0,r.useRef)(null),i=(0,r.useRef)(null),s=(0,r.useRef)(null),o=(0,r.useRef)(null),{translate:d}=(0,x.Z)(),{reportTACError:_}=H(),[u,m]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!0),h=Tn();if(!h)return null;const b=()=>{m(!1),a()},y=()=>{const e=(0,Gn.v0)(t.globalState);if(e)if(n.current?.value){b();try{(0,X.Yo)("https://ws1.dashlane.com/1/invoiceGeneration/generateTeamReceipt.pdf?"+(e=>{const t={...e,recipient:n.current?.value,company:i.current?.value,address:s.current?.value,vatNumber:o.current?.value};return ns.stringify(t)})(e))}catch(e){_(e)}}else m(!0);else _(new Error(Zi.N))},S=u?{feedback:{text:d("team_account_past_receipts_dialog_recipient_is_required")},error:!0}:{};return(0,f.BX)(l.Vq,{title:d("team_account_past_receipts_dialog_title"),closeActionLabel:d("_common_dialog_dismiss_button"),isOpen:e,onClose:b,actions:{primary:{children:d("team_account_past_receipts_dialog_download_button"),onClick:y,disabled:p}},children:[(0,f.tZ)(l.nv,{children:d("team_account_past_receipts_dialog_instructions")}),(0,f.BX)(c.T5p,{as:"form",onSubmit:y,gap:"1em",children:[(0,f.tZ)(l.qo,{label:d("team_account_past_receipts_dialog_recipient")+" *",placeholder:d("team_account_past_receipts_dialog_recipient_hint"),onChange:()=>{n.current?.value?(g(!1),m(!1)):(g(!0),m(!0))},ref:n,...S}),(0,f.tZ)(l.qo,{label:d("team_account_past_receipts_dialog_company"),value:h,placeholder:d("team_account_past_receipts_dialog_company_hint"),ref:i}),(0,f.tZ)(l.qo,{label:d("team_account_past_receipts_dialog_billing_address"),placeholder:d("team_account_past_receipts_dialog_billing_address_hint"),ref:s}),(0,f.tZ)(l.qo,{label:d("team_account_past_receipts_dialog_vat"),placeholder:d("team_account_past_receipts_dialog_vat_hint"),ref:o})]})]})},ss={padding:"8px",backgroundColor:"ds.container.expressive.brand.quiet.idle",borderRadius:"8px",margin:"auto"},rs=({cardTitle:e,cardDescription:t,iconName:a})=>(0,f.BX)(f.HY,{children:[(0,f.tZ)(c.dDn,{sx:ss,children:(0,f.tZ)(l.JO,{name:a,size:"large",color:"ds.text.brand.standard"})}),(0,f.BX)(c.dDn,{children:[(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.strong",children:e}),(0,f.tZ)(l.nv,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.quiet",sx:{marginTop:"4px"},children:t})]})]});var os,ls,cs;const ds={marginTop:"16px","&:hover":{cursor:"pointer",borderWidth:"2px",borderColor:"ds.border.brand.standard.hover"}},_s={width:"100%",padding:"20px 16px"},us=({handleClose:e,openUpgradeDialog:t})=>{const[a,n]=(0,r.useState)(!1),[i,s]=(0,r.useState)(!1),{translate:o}=(0,x.Z)(),{loading:d,hasCreditCardPaymentMethod:_,isExpired:u,pollUntilCardUpdate:m}=(0,S.C)({handleCardUpdate:t}),p=_?Li.A.REPLACE:Li.A.ADD,g=os||(os=(0,f.tZ)(l.zx,{intensity:"supershy",size:"large",layout:"iconOnly",icon:(0,f.tZ)(l.JO,{name:"ArrowRightOutlined",color:"ds.text.neutral.standard"})}));return d?ls||(ls=(0,f.tZ)(l.ZX,{})):(0,f.BX)(l.Vq,{isOpen:!0,closeActionLabel:o("_common_dialog_dismiss_button"),onClose:e,title:o("team_payment_method_dialog_buy_seats"),"aria-describedby":"dialogContent",children:[(0,f.tZ)(l.nv,{children:o("team_payment_method_dialog_title")}),_?(0,f.tZ)(c.Zbd,{sx:ds,onClick:()=>{u?(m(),s(!0)):t()},children:(0,f.BX)(c.T5p,{gap:"12px",gridTemplateColumns:"1fr 60px",sx:{width:"100%",padding:"0 16px"},children:[cs||(cs=(0,f.tZ)(c.dDn,{children:(0,f.tZ)(y.I,{b2b:!0,hideTitle:!0,hideUpdateButton:!0,displayModifiedCreditCardView:!0})})),(0,f.tZ)(c.dDn,{sx:{margin:"auto"},children:u&&i?(0,f.tZ)(l.zx,{intensity:"supershy",size:"large",children:(0,f.tZ)(Li.J,{b2c:!1,setPaymentLoading:s,mode:Li.A.UPDATE})}):g})]})}):null,(0,f.tZ)(c.Zbd,{sx:ds,onClick:()=>{m(),n(!0)},children:(0,f.BX)(c.T5p,{gap:"12px",gridTemplateColumns:"40px 1fr 60px",sx:_s,children:[(0,f.tZ)(rs,{cardTitle:o(_?"team_payment_method_dialog_another_credit_card":"team_payment_method_dialog_credit_card"),cardDescription:o(_?"team_payment_method_dialog_replace_credit_card":"team_payment_method_dialog_secondary_payment"),iconName:"ItemPaymentOutlined"}),(0,f.tZ)(c.dDn,{sx:{margin:"auto"},children:a?(0,f.tZ)(l.zx,{intensity:"supershy",size:"large",children:(0,f.tZ)(Li.J,{b2c:!1,setPaymentLoading:n,mode:p})}):g})]})}),(0,f.tZ)(c.Zbd,{sx:ds,onClick:()=>(0,X.Yo)(te.i1),children:(0,f.BX)(c.T5p,{gap:"12px",gridTemplateColumns:"40px 1fr 60px",sx:_s,children:[(0,f.tZ)(rs,{cardTitle:o("team_account_invoice_payment"),cardDescription:o("team_payment_method_dialog_support_team"),iconName:"ItemTaxNumberOutlined"}),(0,f.tZ)(c.dDn,{sx:{margin:"auto"},children:g})]})})]})};var ms=a(717676);const ps=54999,gs="sales@dashlane.com",hs="leeloo_teamplan_starter",bs="leeloo_teamplan_business",ys="leeloo_teamplan_team",xs=e=>e>ps;var Ss=a(411538);const fs=({isComputing:e,className:t,price:a})=>{const n=e?(0,f.tZ)(Ss.Z,{size:16,containerStyle:{display:"inline-block",position:"relative"}}):a;return(0,f.tZ)("span",{className:t,children:n})},vs=({billingDetails:e,additionalSeatsDetails:t})=>{var a,n;const{translate:i}=(0,x.Z)(),s=e.additionalSeats.seatsCount,r=null!=(a=e.additionalSeats.taxes)?a:0,o=i.price(e.currency,r/100),l=r>0,c=e.renewal.value+(null!=(n=e.renewal.taxes)?n:0),d=i.price(e.currency,c/100),_=100*t.reduce(((e,t)=>e+t.costPerSeat*t.numberOfSeats),0),u=i.price(e.currency,_/100),m=_-e.additionalSeats.value,p=_+r-m;return{additionalSeatsCount:s,additionalSeatsTaxesTranslation:o,hasTax:l,renewalTotalPrice:d,tierPriceTranslation:u,proratedDiscountTranslation:i.price(e.currency,m/100),hasProratedDiscount:m>0,dueTodayTranslation:i.price(e.currency,p/100)}};var Cs,Zs,Ts,Ds,Es;const ks={display:"flex",margin:"24px 0",color:"ds.text.neutral.standard"},ws=({label:e,labelSx:t,value:a})=>(0,f.BX)(c.Ejs,{sx:ks,children:[e?(0,f.tZ)(c.k$b,{flex:"1",sx:{...t},children:e}):null,a?(0,f.tZ)(c.k$b,{flex:"0",children:a}):null]}),Ns=({nextBillingDate:e,billingDetails:t,dueNowTranslation:a,seatCountLabel:n,totalSeatCount:i,onAdditionalSeatCountChange:s,isComputingBilling:o,additionalSeatsDetails:d,planType:_,billingCountry:u})=>{const{translate:m}=(0,x.Z)(),{additionalSeatsCount:p,additionalSeatsTaxesTranslation:g,hasTax:h,renewalTotalPrice:b,tierPriceTranslation:v,proratedDiscountTranslation:C,hasProratedDiscount:Z}=vs({billingDetails:t,additionalSeatsDetails:d}),{pollUntilCardUpdate:T}=(0,S.C)({}),[D,E]=(0,r.useState)(!1),k="US"===u?"team_account_teamplan_upgrade_tax":"team_account_teamplan_vat",w="invoice"===_?"team_account_teamplan_upgrade_invoice_renewal_price":h?"US"===u?"team_account_teamplan_upgrade_renewal_tax_price":"team_account_teamplan_upgrade_renewal_vat_price":"team_account_teamplan_upgrade_renewal_price";return(0,f.BX)(f.HY,{children:[(0,f.tZ)(c.Ejs,{sx:{padding:"28px 0",fontSize:4,fontWeight:"bold",color:"ds.text.neutral.catchy"},children:(0,f.tZ)(_a.w,{inputWidth:"66px",label:n,id:"numberOfSeats",defaultValue:1,minValue:1,onChange:s})}),Cs||(Cs=(0,f.tZ)(ta,{})),(0,f.tZ)(ws,{label:m("team_account_teamplan_upgrade_premium_number_of_seats"),value:i}),(0,f.tZ)(ws,{label:m("team_account_teamplan_upgrade_new_seat",{count:p}),value:v}),h&&(0,f.tZ)(ws,{label:m(k),value:g}),Z&&(0,f.tZ)(ws,{label:(0,f.BX)(f.HY,{children:[(0,f.tZ)(c.nvN,{children:m("team_account_teamplan_changeplan_order_summary_prorated_discount")}),(0,f.tZ)(c.ua7,{content:m("team_account_teamplan_changeplan_order_summary_prorated_discount_tooltip"),children:(0,f.tZ)(c.uMt,{size:16,color:c.colors.grey00})})]}),labelSx:{display:"flex",alignItems:"center"},value:C}),(0,f.BX)(f.HY,{children:[Zs||(Zs=(0,f.tZ)(ta,{})),(0,f.tZ)(c.nvN,{sx:{marginTop:"24px",fontSize:"18px"},children:m("team_payment_method_dialog_credit_card")}),(0,f.BX)(c.Ejs,{sx:{...ks,borderWidth:"1px",borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderRadius:"4px"},children:[(0,f.tZ)(c.k$b,{flex:"1",sx:{paddingLeft:"16px"},children:Ts||(Ts=(0,f.tZ)(y.I,{b2b:!0,hideTitle:!0,hideUpdateButton:!0,displayModifiedCreditCardView:!0}))}),(0,f.tZ)(c.k$b,{flex:"0",sx:{margin:"auto 0",paddingRight:"12px"},children:(0,f.tZ)(l.zx,{icon:Ds||(Ds=(0,f.tZ)(l.JO,{name:"ActionEditOutlined"})),layout:"iconLeading",intensity:"supershy",onClick:()=>{T(),E(!0)},children:D?(0,f.tZ)(Li.J,{b2c:!1,setPaymentLoading:E,mode:Li.A.UPDATE}):m("team_account_name_edit_label")})})]})]}),(0,f.tZ)(c.Ejs,{sx:ks,children:(0,f.tZ)(l.ke,{title:m(w,{totalPrice:b,totalSeat:i,date:m.shortDate(e,ga._T.LL)})})}),Es||(Es=(0,f.tZ)(ta,{})),(0,f.BX)(c.Ejs,{sx:{display:"flex",marginTop:"24px",fontSize:4},children:[(0,f.tZ)(c.k$b,{flex:"1",children:m("team_account_teamplan_upgrade_due_now")}),(0,f.tZ)(fs,{isComputing:o,price:a,className:"totalAmount--BaEFEdvow1"})]})]})},Is=(e,t)=>t.startMembers-e.startMembers,As=(e,t,a)=>{if(!a)return[];const n=a.slice(0).sort(Is);if(0!==n[n.length-1].startMembers)throw new Error("getAdditionalSeatsCostDetails:: missing tier one in price ranges");if(e<0||t<0)throw new Error("getAdditionalSeatsCostDetails:: number of licences cannot be negative");return n.reduce(((e,t)=>({membersRangeEnd:a,costDetails:n},i)=>{const s=i.startMembers;if(s<=t&&a>e&&t>e){const r=Math.max(Math.max(s-1,e),0),o=Math.min(t,a-1);n.unshift({costPerSeat:i.price/100,numberOfSeats:o-r})}return{membersRangeEnd:s,costDetails:n}})(e,t),{membersRangeEnd:Number.MAX_VALUE,costDetails:[]}).costDetails},Ms=(0,r.forwardRef)((function({nextBillingDetails:e,billingDetails:t,isComputingBilling:a,onSeatCountChange:n,numberOfCurrentPaidSlots:i,numberOfCurrentUsedSlots:s,currentPlanPriceRanges:o,planType:c,billingCountry:d},_){var u;const[m,p]=(0,r.useState)(1),[g,h]=(0,r.useState)(!1),{translate:b}=(0,x.Z)();(0,r.useImperativeHandle)(_,(()=>({additionalSeatCount:m})));const y=i+m,S=(0,na.Z)(e.dateUnix),v=As(i,t.renewal.seatsCount,o),C=null!=(u=t.additionalSeats.taxes)?u:0,Z=t.additionalSeats.value+C,T=g?"-":b.price(t.currency,Z/100),D=b("team_account_teamplan_upgrade_premium_number_of_additional_seats"),E=g?b("team_account_teamplan_upgrade_premium_buy_more_seats_than_cap",{seatCap:ps,salesEmail:gs}):m<1?b("team_account_teamplan_upgrade_premium_buy_more_seats_when_premium",{count:1}):s>y?b("team_account_teamplan_upgrade_premium_below_used_seat_count",{usedSeatCount:s}):null;return(0,f.BX)(f.HY,{children:[E?(0,f.tZ)(l.ke,{className:"errorToaster--MU18Q0SFxy",title:E,mood:"danger"}):null,(0,f.tZ)(Ns,{nextBillingDate:S,billingDetails:t,dueNowTranslation:T,seatCountLabel:D,totalSeatCount:y,onAdditionalSeatCountChange:e=>{const t=e<0,a=e>ps;h(a),p(e),a||t||n(e)},isComputingBilling:a,additionalSeatsDetails:v,planType:null!=c?c:"",billingCountry:d})]})})),Os=Ms;var Ls;const Bs=()=>{const{translate:e}=(0,x.Z)();return(0,f.tZ)(c.u_l,{isOpen:!0,onClose:()=>{},children:(0,f.BX)(c.Ejs,{alignItems:"center",flexDirection:"column",justifyContent:"center",sx:{width:"100vw",height:"100vh",backgroundColor:c.colors.dashGreen06},children:[Ls||(Ls=(0,f.tZ)(l.ZX,{size:"small"})),(0,f.BX)(c.Ejs,{alignItems:"center",flexDirection:"column",justifyContent:"center",gap:"6px",sx:{paddingTop:"22px"},children:[(0,f.tZ)(c.nvN,{size:"medium",color:c.colors.grey00,children:e("team_account_addseats_processing_copy_line_1")}),(0,f.tZ)(c.nvN,{size:"medium",color:c.colors.grey00,children:e("team_account_addseats_processing_copy_line_2")})]})]})})};var Rs=a(169340);const zs=e=>{const{reportTACError:t}=H(),[a,n]=(0,r.useState)({renewal:{seatsCount:0,value:0,taxes:0},additionalSeats:{seatsCount:0,value:0,taxes:0},currency:"usd"}),[i,s]=(0,r.useState)(!1),[o,l]=(0,r.useState)(0),[c,d]=(0,r.useState)(0),_=(0,E.debounce)((a=>{(async a=>{try{var i;const t=await Ze.C.computePlanPricing({seats:a});if(!t.success)return;const o={renewal:{seatsCount:(r=t.data).renewal.seatsCount,value:r.renewal.price.value,taxes:r.renewal.price.taxes},additionalSeats:{seatsCount:r.additionalSeats.seatsCount,value:r.additionalSeats.price.value,taxes:r.additionalSeats.price.taxes},currency:r.renewal.price.currency};if(null!==e&&e()!==o.additionalSeats.seatsCount)return;const c=o.additionalSeats.value,_=null!=(i=o.additionalSeats.taxes)?i:0;l(c),d(_),n(o),s(!1)}catch(e){const a=new Error((0,Rs.i)(e));t(a)}var r})(a)}),500);return{billingDetails:a,isComputingBilling:i,amountToPay:o,amountToTax:c,onSeatCountChange:e=>{_(e),s(!0)}}};var Ps;const Xs=({onUpgradeSuccess:e,nextBillingDetails:t,numberOfCurrentPaidSlots:a,numberOfCurrentUsedSlots:n,onRequestClose:i,planTier:s})=>{const o=(0,r.useRef)(null),[c,u]=(0,r.useState)(!0),[p,h]=(0,r.useState)(!1),{translate:y}=(0,x.Z)(),{reportTACError:S}=H(),v=(0,_.k)(m.o,"getTeamBillingInformation"),{addSeats:C}=(0,q.u)(m.o),Z=(0,ie.JS)(),{loading:T,billingCountry:E}=D(),k=v.status===ue.rq.Success?v.data.planDetails.priceRanges:void 0,w=Z.status===ue.rq.Success?Z.data.b2bStatus?.currentTeam?.teamInfo.planType:void 0,N=(0,r.useCallback)((()=>{var e;return null!=(e=o?.current?.additionalSeatCount)?e:1}),[]),I=null===o||v.status===ue.rq.Loading||Z.status===ue.rq.Loading||T||void 0===E,{billingDetails:A,isComputingBilling:M,onSeatCountChange:O}=zs(N),L=function(e,t){switch(e){case g.lD.Starter:return t(hs);case g.lD.Team:return t(ys);case g.lD.Business:return t(bs);default:throw new Error("Cannot retrieve default key")}}(s,y);(0,r.useEffect)((()=>{(0,b.Nc)(d.PageView.TacAccountBuy)}),[]),(0,r.useEffect)((()=>{if(v.status===ue.rq.Error){const e=new Error("Error retrieving TeamBillingInformation to update price ranges");S(e)}}),[v]),(0,r.useEffect)((()=>{O(N())}),[N]);const B=As(a,A.renewal.seatsCount,k);if(I)return null;const R=(0,f.BX)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",maxWidth:"100%"},children:[(0,f.tZ)(l.zx,{intensity:"quiet",mood:"neutral",size:"medium",onClick:i,sx:{marginRight:"8px"},children:y("team_account_teamplan_upgrade_premium_cancel")}),(0,f.tZ)(l.zx,{size:"medium",onClick:async()=>{u(!1),h(!0),"success"===(await C({seats:N()})).tag&&e(B,A)},children:y("team_account_teamplan_upgrade_buy_seat",{count:N()})})]});return(0,f.BX)(f.HY,{children:[p?Ps||(Ps=(0,f.tZ)(Bs,{})):null,c?(0,f.tZ)(ms.o,{showCloseIcon:!0,footer:R,title:y("team_account_teamplan_upgrade_add_seats_title",{plan:L}),isOpen:!0,onRequestClose:i,children:(0,f.tZ)(Os,{ref:o,planType:w,nextBillingDetails:t,billingDetails:A,isComputingBilling:M,onSeatCountChange:O,numberOfCurrentPaidSlots:a,numberOfCurrentUsedSlots:n,currentPlanPriceRanges:k,billingCountry:E})}):null]})};var Us;const js=({label:e,value:t,...a})=>(0,f.BX)(c.Ejs,{justifyContent:"flex-end",sx:{display:"flex",justifyContent:"flexEnd"},...a,children:[e?(0,f.tZ)(c.k$b,{flex:"1",sx:{display:"flex",alignItems:"center"},children:e}):null,t?(0,f.tZ)(c.k$b,{sx:{display:"flex",alignItems:"center"},children:t}):null]}),qs=({billingDetails:e,additionalSeatsDetails:t})=>{const{translate:a}=(0,x.Z)(),{additionalSeatsCount:n,additionalSeatsTaxesTranslation:i,hasTax:s,tierPriceTranslation:r,proratedDiscountTranslation:o,hasProratedDiscount:d,dueTodayTranslation:_}=vs({billingDetails:e,additionalSeatsDetails:t});return(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"32px",sx:{borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderWidth:"1px",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"24px",borderRadius:"4px"},children:[(0,f.tZ)(js,{alignItems:"end",label:(0,f.tZ)(c.X6q,{size:"small",children:a("team_account_addseats_success_order_summary_header")}),value:(0,f.tZ)(c.nvN,{color:"ds.text.neutral.quiet",children:(0,rn.Z)(new Date,"MM/dd/yyyy")})}),(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"16px",children:[(0,f.tZ)(js,{label:(0,f.tZ)(c.nvN,{size:"small",color:"ds.text.neutral.catchy",children:a("team_account_teamplan_upgrade_new_seat",{count:n})}),value:(0,f.tZ)(c.nvN,{size:"small",color:"ds.text.neutral.catchy",children:r})}),s?(0,f.tZ)(js,{label:(0,f.tZ)(c.nvN,{size:"small",color:"ds.text.neutral.catchy",children:a("team_account_addseats_success_order_summary_tax")}),value:(0,f.tZ)(c.nvN,{size:"small",color:"ds.text.neutral.catchy",children:i})}):null,d?(0,f.tZ)(js,{label:(0,f.BX)(c.Ejs,{alignItems:"center",gap:"5px",children:[(0,f.tZ)(c.nvN,{size:"small",color:"ds.text.neutral.catchy",children:a("team_account_addseats_success_order_summary_prorated_discount")}),(0,f.tZ)(c.ua7,{content:a("team_account_addseats_success_order_summary_prorated_discount_tooltip"),children:Us||(Us=(0,f.tZ)(c.uMt,{size:16,color:"ds.text.neutral.catchy"}))})]}),value:(0,f.tZ)(c.nvN,{size:"small",color:"ds.text.neutral.catchy",children:o})}):null,(0,f.tZ)("div",{style:{width:"100%",borderColor:l.O9.lightTheme.ds.border.neutral.quiet.idle,borderWidth:"1px",borderStyle:"solid",borderBottom:"0",margin:"0"}}),(0,f.tZ)(js,{label:(0,f.tZ)(c.nvN,{size:"large",bold:!0,color:"ds.text.neutral.catchy",children:a("team_account_addseats_success_order_summary_total")}),value:(0,f.tZ)(c.nvN,{size:"large",bold:!0,color:"ds.text.neutral.catchy",children:_})})]})]})},Gs=({isBusiness:e,additionalSeats:t,onGetPastReceipts:a})=>{const{routes:n}=(0,s.Xo)(),{translate:i}=(0,x.Z)();return(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"40px",sx:{borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderWidth:"1px",borderRadius:"4px",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"32px"},children:[(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"8px",children:[e?(0,f.tZ)(c.X6q,{size:"small",children:i("team_account_addseats_success_newseats_header_business",{count:t})}):(0,f.tZ)(c.X6q,{size:"small",children:i("team_account_addseats_success_newseats_header_team",{count:t})}),(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",children:i("team_account_addseats_success_newseats_body")})]}),(0,f.BX)(c.Ejs,{gap:"8px",children:[(0,f.tZ)(s.rU,{to:n.teamMembersRoutePath,children:(0,f.tZ)(l.zx,{onClick:()=>{(0,b.Kz)(new d.UserSendManualInviteEvent({flowStep:d.FlowStep.Start,inviteCount:0,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:!0,isResend:!1}))},mood:"brand",children:i("team_account_addseats_success_newseats_invite_users_cta")})}),a?(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",onClick:a,children:i("team_account_addseats_success_newseats_billing_history_cta")}):(0,f.tZ)(l.zx,{as:s.rU,to:n.teamAccountRoutePath,mood:"neutral",intensity:"quiet",children:i("team_account_addseats_success_newseats_go_to_account_summary_cta")})]})]})};var $s;const Fs=()=>{const{translate:e}=(0,x.Z)();return(0,f.BX)(c.Ejs,{flexWrap:"nowrap",gap:"16px",sx:{borderStyle:"solid",borderColor:"ds.border.neutral.quiet.idle",borderWidth:"1px",backgroundColor:"ds.container.agnostic.neutral.supershy",borderRadius:"4px",padding:"32px"},children:[(0,f.tZ)(c.Ejs,{sx:{padding:"10px 8px",width:"40px",height:"40px",borderRadius:"8px",backgroundColor:"ds.container.expressive.brand.quiet.idle"},children:$s||($s=(0,f.tZ)(l.JO,{name:"GroupOutlined",color:"ds.text.neutral.standard"}))}),(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"16px",sx:{flexGrow:"1"},children:[(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"8px",children:[(0,f.tZ)(c.nvN,{size:"large",bold:!0,color:"ds.text.neutral.catchy",children:e("team_account_addseats_success_friends_family_header")}),(0,f.tZ)(c.nvN,{size:"small",color:"ds.text.neutral.quiet",children:e("team_account_addseats_success_friends_family_body")})]}),(0,f.tZ)("a",{href:"https://support.dashlane.com/hc/articles/360013369820-Dashlane-Friends-Family-plan",target:"_blank",rel:"noopener noreferrer",children:(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",children:e("team_account_addseats_success_friends_family_learn_more_cta")})})]})]})};var Vs,Hs,Ws;const Ys=({planTier:e,lastBillingDetails:t,lastAdditionalSeatsDetails:a,onGetPastReceipts:n,onNavigateBack:i})=>{const{translate:s}=(0,x.Z)(),[o,l]=(0,r.useState)(a),[_,u]=(0,r.useState)(t),{additionalSeatsCount:m}=vs({billingDetails:_,additionalSeatsDetails:o}),p=(0,f.tZ)("div",{children:(0,f.tZ)(c.zxk,{type:"button",nature:"ghost",onClick:i,children:(0,f.BX)(c.Ejs,{alignItems:"center",children:[Vs||(Vs=(0,f.tZ)(c.xCe,{size:14})),(0,f.tZ)(c.nvN,{bold:!0,sx:{marginLeft:"14px",color:"ds.text.neutral.standard"},children:s("_common_action_back")})]})})}),h=e===g.lD.Business,{setNavBarChildren:y}=(0,r.useContext)(Tt);return(0,r.useEffect)((()=>(y(p),(0,b.Nc)(d.PageView.TacOrderConfirmation),()=>{y(null),i()})),[]),(0,r.useEffect)((()=>{u(t),l(a)}),[t,a]),(0,f.tZ)(c.Ejs,{flexDirection:"column",gap:"32px",sx:{padding:"32px",flexWrap:"nowrap"},children:(0,f.BX)(c.Ejs,{gap:"16px",sx:{flexWrap:"nowrap"},children:[(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"16px",sx:{flexGrow:"2",maxWidth:"632px"},children:[(0,f.tZ)(Gs,{onGetPastReceipts:n,isBusiness:h,additionalSeats:m}),h?Hs||(Hs=(0,f.tZ)(Fs,{})):null]}),(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"16px",sx:{flexGrow:"1"},children:[(0,f.tZ)(qs,{billingDetails:_,additionalSeatsDetails:o}),Ws||(Ws=(0,f.tZ)(v,{}))]})]})})},Ks=()=>document.documentElement.clientWidth<1371;var Qs=a(806135),Js=a(80237),er=a(276376);const tr=(e,t)=>[e.url,...e.subPaths?e.subPaths.map((t=>`${e.url}${t}`)):[]].includes(t),ar={TITLE:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"32px"},TAB:{width:"auto",whiteSpace:"nowrap",color:"ds.text.neutral.standard !important",backgroundColor:"ds.container.expressive.neutral.supershy.idle !important","&:hover, &:active":{backgroundColor:"ds.container.expressive.neutral.supershy.hover !important"}},DISABLED_TAB:{pointerEvents:"none",color:"ds.text.oddity.disabled"},SELECTED_TAB:{backgroundColor:"ds.container.expressive.neutral.supershy.active !important"}},nr=({title:e,titleBadge:t,subtitle:a,tabs:n=[],extraInfo:i,hasInfobox:r})=>{const{pathname:o}=(0,s.TH)();return e||n.length?(0,f.BX)("nav",{className:r?void 0:"tabMenuContainer--y2MfbHSdck",children:[e?(0,f.tZ)(l.X6,{as:"h1",textStyle:"ds.title.section.large",color:"ds.text.neutral.catchy",children:(0,f.BX)("span",{sx:ar.TITLE,children:[e,t]})}):null,a?(0,f.tZ)(l.nv,{as:"h2",textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",sx:{marginBottom:"32px",a:{fontWeight:600}},children:a}):null,null!=i?i:null,n.length?(0,f.tZ)(c.G8v,{children:n.map((e=>(0,f.tZ)(c.h2L,{label:e.label,notification:e.notifications,selected:tr(e,o),sx:(0,l.jM)([ar.TAB,e.isDisabled?ar.DISABLED_TAB:{},tr(e,o)?ar.SELECTED_TAB:{}]),as:t=>(0,f.tZ)(s.OL,{to:e.url,...t})},e.label)))}):null]}):null},ir=()=>{var e;const{translate:t}=(0,x.Z)(),a=(0,z.B)(),n=`${te.ub}?plan=business&subCode=${null!=(e=a?.subscriptionCode)?e:""}`;return(0,f.tZ)(l.ke,{title:t("team_activity_business_infobox_title"),description:t("team_activity_business_infobox_description"),size:"large",actions:[(0,f.tZ)(l.zx,{as:"a",href:n,rel:"noopener noreferrer",target:"_blank",onClick:()=>{(0,b.Kz)(new d.UserClickEvent({clickOrigin:d.ClickOrigin.BannerActivityLogPaywall,button:d.Button.UpgradeBusinessTier}))},children:t("team_account_teamplan_plan_buy_dashlane")},"buyDashlane")],sx:{marginBottom:"32px"}})},sr=()=>{const{translate:e}=(0,x.Z)(),t=(0,q.u)(Le.t);return(0,f.tZ)(l.ke,{title:e("team_activity_logs_infobox_title"),description:e("team_activity_logs_infobox_description"),size:"large",actions:[(0,f.tZ)(l.zx,{intensity:"quiet",onClick:()=>{t.markActivityLogsInfoboxSeen()},children:e("team_activity_logs_infobox_confirm")},"dismiss")],sx:{marginBottom:"32px"}})};var rr,or;const lr=(0,r.memo)((({title:e})=>{const{translate:t}=(0,x.Z)(),{routes:a}=(0,er.Xo)(),n=(0,o.qr)({queryConfig:{query:Ze.C.getAccountRecoveryRequestCount},liveConfig:{live:Ze.C.liveAccountRecoveryRequestCount}},[]),i=(0,Ie.h)(),s=(0,Qs.S)(),r=(()=>{const e=(0,Qs.S)(),t=(0,se.C)(),a=(0,_.k)(Le.t,"hasSeenActivityLogsInfobox"),n=(0,ae.o)("monetization_extension_activity_logs_repackage"),i=(0,ae.o)("monetization_extension_trial_activity_logs"),s=!e?.activityLog.enabled;if(!t||a.status!==o.rq.Success)return null;const r=n&&s&&!a.data,l=i&&t.isFreeTrial?rr||(rr=(0,f.tZ)(ir,{})):r?or||(or=(0,f.tZ)(sr,{})):void 0;return{activityInfobox:l,hasInfobox:!!l}})(),l=!s?.activityLog.enabled,c=n.status===o.rq.Success&&n.data,d=l?t("team_activity_paywall_header"):t.markup("team_activity_header_subtitle_markup",{},{linkTarget:"_blank"});return(0,f.tZ)(nr,{title:e,subtitle:d,tabs:(()=>{const e=[];return e.push({label:t("team_activity_header_tab_activity_logs"),url:`${a.teamActivityRoutePath}/recent`}),i.status===o.rq.Success&&i.data&&e.push({label:t("team_activity_header_tab_mpr_requests"),url:`${a.teamActivityRoutePath}/requests`,notifications:c||0}),e})(),extraInfo:r?.activityInfobox,hasInfobox:r?.hasInfobox})})),cr=({header:e,children:t})=>(0,f.BX)("div",{sx:{display:"flex",flexDirection:"column",padding:"32px",gap:"16px"},children:[e,t]}),dr={ACTIVITY_PANEL:{display:"inline-block",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"24px 32px",borderRadius:"8px",border:"1px solid ds.border.neutral.quiet.idle",flex:"1"}},_r=({isLoading:e,children:t})=>{const{translate:a}=(0,x.Z)();return(0,f.tZ)(cr,{header:(0,f.tZ)(lr,{title:a("team_activity_header_title")}),children:e?(0,f.tZ)(Ss.Z,{containerStyle:{minHeight:240}}):(0,f.tZ)("div",{sx:dr.ACTIVITY_PANEL,children:t})})};var ur=a(973183),mr=a(354760);const pr=({text:e})=>{if(!e)return null;const t=e.split("**");return 1===t.length?(0,f.tZ)("span",{children:e}):(0,f.tZ)("span",{children:t.map(((e,t)=>t%2==1?(0,f.tZ)("strong",{children:e},`${e}-${t}`):e))})};var gr=a(755920);const hr=Object.values(gr.z),br="team_audit_log_user_private_collection_renamed",yr="team_audit_log_user_imported_credentials_one",xr="team_audit_log_user_imported_credentials_many",Sr={[gr.z.UserInvited]:(e,t)=>t("team_audit_log_user_invited",{email:`**${e?.properties?.target_login}**`}),[gr.z.UserReinvited]:(e,t)=>t("team_audit_log_user_reinvited",{email:`**${e?.properties?.target_login}**`}),[gr.z.UserRemoved]:(e,t)=>t("team_audit_log_user_removed",{email:`**${e?.properties?.target_login}**`}),[gr.z.TeamCaptainAdded]:(e,t)=>t("team_audit_log_team_captain_added",{email:`**${e?.properties?.target_login}**`}),[gr.z.TeamCaptainRemoved]:(e,t)=>t("team_audit_log_team_captain_removed",{email:`**${e?.properties?.target_login}**`}),[gr.z.GroupManagerAdded]:(e,t)=>t("team_audit_log_group_manager_added",{email:`**${e?.properties?.target_login}**`}),[gr.z.GroupManagerRemoved]:(e,t)=>t("team_audit_log_group_manager_removed",{email:`**${e?.properties?.target_login}**`}),[gr.z.MasterPasswordResetAccepted]:(e,t)=>t("team_audit_log_master_password_reset_accepted",{email:`**${e?.properties?.target_login}**`}),[gr.z.MasterPasswordResetRefused]:(e,t)=>t("team_audit_log_master_password_reset_refused",{email:`**${e?.properties?.target_login}**`}),[gr.z.BillingAdminAdded]:(e,t)=>t("team_audit_log_billing_admin_added",{email:`**${e?.properties?.target_login}**`}),[gr.z.BillingAdminRemoved]:(e,t)=>t("team_audit_log_billing_admin_removed",{email:`**${e?.properties?.target_login}**`}),[gr.z.UserGroupCreated]:(e,t)=>t("team_audit_log_user_group_created",{groupName:`**${e.properties?.group_name}**`}),[gr.z.UserGroupRenamed]:(e,t)=>t("team_audit_log_user_group_renamed",{newGroupName:`**${e.properties?.group_name}**`,oldGroupName:`**${e.properties?.old_group_name}**`}),[gr.z.UserGroupDeleted]:(e,t)=>t("team_audit_log_user_group_deleted",{groupName:`**${e.properties?.group_name}**`}),[gr.z.UserJoinedUserGroup]:(e,t)=>t("team_audit_log_user_joined_user_group",{groupName:`**${e.properties?.group_name}**`}),[gr.z.UserLeftUserGroup]:(e,t)=>t("team_audit_log_user_left_user_group",{groupName:`**${e.properties?.group_name}**`}),[gr.z.UserInvitedToUserGroup]:(e,t)=>t("team_audit_log_user_invited_to_user_group",{groupName:`**${e.properties?.group_name}**`,email:`**${e?.properties?.target_login}**`}),[gr.z.UserDeclinedInviteToUserGroup]:(e,t)=>t("team_audit_log_user_declined_invite_to_user_group",{groupName:`**${e.properties?.group_name}**`}),[gr.z.UserRemovedFromUserGroup]:(e,t)=>t("team_audit_log_user_removed_from_user_group",{groupName:`**${e.properties?.group_name}**`,email:`**${e?.properties?.target_login}**`}),[gr.z.DomainRequested]:(e,t)=>t("team_audit_log_domain_requested",{domain:`**${e.properties?.domain_url}**`}),[gr.z.DomainValidated]:(e,t)=>t("team_audit_log_domain_validated",{domain:`**${e.properties?.domain_url}**`}),[gr.z.SensitiveLogsEnabled]:(e,t)=>t("team_audit_log_collect_sensitive_data_audit_logs_enabled"),[gr.z.SensitiveLogsDisabled]:(e,t)=>t("team_audit_log_collect_sensitive_data_audit_logs_disabled"),[gr.z.SsoIdpMetadataSet]:(e,t)=>t("team_audit_log_sso_idp_metadata_set"),[gr.z.SsoServiceProviderUrlSet]:(e,t)=>t("team_audit_log_sso_service_provider_url_set"),[gr.z.SsoEnabled]:(e,t)=>t("team_audit_log_sso_enabled"),[gr.z.SsoDisabled]:(e,t)=>t("team_audit_log_sso_disabled"),[gr.z.TeamNameChanged]:(e,t)=>t("team_audit_log_team_name_changed",{name:`**${e.properties?.name}**`}),[gr.z.NewBillingPeriodCreated]:(e,t)=>t("team_audit_log_new_billing_period_created",{date:`**${t.shortDate((0,na.Z)(e.properties?.new_end_date_unix),ga._T.L)}**`}),[gr.z.SeatsAdded]:(e,t)=>t("team_audit_log_seats_added",{count:`**${e.properties?.seats_added}**`}),[gr.z.ContactEmailChanged]:(e,t)=>t("team_audit_log_contact_email_changed",{email:`**${e?.properties?.new_contact_email}**`}),[gr.z.MasterPasswordMobileResetEnabled]:(e,t)=>t("team_audit_log_master_password_mobile_reset_enabled",{deviceName:e?.properties?.device_name?`**${e?.properties?.device_name}**`:"mobile"}),[gr.z.MasterPasswordMobileResetDisabled]:(e,t)=>t("team_audit_log_master_password_mobile_reset_disabled",{deviceName:e?.properties?.device_name?`**${e?.properties?.device_name}**`:"mobile"}),[gr.z.MasterPasswordChanged]:(e,t)=>t("team_audit_log_master_password_changed"),[gr.z.MpToViewPasswordsEnabled]:(e,t)=>t("team_audit_log_mp_to_view_passwords_enabled"),[gr.z.MpToViewPasswordsDisabled]:(e,t)=>t("team_audit_log_mp_to_view_passwords_disabled"),[gr.z.TwoFactorAuthenticationLoginMethodAdded]:(e,t)=>t("team_audit_log_two_factor_authentication_login_method_added"),[gr.z.TwoFactorAuthenticationLoginMethodRemoved]:(e,t)=>t("team_audit_log_two_factor_authentication_login_method_removed"),[gr.z.BiometricSignInDisabled]:(e,t)=>t("team_audit_log_biometric_sign_in_disabled",{deviceName:`**${e?.properties?.device_name}**`}),[gr.z.NitroSsoSetupStarted]:(e,t)=>t("team_audit_log_nitro_sso_setup_started"),[gr.z.NitroSsoDomainProvisioned]:(e,t)=>t("team_audit_log_nitro_sso_domain_provisioned",{domain:`**${e?.properties?.domain_url}**`}),[gr.z.NitroSsoDomainRemoved]:(e,t)=>t("team_audit_log_nitro_sso_domain_removed",{domain:`**${e?.properties?.domain_url}**`}),[gr.z.NitroSsoDomainVerified]:(e,t)=>t("team_audit_log_nitro_sso_domain_verified",{domain:`**${e?.properties?.domain_url}**`}),[gr.z.DWMEmailAdded]:(e,t)=>t("team_audit_log_dwm_email_added",{email:`**${e?.properties?.dark_web_monitoring_email}**`}),[gr.z.DWMEmailRemoved]:(e,t)=>t("team_audit_log_dwm_email_removed",{email:`**${e?.properties?.dark_web_monitoring_email}**`}),[gr.z.DWMAlertReceived]:(e,t)=>t("team_audit_log_dwm_alert_received",{email:`**${e?.properties?.dark_web_monitoring_email}**`}),[gr.z.UserDeviceAdded]:(e,t)=>t("team_audit_log_user_device_added",{name:`**${e.properties?.device_name}**`}),[gr.z.UserDeviceRemoved]:(e,t)=>t("team_audit_log_user_device_removed",{name:`**${e.properties?.device_name}**`}),[gr.z.UserDeviceLogin]:(e,t)=>t("team_audit_log_user_device_login",{name:`**${e.properties?.device_name}**`}),[gr.z.MasterPasswordReset]:(e,t)=>t("team_audit_log_master_password_reset"),[gr.z.RequestedAccountRecovery]:(e,t)=>t("team_audit_log_requested_account_recovery"),[gr.z.CompletedAccountRecovery]:(e,t)=>t("team_audit_log_completed_account_recovery"),[gr.z.MasterPasswordMobileReset]:(e,t)=>t("team_audit_log_master_password_mobile_reset",{deviceName:e?.properties?.device_name?`**${e?.properties?.device_name}**`:"mobile"}),[gr.z.UserSharedCredentialWithGroup]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_credential_with_group_full":"team_audit_log_user_shared_credential_with_group_limited",{domain:`**${a.properties.domain_url}**`,group:`**${a.properties.group_name}**`})},[gr.z.UserSharedCredentialWithEmail]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_credential_with_email_full":"team_audit_log_user_shared_credential_with_email_limited",{domain:`**${a.properties.domain_url}**`,email:`**${a.properties.target_login}**`})},[gr.z.UserSharedCredentialWithExternal]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_credential_with_external_full":"team_audit_log_user_shared_credential_with_external_limited",{domain:`**${a.properties.domain_url}**`,email:`**${a.properties.target_login}**`})},[gr.z.UserSharedSecureNoteWithGroup]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_secure_note_with_group_full":"team_audit_log_user_shared_secure_note_with_group_limited",{name:`**${a.properties.item_name}**`,group:`**${a.properties.group_name}**`})},[gr.z.UserSharedSecureNoteWithEmail]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_secure_note_with_email_full":"team_audit_log_user_shared_secure_note_with_email_limited",{name:`**${a.properties.item_name}**`,email:`**${a.properties.target_login}**`})},[gr.z.UserSharedSecureNoteWithExternal]:(e,t)=>{const a=e;return t("admin"===a.properties.permission?"team_audit_log_user_shared_secure_note_with_external_full":"team_audit_log_user_shared_secure_note_with_external_limited",{name:`**${a.properties.item_name}**`,email:`**${a.properties.target_login}**`})},[gr.z.UserRevokedSharedCredentialGroup]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_credential_group",{domain:`**${a.properties.domain_url}**`,group:`**${a.properties.group_name}**`})},[gr.z.UserRevokedSharedCredentialEmail]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_credential_email",{domain:`**${a.properties.domain_url}**`,email:`**${a.properties.target_login}**`})},[gr.z.UserRevokedSharedCredentialExternal]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_credential_external",{domain:`**${a.properties.domain_url}**`,email:`**${a.properties.target_login}**`})},[gr.z.UserRevokedSharedSecureNoteGroup]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_secure_note_group",{name:`**${a.properties.item_name}**`,group:`**${a.properties.group_name}**`})},[gr.z.UserRevokedSharedSecureNoteEmail]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_secure_note_email",{name:`**${a.properties.item_name}**`,email:`**${a.properties.target_login}**`})},[gr.z.UserRevokedSharedSecureNoteExternal]:(e,t)=>{const a=e;return t("team_audit_log_user_revoked_shared_secure_note_external",{name:`**${a.properties.item_name}**`,email:`**${a.properties.target_login}**`})},[gr.z.UserAcceptedSharingInviteSecureNote]:(e,t)=>t("team_audit_log_user_accepted_sharing_invite_secure_note",{name:`**${e.properties.item_name}**`}),[gr.z.UserRejectedSharingInviteSecureNote]:(e,t)=>t("team_audit_log_user_rejected_sharing_invite_secure_note",{name:`**${e.properties.item_name}**`}),[gr.z.UserAcceptedSharingInviteCredential]:(e,t)=>t("team_audit_log_user_accepted_sharing_invite_credential",{domain:`**${e.properties.domain_url}**`}),[gr.z.UserRejectedSharingInviteCredential]:(e,t)=>t("team_audit_log_user_rejected_sharing_invite_credential",{domain:`**${e.properties.domain_url}**`}),[gr.z.UserCreatedCollection]:(e,t)=>t("team_audit_log_user_private_collection_created",{user:`${e.properties.author_login}`,name:`**${e.properties.collection_name}**`}),[gr.z.UserImportedCollection]:(e,t)=>t("team_audit_log_user_private_collection_imported",{user:`${e.properties.author_login}`,number:`${e.properties.credential_count}`,collection:`**${e.properties.collection_name}**`}),[gr.z.UserAddedCredentialToCollection]:(e,t)=>t("team_audit_log_user_private_collection_added_credential",{user:`${e.properties.author_login}`,domain:`**${e.properties.domain_url}**`,name:`**${e.properties.collection_name}**`}),[gr.z.UserRemovedCredentialFromCollection]:(e,t)=>t("team_audit_log_user_private_collection_removed_credential",{user:`${e.properties.author_login}`,domain:`**${e.properties.domain_url}**`,name:`**${e.properties.collection_name}**`}),[gr.z.UserRenamedCollection]:(e,t)=>t(br,{user:`${e.properties.author_login}`,old:`**${e.properties.old_collection_name}**`,new:`**${e.properties.collection_name}**`}),[gr.z.UserDeletedCollection]:(e,t)=>t("team_audit_log_user_private_collection_deleted",{user:`${e.properties.author_login}`,name:`**${e.properties.collection_name}**`}),[gr.z.UserSharedCollectionWithUser]:(e,t)=>t("team_audit_log_user_shared_collection_shared_with_user",{user:`${e.properties.author_login}`,name:`**${e.properties.collection_name}**`,role:`${e.properties.permission}`,email:`${e.properties.target_login}`}),[gr.z.UserSharedCollectionWithGroup]:(e,t)=>t("team_audit_log_user_shared_collection_shared_with_group",{user:`${e.properties.author_login}`,name:`**${e.properties.collection_name}**`,role:`${e.properties.permission}`,group:`${e.properties.group_name}`}),[gr.z.UserAcceptedCollection]:(e,t)=>t("team_audit_log_user_shared_collection_accepted",{user:`${e.properties.author_login}`,name:`**${e.properties.collection_name}**`}),[gr.z.UserRejectedCollection]:(e,t)=>t("team_audit_log_user_shared_collection_rejected",{user:`${e.properties.author_login}`,name:`**${e.properties.collection_name}**`}),[gr.z.UserAddedItemToCollection]:(e,t)=>t("team_audit_log_user_shared_collection_added_credential",{user:`${e.properties.author_login}`,domain:`**${e.properties.domain_url}**`,rights:`${e.properties.permission}`,name:`**${e.properties.collection_name}**`}),[gr.z.UserRemovedItemFromCollection]:(e,t)=>t("team_audit_log_user_shared_collection_removed_credential",{user:`${e.properties.author_login}`,domain:`**${e.properties.domain_url}**`,name:`**${e.properties.collection_name}**`}),[gr.z.UserUpdatedGroupRoleInCollection]:(e,t)=>t("team_audit_log_user_shared_collection_group_roles",{user:`${e.properties.author_login}`,group:`**${e.properties.group_name}**`,role1:`${e.properties.old_permission}`,role2:`${e.properties.permission}`,name:`**${e.properties.collection_name}**`}),[gr.z.UserUpdatedUserRoleInCollection]:(e,t)=>t("team_audit_log_user_shared_collection_user_roles",{user:`${e.properties.author_login}`,email:`**${e.properties.group_name}**`,role1:`${e.properties.old_permission}`,role2:`${e.properties.permission}`,name:`**${e.properties.collection_name}**`}),[gr.z.UserRevokedGroupFromCollection]:(e,t)=>t("team_audit_log_user_shared_collection_revoked_groups",{user:`${e.properties.author_login}`,name:`**${e.properties.collection_name}**`,group:`**${e.properties.group_name}**`}),[gr.z.UserRevokedUserFromCollection]:(e,t)=>t("team_audit_log_user_shared_collection_revoked_user",{user:`${e.properties.author_login}`,name:`**${e.properties.collection_name}**`,email:`**${e.properties.target_login}**`}),[gr.z.UserRenamedSharedCollection]:(e,t)=>t(br,{user:`${e.properties.author_login}`,name:`**${e.properties.collection_name}**`,email:`**${e.properties.target_login}**`}),[gr.z.UserCreatedCredential]:(e,t)=>t("team_audit_log_user_created_credential",{domain:`**${e.properties.domain_url}**`}),[gr.z.UserModifiedCredential]:(e,t)=>t("team_audit_log_user_modified_credential",{domain:`**${e.properties.domain_url}**`}),[gr.z.UserDeletedCredential]:(e,t)=>t("team_audit_log_user_deleted_credential",{domain:`**${e.properties.domain_url}**`}),[gr.z.UserImportedCredentials]:(e,t)=>t(e.properties.import_count>1?xr:yr,{importCount:`**${e.properties.import_count}**`}),[gr.z.UserCreatedSecureNote]:(e,t)=>t("team_audit_log_user_created_secure_note",{name:`**${e.properties.item_name}**`}),[gr.z.UserModifiedSecureNote]:(e,t)=>t("team_audit_log_user_modified_secure_note",{name:`**${e.properties.item_name}**`}),[gr.z.UserDeletedSecureNote]:(e,t)=>t("team_audit_log_user_deleted_secure_note",{name:`**${e.properties.item_name}**`})},fr=(e,t)=>hr.includes(e.log_type)?Sr[e.log_type](e,t):"",vr=Object.values(gr.z),Cr=e=>t=>{!e||"Enter"!==t.key&&" "!==t.key||(e(),t.preventDefault())},Zr={padding:"16px 0 16px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",verticalAlign:"middle",whiteSpace:"break-spaces",textTransform:"uppercase",cursor:"default"},Tr=({onClick:e,sortOrder:t,colSpan:a,tooltipLabel:n,headerLabel:i,headerElement:s})=>{const[o,c]=(0,r.useState)(!1);return(0,f.tZ)("th",{scope:"col",role:"columnheader",colSpan:a,tabIndex:0,"aria-sort":(d=t,"asc"===d?"ascending":"desc"===d?"descending":"none"),onClick:e,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onFocus:()=>c(!0),onBlur:()=>c(!1),onKeyDown:Cr(e),sx:Zr,children:(0,f.BX)("div",{sx:{display:"flex",height:"100%",maxWidth:"140px",alignItems:"center"},children:[s||null,n?(0,f.tZ)(l.u,{content:n,isOpen:o,children:(0,f.tZ)("span",{sx:{marginTop:"-5px",paddingTop:"5px",minWidth:0,whiteSpace:"break-spaces"},children:i})}):(0,f.tZ)("span",{sx:{minWidth:0,whiteSpace:"break-spaces"},children:i}),(0,f.tZ)("div",{sx:{width:"10px"},children:t?(0,f.tZ)(l.JO,{sx:{ml:"4px"},name:"desc"===t?"CaretDownOutlined":"CaretUpOutlined",size:"small"}):null})]})});var d},Dr=({headerElement:e,colSpan:t,headerLabel:a,tooltipLabel:n})=>(0,f.BX)("th",{colSpan:t,sx:Zr,children:[e||null,n?(0,f.tZ)(l.u,{content:n,children:(0,f.tZ)("span",{sx:{minWidth:0,whiteSpace:"break-spaces"},children:a})}):(0,f.tZ)("span",{sx:{minWidth:0,whiteSpace:"break-spaces"},children:a})]}),Er=({columns:e,sx:t})=>(0,f.tZ)("thead",{sx:t,children:(0,f.tZ)("tr",{"aria-rowindex":1,sx:{color:"ds.text.neutral.quiet"},children:e.map((e=>e.onClick?(0,f.tZ)(Tr,{...e},e.headerKey):(0,f.tZ)(Dr,{...e},e.headerKey)))})}),kr={TABLE_BODY:{tr:{boxShadow:"inset 0 -1px 0 0 ds.border.neutral.quiet.idle",height:"60px",td:{padding:"16px",verticalAlign:"middle",variant:"text.ds.body.reduced.regular",color:"ds.text.neutral.standard"}}}},wr=({children:e})=>{const{translate:t}=(0,x.Z)(),a=[{headerLabel:t("team_activity_list_head_admin"),headerKey:"admin"},{headerLabel:t("team_activity_list_head_action"),headerKey:"action"},{headerLabel:t("team_activity_list_head_time"),headerKey:"time"}];return(0,f.BX)("table",{className:"table--mfR78xcZe9",children:[(0,f.tZ)(Er,{columns:a}),(0,f.tZ)("tbody",{sx:kr.TABLE_BODY,children:e},"table-body")]})};var Nr=a(232814),Ir=a(53506);const Ar={LOGIN_CELL:{display:"flex",padding:"15px 16px 14px"},LOGIN_TEXT:{height:"31px",marginLeft:"16px",maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},Mr=({login:e,action:t,date:a})=>(0,f.BX)("tr",{children:[(0,f.BX)("td",{sx:Ar.LOGIN_CELL,children:[(0,f.tZ)(Nr.q,{email:e,size:30}),(0,f.tZ)("div",{id:"user-email",sx:Ar.LOGIN_TEXT,children:(0,f.tZ)(l.nv,{color:"ds.text.neutral.catchy",textStyle:"ds.body.standard.regular",children:e})})]}),(0,f.tZ)("td",{children:t}),(0,f.tZ)("td",{className:"dateCell--JBqTpeYwB5",children:(0,f.tZ)(Ir.v,{date:a})})]});var Or=a(438042),Lr=a(909087),Br=a(319586);const Rr=1e3;async function zr(){const e=new Date,t=(0,Or.Z)((0,Lr.Z)(e,3)),a=(0,Or.Z)(e),n=await Ze.C.startAuditLogsQuery({startDateRangeUnix:t,endDateRangeUnix:a});if(n.success)return n;throw(0,b.Kz)(new d.UserDownloadAuditLogsDataEvent({flowStep:d.FlowStep.Error,auditLogDownloadError:d.AuditLogDownloadError.UnexpectedUnknown})),new Error("[startAuditLogsQuery] - Server Error: Unable to start audit logs query and fetch queryExecutionId")}async function Pr(e,t,a){const n=await Ze.C.getAuditLogQueryResults({queryExecutionId:e,maxResults:t,nextToken:a});return!n.success||n.data.state!==Br.U.Running&&n.data.state!==Br.U.Queued?n:(await new Promise((e=>setTimeout((()=>e()),3e3))),await Pr(e,t,a))}async function Xr(e,t,a=1,n){const i=await Pr(t,Rr,n);if(e(a),i.success){let n=i.data.auditLogs;if(i.data.nextToken){const s=await Xr(e,t,a+1,i.data.nextToken);return s&&(n=n.concat(s)),n}return n}throw(0,b.Kz)(new d.UserDownloadAuditLogsDataEvent({flowStep:d.FlowStep.Error,auditLogDownloadError:d.AuditLogDownloadError.NoLogData})),new Error("[fetchAuditLogsPages] - Server Error: Unable to load audit logs data")}const Ur={display:"block",height:"4px",borderRadius:1,transition:"width 1s ease-out",bg:"successes.4"},jr=({progressPercent:e})=>{const{translate:t}=(0,x.Z)(),a=Math.min(Math.max(e,0),100),n={width:`${a}%`},i=(0,c.jMf)([Ur,n]),s="download-progress-description";return(0,f.BX)(c.Ejs,{alignItems:"flex-start",flexDirection:"column",fullWidth:!0,sx:{mt:"8px",maxWidth:"100%"},children:[(0,f.tZ)(c.Ejs,{flexDirection:"row",justifyContent:"space-between",fullWidth:!0,sx:{bg:"primaries.1",maxWidth:"100%"},children:(0,f.tZ)("div",{sx:{position:"relative",width:"100%"},children:(0,f.tZ)("span",{"aria-describedby":s,"data-testid":"download-progress-bar",role:"img",sx:i})})}),(0,f.tZ)(c.nvN,{sx:{mt:"4px",color:c.colors.dashGreen01},size:"x-small",id:s,children:t("team_activity_download_modal_progress",{progressPercentage:a})})]})},qr=({isOpen:e,progress:t,onClose:a})=>{const{translate:n}=(0,x.Z)();return(0,f.BX)(c.VqE,{isOpen:e,onClose:a,closeIconName:n("_common_dialog_dismiss_button"),ariaDescribedby:"csv-download-dialog-body",ariaLabelledby:"csv-download-dialog-title",children:[(0,f.tZ)(c.$N8,{id:"csv-download-dialog-title",title:n("team_activity_download_modal_title")}),(0,f.BX)("div",{sx:{maxHeight:"fit-content",overflowX:"hidden",overflowY:"auto"},children:[(0,f.tZ)(jr,{progressPercent:t}),(0,f.tZ)(c.nvN,{size:"medium",sx:{marginTop:5,marginBottom:6,color:c.colors.grey00},children:n("team_activity_download_modal_body")}),(0,f.tZ)(c.vDh,{severity:"warning",size:"small",title:n("team_activity_download_modal_warning")})]})]})},Gr=Object.values(gr.z);var $r;const Fr=({lee:e})=>{const{translate:t}=(0,x.Z)(),[a,n]=(0,r.useState)(""),{isStartAuditLogsQueryTriggered:i,isLoading:s,nextToken:o,hasError:_,list:u}=(e=>{const[t,a]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),[s,o]=(0,r.useState)([]),[l,c]=(0,r.useState)(""),[d,_]=(0,r.useState)(""),[u,m]=(0,r.useState)(!1),p=(0,r.useCallback)((async t=>{try{a(!0);const n=await Pr(t,50,e&&""!==e?e:void 0),s=[Br.U.Failed,Br.U.Cancelled];!n.success||s.includes(n.data.state)?i(!0):(o(((e=[])=>[...e,...n.data.auditLogs])),n?.data.nextToken?c(n.data.nextToken):c(null))}catch(e){i(!0)}finally{a(!1)}}),[e]),g=(0,r.useCallback)((async()=>{try{a(!0);const e=await zr(),{queryExecutionId:t}=e.data;await p(t),_(t),m(!0)}catch(e){a(!1),i(!0)}}),[p]);return(0,r.useEffect)((()=>{u?""!==d?p(d):i(!0):g()}),[p]),{isStartAuditLogsQueryTriggered:u,isLoading:t,nextToken:l,hasError:n,list:s}})(a),m=!i&&s,p=i&&s,g=null!==o,h=(0,r.useRef)(null),y=(0,r.useRef)(null);(0,Js.M)({hasMore:g,scrollContainerRef:h,bottomRef:y,loadMore:()=>{g&&n(o)}});const[S,v]=(0,r.useState)(!1),[C,Z]=(0,r.useState)(!1),[T,D]=(0,r.useState)(0),E=(0,dn.V)(),k=(0,r.useCallback)((()=>{Z(!1),(0,b.Nc)(d.PageView.TacActivityList)}),[]),w=(0,r.useCallback)((e=>{const t=50+e-10;e<=10?D(5*e):e<=40&&e>10&&D(t)}),[]),N=async()=>{Z(!0),D(0),v(!0),(0,b.Nc)(d.PageView.TacActivityDownload),(0,b.Kz)(new d.UserDownloadAuditLogsDataEvent({flowStep:d.FlowStep.Start,auditLogCount:0}));try{let e=[];const a=await zr();e=await Xr(w,a.data.queryExecutionId),D(100);const n="\ufeff",i=((e,t)=>{const a=[t("team_activity_list_head_admin"),t("team_activity_list_head_action"),t("team_activity_list_head_time_csv")].join(",")+"\n",n=e.filter((e=>Gr.includes(e.log_type))).map((e=>{var a;const n=null!=(a=e.properties?.author_login)?a:"",i=fr(e,t).replace(/\*\*/g,"").replace(/[“”]/g,'"'),s=new Date(e.date_time).toISOString();return`${n},${i},${s.substr(0,10)} ${s.substr(11,8)}`}));return(0,b.Kz)(new d.UserDownloadAuditLogsDataEvent({flowStep:d.FlowStep.Complete,auditLogCount:n.length})),a+n.join("\n")})(e,t);setTimeout((()=>{try{(0,mr.S)([n,i],"dashlane-activity-export.csv","text/csv;charset=utf-8"),v(!1),k()}catch(e){(0,b.Kz)(new d.UserDownloadAuditLogsDataEvent({flowStep:d.FlowStep.Error,auditLogDownloadError:d.AuditLogDownloadError.NoCsv}))}}),1e3)}catch(t){e.dispatchGlobal((0,ur.wN)(((e,t)=>{const a="directorySyncKeyValidationError",n=()=>e.dispatchGlobal((0,ur.FV)(a)),i=c.BLW.ERROR;return{key:a,level:i,textKey:"team_activity_download_modal_alert_error",handleClose:n,handleButtonClick:()=>{t(),n()},buttonTextKey:"team_activity_download_modal_alert_action"}})(e,N))),(0,b.Kz)(new d.UserDownloadAuditLogsDataEvent({flowStep:d.FlowStep.Error,auditLogDownloadError:d.AuditLogDownloadError.UnexpectedUnknown})),D(0),v(!1),k()}},I=u.map((e=>((e,t)=>{var a;return vr.includes(e.log_type)?{uuid:e.uuid,date:new Date(e.date_time),activityDescription:fr(e,t),userLogin:null!=(a=e.properties?.author_login)?a:""}:null})(e,t))).filter((e=>null!==e));return(0,f.BX)(_r,{isLoading:!C&&m,children:[(0,f.BX)("div",{className:"container--XdLBgpl4YX",ref:h,children:[(0,f.tZ)("div",{className:"top--RuWypqAKoN",children:(0,f.tZ)(l.zx,{onClick:N,disabled:S,layout:"iconLeading",icon:"DownloadOutlined",children:t("team_activity_download_button")})}),(0,f.tZ)(wr,{children:I.map((e=>(0,f.tZ)(Mr,{login:e.userLogin,action:(0,f.tZ)(pr,{text:e.activityDescription}),date:e.date},e.uuid)))}),_?E.showAlert(t("_common_generic_error"),c.BLW.ERROR):null,(0,f.tZ)("div",{ref:y,children:p?(0,f.tZ)("div",{sx:{display:"flex",height:"40px",justifyContent:"center",paddingTop:"20px",paddingBottom:"60px"},children:$r||($r=(0,f.tZ)(l.ZX,{}))}):null})]}),C?(0,f.tZ)(qr,{isOpen:C,progress:T,onClose:()=>{k()}}):null]})},Vr=e=>e?"auto":"800px",Hr=({mainContent:e,secondaryContent:t,fullWidth:a,...n})=>(0,f.BX)(c.T5p,{gap:"32px",gridTemplateAreas:["'top' 'bottom'","'top' 'bottom'","'left right'"],gridTemplateColumns:[null,null,`minmax(auto, ${Vr(null!=a&&a)}) 256px`],gridTemplateRows:["auto auto","auto auto","auto"],alignContent:"flex-start",sx:{py:"32px",px:"42px"},...n,children:[(0,f.tZ)(c.dDn,{alignSelf:"flex-start",gridArea:["top","top","right"],children:t}),(0,f.tZ)(c.dDn,{gridArea:["bottom","bottom","left"],children:e})]});var Wr;const Yr={display:"flex",gap:"4px",padding:"5px 0px",alignItems:"center",color:"ds.text.brand.standard",backgroundColor:"ds.background.default",cursor:"pointer",marginTop:"5px"},Kr=({internalAction:e,linkText:t})=>(0,f.BX)("button",{onClick:e,sx:Yr,children:[(0,f.tZ)(l.nv,{as:"span",sx:{fontWeight:"500"},children:t}),Wr||(Wr=(0,f.tZ)(l.JO,{name:"ArrowRightOutlined",size:"small",color:"ds.text.brand.standard"}))]}),Qr=({supportHeader:e,children:t})=>{const{translate:a}=(0,x.Z)();return(0,f.BX)(c.Zbd,{sx:{display:"flex",gap:"8px",flexDirection:"column",padding:"32px 24px",background:"ds.container.agnostic.neutral.supershy"},children:[(0,f.tZ)(l.X6,{as:"h2",textStyle:"ds.title.supporting.small",color:"ds.text.neutral.quiet",sx:{marginBottom:"8px"},children:null!=e?e:a("webapp_tac_infocard_title")}),t]})};var Jr;const eo=({children:e,href:t,onClick:a,...n})=>(0,f.BX)(l.nv,{as:"a",onClick:a,href:t,rel:"noopener noreferrer",target:"_blank",color:"ds.text.brand.quiet",sx:{display:"inline-flex",textDecoration:"underline",flexDirection:"row",":hover":{textDecoration:"none",color:"ds.text.brand.standard"},":hover + svg":{fill:"ds.text.brand.standard"}},...n,children:[e,Jr||(Jr=(0,f.tZ)(l.JO,{name:"ActionOpenExternalLinkOutlined",color:"ds.text.brand.quiet"}))]});let to=function(e){return e[e.ExternalLink=0]="ExternalLink",e[e.InternalLink=1]="InternalLink",e}({});const ao=({heading:e,description:t,linkText:a,supportHeading:n,linkProps:i})=>(0,f.BX)(Qr,{supportHeader:n,children:[(0,f.tZ)(l.nv,{sx:{mb:"8px"},color:"ds.text.neutral.catchy",textStyle:"ds.title.block.medium",as:"h3",children:e}),(0,r.isValidElement)(t)?t:(0,f.tZ)(l.nv,{color:"ds.text.neutral.standard",textStyle:"ds.body.standard.regular",sx:{mb:a&&i.linkType===to.ExternalLink&&i.linkHref?"24px":0},children:t}),i.linkType===to.ExternalLink&&i.linkHref?(0,f.tZ)(eo,{href:i.linkHref,children:a}):null,i.linkType===to.InternalLink?(0,f.tZ)(Kr,{linkText:a,internalAction:i.internalAction}):null]}),no=({openContactDialog:e})=>{const{translate:t}=(0,x.Z)();return(0,f.tZ)(ao,{supportHeading:t("team_settings_contact_us_support_header"),heading:t("team_settings_contact_us_heading"),description:t("team_settings_contact_us_description"),linkText:t("team_settings_contact_us_link_title"),linkProps:{linkType:to.InternalLink,internalAction:e}})};var io,so;const ro={container:{borderRadius:"8px",border:"1px solid ds.border.neutral.quiet.idle",padding:"32px",backgroundColor:"ds.background.default",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"32px",alignContent:"start"},header:{display:"flex",flexDirection:"column",gap:"8px",alignSelf:"stretch"},itemContainer:{display:"flex",flexDirection:"column",gap:"32px",alignSelf:"stretch"},item:{display:"flex",flexDirection:"row",alignItems:"flex-start",gap:"16px"},icon:{backgroundColor:"ds.container.expressive.brand.quiet.idle",borderRadius:"8px",padding:"10px"},actions:{display:"flex",justifyContent:"space-between",alignItems:"center",alignSelf:"stretch"}},oo=()=>{const{translate:e}=(0,x.Z)(),{routes:t}=(0,s.Xo)();return(0,f.BX)("div",{sx:ro.container,children:[(0,f.BX)("div",{sx:ro.header,children:[(0,f.tZ)(l.Ct,{iconName:"PremiumOutlined",layout:"iconLeading",label:e("team_settings_sso_paywall_business_badge"),mood:"brand",intensity:"quiet"}),(0,f.tZ)(l.X6,{as:"h2",textStyle:"ds.title.section.medium",children:e("team_activity_paywall_track_organization_header")}),(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",children:e("team_activity_paywall_track_organization_description")})]}),(0,f.BX)("div",{sx:ro.itemContainer,children:[(0,f.BX)("div",{sx:ro.item,children:[(0,f.tZ)("div",{sx:ro.icon,children:io||(io=(0,f.tZ)(l.JO,{name:"ActionSearchOutlined",size:"large",color:"ds.text.brand.standard"}))}),(0,f.BX)("div",{children:[(0,f.tZ)(l.nv,{textStyle:"ds.title.block.medium",sx:{marginBottom:"5px"},children:e("team_activity_paywall_track_members_header")}),(0,f.tZ)(l.nv,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.quiet",children:e("team_activity_paywall_track_members_description")})]})]}),(0,f.BX)("div",{sx:ro.item,children:[(0,f.tZ)("div",{sx:ro.icon,children:so||(so=(0,f.tZ)(l.JO,{name:"CsvOutlined",size:"large",color:"ds.text.brand.standard"}))}),(0,f.BX)("div",{children:[(0,f.tZ)(l.nv,{textStyle:"ds.title.block.medium",sx:{marginBottom:"5px"},children:e("team_activity_paywall_download_header")}),(0,f.tZ)(l.nv,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.quiet",children:e("team_activity_paywall_download_description")})]})]})]}),(0,f.BX)("div",{sx:ro.actions,children:[(0,f.tZ)(l.Qj,{href:"https://support.dashlane.com/hc/en-us/articles/4414606120210-Track-Starter-Team-or-Business-plan-activity",isExternal:!0,children:e("team_activity_paywall_learn_more")}),(0,f.tZ)(l.zx,{mood:"brand",intensity:"catchy",icon:"PremiumOutlined",layout:"iconLeading",as:s.rU,to:`${t.teamAccountChangePlanRoutePath}?plan=business`,onClick:()=>{(0,b.Kz)(new d.UserClickEvent({clickOrigin:d.ClickOrigin.ActivityLogPaywall,button:d.Button.UpgradeBusinessTier}))},"data-testid":"upgrade",children:e("team_contact_support_upgrade_to_business_cta")})]})]})};var lo;const co=()=>{const{translate:e}=(0,x.Z)(),[t,a]=(0,r.useState)(!1);return(0,f.BX)(cr,{header:(0,f.tZ)(lr,{title:e("team_activity_header_title")}),children:[(0,f.tZ)(Hr,{mainContent:lo||(lo=(0,f.tZ)(c.T5p,{gridTemplateColumns:"auto",gridAutoRows:"min-content",children:(0,f.tZ)(oo,{})})),secondaryContent:(0,f.tZ)(no,{openContactDialog:()=>a(!0)}),sx:{padding:0}}),t?(0,f.tZ)(ee.c,{onDismiss:()=>a(!1)}):null]})};var _o;var uo,mo,po=a(995445),go=a(421484);const ho={TABLE:{width:"100%",lineHeight:"1.5",textAlign:"left"},TABLE_BODY:{tr:{boxShadow:"inset 0 -1px 0 0 ds.border.neutral.quiet.idle",height:"60px",td:{padding:"16px",verticalAlign:"middle",variant:"text.ds.body.reduced.regular",color:"ds.text.neutral.standard"}}},LOGIN_CELL:{display:"flex",padding:"15px 16px 14px"},LOGIN_TEXT:{height:"31px",marginLeft:"16px",maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},ACTION_CELL:{display:"flex",gap:"36px",justifyContent:"flex-end"}},bo=(0,r.memo)((({onAccept:e,onDecline:t,dateFormatter:a,requests:n})=>{const{translate:i}=(0,x.Z)(),s=[{headerLabel:i("team_master_password_reset_table_head_member"),headerKey:"member"},{headerLabel:i("team_master_password_reset_table_head_time"),headerKey:"time"},{headerLabel:"",headerKey:"actions"}];return(0,f.BX)("table",{sx:ho.TABLE,children:[(0,f.tZ)(Er,{columns:s}),(0,f.tZ)("tbody",{sx:ho.TABLE_BODY,children:n.map((n=>{const s=(0,na.Z)(n.creationDateUnix),r=a(s);return(0,f.BX)("tr",{children:[(0,f.BX)("td",{sx:ho.LOGIN_CELL,children:[(0,f.tZ)(Nr.q,{email:n.login,size:30}),(0,f.tZ)("div",{id:"user-email",sx:ho.LOGIN_TEXT,children:(0,f.tZ)(l.nv,{color:"ds.text.neutral.catchy",textStyle:"ds.body.standard.regular",children:n.login})})]}),(0,f.tZ)("td",{children:r}),(0,f.BX)("td",{sx:ho.ACTION_CELL,children:[(0,f.tZ)(l.zx,{mood:"danger",intensity:"supershy",layout:"iconOnly",size:"medium",icon:uo||(uo=(0,f.tZ)(l.JO,{name:"FeedbackFailFilled"})),onClick:()=>t(n),"aria-label":i("team_master_password_reset_dialog_decline_button_ok")}),(0,f.tZ)(l.zx,{mood:"positive",intensity:"supershy",layout:"iconOnly",size:"medium",icon:mo||(mo=(0,f.tZ)(l.JO,{name:"FeedbackSuccessFilled"})),onClick:()=>e(n),"aria-label":i("team_master_password_reset_dialog_accept_button_ok")})]})]},(0,E.uniqueId)())}))},"table-body")]})})),yo="team_master_password_reset_dialog_accept_button_cancel",xo="team_master_password_reset_dialog_decline_button_cancel",So={LIST_CONTAINER:{display:"flex",flexDirection:"column",justifyContent:"center",margin:"0 auto",marginBottom:"16px",alignItems:"center"},NO_ITEMS:{border:"dashed 1px ds.border.neutral.standard.idle",height:"288px",marginTop:"132px"}},fo=(e,t)=>a=>(0,f.tZ)(Dt,{selectedTab:t,lee:a.lee,children:(0,f.tZ)(e,{...a})}),vo=fo((e=>{const t=(0,Qs.S)(),a=!t?.activityLog.enabled;return r.useEffect((()=>{(0,b.Nc)(d.PageView.TacActivityList)}),[]),(0,f.tZ)("div",{children:a?_o||(_o=(0,f.tZ)(co,{})):(0,f.tZ)(Fr,{lee:e.lee})})}),"activity"),Co=fo((({lee:e})=>{var t;const{translate:a}=(0,x.Z)(),{getTeamId:n,getTeamPolicies:i}=(0,po.Y)(m.o,{getTeamId:{},getTeamPolicies:{}},[]),s=n.data?.teamId,o={dialogIsVisible:!1,dialogType:null,selectedRequest:null},[c,d]=(0,r.useState)(o),[_,u]=(0,r.useState)(!1),p=(0,r.useCallback)((async()=>{s&&await(0,Ce.mP)({teamId:Number(s)})}),[s]);(0,r.useEffect)((()=>{(async()=>{try{u(!0),i.data?.recoveryEnabled&&(await p(),u(!1))}catch(e){console.error(`RequestsActivity - fetchStatus failed with error ${e}`),u(!1)}})()}),[p,i.data]);const g=e=>{d({dialogIsVisible:!0,dialogType:"accept",selectedRequest:e})},h=e=>{d({dialogIsVisible:!0,dialogType:"decline",selectedRequest:e})},b=e=>[a.shortDate(e,ga._T.l),a.shortDate(e,ga._T.LT)].join(" - "),y=()=>d(o);return i.status!==ue.rq.Success&&n.status!==ue.rq.Success?null:(0,f.BX)(_r,{isLoading:_,children:[(()=>{const t=(()=>{var t;const{teams:a}=(0,go.e)(e.globalState);return null==s?[]:null!=(t=a[s]?.notifications?.accountRecoveryRequests)?t:[]})();return t.length?(0,f.tZ)("div",{sx:So.LIST_CONTAINER,children:(0,f.tZ)(bo,{onAccept:g,onDecline:h,dateFormatter:b,requests:t})}):(0,f.BX)("div",{sx:(0,l.jM)([So.LIST_CONTAINER,So.NO_ITEMS]),children:[(0,f.tZ)(l.JO,{name:"NotificationOutlined",sx:{width:"100px",height:"100px"},color:"ds.border.neutral.quiet.idle"}),(0,f.tZ)(l.nv,{textStyle:"ds.title.section.medium",sx:{marginTop:"36px"},children:a("team_master_password_reset_table_empty_label")}),(0,f.tZ)(l.nv,{textStyle:"ds.title.block.medium",color:"ds.text.neutral.quiet",sx:{marginTop:"7px"},children:a("team_master_password_reset_table_empty_helper")})]})})(),(0,f.BX)(l.Vq,{isOpen:c.dialogIsVisible&&"accept"===c.dialogType,onClose:y,closeActionLabel:a(yo),actions:{primary:{children:a("team_master_password_reset_dialog_accept_button_ok"),onClick:()=>{c.selectedRequest&&(0,Ce.Z8)({login:c.selectedRequest.login,recoveryKey:c.selectedRequest.recoveryClientKey,userPublicKey:c.selectedRequest.publicKey}).then((()=>{p(),d(o)})).catch((e=>{console.error(e)}))}},secondary:{children:a(yo),onClick:y}},title:a("team_master_password_reset_dialog_accept_title"),children:[c.selectedRequest?.login?(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.strong",children:a("team_master_password_reset_dialog_accept_content_bold",{login:c.selectedRequest.login})}):null,(0,f.tZ)(l.nv,{children:a("team_master_password_reset_dialog_accept_content")})]}),(0,f.BX)(l.Vq,{isOpen:c.dialogIsVisible&&"decline"===c.dialogType,onClose:y,closeActionLabel:a(xo),actions:{primary:{children:a("team_master_password_reset_dialog_decline_button_ok"),onClick:async()=>{if(c.selectedRequest)try{await(0,Ce.VK)({login:c.selectedRequest.login}),p(),d(o)}catch(e){console.error(e)}}},secondary:{children:a(xo),onClick:y}},title:a("team_master_password_reset_dialog_decline_title"),children:[c.selectedRequest?.login?(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.strong",children:a("team_master_password_reset_dialog_decline_content_bold",{login:null!=(t=c.selectedRequest?.login)?t:""})}):null,(0,f.tZ)(l.nv,{children:a("team_master_password_reset_dialog_decline_content")})]})]})}),"activity");function Zo({path:e}){return(0,f.tZ)(s.GB,{path:[e,`${e}/recent`,`${e}/requests`],permission:e=>e.adminAccess.hasFullAccess,children:(0,f.BX)(s.rs,{children:[(0,f.tZ)(s.l_,{exact:!0,from:`${e}/`,to:`${e}/recent`}),(0,f.tZ)(s.Vy,{path:`${e}/requests`,component:Co}),(0,f.tZ)(s.Vy,{path:`${e}/recent`,component:vo})]})})}a(568030);var To=a(500358);a(461238);const Do=({children:e,onRequestClose:t,footer:a})=>{const{translate:n}=(0,x.Z)(),i=n("team_directory_sync_key_dialog_title");return(0,f.tZ)(ms.o,{isOpen:!0,showCloseIcon:!0,onRequestClose:t,footer:a,title:i,children:e})},Eo=({onSubmitKeySuccess:e,onSubmitKeyError:t,checkDirectorySyncKeyRequest:a,handleDismiss:n,handleError:i})=>{const{translate:s}=(0,x.Z)(),[o,d]=(0,r.useState)({inputKey:"",isInputKeyInvalid:!1});return(0,f.BX)(Do,{onRequestClose:n,footer:(0,f.tZ)(c.cNS,{primaryButtonTitle:s("team_directory_sync_key_dialog_key_input_verify"),primaryButtonOnClick:async()=>{var n;const{publicKey:s=""}=null!=(n=a())?n:{},r=o.inputKey.replace(/\s/g,"").replace(/\n/g,"");var l;r===s?(()=>{const e=a();return e?(0,Ce.QV)(e,"validated"):Promise.reject(new Error("missing params"))})().then((()=>{e()})).catch(i):(l=r).length%4==0&&atob(l).includes("</RSAKeyValue>")?t():d((e=>({...e,isInputKeyInvalid:!0})))},secondaryButtonTitle:s("team_directory_sync_key_dialog_key_input_postpone"),secondaryButtonOnClick:n,intent:"primary"}),children:[(0,f.tZ)(l.nv,{sx:{marginBottom:"2em"},color:"ds.text.neutral.quiet",children:s.markup("team_directory_sync_key_dialog_key_input_message_markup")}),(0,f.tZ)(l.Kx,{placeholder:s("team_directory_sync_key_dialog_key_input_placeholder"),onChange:({target:{value:e}})=>{d({inputKey:e,isInputKeyInvalid:!1})},value:o.inputKey,feedback:o.isInputKeyInvalid?{text:s("team_directory_sync_key_dialog_key_input_invalid")}:void 0,error:o.isInputKeyInvalid})]})};var ko=function(e){return e[e.Initial=0]="Initial",e[e.KeyInput=1]="KeyInput",e[e.KeySuccess=2]="KeySuccess",e[e.KeyError=3]="KeyError",e[e.KeySuspended=4]="KeySuspended",e}(ko||{});const wo=e=>{var t;const{translate:a}=(0,x.Z)(),[n,i]=(0,r.useState)(ko.Initial),s=()=>e.lee.globalState.directorySyncKey.checkDirectorySyncKeyRequest,o=()=>{e.lee.dispatchGlobal((0,To.M2)())},d=()=>{e.lee.dispatchGlobal((0,To.HK)())},_=()=>{e.lee.dispatchGlobal((0,To.er)())},u=()=>{const t="directorySyncKeyValidationError",a=c.BLW.ERROR,n={key:t,level:a,textKey:"team_directory_sync_key_error_markup",handleClose:()=>e.lee.dispatchGlobal((0,ur.FV)(t))};e.lee.dispatchGlobal((0,ur.wN)(n)),d()},m=()=>{i(ko.KeyInput)},p=()=>{(()=>{const e=s();return e?(0,Ce.QV)(e,"rejected"):Promise.reject(new Error("missing params"))})().then((()=>{i(ko.KeySuspended),_()})).catch(u)},g=()=>{i(ko.KeySuccess),_()},h=()=>{i(ko.KeyError)};switch(n){case ko.Initial:return(0,f.tZ)(Do,{onRequestClose:o,footer:(0,f.tZ)(c.cNS,{primaryButtonTitle:a("team_directory_sync_key_dialog_initial_continue"),primaryButtonOnClick:m,secondaryButtonTitle:a("team_directory_sync_key_dialog_initial_postpone"),secondaryButtonOnClick:o,intent:"primary"}),children:(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",children:a.markup("team_directory_sync_key_dialog_initial_message_markup")})});case ko.KeyInput:return t||(0,f.tZ)(Eo,{onSubmitKeySuccess:g,onSubmitKeyError:h,checkDirectorySyncKeyRequest:s,handleDismiss:o,handleError:u});case ko.KeySuccess:return(0,f.tZ)(Do,{onRequestClose:d,footer:(0,f.tZ)(c.cNS,{secondaryButtonTitle:a("team_directory_sync_key_dialog_key_success_close"),secondaryButtonOnClick:d}),children:(0,f.BX)(c.Ejs,{gap:"8px",children:[(0,f.tZ)(l.JO,{name:"FeedbackSuccessOutlined",size:"xlarge",color:"ds.text.positive.quiet",sx:{width:"64px",height:"64px"}}),(0,f.BX)("div",{children:[(0,f.tZ)(l.X6,{as:"h1",children:a("team_directory_sync_key_dialog_key_success_header")}),(0,f.tZ)(l.nv,{children:a("team_directory_sync_key_dialog_key_success_message")})]})]})});case ko.KeyError:return(0,f.tZ)(Do,{onRequestClose:d,footer:(0,f.tZ)(c.cNS,{primaryButtonTitle:a("team_directory_sync_key_dialog_key_error_validate"),primaryButtonOnClick:p,secondaryButtonTitle:a("team_directory_sync_key_dialog_key_error_retry"),secondaryButtonOnClick:m,intent:"danger"}),children:(0,f.BX)(c.Ejs,{gap:"8px",children:[(0,f.tZ)(l.JO,{name:"FeedbackFailOutlined",size:"xlarge",color:"ds.text.danger.quiet",sx:{width:"64px",height:"64px"}}),(0,f.BX)("div",{children:[(0,f.tZ)(l.X6,{as:"h1",children:a("team_directory_sync_key_dialog_key_error_header")}),(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",children:a("team_directory_sync_key_dialog_key_error_message")})]})]})});case ko.KeySuspended:return(0,f.tZ)(Do,{onRequestClose:d,footer:(0,f.tZ)(c.cNS,{secondaryButtonTitle:a("team_directory_sync_key_dialog_key_suspended_close"),secondaryButtonOnClick:d}),children:(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",children:a.markup("team_directory_sync_key_dialog_key_suspended_message_markup")})})}},No=()=>{var e;const{translate:t}=(0,x.Z)(),{queue:a,popAlertFromQueue:n}=H(),i=()=>{n()},[s]=a;return s?(0,f.tZ)(ms.o,{isOpen:!0,onRequestClose:i,footer:(0,f.tZ)(c.cNS,{secondaryButtonTitle:null!=(e=s.okButtonLabel)?e:t("_common_alert_dismiss_button"),secondaryButtonOnClick:i}),title:s.title,children:(0,f.tZ)("div",{children:s.message})}):null};var Io=a(263272);const Ao=({lee:e,notificationKey:t,buttonTextKey:a,level:n,redirectPath:i,onClickButton:r,keyParams:o,notificationName:l})=>{const c={key:t,level:n,textKey:t,buttonTextKey:a,keyParams:o,handleClose:()=>{e.dispatchGlobal((0,ur.FV)(t)),l&&Ze.C.markNotificationAsSeen(l)}};i&&(c.handleLinkClick=a=>{a.preventDefault(),(0,X.Tx)(i)?(0,X.Yk)(i,{type:"",action:""}):(e.dispatchGlobal((0,ur.FV)(t)),(0,s.uX)(i))}),r&&(c.handleButtonClick=()=>{r()}),e.dispatchGlobal((0,ur.wN)(c))};var Mo=a(170226);const Oo="TRIAL_PERIOD_0_15D",Lo="GRACE_PERIOD_PAID",Bo="ENABLE_RECOVERY",Ro="ADD_ADMINS";var zo=a(309937);const Po={notification:"notification--JlZi_NwcwA"},Xo=({level:e=c.BLW.SUCCESS,text:t,buttonTextKey:a,onClose:n,onLinkClick:i,onClickButton:s})=>{const o=r.useRef(null),{translate:l}=(0,x.Z)(),d=(0,r.useCallback)((e=>{if(!i)return;const t=e.target;t&&"a"===t.tagName.toLowerCase()&&i(e)}),[i]);return(0,r.useEffect)((()=>{if(!o||!o.current)return;const e=o.current;return e.addEventListener("click",d),()=>{e.removeEventListener("click",d)}}),[d]),(0,f.tZ)("div",{className:Po.notification,children:(0,f.tZ)(c.bZj,{severity:e,size:c.k3y.SMALL,showIcon:!0,closeIconName:l("_common_alert_dismiss_button"),onClose:n,onAction:s||void 0,actionText:a||void 0,children:(0,f.tZ)("span",{ref:o,className:Po.text,children:t})})})},Uo=({lee:e})=>{var t;const{translate:a}=(0,x.Z)(),n=null==(t=(0,ae.o)("onboarding_web_tacgetstarted"))||t,[i,s]=(0,r.useState)(!1),[o,l]=(0,r.useState)([]),d=(0,r.useCallback)((t=>{t&&(async({lee:e,teamStatus:t,showTacInExtension:a,translate:n,isTacGetStartedFFEnabled:i})=>{const s=(({lee:e,teamStatus:t,showTacInExtension:a})=>{const n=new Set;a&&n.add("TAC_IN_EXTENSION"),t.isGracePeriod&&!t.isFreeTrial&&n.add(Lo),t.isFreeTrial&&!t.isGracePeriod&&((0,Mo.PY)(t.nextBillingDetails.dateUnix)<15?n.add("TRIAL_PERIOD_15_30D"):n.add(Oo)),t.info.recoveryEnabled||t.info.ssoEnabled||n.add(Bo);const i=(0,k.ev)(e.globalState)||0,s=e.carbon.spaceData.spaces.find((e=>i===+e.teamId));return s&&s.details.teamAdmins.length<=1&&n.add(Ro),n})({lee:e,teamStatus:t,showTacInExtension:a});e.dispatchGlobal((0,ur.L1)());const r=e.permission.adminAccess.hasFullAccess,o=await Ze.C.getNotificationStatus();s.has(Lo)&&(e=>{Ao({lee:e,notificationKey:"team_notifications_renewal_grace_period_markup",level:c.BLW.ERROR,redirectPath:e.routes.teamAccountRoutePath})})(e),r&&(s.has(Bo)&&o.tacEnableAccountRecoveryBanner===_e.E.Unseen&&!i&&(e=>{const t=`${e.routes.teamSettingsRoutePath}/master-password-policies`;Ao({lee:e,notificationKey:"team_notifications_enable_account_recovery_markup",level:c.BLW.WARNING,redirectPath:t,notificationName:_e.O.TacEnableAccountRecoveryBanner})})(e),!s.has(Ro)||o.tacOnlyOneAdminBanner!==_e.E.Unseen||Io.isSafari()||i||(e=>{const t=e.routes.teamAccountRoutePath;Ao({lee:e,notificationKey:"team_notifications_add_admins_markup",level:c.BLW.WARNING,redirectPath:t,notificationName:_e.O.TacOnlyOneAdminBanner})})(e)),s.has(Oo)&&(({lee:e,spaceTier:t,translate:a})=>{const n=(0,R.Uo)({tier:t,translate:a});Ao({lee:e,notificationKey:"team_notifications_free_trial_D0_T15_markup",keyParams:{planTier:n},level:c.BLW.SUCCESS,redirectPath:e.routes.teamAccountRoutePath})})({lee:e,spaceTier:t.planTier,translate:n})})({lee:e,teamStatus:t,showTacInExtension:!1,translate:a,isTacGetStartedFFEnabled:n})}),[]);return(0,r.useEffect)((()=>{l((()=>{const t=e.globalState.notifications.list,a=function(e){const t=e.permission.adminAccess.hasFullAccess,a=e.globalState.directorySyncKey;return t&&a.validationPostponed?[{key:"directorySyncPosponedValidation",level:c.BLW.WARNING,textKey:"team_directory_sync_key_postponed_notif_markup",handleLinkClick:t=>{t.preventDefault(),e.dispatchGlobal((0,To.b3)())},handleClose:()=>e.dispatchGlobal((0,To.vg)())}]:[]}(e),n=function(e){const t=e.permission.adminAccess.hasFullAccess,a=e.globalState.ieNotifications;return t&&Io.isInternetExplorer()&&a.displayIeDropNotification?[{key:"directorySyncPosponedValidation",level:c.BLW.WARNING,textKey:"wac_ie_drop_message_markup",handleClose:()=>e.dispatchGlobal((0,zo.w)())}]:[]}(e);return[...t,...a,...n]})())}),[e.globalState.ieNotifications,e.globalState.directorySyncKey,e.globalState.notifications.list]),(0,r.useEffect)((()=>{const t=(0,Gn.v0)(e.globalState);t&&(new $n.Z).status({auth:t}).then((e=>{if(200!==e.code)return;const{content:{team:t}}=e;d(t)})).catch()}),[e.globalState.user.session.uki]),(0,f.BX)("div",{className:"notifications--SCKfre7VSM",children:[o.map((e=>(0,f.tZ)(Xo,{level:e.level,text:(0,ga.t5)(e.textKey)?a.markup(e.textKey,e.keyParams):a(e.textKey),buttonTextKey:e.buttonTextKey?a(e.buttonTextKey):void 0,onClose:e.handleClose,onLinkClick:e.handleLinkClick,onClickButton:e.handleButtonClick},e.key))),i?(0,f.tZ)(oe.F,{isShown:i,setIsShown:s,isFromVault:!1}):null]})};var jo=a(430959);var qo,Go;const $o=e=>{const[t,a]=r.useState(!1);(0,jo._)();const n=(0,U.a)(e.lee.dispatchGlobal),i=()=>{const t=e.lee.globalState.carbon.loginStatus?.loggedIn,a=e.lee.globalState.user.session.login,n=e.lee.globalState.user.session.uki,i=e.lee.globalState.carbon.accountInfo?.premiumStatus,s=e.lee.globalState.user.session.permissions?.tacAccessPermissions;return t&&Boolean(a&&n)&&Boolean(i)&&Boolean(s)},s=()=>{const t=e.lee.globalState.user.session.permissions?.tacAccessPermissions;return Boolean(t?.size)};return r.useEffect((()=>{!i()||s()||n()}),[t]),i()&&s()?(0,f.tZ)(V,{globalReportError:e.lee.reportError,children:(0,f.tZ)(De.qc,{lee:e.lee,children:(0,f.tZ)(be,{children:(0,f.tZ)(Se,{children:(0,f.BX)("div",{children:[e.children,Go||(Go=(0,f.tZ)(No,{})),(0,f.tZ)(Uo,{lee:e.lee}),e.lee.globalState.directorySyncKey.displayDialog?(0,f.tZ)(wo,{lee:e.lee}):null,(0,f.tZ)("div",{className:"alertPopup--S9uF3SnYTj",id:"alert-popup-portal"})]})})})})}):qo||(qo=(0,f.tZ)("div",{}))};var Fo=a(481030),Vo=a(740763);let Ho=function(e){return e.Loading="loading",e.Start="start",e.Pending="pending",e.Validated="validated",e.Deactivating="deactivating",e}({});const Wo=()=>{const[e,t]=(0,r.useState)({domain:null,status:Ho.Loading}),[a,n]=(0,r.useState)([]),i=(0,r.useCallback)((async()=>{try{const e=await Ze.C.getTeamDomains();if(e.success&&e.domains.length){const a=e.domains.filter((e=>e.status===Vo.p.pending)),i=e.domains.filter((e=>e.status===Vo.p.valid));if(i.length){n(i);const e=i[0];t({domain:e,status:Ho.Validated})}else if(a.length){const e=a[a.length-1];t({domain:e,status:Ho.Pending})}else t({domain:e.domains[e.domains.length-1],status:Ho.Pending})}else t({domain:null,status:Ho.Start})}catch(e){t({domain:null,status:Ho.Start})}}),[]);return(0,r.useEffect)((()=>{i()}),[i]),{verifiedOrPendingDomain:e,verifiedDomains:a,updateDomainState:i,deactivateDomain:async()=>{if(null!==e.domain){t((e=>({domain:e.domain,status:Ho.Deactivating})));try{(await Ze.C.deactivateTeamDomain({domain:e.domain.name})).success?t({domain:null,status:Ho.Start}):i()}catch(e){i()}}},tryVerifyDomain:async()=>{await Ze.C.completeTeamDomainRegistration(),await i()},selectVerifiedDomain:e=>{t({domain:e,status:Ho.Validated})}}};var Yo=a(337466),Ko=a(316172);const Qo=e=>{const t=e.toFixed(1),a=e.toFixed();return parseFloat(a)-parseFloat(t)==0?a:t},Jo=({showPasswordHealthScore:e,securityIndex:t,shieldSize:a})=>{let n="";return e?(n=t>=80?"ds.text.positive.quiet":t>=40?"ds.text.warning.quiet":"ds.text.danger.quiet",t>=60?(0,f.BX)(f.HY,{children:[(0,f.tZ)(c.FjK,{size:a,color:n,viewBox:"5 5 40 40"}),`${Qo(t)}%`]}):(0,f.BX)(f.HY,{children:[(0,f.tZ)(c.sQG,{size:a,color:n,viewBox:"5 5 40 40"}),`${Qo(t)}%`]})):(n="ds.text.brand.quiet",(0,f.BX)(f.HY,{children:[(0,f.tZ)(c.P2E,{size:a,color:n}),"-"]}))},el="value--w9XKkttPDT",tl="link--nWXIzseKub";var al;const nl={HEADER:{display:"flex",marginBottom:"8px"},FOOTER:{marginTop:"16px",lineHeight:"1",fontSize:"16px"}},il=({title:e})=>(0,f.tZ)(c.ua7,{sx:{fontSize:2,maxWidth:"180px"},placement:"bottom",content:e,children:al||(al=(0,f.tZ)(c.uMt,{size:13,tabIndex:0,color:"ds.text.neutral.quiet"}))}),sl=e=>(0,f.tZ)(l.X6,{as:"h1",color:"ds.text.neutral.quiet",textStyle:"ds.title.supporting.small",children:e}),rl=({children:e})=>(0,f.tZ)(c.Zbd,{sx:{height:"132px",width:"232px",marginRight:"32px",flexShrink:"0",padding:"16px",overflow:"inherit",color:"ds.text.neutral.catchy",backgroundColor:"ds.container.agnostic.neutral.supershy",borderColor:"ds.border.neutral.quiet.idle"},children:e}),ol=({passwordHealth:e,seats:t,passwordHealthHistoryEmpty:a})=>{const{translate:n}=(0,x.Z)(),{routes:i}=(0,er.Xo)(),{compromised:r,securityIndex:o}=e,l=`${t.used}/${t.provisioned}`,{openDialog:c,shouldShowFrozenStateDialog:d}=(0,N.Ub)(),_=()=>{d&&c()};return(0,f.BX)("section",{className:"cardsRow--UeIGdGJnGY",sx:{display:"flex",justifyContent:"flex-start"},children:[(0,f.BX)(rl,{children:[(0,f.BX)("header",{sx:nl.HEADER,children:[sl(n("team_dashboard_card_health_score")),(0,f.tZ)(il,{title:n("team_dashboard_card_health_score_info")})]}),(0,f.tZ)("div",{className:el,children:(0,f.tZ)(Jo,{showPasswordHealthScore:!a,securityIndex:o,shieldSize:32})})]}),(0,f.BX)(rl,{children:[(0,f.BX)("header",{sx:nl.HEADER,children:[sl(n("team_dashboard_card_compromised")),(0,f.tZ)(il,{title:n("team_dashboard_card_compromised_info")})]}),(0,f.tZ)("div",{className:B()(el,r?"compromised--m8LmAYo_e5":void 0),children:r}),r?(0,f.tZ)("footer",{sx:nl.FOOTER,children:(0,f.tZ)(s.rU,{className:tl,to:i.teamMembersRoutePath,children:n("team_dashboard_card_compromised_details_link")})}):null]}),(0,f.BX)(rl,{children:[(0,f.BX)("header",{sx:nl.HEADER,children:[sl(n("team_dashboard_card_seats_taken")),(0,f.tZ)(il,{title:n("team_dashboard_card_seats_taken_info")})]}),(0,f.tZ)("div",{className:B()(el,{"fontSizeBigger--f83OiWuf4K":l.length>=8}),children:l}),(0,f.tZ)("footer",{sx:nl.FOOTER,children:(0,f.tZ)(s.rU,{className:tl,to:d?{}:i.teamAccountRoutePath,onClick:_,children:n("team_dashboard_card_seats_buy_link")})})]}),(0,f.BX)(rl,{children:[(0,f.BX)("header",{sx:nl.HEADER,children:[sl(n("team_dashboard_card_pending_invitations")),(0,f.tZ)(il,{title:n("team_dashboard_card_pending_invitations_info")})]}),(0,f.tZ)("div",{className:el,children:t.pending}),(0,f.tZ)("footer",{sx:nl.FOOTER,children:(0,f.tZ)(s.rU,{onClick:_,className:tl,to:d?{}:{pathname:i.teamMembersRoutePath,state:t.pending?{openResendPendingInvitationsDialog:!0}:{openSendInvitesDialog:!0}},children:t.pending?n("team_dashboard_card_resend_invitations_link"):n("team_dashboard_card_send_invitations_link")})})]})]})};let ll=function(e){return e[e.AllTime=0]="AllTime",e[e.Last7Days=1]="Last7Days",e[e.Last30Days=2]="Last30Days",e}({});var cl=a(853265),dl=a(122269),_l=a(353),ul=a(871437),ml=a(264900),pl=a(599477),gl=a(433117),hl=a(328290),bl=a(440934),yl=a(142094),xl=a(365580),Sl=a(742930);const fl=(e,t,a)=>{const n=[];switch(e){case ll.AllTime:{if(a>=5&&a<=8){t.forEach((e=>{const{date:t}=e;1===new Date(t).getDate()&&n.push(t)}));break}const{length:e}=t;if(e<=7){t.forEach((e=>{n.push(e.date)}));break}const i=e/7;let s=e-1;for(;s>=0;)n.push(t[Math.round(s)]?.date),s-=i;break}case ll.Last7Days:t.forEach((e=>{n.push(e.date)}));break;case ll.Last30Days:t.forEach((e=>{const{date:t}=e;0===new Date(t).getDay()&&n.push(t)}));break;default:(0,xl.U)(e)}return n},vl=({historyToDisplay:e,passwordHealthHistoryEmpty:t,view:a})=>{const{translate:n}=(0,x.Z)(),i=0!==e.length?(e=>{const t=new Date,a=new Date(e);let n=12*(t.getFullYear()-a.getFullYear());return n-=a.getMonth(),n+=t.getMonth(),n+1})(e[0].date):0;return fl(a,e,i),(0,f.tZ)(Sl.K,{dataKey:"date",ticks:t?[]:fl(a,e,i),tickSize:4,tickFormatter:t?()=>"":e=>((e,t,a,n)=>{const i=t===ll.AllTime&&a>=5,s=new Date(e),r=n.shortDate(s,i?ga._T.MMM_YYYY:ga._T.L_M_D),o=n.shortDate(s,ga._T.MMMM);if(i)return r===o||r.endsWith(".")?r:`${r}.`;const[l,c]=r.split(" ");return l===o?r:`${l}. ${c}`})(e,a,i,n),fontSize:"small"})},Cl="legendItem--MoxC6xF4tG",Zl="legendIcon--p8Emm90xE4",Tl=({active:e,label:t,payload:a})=>{const{translate:n}=(0,x.Z)();if(!e)return null;const i=a?`${Qo(a[0]?.value)}%`:null;return(0,f.BX)("div",{className:"customTooltipContainer--iAM2rWgGzw",children:[(0,f.tZ)("time",{className:"date--JuYmIy6PnQ",children:t}),(0,f.BX)("div",{className:"score--RRdFFcOQCh",children:[(0,f.BX)("div",{className:Cl,children:[(0,f.tZ)("div",{className:Zl}),(0,f.tZ)("p",{children:n("team_dashboard_graph_score_hover_legend")})]}),(0,f.tZ)("p",{children:i})]})]})};var Dl;const El=({history:e,passwordHealthHistoryEmpty:t})=>{const[a,n]=(0,r.useState)(ll.AllTime),i=(e=>{const{length:t}=e;if(t<=2)return e;const a=(0,gl.Z)(e[0].date),n=(0,gl.Z)(e[t-1].date),i=(0,hl.Z)(n,a);if(i===t-1)return e;const s=[];let r=0,o=e[r].securityIndex,l=a,c=a;for(let t=0;t<=i;t++)(0,bl.Z)(c,l)?(s.push(e[r]),o=e[r].securityIndex,r++,l=(0,gl.Z)(e[r]?.date)):s.push({date:c.toISOString().slice(0,10),securityIndex:o}),c=(0,yl.Z)(c,1);return s})(e),s=((e,t)=>{switch(e){case ll.AllTime:return t;case ll.Last7Days:return t.slice(t.length-7,t.length);case ll.Last30Days:return t.slice(t.length-30,t.length);default:(0,xl.U)(e)}})(a,i),{translate:o}=(0,x.Z)();return(0,f.BX)(f.HY,{children:[(0,f.BX)("section",{className:B()("topSection--nM0XDipPte",{"addMarginTop--fLzJVO2qx1":t}),children:[(0,f.BX)("div",{className:Cl,children:[(0,f.tZ)("div",{className:Zl}),(0,f.tZ)(l.nv,{textStyle:"ds.body.helper.regular",color:"ds.text.neutral.quiet",children:o("team_dashboard_graph_score_legend")})]}),(0,f.BX)(c.G8v,{children:[i.length>7?(0,f.tZ)(c.yPU,{label:o("team_dashboard_graph_7_days_button"),selected:a===ll.Last7Days,onClick:()=>{n(ll.Last7Days)},size:"small"}):null,i.length>30?(0,f.tZ)(c.yPU,{label:o("team_dashboard_graph_30_days_button"),selected:a===ll.Last30Days,onClick:()=>{n(ll.Last30Days)},size:"small"}):null,(0,f.tZ)(c.yPU,{label:o("team_dashboard_graph_all_time_button"),selected:a===ll.AllTime,onClick:()=>{i.length<=7||n(ll.AllTime)},size:"small"})]})]}),(0,f.tZ)("section",{sx:{width:"100%",height:"100px",flexGrow:1},children:(0,f.tZ)(cl.h,{sx:{height:"100%",width:"100%"},children:(0,f.BX)(dl.w,{data:t?[]:s,sx:{position:"relative",right:"18px"},children:[Dl||(Dl=(0,f.tZ)(_l.q,{vertical:!1})),(0,f.tZ)(ul.B,{domain:[0,100],tickFormatter:e=>`${e}%`,fontSize:"small"}),vl({historyToDisplay:s,passwordHealthHistoryEmpty:t,view:a}),(0,f.tZ)(ml.u,{content:e=>{const t=o.shortDate((0,gl.Z)(e.label),{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"});return(0,f.tZ)(Tl,{...e,label:t})},animationDuration:500,animationEasing:"ease-out",cursor:!t}),(0,f.tZ)(pl.x,{dataKey:"securityIndex",stroke:"#0e6476",strokeWidth:"2",dot:!1,activeDot:{strokeWidth:0,r:4},animationDuration:500,isAnimationActive:!0})]})})})]})};var kl=a(980936),wl=a(728207);const Nl=({isLoading:e,history:t,passwordHealthHistoryEmpty:a})=>{const{translate:n}=(0,x.Z)(),i=(0,kl.I)();if((0,wl.u)().status!==ue.rq.Success)return null;const s=i.status===ue.rq.Success&&!i.isDisabled,r=!e&&a;return(0,f.BX)("section",{sx:{padding:"3%",flexGrow:1,display:"flex",flexDirection:"column"},children:[(0,f.tZ)(l.X6,{as:"h5",color:"ds.text.neutral.catchy",textStyle:"ds.title.section.medium",sx:{marginBottom:"1%"},children:n("team_dashboard_graph_heading")}),r?(0,f.tZ)(l.ke,{size:"small",sx:{marginBottom:"11px"},title:n(s?"team_dashboard_graph_not_enough_data_warning":"team_dashboard_graph_not_enough_data_warning_min",{minPasswords:5})}):null,(0,f.tZ)(El,{history:t,passwordHealthHistoryEmpty:a})]})},Il=({title:e,value:t,color:a})=>(0,f.BX)("div",{sx:{marginRight:"8px",minWidth:"70px"},children:[(0,f.tZ)("header",{children:(0,f.tZ)(l.nv,{as:"h2",color:"ds.text.neutral.quiet",textStyle:"ds.body.helper.regular",children:e})}),(0,f.tZ)("div",{sx:{fontSize:"x-large",fontWeight:"bold",color:null!=a?a:"ds.text.neutral.standard"},children:t})]}),Al=({compromised:e,passwords:t,reused:a,safe:n,securityIndex:i,weak:s,passwordHealthHistoryEmpty:r})=>{const{translate:o}=(0,x.Z)();return(0,f.BX)("section",{sx:{borderTop:"1px solid",borderTopColor:"ds.border.neutral.quiet.idle",display:"flex",padding:"3% 2%"},children:[(0,f.BX)("div",{sx:{width:"240px",padding:"0 24px",borderRight:"1px solid",borderRightColor:"ds.border.neutral.quiet.idle"},children:[(0,f.tZ)("header",{children:(0,f.tZ)(l.nv,{as:"h2",color:"ds.text.neutral.quiet",textStyle:"ds.body.helper.regular",children:o("team_dashboard_password_health_breakdown_score")})}),(0,f.tZ)("div",{sx:{fontSize:"x-large",fontWeight:"bold",display:"inline-flex",alignItems:"center","& > svg":{marginRight:"7px"},color:"ds.text.neutral.standard"},children:(0,f.tZ)(Jo,{showPasswordHealthScore:!r,securityIndex:i,shieldSize:20})})]}),(0,f.BX)("div",{sx:{display:"flex",justifyContent:"space-between",padding:"0 24px",width:"100%"},children:[(0,f.tZ)(Il,{title:o("team_dashboard_password_health_breakdown_total"),value:t}),(0,f.tZ)(Il,{title:o("team_dashboard_password_health_breakdown_safe"),value:n,color:n?"ds.text.positive.quiet":void 0}),(0,f.tZ)(Il,{title:o("team_dashboard_password_health_breakdown_weak"),value:s,color:s?"ds.text.warning.quiet":void 0}),(0,f.tZ)(Il,{title:o("team_dashboard_password_health_breakdown_reused"),value:a,color:a?"ds.text.warning.quiet":void 0}),(0,f.tZ)(Il,{title:o("team_dashboard_password_health_breakdown_compromised"),value:e,color:e?"ds.text.danger.quiet":void 0})]})]})},Ml=({isLoading:e,report:t,passwordHealthHistoryEmpty:a})=>(0,f.BX)(c.Zbd,{sx:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:"ds.container.agnostic.neutral.supershy",borderColor:"ds.border.neutral.quiet.idle"},children:[(0,f.tZ)(Nl,{isLoading:e,history:t.passwordHealthHistory,passwordHealthHistoryEmpty:a}),(0,f.tZ)(Al,{...t.passwordHealth,passwordHealthHistoryEmpty:a})]}),Ol="https://support.dashlane.com/hc/articles/4507132108946",Ll={HEADING:"team_dashboard_dark_web_insights_heading",SECURITY_INCIDENTS:{LABEL:"team_dashboard_dark_web_insights_security_incidents",TOOLTIP:"team_dashboard_dark_web_insights_security_incidents_tooltip"},EMAILS_AFFECTED:{LABEL:"team_dashboard_dark_web_insights_emails_affected",TOOLTIP:"team_dashboard_dark_web_insights_emails_affected_tooltip"},SUGGESTED_INVITATION:{LABEL:"team_dashboard_dark_web_insights_suggested_invitations",TOOLTIP:"team_dashboard_dark_web_insights_suggested_invitations_tooltip"},RETURNING_USER_CTA:"team_dashboard_dark_web_insights_go_to_cta",RETURNING_USER_VIEW_DOMAIN_GUIDE_CTA:"team_dashboard_dark_web_insights_view_guide_cta",UNVERIFIED_MSG:"team_dashboard_dark_web_insights_domain_unverified_msg",UNVERIFIED_SUBTEXT:"team_dashboard_dark_web_insights_domain_unverified_sub_text",INCIDENT_FREE_MSG:"team_dashboard_dark_web_insights_domain_incident_free_msg",INCIDENT_FREE_SUBTEXT:"team_dashboard_dark_web_insights_domain_incident_free_sub_text",GENERATING_INSIGHTS_MESSAGE:"team_dashboard_dark_web_insights_generating_msg",NEW_INCIDENTS_NOTIFICATION_MSG:{ONE:"team_dashboard_dark_web_insights_notify_new_incidents_one",MANY:"team_dashboard_dark_web_insights_notify_new_incidents_many"},TEAM_NEW_LABEL:"team_new_label"},Bl=({count:e,labelAndTooltip:t,primaryColor:a,secondaryColor:n})=>{const{translate:i}=(0,x.Z)();return(0,f.BX)(c.Ejs,{gap:"6px",sx:{margin:"16px 0"},children:[(0,f.tZ)(c.X6q,{size:"x-small",color:a,sx:{width:"44px"},children:e}),(0,f.BX)(c.ua7,{sx:{fontSize:2,maxWidth:"180px"},placement:"top",content:i(t.TOOLTIP),children:[(0,f.tZ)(c.nvN,{"aria-label":i(t.LABEL),size:"small",sx:{minWidth:"calc(100% - 70px)",width:"min-content"},color:null!=n?n:a,children:i(t.LABEL)}),(0,f.tZ)(c.uMt,{size:13,tabIndex:0,color:null!=n?n:a})]})]})},Rl=({children:e})=>(0,f.tZ)(c.Zbd,{sx:{minHeight:"418px",width:"282px",backgroundColor:"ds.container.agnostic.neutral.supershy",borderColor:"ds.border.neutral.quiet.idle"},children:(0,f.tZ)(c.Ejs,{sx:{minHeight:"418px",padding:"20px"},flexDirection:"column",justifyContent:"space-between",alignItems:"start",children:e})}),zl=({text:e,subtext:t,imgSrc:a})=>(0,f.BX)(f.HY,{children:[(0,f.tZ)("img",{src:a}),(0,f.tZ)(c.nvN,{size:"medium",bold:!0,sx:{marginBottom:"8px"},children:e}),(0,f.tZ)(c.nvN,{size:"small",color:c.colors.grey00,children:t})]}),Pl=({domain:e})=>(0,f.tZ)(c.nvN,{size:"x-small",bold:!0,sx:{padding:"4px 8px",backgroundColor:`${c.colors.dashGreen06}`,borderRadius:"4px",width:"fit-content",height:"24px",marginBottom:"34px"},children:e}),Xl=({newLeaksCount:e,newLeaksAffectedEmailCount:t})=>{const{translate:a}=(0,x.Z)(),{setHasNewBreaches:n}=ye();(0,r.useEffect)((()=>{e>0&&n(!0)}),[e,n]);const i=e>1?Ll.NEW_INCIDENTS_NOTIFICATION_MSG.MANY:Ll.NEW_INCIDENTS_NOTIFICATION_MSG.ONE;return e>0?(0,f.BX)(c.Ejs,{flexDirection:"row",sx:{backgroundColor:c.colors.pink05,borderRadius:"4px",padding:"5px 8px",marginTop:"25px"},children:[(0,f.tZ)(c.nvN,{size:"small",color:c.colors.red00,sx:{width:"calc(100% - 5px)"},children:a(i,{numIncidents:e,count:t})}),(0,f.tZ)(c.P_k,{dot:!0,ariaLabel:a(Ll.TEAM_NEW_LABEL)})]}):null},Ul=({domainInfo:e})=>{const t=e.leaksCount,a=e.emailsImpactedCount,n=e.emailsImpactedCount-e.teamMembersImpactedCount;return(0,f.BX)(f.HY,{children:[(0,f.tZ)(Bl,{count:t,labelAndTooltip:Ll.SECURITY_INCIDENTS,primaryColor:c.colors.dashGreen00,secondaryColor:c.colors.dashGreen01}),(0,f.tZ)(Bl,{count:a,labelAndTooltip:Ll.EMAILS_AFFECTED,primaryColor:c.colors.dashGreen00,secondaryColor:c.colors.dashGreen01}),(0,f.tZ)(Bl,{count:n,labelAndTooltip:Ll.SUGGESTED_INVITATION,primaryColor:c.colors.dashGreen00,secondaryColor:c.colors.dashGreen01}),(0,f.tZ)(Xl,{newLeaksCount:e.newLeaksCount,newLeaksAffectedEmailCount:e.newLeaksAffectedEmailCount})]})},jl=({domainName:e,domainInfo:t})=>{const{translate:a}=(0,x.Z)(),{routes:n}=(0,er.Xo)();return(0,f.BX)(f.HY,{children:[(0,f.BX)("section",{sx:{width:"100%"},children:[(0,f.tZ)(Pl,{domain:e}),t.leaksCount>0?(0,f.tZ)(Ul,{domainInfo:t}):(0,f.tZ)(zl,{imgSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTIiIGhlaWdodD0iNTIiIHZpZXdCb3g9IjAgMCA1MiA1MiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzMxMTNfMTkwOTY0KSI+CjxyZWN0IHdpZHRoPSI1MiIgaGVpZ2h0PSI1MiIgcng9IjI2IiBmaWxsPSIjRDlERkUwIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjAuNzIxOSAxMy40NzMzQzE0LjI4MjEgMTQuMjgxNiA5LjcxNjc2IDIwLjE1NzMgMTAuNTI1IDI2LjU5NzJMMTEuMTk1MyAzMS45MzgxTDcuOTg0NDUgMzIuMzQxMUM2Ljg4ODQ4IDMyLjQ3ODYgNi4xMTE1MiAzMy40Nzg2IDYuMjQ5MDggMzQuNTc0Nkw5LjE2NTA4IDU3LjgwOEM5LjMwMjYzIDU4LjkwNCAxMC4zMDI2IDU5LjY4MDkgMTEuMzk4NiA1OS41NDM0TDQwLjI5OTIgNTUuOTE2MUM0MS4zOTUyIDU1Ljc3ODYgNDIuMTcyMSA1NC43Nzg2IDQyLjAzNDYgNTMuNjgyNkwzOS4xMTg2IDMwLjQ0OTJDMzguOTgxIDI5LjM1MzIgMzcuOTgxIDI4LjU3NjIgMzYuODg1MSAyOC43MTM4TDM0LjUxNjEgMjkuMDExMUwzMy44NDU4IDIzLjY3MDJDMzMuMDM3NiAxNy4yMzA0IDI3LjE2MTggMTIuNjY1MSAyMC43MjE5IDEzLjQ3MzNaTTE0LjE3NjUgMjYuNjYxTDE0Ljc4MjQgMzEuNDg3OUwzMC45Mjc1IDI5LjQ2MTVMMzAuMzIxNyAyNC42MzQ2QzI5Ljc2MjIgMjAuMTc2MiAyNS42OTQzIDE3LjAxNTYgMjEuMjM2IDE3LjU3NTJDMTYuNzc3NiAxOC4xMzQ4IDEzLjYxNyAyMi4yMDI2IDE0LjE3NjUgMjYuNjYxWk00Ni43NzUzIDE4LjY1ODZMNDAuNDg1NiAyMi42MTkzTDQxLjkxMTEgMjQuODgyOUw0OC4yMDA3IDIwLjkyMjJMNDYuNzc1MyAxOC42NTg2Wk00My4xODE2IDI3LjI3NjRMNDcuMDcxNyAyNy4zNjhMNDcuMDEwMyAyOS45Nzc3TDQzLjEyMDIgMjkuODg2MUw0My4xODE2IDI3LjI3NjRaTTM3LjQ1NiAxNS43NDIyTDM2LjA3NyAyMC42Nzc3TDM4LjgxNzQgMjEuNDQzNEw0MC4xOTY0IDE2LjUwNzlMMzcuNDU2IDE1Ljc0MjJaIiBmaWxsPSIjMEUzNTNEIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMzExM18xOTA5NjQiPgo8cmVjdCB3aWR0aD0iNTIiIGhlaWdodD0iNTIiIHJ4PSIyNiIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K",text:a(Ll.INCIDENT_FREE_MSG,{domainName:e}),subtext:a(Ll.INCIDENT_FREE_SUBTEXT)})]}),(0,f.tZ)(s.rU,{to:n.teamDarkWebInsightsRoutePath,sx:{textDecoration:"none",color:`${c.colors.midGreen00}`,marginBottom:"16px","&:hover":{textDecoration:"underline"}},onClick:()=>{(0,b.Kz)(new d.UserOpenDomainDarkWebMonitoringEvent({accessPath:d.AccessPath.MainDashboardButton,isFirstVisit:!1}))},children:a(Ll.RETURNING_USER_CTA)})]})},ql=({domainName:e})=>{const{translate:t}=(0,x.Z)();return(0,f.BX)(f.HY,{children:[(0,f.BX)("section",{sx:{width:"100%"},children:[(0,f.tZ)(Pl,{domain:e}),(0,f.tZ)(zl,{imgSrc:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iNTMiIHZpZXdCb3g9IjAgMCA1MyA1MyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjUzIiBoZWlnaHQ9IjUzIiByeD0iMjYuNSIgZmlsbD0iI0Q5REZFMCIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTI2LjgwMDQgMTMuNzUzN0wyNi45NjE2IDEzLjEwOTFDMjcuNjA2MiAxMC42MTEzIDI5Ljg2MjIgOSAzMi4zNjAxIDlDMzUuMzQxMyA5IDM4IDExLjQxNzMgMzggMTQuNDc4OUMzOCAxNi45NzY4IDM2LjMwNzkgMTkuMDcxNiAzMy45NzEyIDE5LjcxNjRWMjAuNzY0SDMwLjc0ODJWMTguODMwM0MzMC43NDgyIDE3Ljc4MjcgMzEuNTU0IDE2LjgxNiAzMi42ODE5IDE2LjczNTRDMzMuODA5OSAxNi41NzQyIDM0Ljc3NjggMTUuNjg3OSAzNC43NzY4IDE0LjQ3OTRDMzQuNzc2OCAxMy4xOTAyIDMzLjY0ODkgMTIuMjIzMyAzMi4zNTk1IDEyLjIyMzNDMzEuMjMxNiAxMi4yMjMzIDMwLjM0NTMgMTIuODY3OSAzMC4wMjI5IDEzLjkxNTRMMjkuODYxNyAxNC41NTk5TDI2LjggMTMuNzU0MkwyNi44MDA0IDEzLjc1MzdaTTM0LjM3NDQgMjMuNzQ1NUMzNC4zNzQ0IDI0Ljg1OCAzMy40NzI2IDI1Ljc2IDMyLjM2MDEgMjUuNzZDMzEuMjQ3NiAyNS43NiAzMC4zNDU2IDI0Ljg1OCAzMC4zNDU2IDIzLjc0NTVDMzAuMzQ1NiAyMi42MzMgMzEuMjQ3NiAyMS43MzEzIDMyLjM2MDEgMjEuNzMxM0MzMy40NzI2IDIxLjczMTMgMzQuMzc0NCAyMi42MzMgMzQuMzc0NCAyMy43NDU1Wk0zNi44NzkxIDM0LjYzMzlDMzYuODc5MSAzMi42MTggMzYuNDE5MyAzMC42ODU5IDM1LjU0MTMgMjguODhMMzEuNjk1OCAyOC44OEwzMi4xOTczIDI5LjcxOTlDMzIuODI0MiAzMC43Njk5IDMzLjIwMDQgMzEuOTAzOSAzMy40MDk0IDMzLjA3OTlMMjkuMzEyOSAzMy4wNzk5QzI5LjI3MTIgMzAuOTggMjguOTc4NCAyOC44OCAyOC41MTg2IDI2LjgyMTlDMjcuNTk4OSAyMy4xNjgxIDI1LjkyNjkgMjEuMzIgMjMuNTAyNCAyMS4zMkMxNi4xMDMyIDIxLjI3OCAxMC4wNDE5IDI3LjI4NDEgMTAuMDAwMiAzNC42NzU5QzkuOTU4NDIgNDIuMDY3NyAxNS44OTQzIDQ4LjE1NzkgMjMuMjkzMyA0OC4xOTk4SDIzLjYyNzhDMzEuMDI2NyA0OC4xMTU4IDM2Ljk2MjUgNDIuMDY3OSAzNi44NzkxIDM0LjYzMzlaTTIxLjAzNjEgMzYuNDRMMjUuOTY4NiAzNi40NEMyNS43NTk1IDQxLjIyNzkgMjQuNzU2NSA0NC44Mzk5IDIzLjUwMjMgNDQuODM5OUMyMi4yNDgyIDQ0LjgzOTkgMjEuMjQ1MSA0MS4yMjc5IDIxLjAzNjEgMzYuNDRaTTIzLjUwMjMgMjQuNjgwM0MyNC43NTY1IDI0LjY4MDMgMjUuNzU5NSAyOC4zMzQyIDI1Ljk2ODYgMzMuMDgwMkgyMS4wMzYxQzIxLjI0NTIgMjguMzM0MiAyMi4yNDgyIDI0LjY4MDMgMjMuNTAyMyAyNC42ODAzWk0xNy42OTE3IDMzLjA4MDJMMTMuNjM2OSAzMy4wODAzQzE0LjA5NjcgMzAuMTQwMSAxNS44OTQxIDI3LjUzNjIgMTguNDg2IDI2LjAyNDJMMTguNzM2OCAyNS44OTgyQzE4LjY1MzEgMjYuMTkyMyAxOC41Njk3IDI2LjQ4NjIgMTguNDg2IDI2LjgyMjJDMTguMDI2MiAyOC44ODAzIDE3LjczMzQgMzAuOTgwMyAxNy42OTE3IDMzLjA4MDJaTTE4LjQ4NiA0Mi42OTgyQzE4LjU2OTcgNDMuMDM0MiAxOC42NTMxIDQzLjMyOCAxOC43MzY4IDQzLjYyMjFMMTguNzM2OCA0My42MjIyQzE3LjEwNjUgNDIuNzQwMSAxNS43MjcgNDEuNDM4MiAxNC44NDkgMzkuODAwMkMxNC4yMjIxIDM4Ljc1MDIgMTMuODQ1OSAzNy42MTYxIDEzLjYzNjkgMzYuNDQwMUgxNy42OTE3QzE3LjczMzQgMzguNTQwMSAxOC4wMjYyIDQwLjY0MDEgMTguNDg2IDQyLjY5ODJaTTI5LjMxMjggMzYuNDQwMUwzMy4zNjc2IDM2LjQ0QzMyLjkwNzggMzkuNDIyMSAzMS4xMTA0IDQxLjk4NDEgMjguNTE4NCA0My40OTYxTDI4LjI2NzcgNDMuNjIyMUMyOC4zNTE0IDQzLjMyOCAyOC40MzQ4IDQzLjAzNDEgMjguNTE4NCA0Mi42OTgxQzI4Ljk3ODMgNDAuNjQgMjkuMjcxMSAzOC41NCAyOS4zMTI4IDM2LjQ0MDFaIiBmaWxsPSIjMEUzNTNEIi8+Cjwvc3ZnPgo=",text:t(Ll.UNVERIFIED_MSG),subtext:t(Ll.UNVERIFIED_SUBTEXT)})]}),(0,f.tZ)(c.rUS,{sx:{textDecoration:"none",fontWeight:"lighter",marginBottom:"16px","&:hover":{textDecoration:"underline"}},color:c.colors.midGreen00,target:"_blank",rel:"noopener noreferrer",href:Ol,onClick:()=>{(0,b.Kz)(new d.UserOpenHelpCenterEvent({helpCenterArticleCta:d.HelpCenterArticleCta.ViewDomainVerificationGuide}))},children:t(Ll.RETURNING_USER_VIEW_DOMAIN_GUIDE_CTA)})]})},Gl=({domainName:e})=>{const{translate:t}=(0,x.Z)();return(0,f.BX)(f.HY,{children:[(0,f.tZ)(Pl,{domain:e}),(0,f.tZ)(l.ZX,{size:44,sx:{alignSelf:"center"}}),(0,f.tZ)(c.nvN,{size:"small",color:c.colors.grey00,sx:{marginBottom:"3em",overflow:"hidden",width:"-webkit-fill-available"},children:t(Ll.GENERATING_INSIGHTS_MESSAGE)})]})},$l=({verifiedOrPendingDomain:e,dwiSummaryResponse:t})=>{const{translate:a}=(0,x.Z)(),n=e.status===Vo.p.valid,i=e.name;return(0,f.BX)(Rl,{children:[(0,f.tZ)(l.X6,{as:"h5",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:a(Ll.HEADING)}),n?t?.success?(0,f.tZ)(jl,{domainName:i,domainInfo:t.data[i]}):(0,f.tZ)(Gl,{domainName:i}):(0,f.tZ)(ql,{domainName:i})]})},Fl=a.p+"daa928a30146cfbef943.png";var Vl,Hl;const Wl={TEAM_NEW_LABEL:"team_new_label",HEADING:"team_dashboard_dark_web_insights_discovery_heading",SUBTEXT:"team_dashboard_dark_web_insights_discovery_subtext",ALTERNATE_HEADING:"team_dashboard_dark_web_insights_discovery_heading_alternate",ALTERNATE_SUBTEXT:"team_dashboard_dark_web_insights_discovery_subtext_alternate",SECURITY_INCIDENTS:{LABEL:"team_dashboard_dark_web_insights_security_incidents",TOOLTIP:"team_dashboard_dark_web_insights_security_incidents_tooltip"},EMAILS_AFFECTED:{LABEL:"team_dashboard_dark_web_insights_emails_affected",TOOLTIP:"team_dashboard_dark_web_insights_emails_affected_tooltip"},GET_STARTED_CTA:"team_dashboard_dark_web_insights_discovery_get_started_cta"},Yl=()=>{const{translate:e}=(0,x.Z)(),{routes:t}=(0,er.Xo)(),a=(0,s.k6)(),{unseen:n}=(0,me.m)(_e.O.TacDarkWebInsightsNewBadge);return(0,f.tZ)(l.zx,{onClick:()=>{(0,b.Kz)(new d.UserOpenDomainDarkWebMonitoringEvent({accessPath:d.AccessPath.MainDashboardButton,isFirstVisit:n})),a.push(t.teamDarkWebInsightsRoutePath)},children:e(Wl.GET_STARTED_CTA)},"primary")},Kl=({data:e,companyName:t})=>{const{translate:a}=(0,x.Z)(),[n]=Object.keys(e),i=e[n];return(0,f.BX)(Rl,{children:[(0,f.tZ)(l.Ct,{layout:"labelOnly",label:a(Wl.TEAM_NEW_LABEL),mood:"brand"}),(0,f.tZ)(l.X6,{textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",as:"h3",sx:{marginTop:"1em",width:"100%",overflow:"hidden"},children:a(Wl.HEADING,{companyName:t})}),(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",children:a(Wl.SUBTEXT)}),(0,f.BX)("div",{sx:{backgroundColor:`${c.colors.dashGreen06}`,padding:"2px 14px",width:"100%",borderRadius:"10px"},children:[(0,f.tZ)(Bl,{count:i.leaksCount,labelAndTooltip:Wl.SECURITY_INCIDENTS,primaryColor:c.colors.dashGreen01}),(0,f.tZ)(Bl,{count:i.emailsImpactedCount,labelAndTooltip:Wl.EMAILS_AFFECTED,primaryColor:c.colors.dashGreen01})]}),Vl||(Vl=(0,f.tZ)(Yl,{}))]})},Ql=({companyName:e})=>{const{translate:t}=(0,x.Z)();return(0,f.BX)(Rl,{children:[(0,f.tZ)("div",{sx:{alignSelf:"end"},children:(0,f.tZ)(l.Ct,{layout:"labelOnly",label:t(Wl.TEAM_NEW_LABEL),mood:"brand"})}),(0,f.tZ)("img",{sx:{backgroundColor:`${c.colors.midGreen05}`,height:"122px",width:"122px",borderRadius:"50%",backgroundImage:`url(${Fl})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPositionX:"60%"}}),(0,f.tZ)(l.X6,{textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",as:"h3",sx:{width:"100%"},children:t(Wl.ALTERNATE_HEADING,{companyName:e})}),(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",children:t(Wl.ALTERNATE_SUBTEXT)}),Hl||(Hl=(0,f.tZ)(Yl,{}))]})},Jl=({dwiSummaryResponse:e})=>{var t;const{spaceDetails:a}=(0,De.fV)(),n=null!=(t=a?.teamName)?t:"-";return e?.success?(0,f.tZ)(Kl,{data:e.data,companyName:n}):(0,f.tZ)(Ql,{companyName:n})};var ec,tc,ac,nc;const ic={marginTop:"16px","&:hover":{cursor:"pointer",borderWidth:"2px",borderColor:"ds.border.brand.standard.hover"}},sc={width:"100%",padding:"20px 16px"},rc={padding:"8px",backgroundColor:"ds.container.expressive.brand.quiet.idle",borderRadius:"8px",margin:"auto"},oc=({isOpen:e,plan:t,setModalState:a})=>{const{translate:n}=(0,x.Z)(),i=(0,z.B)();return(0,f.BX)(c.VqE,{isOpen:e,ariaDescribedby:"dialogContent",onClose:()=>{},children:[(0,f.tZ)(c.$N8,{title:n("team_payment_method_dialog_title")}),(0,f.BX)(c.a7O,{children:[(0,f.tZ)(c.Zbd,{sx:ic,onClick:()=>{const e=`${te.ub}?plan=${t}&subCode=${i?.subscriptionCode}`;(0,X.Yo)(e)},children:(0,f.BX)(c.T5p,{gap:"12px",gridTemplateColumns:"40px 480px 60px",sx:sc,children:[ec||(ec=(0,f.tZ)(c.dDn,{sx:rc,children:(0,f.tZ)(l.JO,{name:"ItemPaymentOutlined",size:"large",color:"ds.text.brand.standard"})})),(0,f.tZ)(c.dDn,{sx:{margin:"auto 0"},children:(0,f.tZ)(c.nvN,{color:"ds.text.neutral.standard",bold:!0,children:n("team_payment_method_dialog_credit_card")})}),(0,f.tZ)(c.dDn,{sx:{margin:"auto"},children:tc||(tc=(0,f.tZ)(l.zx,{mood:"brand",intensity:"supershy",size:"large",children:(0,f.tZ)(l.JO,{name:"ArrowRightOutlined",size:"medium",color:"ds.text.neutral.standard"})}))})]})}),(0,f.tZ)(c.Zbd,{sx:ic,onClick:()=>{(0,X.Yo)("https://support.dashlane.com/hc/requests/new?req_type=dashlane_for_business&topic=upgrade_to_dashlane_business")},children:(0,f.BX)(c.T5p,{gap:"12px",gridTemplateColumns:"40px 480px 60px",sx:sc,children:[ac||(ac=(0,f.tZ)(c.dDn,{sx:rc,children:(0,f.tZ)(l.JO,{name:"ItemTaxNumberOutlined",size:"large",color:"ds.text.brand.standard"})})),(0,f.BX)(c.dDn,{children:[(0,f.tZ)(c.nvN,{color:"ds.text.neutral.standard",bold:!0,children:n("team_account_invoice_payment")}),(0,f.tZ)(c.nvN,{color:"ds.text.neutral.quiet",size:"small",sx:{marginTop:"4px"},children:n("team_payment_method_dialog_support_team")})]}),(0,f.tZ)(c.dDn,{sx:{margin:"auto"},children:nc||(nc=(0,f.tZ)(l.zx,{mood:"brand",intensity:"supershy",size:"large",layout:"iconOnly",icon:(0,f.tZ)(l.JO,{name:"ArrowRightOutlined",size:"medium",color:"ds.text.neutral.standard"})}))})]})})]}),(0,f.tZ)(c.Ejs,{sx:{justifyContent:"flex-end"},children:(0,f.tZ)(l.zx,{intensity:"quiet",mood:"neutral",onClick:()=>{a(mc.PURCHASE)},children:n("_common_action_back")})})]})},lc=({isOpen:e,planCopy:t,setModalState:a,handleClose:n})=>{const{translate:i}=(0,x.Z)();return(0,r.useEffect)((()=>{(0,b.Nc)(d.PageView.TacAccountTrialEndModal)}),[]),(0,f.BX)(c.VqE,{isOpen:e,ariaDescribedby:"dialogContent",closeIconName:i("_common_dialog_dismiss_button"),onClose:()=>{(0,b.Kz)(new d.UserCallToActionEvent({callToActionList:[d.CallToAction.AllOffers],hasChosenNoAction:!0})),n()},children:[(0,f.tZ)(c.$N8,{title:i("team_dashboard_purchase_dialog_title",{plan:t})}),(0,f.BX)(c.a7O,{children:[(0,f.tZ)(c.nvN,{color:"ds.text.neutral.standard",children:i("team_dashboard_purchase_dialog_paragraph_1")}),(0,f.tZ)(c.nvN,{color:"ds.text.neutral.standard",sx:{marginTop:"8px"},children:i("team_dashboard_purchase_dialog_paragraph_2")}),(0,f.tZ)("div",{sx:{marginTop:"24px"},children:(0,f.tZ)(l.ke,{size:"large",mood:"warning",title:i("team_dashboard_purchase_dialog_infobox_copy_1"),description:i("team_dashboard_purchase_dialog_infobox_copy_2")})})]}),(0,f.tZ)(c.Ejs,{sx:{justifyContent:"flex-end"},children:(0,f.tZ)(l.zx,{mood:"brand",onClick:()=>{(0,b.Kz)(new d.UserCallToActionEvent({callToActionList:[d.CallToAction.AllOffers],chosenAction:d.CallToAction.AllOffers,hasChosenNoAction:!1})),a(mc.PAYMENT)},children:i("team_account_teamplan_plan_buy_dashlane")})})]})};var cc,dc,_c;const uc={seats:{pending:0,provisioned:0,used:0},passwordHealthHistory:[],passwordHealth:{compromised:0,passwords:0,reused:0,safe:0,securityIndex:0,weak:0}};let mc=function(e){return e[e.PURCHASE=0]="PURCHASE",e[e.PAYMENT=1]="PAYMENT",e}({});const pc=()=>{const{translate:e}=(0,x.Z)();return(0,f.tZ)("div",{children:(0,f.BX)(Qr,{children:[(0,f.tZ)(l.X6,{as:"h3",textStyle:"ds.title.block.medium",children:e("team_breach_report_need_help")}),(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",children:e("team_dark_web_insights_need_help_description")}),(0,f.tZ)(eo,{href:"https://support.dashlane.com/hc/articles/5015658490514",onClick:()=>{(0,b.Kz)(new d.UserOpenHelpCenterEvent({helpCenterArticleCta:d.HelpCenterArticleCta.LearnAboutDarkWebInsights}))},children:e("team_dark_web_insights_learn_more_txt")}),(0,f.tZ)(eo,{href:Ol,onClick:()=>{(0,b.Kz)(new d.UserOpenHelpCenterEvent({helpCenterArticleCta:d.HelpCenterArticleCta.LearnAboutDomainVerification}))},children:e("team_breach_report_learn_domain_verification_txt")})]})})};var gc=a(894017),hc=a.n(gc);const bc=({registerDomain:e=(()=>{}),disabled:t,registrationError:a,clearRegistrationErrors:n=(()=>{}),domainLoadError:i})=>{const{translate:s}=(0,x.Z)(),[o,l]=r.useState(""),d=i?"":s("team_settings_domain_url_placeholder");return(0,f.BX)(f.HY,{children:[(0,f.BX)("div",{className:"domainUrlInput--VQjVVbbN2d",children:[(0,f.tZ)(c.oil,{value:o,placeholder:d,fullWidth:!0,feedbackText:a,feedbackType:a?"error":void 0,onChange:e=>{a&&n(),l(e.target.value)},disabled:!!i||t}),i&&(0,f.tZ)("p",{className:"domainLoadErrorText--WEJL2Ne0Pt",children:i})]}),(0,f.tZ)(c.zxk,{type:"button",className:B()("domainUrlButton--lFqlfJ3Gzv",{"domainLoadError--ajAHmgDUO9":i}),disabled:t,nature:"secondary",onClick:()=>e(o),children:s("team_settings_domain_button_add")})]})};var yc=a(418402),xc=a.n(yc);const Sc=({domain:e,onConfirm:t,onDismiss:a})=>{const{translate:n}=(0,x.Z)(),[i,s]=(0,r.useState)(!1),o=(0,r.useRef)(!1);return(0,r.useEffect)((()=>()=>{o.current=!0}),[o]),(0,f.tZ)(ms.o,{isOpen:!0,onRequestClose:a,footer:(0,f.tZ)(c.cNS,{primaryButtonTitle:n("team_settings_domain_deactivate_button_remove"),primaryButtonOnClick:async()=>{s(!0),await t(),o.current||(s(!1),a())},primaryButtonProps:{disabled:i},secondaryButtonTitle:n("team_settings_domain_deactivate_button_cancel"),secondaryButtonOnClick:a,intent:"primary"}),title:n("team_settings_domain_deactivate_title"),children:(0,f.tZ)("p",{children:n.markup("team_settings_domain_deactivate_description_markup",{domainUrl:e.name})})})},fc=({domain:e,deactivateDomain:t,isDisabled:a,disabledTooltipText:n})=>{const[i,s]=(0,r.useState)(!1);return(0,f.BX)(f.HY,{children:[i?(0,f.tZ)(Sc,{domain:e,onConfirm:t,onDismiss:()=>s(!1)}):null,(0,f.tZ)("div",{className:"deactivateTrashcan--nLkrRLE9CS",onClick:()=>{a||s(!0)},children:(0,f.tZ)(c.ua7,{passThrough:!a,placement:"top",content:null!=n?n:"",sx:{maxWidth:"180px"},children:(0,f.tZ)(c.XHJ,{disabled:a,size:25,color:xc()["--dash-green-00"]})})})]})},vc="column--QmWD9Od6Ul",Cc=({label:e,centerLabel:t,labelHelper:a,children:n})=>(0,f.BX)("div",{className:"row--b0sY7KH6EJ",children:[(0,f.BX)("div",{className:vc,children:[(0,f.tZ)("div",{className:B()("label--IAVg4TIabV",{"centerLabel--kRDzb_3UrS":t}),children:e}),a?(0,f.tZ)("div",{className:"labelHelper--ZvFzwTua9S",children:a}):null]}),(0,f.tZ)("div",{className:vc,children:n})]});let Zc=function(e){return e[e.ClaimDomain=0]="ClaimDomain",e[e.VerifyDomain=1]="VerifyDomain",e[e.SSOConnector=2]="SSOConnector",e[e.EnableSSO=3]="EnableSSO",e}({}),Tc=function(e){return e[e.SSOConnector=0]="SSOConnector",e[e.ConfigureIDP=1]="ConfigureIDP",e[e.EnableSSO=2]="EnableSSO",e}({}),Dc=function(e){return e[e.dismiss=0]="dismiss",e[e.action=1]="action",e}({});const Ec="team_settings_domain_deactivate_button_tooltip_error",kc=({currentStep:e,deactivateDomain:t,domain:a,isDisabled:n,setCurrentSteps:i,verifyDomain:s})=>{var o;const[l,c]=r.useState(!1),{translate:d}=(0,x.Z)();return(0,f.BX)("div",{className:"domainContainer--uTWD0PQykR",children:[(()=>{if(!a)return null;switch(e){case Ic.Verify:case Ic.VerifyFailed:return(0,f.BX)(f.HY,{children:[(0,f.tZ)(Lc,{domain:a,verifyDomain:()=>c(!0),domainStep:e}),(0,f.tZ)(fc,{domain:a,deactivateDomain:()=>t(a),isDisabled:n,disabledTooltipText:d(Ec)})]});case Ic.Complete:return(0,f.BX)(f.HY,{children:[o||(o=(0,f.tZ)(zc,{domain:a})),(0,f.tZ)(fc,{domain:a,deactivateDomain:()=>t(a),isDisabled:n,disabledTooltipText:d(Ec)})]});default:return null}})(),(()=>{if(!a||!l)return null;switch(e){case Ic.Verify:return(0,f.tZ)(jc,{domainName:a.name,onConfirm:()=>s(a),onDismiss:()=>c(!1)});case Ic.VerifyFailed:return(0,f.tZ)(qc,{onDismiss:()=>{i((e=>({...e,[a.id]:Ic.Verify}))),c(!1)}});default:return null}})()]},a.id)},wc="team_settings_domain_register_invalid_error",Nc={INVALID_PUBLIC_DOMAIN:"team_settings_domain_register_public_error",DOMAIN_CONTAINS_EXISTING_NONTEAM_USERS:"team_settings_domain_register_contact_support"};let Ic=function(e){return e[e.Register=0]="Register",e[e.Verify=1]="Verify",e[e.VerifyFailed=2]="VerifyFailed",e[e.Complete=3]="Complete",e}({});const Ac=({isTeamSettingsLoading:e,teamSettings:t,setStepComplete:a,uncompleteSteps:n})=>{const{translate:i}=(0,x.Z)(),[s,o]=r.useState(!1),[l,c]=r.useState([]),[d,_]=r.useState(""),[u,m]=r.useState(""),[p,g]=r.useState({}),h=e=>"valid"===e.status,b=()=>l.filter((e=>h(e))),y=t?.ssoEnabled||!1,S=r.useCallback(((e=[])=>{e.forEach((e=>{switch(e.status){case Vo.p.pending:g((t=>({...t,[e.id]:Ic.Verify}))),a(Zc.ClaimDomain);break;case Vo.p.valid:g((t=>({...t,[e.id]:Ic.Complete}))),a(Zc.ClaimDomain),a(Zc.VerifyDomain);break;default:g((t=>({...t,[e.id]:Ic.Register})))}}))}),[]),v=r.useCallback((async()=>{o(!0),m("");const e=await Ze.C.getTeamDomains();return o(!1),e.success?(c(e.domains),e.domains):(m(i("team_settings_domain_fetch_error")),Promise.resolve(void 0))}),[Ze.C.getTeamDomains]),C=async e=>{const t=await Ze.C.completeTeamDomainRegistration();t.success&&t.domains.find((t=>t.name===e.name))&&t.domains.find((t=>t.name===e.name))?.status===Vo.p.valid?(a(Zc.VerifyDomain),g((t=>({...t,[e.id]:Ic.Complete})))):g((t=>({...t,[e.id]:Ic.VerifyFailed})))},Z=async e=>{e&&(await Ze.C.deactivateTeamDomain({domain:e.name})).success&&(S(await v()),b().length||n([Zc.EnableSSO,Zc.SSOConnector,Zc.ClaimDomain,Zc.VerifyDomain]))};return r.useEffect((()=>{(async()=>{S(await v())})()}),[v,S]),(0,f.BX)(f.HY,{children:[(0,f.tZ)(Cc,{label:`1. ${i("team_settings_domain_title")}`,labelHelper:i("team_settings_domain_multi_description"),children:s||e?(0,f.tZ)(Ss.Z,{size:20,containerStyle:{alignItems:"normal"}}):(0,f.tZ)(bc,{registerDomain:async e=>{if(l.length>=5)return;if(!hc().isFQDN(e))return void _(i(wc));const t=await Ze.C.registerTeamDomain({domain:e});if(t.success)S(await v());else if(!t.success){const{error:{code:e}}=t,a=Nc[e];_(i(null!=a?a:wc))}},domainLoadError:u,registrationError:d,disabled:l.length>=5,clearRegistrationErrors:()=>_("")})}),s||e||0===l.length?null:(0,f.BX)(f.HY,{children:[(0,f.tZ)("div",{className:"divider--SU_Ctssudp"}),(0,f.tZ)(Cc,{label:i("team_settings_domain_added"),children:(0,f.tZ)("div",{className:"domainsContainer--eO_SBqHaFr",children:l.map(((e,t)=>t<5?(0,f.tZ)(kc,{currentStep:p[e.id],deactivateDomain:Z,domain:e,isDisabled:y&&1===b().length&&h(e),setCurrentSteps:g,verifyDomain:C},e.id):null))})})]})]})},{orange00:Mc,dashGreen02:Oc}=c.colors,Lc=({verifyDomain:e,domain:t,domainStep:a})=>{const{translate:n}=(0,x.Z)();return(0,f.BX)(c.T5p,{gap:"10px",gridTemplateColumns:"1fr auto",children:[(0,f.tZ)(c.oil,{value:t?t.name:"",fullWidth:!0,readOnly:!0,endAdornment:(0,f.BX)(c.T5p,{gridTemplateColumns:"auto auto",gap:"5px",children:[(0,f.tZ)(c.nvN,{size:"small",color:a===Ic.VerifyFailed?Mc:Oc,children:a===Ic.VerifyFailed?n("team_settings_domain_verify_failed"):n("team_settings_domain_not_verified")}),(0,f.tZ)(c.enX,{color:a===Ic.VerifyFailed?Mc:Oc})]}),feedbackType:a===Ic.VerifyFailed?"warning":void 0}),(0,f.tZ)(c.zxk,{nature:"secondary",onClick:e,type:"button",children:n("team_settings_domain_button_verify")})]})};var Bc;const{accessibleValidatorGreen:Rc}=c.colors,zc=({domain:e})=>(0,f.tZ)(c.oil,{value:e.name,endAdornment:Bc||(Bc=(0,f.tZ)(c.rE2,{color:Rc})),readOnly:!0,fullWidth:!0});var Pc,Xc=a(501234);const Uc="team_settings_domain_verify_load_error",jc=({description:e,isDarkWebInsights:t,secondaryDescription:a,domainName:n,href:i="https://support.dashlane.com/hc/articles/360013149040",linkLabel:s,onClick:o,onDismiss:_,onConfirm:u})=>{const{translate:m}=(0,x.Z)(),[p,g]=(0,r.useState)({id:0,name:""}),[h,y]=(0,r.useState)(""),[S,v]=(0,r.useState)(!1),[C,Z]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(async()=>{v(!0);try{const e=await Ze.C.getTeamDomains();if(e.success){const t=e.domains.find((e=>e.name===n));t?g(t):y(m(Uc))}}catch(e){y(m(Uc))}finally{v(!1)}})()}),[n,m]);const{dnsToken:{computedToken:T,challengeDomain:D}={computedToken:"",challengeDomain:""}}=p,E=({id:e,inputValue:t,labelText:a})=>({textInputProps:{id:e,label:a,readOnly:!0,disabled:S,fullWidth:!0,startAdornment:S?Pc||(Pc=(0,f.tZ)(l.ZX,{})):void 0},iconButtonProps:{disabled:S},inputValue:t});return(0,f.BX)(c.VqE,{isOpen:!0,onClose:_,closeIconName:m("_common_dialog_dismiss_button"),children:[(0,f.tZ)(c.$N8,{title:m("team_settings_domain_verify_title")}),(0,f.tZ)(c.a7O,{children:(0,f.BX)(c.T5p,{gap:"32px",gridTemplateColumns:"1fr",gridAutoRows:"auto",children:[(0,f.tZ)(c.nvN,{color:c.colors.grey00,children:e||m.markup("team_settings_domain_verify_description_markup",{domainUrl:n})}),h?(0,f.tZ)(c.nvN,{color:c.colors.red00,children:h}):(0,f.BX)(f.HY,{children:[(0,f.tZ)(Xc.x,{...E({id:"hostnameInput",labelText:m("team_settings_domain_verify_host"),inputValue:D})}),(0,f.tZ)(Xc.x,{...E({id:"txtValueInput",labelText:m("team_settings_domain_verify_txt"),inputValue:T})})]}),a?(0,f.tZ)(c.nvN,{color:c.colors.grey00,children:a}):null]})}),(0,f.tZ)(c.cNS,{primaryButtonTitle:m("team_settings_domain_verify_confirm"),primaryButtonOnClick:async()=>{Z(!0);try{await u()}catch(e){y(e.message),t&&(0,b.Kz)(new d.UserVerifyDomainEvent({domainVerificationStep:d.DomainVerificationStep.DomainVerificationError}))}finally{Z(!1),t&&(0,b.Kz)(new d.UserVerifyDomainEvent({domainVerificationStep:d.DomainVerificationStep.TapVerifyDomainCtaWithDnsInformation}))}},primaryButtonProps:{disabled:!!h||S||C},intent:"primary",children:(0,f.tZ)(c.rUS,{sx:{alignSelf:"center",mr:"auto"},color:c.colors.midGreen00,target:"_blank",rel:"noopener noreferrer",href:i,onClick:o,children:s||m("team_settings_domain_verify_setup")})})]})},qc=({onDismiss:e,domainName:t})=>{const{translate:a}=(0,x.Z)(),n=t?a.markup("team_settings_domain_verify_failure_title_markup",{domainUrl:t}):a("team_settings_domain_verify_failure_title");return(0,f.BX)(c.VqE,{isOpen:!0,onClose:e,children:[(0,f.tZ)(c.$N8,{title:n}),(0,f.tZ)(c.a7O,{children:a("team_settings_domain_verify_failure_desc")}),(0,f.tZ)(c.cNS,{primaryButtonTitle:a("team_settings_domain_verify_failure_button"),primaryButtonOnClick:e,intent:"primary"})]})},Gc=({description:e,isDarkWebInsights:t,secondaryDescription:a,domainName:n,linkLabel:i,href:s,onClick:o,onDismiss:l,onError:c,onSuccess:d})=>{const[_,u]=(0,r.useState)(!1),m=(0,r.useRef)(!1),p=(0,r.useCallback)((async()=>{const e=await Ze.C.completeTeamDomainRegistration();if(!m.current){if(e.success){const t=e.domains.find((e=>e.name===n));t?.status===Vo.p.valid?d():c&&c()}else u(!0);return()=>{m.current=!0}}}),[n,d,c]);return _?(0,f.tZ)(qc,{onDismiss:l,domainName:n}):(0,f.tZ)(jc,{description:e,isDarkWebInsights:t,secondaryDescription:a,linkLabel:i,domainName:n,href:s,onConfirm:p,onDismiss:l,onClick:o})},$c=({img:e,title:t,subtitle:a,stepLabel:n,stepNumber:i,caps:s,dotStyle:r})=>(0,f.BX)("div",{className:"container--vE8T8LPnPv",children:[(0,f.tZ)("img",{src:e,className:"img--m_seeXYeAW"}),(0,f.tZ)(c.nvN,{size:"medium",caps:!!s||void 0,sx:{marginTop:"-43px",marginBottom:"11px"},children:t}),(0,f.tZ)(c.nvN,{color:c.colors.grey00,size:"small",children:a}),(0,f.BX)("div",{className:"numberContainer--QTEn2wceZi",children:[(0,f.tZ)("div",{className:"dot--jKi_w8fAhr",style:r}),n&&i?(0,f.BX)(c.nvN,{size:"small",sx:{textAlign:"left"},children:[n," ",i]}):null]})]}),Fc=()=>{const{translate:e}=(0,x.Z)(),t={marginTop:"18px"};return(0,f.tZ)(c.Zbd,{sx:{padding:"12px 12px 48px",minHeight:"200px"},children:(0,f.BX)(c.Ejs,{sx:{justifyContent:"space-between",marginTop:"80px",paddingLeft:"24px",borderBottom:`solid 2px ${c.colors.grey00}`},children:[(0,f.tZ)($c,{img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iNTMiIHZpZXdCb3g9IjAgMCA1MyA1MyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNi40NTgzIDEuNUMxMi42NzQyIDEuNSAxLjUgMTIuNjc0MiAxLjUgMjYuNDU4M0MxLjUgNDAuMjQyNCAxMi42NzQyIDUxLjQxNjcgMjYuNDU4MyA1MS40MTY3QzQwLjI0MjQgNTEuNDE2NyA1MS40MTY3IDQwLjI0MjQgNTEuNDE2NyAyNi40NTgzQzUxLjQxNjcgMTIuNjc0MiA0MC4yNDI0IDEuNSAyNi40NTgzIDEuNVpNMC41IDI2LjQ1ODNDMC41IDEyLjEyMTkgMTIuMTIxOSAwLjUgMjYuNDU4MyAwLjVDNDAuNzk0NyAwLjUgNTIuNDE2NyAxMi4xMjE5IDUyLjQxNjcgMjYuNDU4M0M1Mi40MTY3IDQwLjc5NDcgNDAuNzk0NyA1Mi40MTY3IDI2LjQ1ODMgNTIuNDE2N0MxMi4xMjE5IDUyLjQxNjcgMC41IDQwLjc5NDcgMC41IDI2LjQ1ODNaIiBmaWxsPSIjNjE1QjU3Ii8+CjxwYXRoIGQ9Ik0yNi4xMjgzIDMwSDI3LjYxNjNWMjEuMzI0SDI2LjYyMDNDMjYuNTYwMyAyMi4wNSAyNi4wMzgzIDIyLjQ0NiAyNC41MjAzIDIyLjQ0NlYyMy4zMTZIMjYuMTI4M1YzMFoiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo=",title:e("team_breach_report_verify_domain_stepper_title"),subtitle:e("team_dark_web_insights_stepper_verify_domain_subtitle"),caps:!0,dotStyle:t}),(0,f.tZ)($c,{img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iNTMiIHZpZXdCb3g9IjAgMCA1MyA1MyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNi40NTgzIDEuNUMxMi42NzQyIDEuNSAxLjUgMTIuNjc0MiAxLjUgMjYuNDU4M0MxLjUgNDAuMjQyNCAxMi42NzQyIDUxLjQxNjcgMjYuNDU4MyA1MS40MTY3QzQwLjI0MjQgNTEuNDE2NyA1MS40MTY3IDQwLjI0MjQgNTEuNDE2NyAyNi40NTgzQzUxLjQxNjcgMTIuNjc0MiA0MC4yNDI0IDEuNSAyNi40NTgzIDEuNVpNMC41IDI2LjQ1ODNDMC41IDEyLjEyMTkgMTIuMTIxOSAwLjUgMjYuNDU4MyAwLjVDNDAuNzk0NyAwLjUgNTIuNDE2NyAxMi4xMjE5IDUyLjQxNjcgMjYuNDU4M0M1Mi40MTY3IDQwLjc5NDcgNDAuNzk0NyA1Mi40MTY3IDI2LjQ1ODMgNTIuNDE2N0MxMi4xMjE5IDUyLjQxNjcgMC41IDQwLjc5NDcgMC41IDI2LjQ1ODNaIiBmaWxsPSIjNjE1QjU3Ii8+CjxwYXRoIGQ9Ik0yNC4wMDQ5IDMwSDMwLjEyNDlWMjguNzUySDI1LjYzMDlWMjguNjI2QzI1LjYzMDkgMjYuNTYyIDMwLjEwNjkgMjYuODUgMzAuMTA2OSAyMy43NTRDMzAuMTA2OSAyMi4yMyAyOC45NDI5IDIxLjIwNCAyNy4wODg5IDIxLjIwNEMyNC45NDA5IDIxLjIwNCAyMy44NTQ5IDIyLjQ4MiAyMy44MzA5IDI0LjA2NkgyNS4yNDY5QzI1LjM2MDkgMjMuMDI4IDI2LjA1MDkgMjIuNDQgMjcuMDQ2OSAyMi40NEMyNy45ODI5IDIyLjQ0IDI4LjU3MDkgMjIuOTggMjguNTcwOSAyMy43NkMyOC41NzA5IDI1Ljg2IDI0LjAwNDkgMjUuNzIyIDI0LjAwNDkgMjguODE4VjMwWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==",title:e("team_dark_web_insights_view_insights_stepper_title"),subtitle:e("team_dark_web_insights_view_insights_stepper_subtitle"),caps:!0,dotStyle:t}),(0,f.tZ)($c,{img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTQiIGhlaWdodD0iNTMiIHZpZXdCb3g9IjAgMCA1NCA1MyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yNi45NDc5IDEuNUMxMi44ODQ0IDEuNSAxLjUgMTIuNjgzMiAxLjUgMjYuNDU4M0MxLjUgNDAuMjMzNSAxMi44ODQ0IDUxLjQxNjcgMjYuOTQ3OSA1MS40MTY3QzQxLjAxMTQgNTEuNDE2NyA1Mi4zOTU4IDQwLjIzMzUgNTIuMzk1OCAyNi40NTgzQzUyLjM5NTggMTIuNjgzMiA0MS4wMTE0IDEuNSAyNi45NDc5IDEuNVpNMC41IDI2LjQ1ODNDMC41IDEyLjExMyAxMi4zNTAyIDAuNSAyNi45NDc5IDAuNUM0MS41NDU3IDAuNSA1My4zOTU4IDEyLjExMyA1My4zOTU4IDI2LjQ1ODNDNTMuMzk1OCA0MC44MDM3IDQxLjU0NTcgNTIuNDE2NyAyNi45NDc5IDUyLjQxNjdDMTIuMzUwMiA1Mi40MTY3IDAuNSA0MC44MDM3IDAuNSAyNi40NTgzWiIgZmlsbD0iIzYxNUI1NyIvPgo8cGF0aCBkPSJNMjMuNzMzNSAyMy45MjhIMjUuMTQ5NUMyNS4yMDM1IDIyLjgwNiAyNi4wMDE1IDIyLjM2OCAyNi44Nzc1IDIyLjM2OEMyNy45MDk1IDIyLjM2OCAyOC41NjM1IDIyLjg3OCAyOC41NjM1IDIzLjU1QzI4LjU2MzUgMjQuMjgyIDI3Ljg0MzUgMjQuODUyIDI2LjgxNzUgMjQuODgyTDI2LjA3MzUgMjQuOTEyVjI2LjFMMjYuODc3NSAyNi4xMjRDMjcuOTYzNSAyNi4xNDggMjguNzc5NSAyNi42NTIgMjguNzc5NSAyNy41MzRDMjguNzc5NSAyOC4zNTYgMjguMDUzNSAyOC45MjYgMjYuODgzNSAyOC45MjZDMjUuOTQxNSAyOC45MjYgMjUuMjQ1NSAyOC40MzQgMjUuMDc3NSAyNy40MDJIMjMuNjU1NUMyMy42OTE1IDI5LjA4MiAyNC45MDM1IDMwLjEyIDI2Ljg1MzUgMzAuMTMyQzI4LjgwOTUgMzAuMTQ0IDMwLjM0NTUgMjkuMjIgMzAuMzQ1NSAyNy41N0MzMC4zNDU1IDI2LjQxOCAyOS41NTM1IDI1LjcxNiAyOC41MDk1IDI1LjQyOEMyOS42MjU1IDI1LjA0NCAzMC4xMjk1IDI0LjM0OCAzMC4xMjk1IDIzLjQ5QzMwLjEyOTUgMjEuOTcyIDI4Ljc3MzUgMjEuMjA0IDI2Ljg5NTUgMjEuMjA0QzI1LjE0MzUgMjEuMjA0IDIzLjczMzUgMjIuMTQ2IDIzLjczMzUgMjMuOTI4WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==",title:e("team_breach_report_reduce_risk_title"),subtitle:e("team_breach_report_reduce_risk_subtitle"),caps:!0,dotStyle:t})]})})};var Vc,Hc=a(997962);const Wc="team_breach_report_domain_register_invalid_error",Yc={INVALID_PUBLIC_DOMAIN:"team_settings_domain_register_public_error",DOMAIN_CONTAINS_EXISTING_NONTEAM_USERS:"team_settings_domain_register_contact_support",DOMAIN_ALREADY_EXISTS:"team_settings_domain_register_duplicated_error"},Kc=({onSuccess:e,onError:t})=>{const{translate:a}=(0,x.Z)(),n=(0,Hc.f)(),{openDialog:i,shouldShowFrozenStateDialog:s}=(0,N.Ub)(),[o,l]=(0,r.useState)(""),[_,u]=(0,r.useState)(""),[m,p]=(0,r.useState)(!1),[g,h]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{if(void 0!==n){const e=n.substring(n.lastIndexOf("@")+1);l(e)}}),[n]),(0,f.BX)(f.HY,{children:[Vc||(Vc=(0,f.tZ)(Fc,{})),(0,f.BX)("div",{children:[(0,f.BX)(c.Zbd,{sx:{padding:"24px",margin:"24px 0"},children:[(0,f.tZ)(c.X6q,{size:"x-small",children:a("team_dark_web_insights_verify_domain_title")}),(0,f.tZ)(c.nvN,{sx:{marginBottom:"20px",marginTop:"10px"},color:c.colors.grey00,children:a("team_breach_report_verify_domain_description")}),(0,f.BX)(c.Ejs,{gap:"16px",children:[(0,f.tZ)(c.k$b,{sx:{width:"75%"},children:(0,f.tZ)(c.oil,{onChange:e=>{l(e.target.value),u("")},fullWidth:!0,value:o,autoFocus:!0,endAdornment:_||""===o||!hc().isFQDN(o)?void 0:(0,f.tZ)(c.rE2,{color:c.colors.accessibleValidatorGreen}),feedbackText:_||void 0,feedbackType:_?"error":void 0})}),(0,f.tZ)(c.k$b,{sx:{width:"20%"},children:(0,f.tZ)(c.zxk,{type:"button",disabled:""===o||g,onClick:()=>{(async e=>{if((0,b.Kz)(new d.UserVerifyDomainEvent({domainVerificationStep:d.DomainVerificationStep.TapContinueCtaWithDomainUrl})),s)return void i();if(!hc().isFQDN(e))return void u(a(Wc));h(!0);const t=await Ze.C.registerTeamDomain({domain:e});if(h(!1),t.success)return u(""),void p(!0);if(!t.success){const{error:{code:e}}=t,n=Yc[e];u(a(null!=n?n:Wc))}})(o),(0,b.Kz)(new d.UserVerifyDomainEvent({domainVerificationStep:d.DomainVerificationStep.TapContinueCtaWithDomainUrl}))},children:a("team_dwi_verify_domain_button")})})]})]}),m?(0,f.tZ)(Gc,{description:a.markup("breach_report_verify_domain_dialog_description_markup"),secondaryDescription:a("breach_report_verify_domain_dialog_secondary_description"),linkLabel:a("breach_report_verify_domain_href_label"),href:Ol,onClick:()=>{(0,b.Kz)(new d.UserOpenHelpCenterEvent({helpCenterArticleCta:d.HelpCenterArticleCta.ViewDomainVerificationGuide}))},domainName:o,onSuccess:()=>{e(o)},isDarkWebInsights:!0,onError:t,onDismiss:t}):null]})]})};async function Qc(e,t,a=0){const n=await Ze.C.getDarkWebInsightsReportResults({domain:e,offset:a,count:t});if(n?.success)return n.data;throw new Error("[fetchDarkWebInsightsResults] - Server Error: Unable to load dark web insight report results data")}var Jc,ed,td;const ad=({domainName:e})=>{const{translate:t}=(0,x.Z)();return(0,f.BX)(c.Zbd,{sx:{minHeight:"575px",padding:"24px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Jc||(Jc=(0,f.tZ)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEzIiBoZWlnaHQ9IjExMyIgdmlld0JveD0iMCAwIDExMyAxMTMiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHg9IjAuNSIgd2lkdGg9IjExMiIgaGVpZ2h0PSIxMTMiIHJ4PSI1NiIgZmlsbD0iI0Y1RjdGNyIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTUwLjAzMzggMjYuNTYyMkM0MC45NzkgMjcuNjk4NiAzNC41NiAzNS45NjAyIDM1LjY5NjQgNDUuMDE1TDM2LjY0OTUgNTIuNjA4NUwzMS45OTUyIDUzLjE5MjZDMzAuODk5MiA1My4zMzAyIDMwLjEyMjMgNTQuMzMwMSAzMC4yNTk4IDU1LjQyNjFMMzQuNTYyMSA4OS43MDVDMzQuNjk5NyA5MC44MDEgMzUuNjk5NyA5MS41Nzc5IDM2Ljc5NTYgOTEuNDQwNEw3OS4wNDI4IDg2LjEzOEM4MC4xMzg4IDg2LjAwMDQgODAuOTE1NyA4NS4wMDA1IDgwLjc3ODIgODMuOTA0NUw3Ni40NzU5IDQ5LjYyNTZDNzYuMzM4MyA0OC41Mjk2IDc1LjMzODQgNDcuNzUyNyA3NC4yNDI0IDQ3Ljg5MDJMNjkuNDM5NiA0OC40OTNMNjguNDg2NiA0MC44OTk1QzY3LjM1MDEgMzEuODQ0OCA1OS4wODg1IDI1LjQyNTcgNTAuMDMzOCAyNi41NjIyWk00MC43NDk5IDQ0LjQ2OTlMNDEuNjkxOSA1MS45NzU2TDY0LjM5MjggNDkuMTI2NUw2My40NTA3IDQxLjYyMDhDNjIuNjY0IDM1LjM1MjEgNTYuOTQ0NCAzMC45MDgxIDUwLjY3NTcgMzEuNjk0OUM0NC40MDcxIDMyLjQ4MTcgMzkuOTYzMSAzOC4yMDEyIDQwLjc0OTkgNDQuNDY5OVpNNzguMTg0MiAzMi4yODA4TDc0LjE0ODUgMzYuNDAzNkw3NS43NCAzNy45NjE2TDc5Ljc3NTggMzMuODM4OEw3OC4xODQyIDMyLjI4MDhaTTc3LjI0NzEgNDAuMDg4Mkw3OS45MzA0IDM5LjUxNDhMODAuMjkzMiA0MS4yMTI1TDc3LjYwOTkgNDEuNzg1OUw3Ny4yNDcxIDQwLjA4ODJaTTcxLjA0MTMgMzEuODczOEw3MC44ODg3IDM1Ljg0ODRMNzIuNzg0MiAzNS45MjEyTDcyLjkzNjggMzEuOTQ2Nkw3MS4wNDEzIDMxLjg3MzhaIiBmaWxsPSIjOUZBRUIxIi8+Cjwvc3ZnPgo="})),ed||(ed=(0,f.tZ)("br",{})),(0,f.tZ)(c.nvN,{color:c.colors.black,bold:!0,size:"large",children:t("team_dashboard_dark_web_insights_domain_incident_free_title",{domainName:e})}),td||(td=(0,f.tZ)("br",{})),(0,f.tZ)(c.nvN,{color:c.colors.grey00,children:t("team_dwi_domain_incident_free_description")})]})};var nd,id,sd,rd;const od={minHeight:"575px",padding:"24px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},ld=()=>{const{translate:e}=(0,x.Z)();return(0,f.BX)(c.Zbd,{sx:od,children:[nd||(nd=(0,f.tZ)(l.ZX,{size:88})),id||(id=(0,f.tZ)("br",{})),(0,f.tZ)(c.nvN,{color:c.colors.grey00,children:e("team_dark_web_insights_scanning_incidents_txt")})]})},cd=()=>{const{translate:e}=(0,x.Z)();return(0,f.BX)(c.Zbd,{sx:od,children:[sd||(sd=(0,f.tZ)(l.ZX,{size:88})),rd||(rd=(0,f.tZ)("br",{})),(0,f.tZ)(c.nvN,{color:c.colors.grey00,children:e("team_dashboard_dark_web_insights_generating_msg")})]})},dd=e=>{const[t,a]=(0,r.useState)(!1),[n,i]=(0,r.useState)([]),[s,o]=(0,r.useState)(null),l=(0,r.useCallback)((async t=>{if(!t?.signal?.aborted)if(null!==e){a(!0);try{const t=await(0,Ce.YY)({teamId:e});i(t)}catch(e){const t=new Error(`useTeamMember: ${e}`);o(t)}finally{a(!1)}}else o(new Error("No team id provided"))}),[e]);return(0,r.useEffect)((()=>{const e=new AbortController;return l(),()=>{e.abort()}}),[l]),{teamMembersLoading:t,teamMembersError:s,teamMembers:n,refreshTeamMembers:l}},_d=e=>e.filter((({status:e})=>"removed"!==e)).length;var ud=a(344690),md=a(891032),pd=a(164467),gd=a(174537),hd=a(133392);const bd={INVITE_RESTRICTED:"team_invite_result_dialog_refused_member_reason_admin_restricted_markup",PRE_EXISTING_MP_USER:"team_invite_result_dialog_refused_member_reason_pre_existing_mp_user_markup",GENERIC_ERROR:"team_invite_result_dialog_refused_member_reason_generic_error_markup",EMAIL_DOES_NOT_MATCH_SSO_DOMAIN:"team_invite_result_dialog_refused_member_reason_EMAIL_DOES_NOT_MATCH_SSO_DOMAIN",ALREADY_MEMBER:"team_invite_result_dialog_refused_member_reason_already_member",ALREADY_MEMBER_OTHER_TEAM:"team_invite_result_dialog_refused_member_reason_already_member_other_team",HAS_AUTOMATIC_RENEW:"team_invite_result_dialog_refused_member_reason_has_automatic_renew",NO_FREE_SLOT_FREE_PLAN:"team_invite_result_dialog_refused_member_reason_no_free_slot_free_plan",SSO_ALREADY_ACTIVATED:"team_invite_result_dialog_refused_member_reason_sso_already_activated",PENDING_DEACTIVATION_DOMAIN_DOES_NOT_MATCH:"team_invite_result_dialog_refused_member_reason_pending_deactivation_domain_does_not_match"};let yd=function(e){return e.SSO_ALREADY_ACTIVATED="sso_already_activated",e.USER_HAS_MASTER_PASSWORD="USER_HAS_MASTER_PASSWORD",e}({});const xd=e=>{switch(e){case bd.INVITE_RESTRICTED:return hd.Iu.markup(bd.INVITE_RESTRICTED,{helpCenter:te.Iw});case bd.PRE_EXISTING_MP_USER:return hd.Iu.markup(bd.PRE_EXISTING_MP_USER,{ssoLimitations:te.Iw,dashlaneSupport:te.Bw});default:return hd.Iu.markup(bd.GENERIC_ERROR,{helpCenter:te.Bw})}},Sd="inviteResultDialogHeader--v_8lOJQXCj",fd="refusedMember--SNbCU5FzB1",vd="reason--jFHJ7kk1d9",Cd="irDialogIcon--Rx0OQmu57r";var Zd;const Td={invitedMembers:{},refusedMembers:{},show:!1},Dd=()=>{const[e,t]=r.useState(Td);return{invitePartialSuccessState:e,setInvitePartialSuccessState:t,handleInvitationResultClosed:()=>{t(Td)}}},Ed=({teamId:e,isOpen:t,invitedMembers:a,refusedMembers:n,onClose:i})=>{const{translate:s}=(0,x.Z)(),[o,l]=r.useState([]),[d,_]=r.useState([]),u=Object.keys(a).length,m=Object.keys(n).length,{teamSettings:p,teamSettingsLoading:g}=Te(e),h=p?.ssoEnabled;return r.useEffect((()=>{if(g)return;const e=[],t=[];Object.keys(n).forEach((a=>{const i=n[a];i!==yd.SSO_ALREADY_ACTIVATED||h?i===yd.USER_HAS_MASTER_PASSWORD&&h?t.push({email:a,key:bd.PRE_EXISTING_MP_USER,errorType:i}):e.push({email:a,errorType:i}):t.push({email:a,key:bd.INVITE_RESTRICTED,errorType:i})})),l(e),_(t)}),[g,h,n]),(0,f.BX)(c.VqE,{closeIconName:s("_common_dialog_dismiss_button"),isOpen:t,onClose:i,ariaDescribedby:"refusedList",children:[(0,f.tZ)(c.$N8,{title:s("team_invite_result_dialog_title")}),(0,f.tZ)(c.a7O,{children:g?Zd||(Zd=(0,f.tZ)(Ss.Z,{size:30})):(0,f.BX)(f.HY,{children:[u?(0,f.BX)("div",{className:"successfulInvitesRatio--Jbd0Eax7op",children:[(0,f.tZ)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNiA5TDcuOTU5MjggMTFMMTEuOTc5NiA3TTAuNSA5QzAuNSA0LjMwNTQ1IDQuMzA2MyAwLjUgOSAwLjVDMTMuNjkzNyAwLjUgMTcuNSA0LjMwNTQ1IDE3LjUgOUMxNy41IDEzLjY5NDYgMTMuNjkzNyAxNy41IDkgMTcuNUM0LjMwNjMgMTcuNSAwLjUgMTMuNjk0NiAwLjUgOVoiIHN0cm9rZT0iIzIwQjQyMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=",className:Cd}),(0,f.tZ)("span",{className:Sd,children:s("team_invite_result_dialog_successful_invites_rate",{proposedMembers:u+m,invitedMembers:u})})]}):null,(0,f.BX)("div",{className:"refusedMemberListTitle--Omq1aAlxkx",children:[(0,f.tZ)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNS41IDEyLjVMMTIuNSA1LjVNMTIuNSAxMi41TDUuNSA1LjVNMC41IDlDMC41IDQuMzA1ODcgNC4zMDU4NyAwLjUgOSAwLjVDMTMuNjk0MSAwLjUgMTcuNSA0LjMwNTg3IDE3LjUgOUMxNy41IDEzLjY5NDEgMTMuNjk0MSAxNy41IDkgMTcuNUM0LjMwNTg3IDE3LjUgMC41IDEzLjY5NDEgMC41IDlaIiBzdHJva2U9IiNGRjAwMkQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K",className:Cd}),(0,f.tZ)("span",{id:"refusedList",className:Sd,children:s("team_invite_result_dialog_refused_member_list_title",{count:m})})]}),(0,f.BX)("ul",{className:"refusedMemberList--pPxtCXVRX3",children:[o.map((e=>(0,f.BX)("li",{className:fd,children:[e.email,(0,f.BX)("span",{className:vd,children:[": ",bd[e.errorType.toUpperCase()]?s(bd[e.errorType.toUpperCase()]):s.markup(bd.GENERIC_ERROR,{helpCenter:te.Bw},{linkTarget:"_blank"})]})]},e.email))),d.map((e=>(0,f.BX)("li",{className:fd,children:[e.email,(0,f.BX)("span",{className:vd,children:[": ",xd(e.key)]})]},e.email)))]})]})}),(0,f.tZ)(c.cNS,{primaryButtonTitle:s("team_invite_result_dialog_button_ok"),primaryButtonOnClick:i,secondaryButtonTitle:s("team_invite_result_dialog_button_help_center"),secondaryButtonOnClick:()=>(0,X.Yo)(te.Bw)})]})},kd=({handleClickOnRetry:e})=>{const{translate:t}=(0,x.Z)();return(0,f.BX)(f.HY,{children:[(0,f.tZ)("div",{sx:{transform:"translate(-5px, -5px)",margin:"25px 0px"},children:(0,f.tZ)(c.enX,{color:l.O9.lightTheme.ds.text.danger.quiet,size:75})}),(0,f.tZ)(c.$N8,{id:"backup-code-generation-error-dialog-title",title:t("team_members_generate_recovery_codes_error_dialog_title")}),(0,f.tZ)(c.a7O,{children:(0,f.tZ)(c.nvN,{id:"backup-code-generation-error-dialog-description",sx:{color:l.O9.lightTheme.ds.text.neutral.standard},children:t("team_members_generate_recovery_codes_error_dialog_description")})}),(0,f.tZ)(c.cNS,{primaryButtonTitle:t("team_members_generate_recovery_codes_error_dialog_confirm_button"),primaryButtonProps:{id:"backup-code-generation-error-dialog-try-again-button",type:"button",autoFocus:!0},primaryButtonOnClick:()=>e()})]})};var wd,Nd=a(122958);const Id=({memberLogin:e,recoveryCodes:t,handleClickOnDone:a})=>{const{translate:n}=(0,x.Z)();return(0,f.BX)("div",{children:[(0,f.tZ)(c.$N8,{id:"backup-code-generation-dialog-list-title",title:n("team_members_generate_recovery_codes_dialog_title",{memberLogin:e})}),(0,f.BX)(c.a7O,{children:[(0,f.tZ)(c.nvN,{id:'id="backup-code-generation-dialog-list-description"',sx:{mb:"24px",mt:"6px",color:l.O9.lightTheme.ds.text.neutral.standard},children:n("team_members_generate_recovery_codes_dialog_description",{memberLogin:e})}),(0,f.tZ)(c.j49,{color:l.O9.lightTheme.ds.text.brand.standard,id:'id="backup-code-generation-dialog-list-eyebrow"',children:n("team_members_generate_recovery_codes_dialog_codes_label")}),(0,f.tZ)(c.Zbd,{sx:{mt:"6px",padding:"8px 12px",width:"100%"},children:t?.map(((e,t)=>(0,f.tZ)(c.nvN,{"data-testid":`two-factor-authentication-backup-code-${t}`,children:e},e)))}),(0,f.tZ)(c.zxk,{sx:{mt:"24px"},type:"button",nature:"secondary",id:"backup-code-generation-dialog-list-download-button",onClick:()=>{const e=t?.join("\n");(0,mr.W)(e,Nd.B)},children:(0,f.BX)(c.Ejs,{children:[(0,f.tZ)(c.k$b,{sx:{mr:"10px"},children:wd||(wd=(0,f.tZ)(c._8t,{size:16}))}),n("team_members_generate_recovery_codes_dialog_download_button")]})})]}),(0,f.tZ)(c.cNS,{primaryButtonTitle:n("team_members_generate_recovery_codes_dialog_confirm_button"),primaryButtonProps:{id:"id=backup-code-generation-dialog-list-done-button",type:"button",autoFocus:!0},primaryButtonOnClick:()=>a()})]})};var Ad;const Md=({isOpen:e,memberLogin:t,closeBackupCodeDialog:a})=>{const[n,i]=(0,r.useState)(!1),[s,o]=(0,r.useState)(),l=async()=>{const e=await Ze.C.getRecoveryCodesAsTeamCaptain({login:t});e.success?o(e.data.recoveryCodes):i(!0)},d=()=>{i(!1),o(void 0),a()};(0,r.useEffect)((()=>{e&&!n&&l()}),[e]);const{translate:_}=(0,x.Z)();return(0,f.tZ)(c.VqE,{isOpen:e,closeIconName:n?_("BUTTON_CLOSE_DIALOG"):"",onClose:()=>{d()},children:n?(0,f.tZ)(kd,{handleClickOnRetry:()=>{i(!1),l()}}):s?(0,f.tZ)(Id,{memberLogin:t,recoveryCodes:s,handleClickOnDone:d}):(0,f.BX)(f.HY,{children:[(0,f.tZ)(c.$N8,{id:"backup-code-generation-dialog-loader-title",title:_("team_members_generate_recovery_codes_dialog_loading_title",{memberLogin:t})}),(0,f.tZ)(c.a7O,{children:(0,f.tZ)("div",{sx:{mt:"26px"},children:Ad||(Ad=(0,f.tZ)(Ss.Z,{mode:"light",size:75}))})})]})})};var Od=a(893383),Ld=a(93437);const Bd=({closeDialog:e,resendOrReactivate:t})=>{const{translate:a}=(0,x.Z)(),{showToast:n}=(0,l.pm)(),[i,s]=(0,r.useState)(!1),{getInviteLinkDataForAdmin:o,inviteLinkDataForAdmin:c}=(0,Ld.h)(),d=!1===c?.disabled,_=(0,te.cI)(c?.teamKey);return(0,r.useEffect)((()=>{o()}),[]),(0,f.BX)(l.Vq,{title:a("team_members_reinvite_dialog_title"),isOpen:!0,onClose:e,closeActionLabel:"Closing dialog",actions:{primary:{isLoading:i,disabled:i,children:a("team_members_resend_invite_dialog_resend_confirm"),onClick:async()=>{s(!0),await t(),s(!1),e()}},secondary:d?{children:a("team_members_resend_copy_invite_link"),onClick:()=>{navigator.clipboard.writeText(_),n({description:a("team_members_share_invite_link_copied"),mood:"brand"})}}:void 0},children:[(0,f.tZ)(l.nv,{children:a("team_members_resend_invite_dialog_message")}),d?(0,f.BX)(f.HY,{children:[(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",children:a("team_members_resend_invite_link_description")}),(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",sx:{textDecoration:"underline"},children:_})]}):null]})},Rd={REVOKE_ERROR_MSG:"team_members_revoke_error_message",REVOKE_SUCCESS_MSG:"team_members_revoke_success_message",SINGLE:{REVOKE_DIALOG_CONFIRM:"team_members_revoke_single_dialog_confirm",REVOKE_DIALOG_CANCEL:"team_members_revoke_single_dialog_cancel",REVOKE_DIALOG_MSG:"team_members_revoke_single_dialog_message",REVOKE_DIALOG_MSG_B2B_ONLY:"team_members_revoke_single_dialog_message_b2b_only",REVOKE_DIALOG_TITLE:"team_members_revoke_single_dialog_title"},MULTIPLE:{REVOKE_DIALOG_CONFIRM:"team_members_remove_multiple_dialog_confirm",REVOKE_DIALOG_CANCEL:"team_members_revoke_multiple_dialog_cancel",REVOKE_DIALOG_MSG:"team_members_revoke_multiple_dialog_message",REVOKE_DIALOG_MSG_B2B_ONLY:"team_members_revoke_multiple_dialog_message_b2b_only",REVOKE_DIALOG_TITLE:"team_members_remove_multiple_dialog_title"}},zd=({lee:e,closeDialog:t,selectedMembers:a})=>{const{translate:n}=(0,x.Z)(),i=(0,dn.V)(),{reportTACError:s}=H(),r=(0,kl.I)(),o=1===a.length,d=r.status!==ue.rq.Success||!r.isDisabled,_=o?Rd.SINGLE:Rd.MULTIPLE;return(0,f.tZ)(l.Vq,{isOpen:!0,onClose:t,isDestructive:!0,actions:{primary:{children:n(_.REVOKE_DIALOG_CONFIRM),onClick:async()=>{t();const r=(0,Gn.v0)(e.globalState);if(!r)return void s(new Error(Zi.N));const{teamId:o}=r;if(o)try{const t=a.map((e=>e.login)),{content:{removedMembers:s,unproposedMembers:l,refusedMembers:d}}=await(new $n.Z).revokeMembers({auth:r,memberLogins:t}),_=Object.keys({...s,...l});_.forEach((t=>{const n=a.find((e=>e.login===t));e.dispatch(Od.Rb(n))})),Object.keys(d).forEach((t=>{const s=a.find((e=>e.login===t));if(!s)throw new Error(`member '${t}' not found in members list`);i.showAlert(n(Rd.REVOKE_ERROR_MSG),c.BLW.ERROR),e.dispatch(Od.Jo(s))})),_.length&&(i.showAlert(n(Rd.REVOKE_SUCCESS_MSG,{count:_.length}),c.BLW.SUCCESS),await(0,Ce.hh)({teamId:o,action:"memberRevoked",users:_}))}catch(e){s(e)}}},secondary:{children:n(_.REVOKE_DIALOG_CANCEL),onClick:t}},closeActionLabel:"",title:o?n(Rd.SINGLE.REVOKE_DIALOG_TITLE):n(Rd.MULTIPLE.REVOKE_DIALOG_TITLE,{count:a.length}),children:(0,f.tZ)(l.nv,{className:"automation-tests-revoke-member-dialog-content",children:o?n(d?Rd.SINGLE.REVOKE_DIALOG_MSG:Rd.SINGLE.REVOKE_DIALOG_MSG_B2B_ONLY,{username:a[0].login||a[0].name}):n(d?Rd.MULTIPLE.REVOKE_DIALOG_MSG:Rd.MULTIPLE.REVOKE_DIALOG_MSG_B2B_ONLY)})})};var Pd;const Xd=({closeDialog:e})=>{const{translate:t}=(0,x.Z)(),a=(0,dn.V)(),{inviteLinkDataForAdmin:n,getInviteLinkDataForAdmin:i}=(0,Ld.h)();(0,r.useEffect)((()=>{i()}),[i]);const s=(0,te.cI)(n?.teamKey);return(0,f.tZ)(ms.o,{showCloseIcon:!0,isOpen:!0,footer:(0,f.tZ)(c.cNS,{intent:"primary",primaryButtonTitle:(0,f.BX)(f.HY,{children:[Pd||(Pd=(0,f.tZ)(l.JO,{name:"ActionCopyOutlined",size:"medium",color:"ds.text.inverse.catchy"})),t("team_memebers_share_link_dialog_copy_link_button")]}),primaryButtonOnClick:async()=>{await navigator.clipboard.writeText(s),a.showAlert(t("team_members_share_invite_link_copied"),c.BLW.SUCCESS)}}),onRequestClose:e,title:t("team_memebers_share_link_dialog_title"),children:(0,f.BX)(f.HY,{children:[(0,f.tZ)(c.nvN,{children:t("team_memebers_share_link_dialog_paragraph")}),(0,f.tZ)(c.nvN,{sx:{marginTop:"16px",fontWeight:"600"},children:s})]})})},Ud=({membersWithoutPublicKey:e,onClose:t})=>{const{translate:a}=(0,x.Z)();return(0,f.tZ)(ms.o,{isOpen:Boolean(e.length),footer:(0,f.tZ)(c.cNS,{intent:"secondary",secondaryButtonTitle:a("team_members_error_popup_public_keys_ok"),secondaryButtonOnClick:t}),onRequestClose:t,title:a("team_members_error_popup_public_keys_title"),children:(0,f.BX)("div",{children:[a("team_members_error_popup_public_keys_message"),(0,f.tZ)("ul",{sx:{listStyleType:"disc",paddingLeft:"40px",marginTop:"1em",marginBottom:"1em"},children:e.map((({login:e})=>(0,f.tZ)("li",{children:e},e)))})]})})},jd=({closeDialog:e,applyActionOnMembers:t})=>{const{translate:a}=(0,x.Z)(),n=(0,dn.V)(),{getInviteLinkDataForAdmin:i,inviteLinkDataForAdmin:s,createInviteLink:o,toggleInviteLink:l}=(0,Ld.h)(),d=Tn();return(0,r.useEffect)((()=>{i()}),[i]),d?(0,f.tZ)(ms.o,{showCloseIcon:!0,isOpen:!0,footer:(0,f.tZ)(c.cNS,{intent:"primary",primaryButtonTitle:a("team_activation_dialog_activate_button"),primaryButtonOnClick:()=>(async()=>{s?.teamKey?s?.disabled&&await l(!1):await o(d),n.showAlert(a("team_activation_dialog_notification"),c.BLW.SUCCESS),await i(),t("shareInviteLink")})(),secondaryButtonTitle:a("team_activation_dialog_notrightnow_button"),secondaryButtonOnClick:e}),onRequestClose:e,title:a("team_activation_dialog_title"),children:(0,f.tZ)(c.nvN,{children:a("team_activation_dialog_paragrah")})}):null};var qd=a(918007),Gd=a(909748);const $d={teamCaptain:"team_members_assignment_dialog_admin_description",groupManager:"team_members_assignment_dialog_group_manager_description",member:"team_members_assignment_dialog_member_description"},Fd=({member:e,newRole:t,updateUsersRights:a,closeDialog:n})=>{const{translate:i}=(0,x.Z)(),s=(0,dn.V)(),o=(0,Gd.U)(),d=Yd(e),[_,u]=(0,r.useState)(null!=t?t:d);return null===o?null:(0,f.BX)(c.VqE,{isOpen:!0,onClose:n,closeIconName:i("_common_dialog_dismiss_button"),children:[(0,f.tZ)(c.$N8,{title:i("team_members_assignment_dialog_title",{user:e.login})}),(0,f.BX)(c.a7O,{children:[(0,f.tZ)(Ti.S,{value:_,onChange:e=>{u(e.target.value)},groupName:"roles",children:Object.values(Wd).map((e=>{return(0,f.BX)(Ti.E,{value:e,disabled:(t=e,!(!o||t===Wd.TeamCaptain||t===_)),children:[(0,f.tZ)(c.nvN,{color:"ds.text.neutral.standard",size:"small",children:i(Kd[e])}),(0,f.tZ)(c.nvN,{color:"ds.text.neutral.quiet",size:"small",children:i($d[e])})]},e);var t}))}),_!==Wd.Member?(0,f.tZ)(l.ke,{mood:"brand",title:i("team_members_assignment_dialog_groups_infobox")}):null]}),(0,f.tZ)(c.cNS,{primaryButtonTitle:i("team_members_assignment_dialog_update_button"),primaryButtonOnClick:async()=>{if(_===d)return n();try{const t=await a([{member:e,oldRole:d,newRole:_}]);if(!t)return;if(t.successes.length)s.showAlert(i("team_members_assignment_single_success",{username:e.name||e.login||"Member",previousRole:i(Kd[d]),newRole:i(Kd[_])}),c.BLW.SUCCESS);else if(t.errors.length)throw t.errors[0].error}catch{s.showAlert(i("team_members_assignment_single_error",{username:e.name||e.login||"Member"}),c.BLW.ERROR)}finally{n()}},primaryButtonProps:{type:"button",style:{padding:"0 20px"},disabled:_===d},secondaryButtonTitle:i("team_members_assignment_dialog_cancel_button"),secondaryButtonOnClick:n,secondaryButtonProps:{type:"button",style:{border:"none",padding:"0 20px",color:"ds.text.neutral.catchy",backgroundColor:"ds.container.expressive.neutral.quiet.idle"}}})]})},Vd="team_members_assignment_multiple_error",Hd=({selectedMembers:e,newRole:t,updateUsersRights:a,closeDialog:n})=>{const{translate:i}=(0,x.Z)(),s=(0,dn.V)();return(0,f.tZ)(ms.o,{isOpen:!0,footer:(0,f.tZ)(c.cNS,{intent:"primary",primaryButtonTitle:i("team_members_assignment_multiple_dialog_submit"),primaryButtonOnClick:async()=>{const r=e.map((e=>({member:e,oldRole:Yd(e),newRole:t})));try{const e=await a(r);if(!e)return;const n=i(Kd[t]);e.successes.length&&e.errors.length?s.showAlert(i("team_members_assignment_multiple_partial_success",{countSuccess:e.successes.length,countTotal:r.length,newRole:n}),c.BLW.WARNING):e.successes.length?s.showAlert(i("team_members_assignment_multiple_success",{count:e.successes.length,newRole:n}),c.BLW.SUCCESS):e.errors.length&&s.showAlert(i(Vd,{count:e.errors.length}),c.BLW.ERROR)}catch{s.showAlert(i(Vd,{count:e.length}),c.BLW.ERROR)}finally{n()}},secondaryButtonTitle:i("team_members_assignment_multiple_dialog_cancel"),secondaryButtonOnClick:n}),onRequestClose:n,title:i("team_members_assignment_multiple_dialog_title",{countTotal:e.length,newRole:i(Kd[t])}),children:(()=>{switch(t){case Wd.TeamCaptain:return i("team_members_assignment_multiple_dialog_admin_message");case Wd.GroupManager:return i("team_members_assignment_multiple_dialog_group_manager_message");default:return i("team_members_assignment_multiple_dialog_member_message")}})()})};let Wd=function(e){return e.TeamCaptain="teamCaptain",e.GroupManager="groupManager",e.Member="member",e}({});const Yd=e=>e.isTeamCaptain?Wd.TeamCaptain:e.isGroupManager?Wd.GroupManager:Wd.Member,Kd={teamCaptain:"team_members_assignment_dialog_admin_label",groupManager:"team_members_assignment_dialog_group_manager_label",member:"team_members_assignment_dialog_member_label"},Qd=({selectedMembers:e,newRole:t,lee:a,closeDialog:n})=>{const{reportTACError:i}=H(),{translate:s}=(0,x.Z)(),{addGroupManager:r,removeGroupManager:o}=(0,q.u)(qd.J),l=async e=>{const t=(0,Gn.v0)(a.globalState);if(!t)return void i(new Error(Zi.N));const{teamId:n}=t;if(!n)throw new Error("No team ID when attempting role assignment");const s={errors:[],successes:[]};for await(const{member:t,oldRole:i,newRole:l}of e)try{switch(i){case Wd.TeamCaptain:await(0,Ce.Lx)({teamId:n,memberLogin:t.login}),a.dispatch(Od.bj(t)),await(0,Ce.hh)({teamId:n,action:"adminDemoted",users:[t.login]});break;case Wd.GroupManager:await o({memberLogin:t.login,teamId:n}),a.dispatch(Od.vE(t))}switch(l){case Wd.TeamCaptain:await(0,Ce.JQ)({teamId:n,memberLogin:t.login}),a.dispatch(Od.VW(t)),await(0,Ce.hh)({teamId:n,action:"adminPromoted",users:[t.login]});break;case Wd.GroupManager:await r({memberLogin:t.login,teamId:n}),a.dispatch(Od.lp(t))}s.successes.push(t.login)}catch(e){s.errors.push({member:t.login,error:e})}return s};return e.length?1===e.length?(0,f.tZ)(Fd,{member:e[0],newRole:t,updateUsersRights:l,closeDialog:n}):(0,f.tZ)(Hd,{selectedMembers:e,newRole:null!=t?t:Wd.Member,updateUsersRights:l,closeDialog:n}):(0,f.tZ)(ms.o,{isOpen:!0,footer:(0,f.tZ)(c.cNS,{intent:"secondary",secondaryButtonTitle:s("team_members_assignment_nobody_dialog_cancel"),secondaryButtonOnClick:n}),onRequestClose:n,title:s("team_members_assignment_nobody_dialog_title"),children:s("team_members_assignment_nobody_dialog_message",{newRole:t?s(Kd[t]):""})})},Jd=e=>e.filter((e=>["pending","proposed"].includes(e.status)));var e_;const t_=({title:e,titleColor:t,subtitle:a,action:n,isLoading:i})=>(0,f.BX)("div",{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"16px",flex:1},children:[i?e_||(e_=(0,f.tZ)(l.ZX,{mood:"brand"})):(0,f.tZ)(l.nv,{textStyle:"ds.specialty.monospace.medium",color:null!=t?t:"ds.text.neutral.quiet",children:e}),(0,f.tZ)(l.nv,{as:"h2",textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",children:a}),(0,f.tZ)(l.zx,{disabled:n.disabled,mood:n.mood,intensity:n.intensity,onClick:n.onClick,layout:"iconTrailing",icon:n.icon,children:n.label})]}),a_=({onReinviteAllClick:e})=>{const{translate:t}=(0,x.Z)(),{routes:a}=(0,s.Xo)(),n=(0,s.k6)(),{data:i,status:o}=(0,_.k)(Fo.B,"getReport"),{openDialog:c,shouldShowFrozenStateDialog:u}=(0,N.Ub)(),[m,p]=(0,r.useState)(!0),[g,h]=(0,r.useState)(0),[y,S]=(0,r.useState)(0),[v,C]=(0,r.useState)(0),[Z,T]=(0,r.useState)(0),[D,E]=(0,r.useState)(0),[k,w]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{"success"===o&&null!==u&&(T(i.seats.pending),h(i.seats.provisioned-i.seats.used),S(i.seats.provisioned),C(i.seats.used/i.seats.provisioned),E(i.passwordHealth.securityIndex),p(!1),w(0===i.seats.pending&&1===i.seats.used))}),[i,o,u]),(0,f.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"24px",backgroundColor:"ds.container.agnostic.neutral.supershy",border:"1px solid ds.border.neutral.quiet.idle",borderRadius:"8px",padding:"24px"},children:[(0,f.tZ)(l.X6,{as:"h2",textStyle:"ds.title.supporting.small",color:"ds.text.neutral.quiet",children:t("team_members_summary_title")}),(0,f.BX)("div",{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:"24px"},children:[(0,f.tZ)(t_,{isLoading:m,title:`${g}`,titleColor:v<=.5?"ds.text.positive.quiet":v<=.9?"ds.text.warning.quiet":"ds.text.danger.quiet",subtitle:t("team_members_summary_seat_count_content",{totalSeats:y}),action:{label:t("team_members_summary_seat_count_cta"),disabled:m,mood:"brand",intensity:v>.5?"catchy":"quiet",onClick:()=>{(0,b.Kz)(new d.UserClickEvent({button:d.Button.BuySeats,clickOrigin:d.ClickOrigin.UsersSummary})),u?c():n.push(a.teamAccountRoutePath)}}}),(0,f.tZ)("div",{sx:{width:"1px",backgroundColor:"ds.border.neutral.quiet.idle"}}),(0,f.tZ)(t_,{isLoading:m,title:`${Z||(k?"-":t("team_members_summary_reinvite_users_no_new_invites_label"))}`,titleColor:k?"ds.text.neutral.quiet":0===Z?"ds.text.positive.quiet":"ds.text.warning.quiet",subtitle:0===Z?t(k?"team_members_summary_reinvite_users_no_members_content":"team_members_summary_reinvite_users_no_new_invites_content"):t("team_members_summary_reinvite_users_content",{count:Z}),action:{label:t("team_members_summary_reinvite_users_cta",{count:Z}),mood:"neutral",intensity:"quiet",disabled:m||0===Z,onClick:()=>{(0,b.Kz)(new d.UserClickEvent({button:d.Button.ReInviteUsers,clickOrigin:d.ClickOrigin.UsersSummary})),u?c():e()}}}),(0,f.tZ)("div",{sx:{width:"1px",backgroundColor:"ds.border.neutral.quiet.idle"}}),(0,f.tZ)(t_,{isLoading:m,title:`${D||"-"}`,titleColor:D>=80?"ds.text.positive.quiet":D>=40?"ds.text.warning.quiet":D>0?"ds.text.danger.quiet":"ds.text.neutral.quiet",subtitle:t(!D||m?"team_members_summary_security_score_content_no_data":"team_members_summary_security_score_content"),action:{label:t("team_members_summary_security_score_cta"),mood:"neutral",intensity:"quiet",icon:"ActionOpenExternalLinkOutlined",onClick:()=>{(0,b.Kz)(new d.UserClickEvent({button:d.Button.CheckImproveHealthScore,clickOrigin:d.ClickOrigin.UsersSummary})),(0,X.Yo)("https://support.dashlane.com/hc/en-us/articles/360016225300-Manage-the-Password-Health-of-your-Starter-Team-or-Business-plan")}}})]})]})};var n_=a(196266),i_=a(428746),s_=a(89368);const r_=({title:e,icon:t,description:a,onClick:n,key:i})=>(0,f.tZ)(c.W7o,{fullWidth:!0,onClick:n,sx:{height:"auto",textAlign:"left"},children:(0,f.BX)(c.T5p,{gap:"4px",gridTemplateColumns:"20px auto",gridTemplateRows:"auto auto",children:[(0,f.tZ)(c.dDn,{children:(0,f.tZ)(l.JO,{name:t,size:"medium"})}),(0,f.tZ)(c.dDn,{children:(0,f.tZ)(l.nv,{as:"span",textStyle:"ds.body.standard.strong",children:e})}),a?(0,f.tZ)(c.dDn,{gridArea:"2 / 2 / 3 / 3",sx:{textWrap:"wrap"},children:(0,f.tZ)(l.nv,{as:"span",color:"ds.text.neutral.quiet",textStyle:"ds.title.block.small",children:a})}):null]})},i);var o_;const l_=({members:e,onMembersActionSelect:t})=>{const{translate:a}=(0,x.Z)(),{getInviteLinkDataForAdmin:n}=(0,Ld.h)();return(0,f.tZ)(c.h_2,{sx:{zIndex:1001},content:[(0,f.tZ)(r_,{onClick:()=>{t("reinviteAll",Jd(e))},icon:"NotificationOutlined",title:a("team_members_resend_invite_all")},"resendInvite"),(0,f.tZ)(r_,{onClick:async()=>{const e=await n();t(!e?.teamKey||e?.disabled?"enableInviteLink":"shareInviteLink")},icon:"ActionCopyOutlined",title:a("team_members_share_invite_link")},"shareInviteLink"),(0,f.tZ)(r_,{onClick:()=>{(0,b.Kz)(new d.UserClickEvent({button:d.Button.DownloadCsv})),(e=>{(0,mr.S)((e=>{const t=e.map((e=>{var t,a,n,i;return[e.login,e.status,e.twoFAInformation.type,null!=(t=e.nbrPasswords)?t:0,null!=(a=e.weakPasswords)?a:0,null!=(n=e.reused)?n:0,null!=(i=e.compromisedPasswords)?i:0,e.nbrPasswords>=5?e.securityIndex:"unavailable",e.ssoStatus,e.recoveryCreationDateUnix?"enabled":"disabled",e.lastUpdateDateUnix?(0,na.Z)(e.lastUpdateDateUnix).toISOString():e.revokedDateUnix?(0,na.Z)(e.revokedDateUnix).toISOString():e.status].join(",")})).join("\n");return`${["login email","status","twoFA_Status","number_passwords","weak_passwords","reused_passwords","compromised_passwords","password_health_score","sso_status","admin_recovery_status","last_active"].join(",")}\n${t}`})(e),"team-members.csv","text/csv;charset=utf-8")})(e)},icon:"DownloadOutlined",title:a("team_members_download_csv"),description:a("team_members_download_csv_description")},"exportUserCSV")].filter(Boolean),children:(0,f.tZ)(l.zx,{id:"expand-invite-option","aria-label":a("team_members_expand_invite_option"),intensity:"quiet",mood:"neutral",size:"medium",layout:"iconOnly",sx:{marginLeft:"16px"},icon:o_||(o_=(0,f.tZ)(l.JO,{name:"ActionMoreOutlined",size:"medium",color:"ds.text.neutral.standard"}))})})};var c_=a(57341),d_=a(207867);const __=({onMultipleReassignActionSelect:e})=>{const{translate:t}=(0,x.Z)(),{openDialog:a,shouldShowFrozenStateDialog:n}=(0,N.Ub)(),[i,s]=r.useState(!1),o=t=>{n&&t!==Wd.TeamCaptain?a():e(t),s(!1)};return(0,f.tZ)(d_.j,{onOutsideClick:()=>{s(!1)},children:(0,f.BX)("div",{className:"container--zGfanmJ20J",children:[(0,f.tZ)(c_.Z,{label:t("team_members_bulk_actions_menu_label"),onClick:()=>{s(!i)},classNames:["dropdownButton--eX1Pwf6noX"],icon:(0,f.tZ)("img",{className:B()("buttonIcon--K7qOhGWIeC",{"flip--CjjllwCv0e":i}),src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iNiIgdmlld0JveD0iMCAwIDEwIDYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTkuNSAwLjVMNSA1LjVMMC41IDAuNSIgc3Ryb2tlPSIjNkU4NjhCIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg==",role:"none"}),iconClassName:["iconContainer--_MWkwTD793"],iconPosition:"right"}),i?(0,f.BX)("ul",{className:"menu--svPbw6Qghp",children:[(0,f.tZ)("li",{onClick:()=>o(Wd.TeamCaptain),children:t("team_members_bulk_actions_menu_admin")},"admin"),(0,f.tZ)("li",{onClick:()=>o(Wd.GroupManager),children:t("team_members_bulk_actions_menu_group_manager")},"groupManager"),(0,f.tZ)("li",{onClick:()=>o(Wd.Member),children:t("team_members_bulk_actions_menu_member")},"member")]}):null]})})};var u_=function(e){return e[e.TEAM_CAPTAIN=0]="TEAM_CAPTAIN",e[e.GROUP_MANAGER=1]="GROUP_MANAGER",e[e.BILLING_ADMIN=2]="BILLING_ADMIN",e[e.ACCEPTED=3]="ACCEPTED",e[e.PENDING_PROPOSED=4]="PENDING_PROPOSED",e[e.DEFAULT=5]="DEFAULT",e}(u_||{});const m_=({isTeamCaptain:e,isBillingAdmin:t,isGroupManager:a,status:n})=>{switch(!0){case e:return u_.TEAM_CAPTAIN;case a:return u_.GROUP_MANAGER;case t:return u_.BILLING_ADMIN;case"accepted"===n:return u_.ACCEPTED;case["pending","proposed"].includes(n):return u_.PENDING_PROPOSED;default:return u_.DEFAULT}},p_=(e,t)=>"number"==typeof e?e:t&&["pending","proposed","removed","revoked"].includes(t)?-1:0,g_=e=>e.map((e=>{return{...e,filterableStatus:(t=e.status,"proposed"===t?"pending":"revoked"===t?"removed":"unproposed"!==t?t:void 0),sortableLastActivity:e.revokedDateUnix||e.lastUpdateDateUnix||0,sortablePasswords:p_(e.nbrPasswords,e.status),sortableRights:m_(e),sortableSecurityScore:p_(e.securityIndex,e.status),sortableSafePasswords:p_(e.safePasswords,e.status),sortableWeakPasswords:p_(e.weakPasswords,e.status),sortableReused:p_(e.reused,e.status),sortableCompromisedPasswords:p_(e.compromisedPasswords,e.status)};var t}));var h_=a(233377),b_=a(573630),y_=a(915622);const x_=({member:e,onDismiss:t,onMemberActionSelect:a})=>{const{translate:n}=(0,x.Z)(),i=!!e.twoFAInformation&&("totp_device_registration"===e.twoFAInformation.type||"totp_login"===e.twoFAInformation.type);return(0,f.tZ)(d_.j,{onOutsideClick:t,children:(0,f.tZ)("ul",{className:"menu--tp5V4puFsY",children:(()=>{if("removed"===e.status)return(0,f.BX)("li",{id:"reactivate-quick-action",onClick:()=>a("reactivate",e),children:[(0,f.tZ)(l.JO,{name:"ItemEmailOutlined",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_reactivate_single_label")]},"reactivate");const t=[];return"pending"!==e.status&&"proposed"!==e.status||t.push((0,f.BX)("li",{id:"reinvite-quick-action",onClick:()=>a("reinvite",e),children:[(0,f.tZ)(l.JO,{name:"ItemEmailOutlined",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_resend_invite_label")]},"resendInvite")),"pending"!==e.status&&"proposed"!==e.status&&t.push((0,f.BX)("li",{id:"reassign-quick-action",onClick:()=>a("reassign",e),children:[(0,f.tZ)(l.JO,{name:"ItemPersonalInfoOutlined",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_change_role_label")]},"reassign")),t.push((0,f.tZ)(l.u,{content:n("team_members_assignment_dialog_remove_billing_contact_tooltip"),location:"top",passThrough:!e.isBillingAdmin,sx:{whiteSpace:"normal"},children:(0,f.BX)("li",{id:"revoke-quick-action",onClick:e.isBillingAdmin?void 0:()=>a("revoke",e),sx:e.isBillingAdmin?{cursor:"not-allowed !important",opacity:"0.5"}:void 0,children:[(0,f.tZ)(l.JO,{name:"ActionDeleteOutlined",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_revoke_single_label")]},"revoke")},"revoke")),i&&"pending"!==e.status&&"proposed"!==e.status&&t.push((0,f.BX)("li",{id:"generate-2fa-recovery-code-quick-action",onClick:()=>a("generateBackupCode",e),children:[(0,f.tZ)(l.JO,{name:"RecoveryKeyOutlined",color:"ds.text.neutral.quiet",sx:{marginRight:"16px"}}),n("team_members_generate_recovery_codes_label")]},"generate2FABackupCodes")),t})()})})},S_="securityScoreOver80--Hgr2G6S0v_",f_="securityScoreOver60--_JHvGMsVMu",v_="securityScoreOver40--uopteVjbhe",C_="securityScoreOver20--DGwlRT6aTn",Z_="securityScoreOver0--KWOlPM746R",T_="securityScoreUnknown--X1UUUGTTOI",D_="box--b300GjbePX",E_="shield--aR0K8YOyOo",k_="medium--oK53lyprG3",w_="small--Y3Ur7GidSI",N_=({score:e,size:t,children:a})=>{const n="small"===t?w_:k_;return(0,f.BX)("div",{className:B()(D_,(i=e,i.caseOf({nothing:()=>T_,just:e=>e>=80?S_:e>=60?f_:e>=40?v_:e>=20?C_:Z_})),n),children:[(0,f.tZ)("div",{className:E_}),(0,f.tZ)("div",{children:a})]});var i};var I_;const A_=()=>I_||(I_=(0,f.BX)("svg",{width:"368",height:"226",viewBox:"0 0 368 226",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,f.tZ)("rect",{width:"368",height:"226",rx:"2",fill:"#EFF0F0"}),(0,f.tZ)("path",{d:"M52 32C52 27.5817 55.5817 24 60 24H308C312.418 24 316 27.5817 316 32V192H52V32Z",fill:"#6EA2AD",fillOpacity:"0.2"}),(0,f.tZ)("rect",{x:"36",y:"192",width:"296",height:"10",rx:"5",fill:"#6EA2AD",fillOpacity:"0.2"}),(0,f.tZ)("path",{d:"M60 34C60 32.8954 60.8954 32 62 32H306C307.105 32 308 32.8954 308 34V192H60V34Z",fill:"white"}),(0,f.tZ)("rect",{x:"76",y:"54",width:"8",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"88",y:"56",width:"23",height:"4",rx:"2",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"122",y:"54",width:"8",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"134",y:"56",width:"23",height:"4",rx:"2",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"168",y:"54",width:"8",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"180",y:"56",width:"23",height:"4",rx:"2",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"250",y:"52",width:"26",height:"12",rx:"4",fill:"#0E6173"}),(0,f.tZ)("rect",{x:"280",y:"52",width:"12",height:"12",rx:"4",fill:"#A2A3A3",fillOpacity:"0.2"}),(0,f.tZ)("rect",{x:"76",y:"78",width:"8",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"88",y:"76",width:"12",height:"12",rx:"6",fill:"#3E5D64"}),(0,f.tZ)("rect",{x:"104",y:"78",width:"47",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"172",y:"78",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"208",y:"78",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"244",y:"78",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"76",y:"98",width:"8",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"88",y:"96",width:"12",height:"12",rx:"6",fill:"#9FAEB1"}),(0,f.tZ)("rect",{x:"104",y:"98",width:"35",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"172",y:"98",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"208",y:"98",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"244",y:"98",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("path",{d:"M287 102C287 102.109 286.982 102.215 286.95 102.313L287.696 103.06C287.889 102.753 288 102.389 288 102C288 100.895 287.105 100 286 100C284.895 100 284 100.895 284 102C284 103.105 284.895 104 286 104C286.352 104 286.684 103.909 286.971 103.749L286.202 102.98C286.137 102.993 286.069 103 286 103C285.448 103 285 102.552 285 102C285 101.448 285.448 101 286 101C286.552 101 287 101.448 287 102Z",fill:"#232425",fillOpacity:"0.92"}),(0,f.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M285.052 97L284.648 98.5289C284.603 98.5474 284.558 98.5667 284.513 98.5868L283.128 97.8012L281.801 99.1279L282.577 100.496C282.553 100.548 282.53 100.602 282.509 100.655L281 101.066V102.959L282.526 103.362C282.545 103.41 282.564 103.456 282.585 103.501L281.801 104.884L283.128 106.21L284.495 105.435C284.549 105.459 284.602 105.481 284.656 105.503L285.067 107H286.959L287.361 105.489C287.41 105.47 287.459 105.45 287.507 105.43L288.884 106.21L290.21 104.884L289.431 103.51C289.453 103.46 289.473 103.409 289.492 103.358L291 102.944V101.052L289.481 100.648C289.462 100.604 289.442 100.561 289.422 100.519L290.21 99.1279L288.884 97.8012L287.51 98.58C287.46 98.5587 287.41 98.5385 287.359 98.5194L286.945 97H285.052ZM284.227 99.5741C284.253 99.5884 284.279 99.6003 284.305 99.6099C284.44 99.6678 284.6 99.6656 284.74 99.5901C284.894 99.5069 285.055 99.4377 285.221 99.3832L285.479 99.2986L285.822 98H286.181L286.537 99.3085L286.805 99.3876C286.979 99.4391 287.148 99.5067 287.31 99.5896C287.488 99.6808 287.695 99.655 287.843 99.5405L288.715 99.0465L288.965 99.2968L288.437 100.227L288.442 100.23C288.363 100.352 288.337 100.507 288.386 100.657L288.419 100.758L288.44 100.798C288.529 100.962 288.577 101.064 288.628 101.221L288.713 101.479L290 101.821V102.182L288.703 102.538L288.624 102.805C288.572 102.979 288.505 103.148 288.422 103.31C288.331 103.488 288.356 103.695 288.471 103.844L288.965 104.715L288.715 104.965L287.866 104.484C287.716 104.353 287.494 104.32 287.306 104.418C287.145 104.503 286.975 104.572 286.801 104.625L286.535 104.706L286.19 106H285.829L285.565 105.036C285.533 104.814 285.354 104.639 285.13 104.612C284.986 104.562 284.846 104.5 284.711 104.427C284.532 104.33 284.319 104.354 284.167 104.471L283.297 104.965L283.046 104.715L283.528 103.866C283.604 103.778 283.65 103.663 283.65 103.538V103.396L283.593 103.287C283.503 103.114 283.437 102.965 283.387 102.801L283.305 102.534L282 102.189V101.83L283.039 101.547L283.032 101.521C283.22 101.473 283.365 101.319 283.4 101.126C283.451 100.983 283.513 100.845 283.585 100.711C283.682 100.531 283.657 100.317 283.539 100.165L283.046 99.2968L283.297 99.0465L284.227 99.5741Z",fill:"#232425",fillOpacity:"0.92"}),(0,f.tZ)("rect",{x:"76",y:"118",width:"8",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"88",y:"116",width:"12",height:"12",rx:"6",fill:"#3E5D64"}),(0,f.tZ)("rect",{x:"104",y:"118",width:"47",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"172",y:"118",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"208",y:"118",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"244",y:"118",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("path",{d:"M287 122C287 122.109 286.982 122.215 286.95 122.313L287.696 123.06C287.889 122.753 288 122.389 288 122C288 120.895 287.105 120 286 120C284.895 120 284 120.895 284 122C284 123.105 284.895 124 286 124C286.352 124 286.684 123.909 286.971 123.749L286.202 122.98C286.137 122.993 286.069 123 286 123C285.448 123 285 122.552 285 122C285 121.448 285.448 121 286 121C286.552 121 287 121.448 287 122Z",fill:"#232425",fillOpacity:"0.92"}),(0,f.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M285.052 117L284.648 118.529C284.603 118.547 284.558 118.567 284.513 118.587L283.128 117.801L281.801 119.128L282.577 120.496C282.553 120.548 282.53 120.602 282.509 120.655L281 121.066V122.959L282.526 123.362C282.545 123.41 282.564 123.456 282.585 123.501L281.801 124.884L283.128 126.21L284.495 125.435C284.549 125.459 284.602 125.481 284.656 125.503L285.067 127H286.959L287.361 125.489C287.41 125.47 287.459 125.45 287.507 125.43L288.884 126.21L290.21 124.884L289.431 123.51C289.453 123.46 289.473 123.409 289.492 123.358L291 122.944V121.052L289.481 120.648C289.462 120.604 289.442 120.561 289.422 120.519L290.21 119.128L288.884 117.801L287.51 118.58C287.46 118.559 287.41 118.539 287.359 118.519L286.945 117H285.052ZM284.227 119.574C284.253 119.588 284.279 119.6 284.305 119.61C284.44 119.668 284.6 119.666 284.74 119.59C284.894 119.507 285.055 119.438 285.221 119.383L285.479 119.299L285.822 118H286.181L286.537 119.309L286.805 119.388C286.979 119.439 287.148 119.507 287.31 119.59C287.488 119.681 287.695 119.655 287.843 119.54L288.715 119.047L288.965 119.297L288.437 120.227L288.442 120.23C288.363 120.352 288.337 120.507 288.386 120.657L288.419 120.758L288.44 120.798C288.529 120.962 288.577 121.064 288.628 121.221L288.713 121.479L290 121.821V122.182L288.703 122.538L288.624 122.805C288.572 122.979 288.505 123.148 288.422 123.31C288.331 123.488 288.356 123.695 288.471 123.844L288.965 124.715L288.715 124.965L287.866 124.484C287.716 124.353 287.494 124.32 287.306 124.418C287.145 124.503 286.975 124.572 286.801 124.625L286.535 124.706L286.19 126H285.829L285.565 125.036C285.533 124.814 285.354 124.639 285.13 124.612C284.986 124.562 284.846 124.5 284.711 124.427C284.532 124.33 284.319 124.354 284.167 124.471L283.297 124.965L283.046 124.715L283.528 123.866C283.604 123.778 283.65 123.663 283.65 123.538V123.396L283.593 123.287C283.503 123.114 283.437 122.965 283.387 122.801L283.305 122.534L282 122.189V121.83L283.039 121.547L283.032 121.521C283.22 121.473 283.365 121.319 283.4 121.126C283.451 120.983 283.513 120.845 283.585 120.711C283.682 120.531 283.657 120.317 283.539 120.165L283.046 119.297L283.297 119.047L284.227 119.574Z",fill:"#232425",fillOpacity:"0.92"}),(0,f.tZ)("rect",{x:"76",y:"138",width:"8",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"88",y:"136",width:"12",height:"12",rx:"6",fill:"#6E868B"}),(0,f.tZ)("rect",{x:"104",y:"138",width:"41",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"172",y:"138",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"208",y:"138",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("rect",{x:"244",y:"138",width:"10",height:"8",rx:"4",fill:"#D9DFE0"}),(0,f.tZ)("path",{d:"M287 142C287 142.109 286.982 142.215 286.95 142.313L287.696 143.06C287.889 142.753 288 142.389 288 142C288 140.895 287.105 140 286 140C284.895 140 284 140.895 284 142C284 143.105 284.895 144 286 144C286.352 144 286.684 143.909 286.971 143.749L286.202 142.98C286.137 142.993 286.069 143 286 143C285.448 143 285 142.552 285 142C285 141.448 285.448 141 286 141C286.552 141 287 141.448 287 142Z",fill:"#232425",fillOpacity:"0.92"}),(0,f.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M285.052 137L284.648 138.529C284.603 138.547 284.558 138.567 284.513 138.587L283.128 137.801L281.801 139.128L282.577 140.496C282.553 140.548 282.53 140.602 282.509 140.655L281 141.066V142.959L282.526 143.362C282.545 143.41 282.564 143.456 282.585 143.501L281.801 144.884L283.128 146.21L284.495 145.435C284.549 145.459 284.602 145.481 284.656 145.503L285.067 147H286.959L287.361 145.489C287.41 145.47 287.459 145.45 287.507 145.43L288.884 146.21L290.21 144.884L289.431 143.51C289.453 143.46 289.473 143.409 289.492 143.358L291 142.944V141.052L289.481 140.648C289.462 140.604 289.442 140.561 289.422 140.519L290.21 139.128L288.884 137.801L287.51 138.58C287.46 138.559 287.41 138.539 287.359 138.519L286.945 137H285.052ZM284.227 139.574C284.253 139.588 284.279 139.6 284.305 139.61C284.44 139.668 284.6 139.666 284.74 139.59C284.894 139.507 285.055 139.438 285.221 139.383L285.479 139.299L285.822 138H286.181L286.537 139.309L286.805 139.388C286.979 139.439 287.148 139.507 287.31 139.59C287.488 139.681 287.695 139.655 287.843 139.54L288.715 139.047L288.965 139.297L288.437 140.227L288.442 140.23C288.363 140.352 288.337 140.507 288.386 140.657L288.419 140.758L288.44 140.798C288.529 140.962 288.577 141.064 288.628 141.221L288.713 141.479L290 141.821V142.182L288.703 142.538L288.624 142.805C288.572 142.979 288.505 143.148 288.422 143.31C288.331 143.488 288.356 143.695 288.471 143.844L288.965 144.715L288.715 144.965L287.866 144.484C287.716 144.353 287.494 144.32 287.306 144.418C287.145 144.503 286.975 144.572 286.801 144.625L286.535 144.706L286.19 146H285.829L285.565 145.036C285.533 144.814 285.354 144.639 285.13 144.612C284.986 144.562 284.846 144.5 284.711 144.427C284.532 144.33 284.319 144.354 284.167 144.471L283.297 144.965L283.046 144.715L283.528 143.866C283.604 143.778 283.65 143.663 283.65 143.538V143.396L283.593 143.287C283.503 143.114 283.437 142.965 283.387 142.801L283.305 142.534L282 142.189V141.83L283.039 141.547L283.032 141.521C283.22 141.473 283.365 141.319 283.4 141.126C283.451 140.983 283.513 140.845 283.585 140.711C283.682 140.531 283.657 140.317 283.539 140.165L283.046 139.297L283.297 139.047L284.227 139.574Z",fill:"#232425",fillOpacity:"0.92"}),(0,f.tZ)("path",{d:"M301.378 106.526L286.622 102.184L290.094 117.815L292.698 111.736L298.774 117.815L301.378 115.21L295.302 109.131L301.378 106.526Z",fill:"#444444"}),(0,f.tZ)("path",{d:"M290.094 118.249C290.081 118.249 290.067 118.249 290.053 118.248C289.866 118.23 289.711 118.094 289.67 117.909L286.198 102.278C286.165 102.128 286.213 101.972 286.325 101.867C286.437 101.762 286.598 101.724 286.744 101.767L301.501 106.109C301.676 106.161 301.801 106.317 301.812 106.5C301.822 106.683 301.717 106.853 301.549 106.925L296.062 109.278L301.685 114.903C301.855 115.073 301.855 115.348 301.685 115.517L299.081 118.123C298.911 118.292 298.637 118.292 298.467 118.123L292.844 112.497L290.493 117.986C290.424 118.147 290.266 118.249 290.094 118.249ZM292.698 111.302C292.812 111.302 292.923 111.347 293.005 111.429L298.774 117.201L300.765 115.21L294.995 109.438C294.894 109.337 294.849 109.191 294.876 109.049C294.903 108.908 294.999 108.789 295.132 108.732L300.099 106.602L287.205 102.808L290.225 116.406L292.299 111.566C292.356 111.433 292.474 111.338 292.616 111.31C292.643 111.305 292.671 111.302 292.698 111.302Z",fill:"white"})]}));var M_;const O_="onboarding_web_tacgetstarted",L_=({tooltipDismissed:e,setTooltipDismissed:t,children:a})=>{const{translate:n}=(0,x.Z)(),i=(0,u._)(),{[O_]:s=!1}=i.status!==ue.rq.Success?{}:i.data;return(0,f.tZ)(c.ua7,{sx:{maxWidth:"400px"},passThrough:e||!s,placement:"left-start",arrowSize:8,trigger:"persist",content:(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"8px",sx:{padding:"8px",textAlign:"left",width:"auto"},children:[(0,f.tZ)(l.X6,{as:"h1",color:"ds.text.inverse.catchy",children:n("team_groups_add_assign_admin_tooltip_title")}),(0,f.tZ)(l.nv,{color:"ds.text.inverse.standard",children:n("team_groups_add_assign_admin_tooltip_description")}),M_||(M_=(0,f.tZ)(A_,{})),(0,f.tZ)(l.zx,{onClick:()=>t(!0),sx:{alignSelf:"end"},children:n("team_groups_add_assign_admin_tooltip_confirm_button")})]}),children:a})};var B_=a(873670);const R_="team_get_started_task_learn_more",z_=({isCompleted:e,isDisabled:t,title:a,content:n,helpDocLink:i,ctaOnClick:s,ctaText:r,upNextImage:o,disabledText:d,isCtaDisabled:_,disabledCtaTooltipText:u,isUpNext:m,infoBoxText:p})=>{const{translate:g}=(0,x.Z)();return(0,f.BX)(c.Zbd,{sx:{padding:"32px",marginTop:"8px",marginBottom:m?"32px":"auto",borderColor:"ds.border.neutral.quiet.idle",backgroundColor:e?"ds.container.agnostic.neutral.standard":"ds.container.agnostic.neutral.supershy",boxShadow:m?"0px 12px 24px rgba(0, 0, 0, 0.24)":"unset"},children:[(0,f.BX)(c.T5p,{gap:"8px",gridTemplateRows:"auto",gridTemplateColumns:"2fr auto",gridTemplateAreas:m?"'title image' 'content image' 'cta image'":"'title cta' 'content cta' 'learnMore cta'",children:[(0,f.tZ)(c.dDn,{gridArea:"title",children:(0,f.tZ)(l.X6,{as:"h2",textStyle:m?"ds.title.section.medium":"ds.title.block.medium",sx:{marginBottom:m?"16px":"8px",fontWeight:"bold"},color:e?"ds.text.neutral.quiet":"ds.text.neutral.catchy",children:g(a)})}),(0,f.BX)(c.dDn,{gridArea:"content",children:[(0,f.tZ)(l.nv,{textStyle:m?"ds.body.standard.regular":"ds.body.reduced.regular",color:e?"ds.text.neutral.quiet":"ds.text.neutral.standard",children:g(n)}),p&&!e&&m&&!_?(0,f.tZ)(l.ke,{sx:{marginTop:"16px"},mood:"brand",title:g(p)}):null]}),m?(0,f.tZ)(c.dDn,{gridArea:"image",sx:{paddingLeft:"32px"},children:o}):null,(0,f.BX)(c.dDn,{gridArea:"cta",justifySelf:m?"start":"end",sx:{marginTop:m?"32px":"0"},children:[e||t?(0,f.tZ)(l.Ct,{label:g(t?d||"team_get_started_task_disabled":"team_get_started_task_completed"),mood:t?"neutral":"positive",intensity:"catchy"}):(0,f.tZ)(B_.M,{disabled:_,size:m?"medium":"small",mood:m?"brand":"neutral",intensity:m?"catchy":"quiet",onClick:s,content:u?g(u):"",children:g(r)}),m?(0,f.tZ)((()=>i?(0,f.tZ)(l.zx,{sx:{marginLeft:"8px"},mood:"brand",intensity:"supershy",size:"medium",onClick:()=>(0,X.Yo)(i),children:g(R_)}):null),{}):null]}),m?null:(0,f.tZ)(c.dDn,{gridArea:"learnMore",children:(0,f.tZ)((()=>i?(0,f.tZ)(c.k$b,{as:l.nv,innerAs:c.rUS,size:"small",color:e?"ds.text.neutral.quiet":"ds.text.brand.standard",rel:"noopener noreferrer",target:"_blank",href:i,children:g(R_)}):null),{})})]}),!p||e||m||_?null:(0,f.tZ)(l.ke,{sx:{marginTop:"32px"},mood:"brand",title:g(p)})]})},P_=a.p+"2d07f8aaf28eb418a6e1.png",X_=()=>{(0,b.Kz)(new d.UserClickEvent({button:d.Button.OpenUsersPage}))};var U_;const j_="showAssignAdminTipState";var q_,G_,$_;const F_={LOGIN_TEXT:{variant:"text.ds.body.reduced.regular",wordBreak:"break-word",color:"ds.text.neutral.catchy",marginLeft:"16px",maxWidth:"280px",minWidth:"140px"},ROW:{boxShadow:"inset 0 -1px 0 0 ds.border.neutral.quiet.idle",height:"60px",variant:"text.ds.body.reduced.regular",td:{padding:"16px",verticalAlign:"middle"}},ACTIVE:{color:"ds.text.neutral.standard"},REVOKED:{color:"ds.text.neutral.quiet"}},V_="team_members_row_invitation_pending",H_="team_members_row_aria_label_users_actions",W_=({checkedMembers:e,currentLoggedLogin:t,members:a,onMemberActionSelect:n,onMemberToggleCheck:i})=>{var o,d,_;const{translate:u}=(0,x.Z)(),m=(0,s.TH)(),p=null!=(o=m.state?.[j_])&&o,[g,h]=(0,r.useState)(null),[b,y]=(0,r.useState)(!1),S=e=>{h(e===g?null:e)},v=(e,t)=>{S(g),n(e,t)},C=()=>(0,f.BX)(c.Ejs,{gap:"4px",children:[(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",children:u("team_members_row_security_score_unavailable")}),(0,f.tZ)(l.u,{wrapTrigger:!0,location:"bottom",content:u("team_members_row_security_score_breakdown_less_than_five"),children:(0,f.tZ)("div",{sx:{display:"flex",alignItems:"center"},children:q_||(q_=(0,f.tZ)(l.JO,{name:"FeedbackInfoOutlined",color:"ds.text.neutral.quiet",size:"xsmall"}))})})]}),Z=e=>{const t=h_.Maybe.maybe(e.nbrPasswords>=5||!e.nbrPasswords&&e.securityIndex&&e.securityIndex>0?e.securityIndex:null);return t.caseOf({just:e=>0===e?d||(d=(0,f.tZ)(C,{})):(0,f.tZ)(N_,{score:t,size:"small",children:(0,f.tZ)("div",{className:"securityScoreCellText--uh3PGGldwN",children:`${Qo(e)}%`})}),nothing:()=>_||(_=(0,f.tZ)(C,{}))})},T=e=>{switch(!0){case["pending","proposed"].includes(e.status):return u(V_);case Boolean(e.lastUpdateDateUnix||e.revokedDateUnix):return(0,f.tZ)(y_.Z,{date:(0,na.Z)(e.lastUpdateDateUnix||e.revokedDateUnix)});case"pending"===e.status:return u(V_);default:return u("team_members_row_never_logged_in")}},D=e=>"removed"===e.status?u("team_members_row_revoked"):e.isTeamCaptain?u("team_members_row_captain"):e.isGroupManager?u("team_members_row_group_manager"):u("team_members_row_member"),E=e=>(0,f.tZ)(x_,{member:e,onDismiss:()=>S(e.login),onMemberActionSelect:v});return(0,f.tZ)("tbody",{className:"tableBody--UVKDDE_osD",children:(()=>{const n=(e,t)=>null!=t?t:"accepted"!==e?"-":0;return a.map(((a,s)=>{return(0,f.BX)("tr",{id:"removed"===a.status?"revoked":"active",sx:(0,l.jM)([F_.ROW,"removed"===a.status?F_.REVOKED:F_.ACTIVE]),children:[(0,f.tZ)("td",{children:a.login!==t&&"removed"!==a.status&&(0,f.tZ)(l.XZ,{checked:!!Array.from(e).find((e=>e.login===a.login)),"aria-label":"Select user",onChange:()=>i(a)})}),(0,f.BX)("td",{className:"loginCell--zmWQn6nt_m",children:[(0,f.tZ)(Nr.q,{email:a.login,size:30}),(0,f.tZ)("div",{sx:F_.LOGIN_TEXT,className:"automation-tests-member-login",children:(0,f.tZ)(b_.Z,{tooltipText:a.login,children:a.login})})]}),(0,f.tZ)("td",{className:"securityScoreCell--TRrWX93JKm",children:Z(a)}),(0,f.BX)("td",{className:"passwordsCell--gft4asedk5",children:[(0,f.tZ)("span",{className:"passwordsCellIcon--oJaMYYHQ_9"}),(r=a.status,o=a.nbrPasswords,"accepted"!==r?"-":!o||o<5?"<5":o)]}),(0,f.tZ)("td",{children:n(a.status,a.safePasswords)}),(0,f.tZ)("td",{children:n(a.status,a.weakPasswords)}),(0,f.tZ)("td",{children:n(a.status,a.reused)}),(0,f.tZ)("td",{children:n(a.status,a.compromisedPasswords)}),(0,f.tZ)("td",{children:T(a)}),(0,f.BX)("td",{children:[a.isBillingAdmin?(0,f.tZ)(l.u,{location:"top",content:u("team_account_heading_billing_admin_tooltip"),sx:{textAlign:"start"},children:(0,f.BX)("div",{sx:{display:"flex",alignItems:"center"},children:[(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.strong",sx:{display:"inline-block"},children:u("team_account_heading_billing_admin")}),(0,f.tZ)(l.JO,{color:"ds.text.neutral.standard",name:"FeedbackInfoOutlined",sx:{display:"inline-block",marginLeft:"4px"},size:"small"})]})}):null,D(a)]}),(0,f.BX)("td",{className:"actionsCell--NotN6ngLnK",style:{position:"relative"},children:[a.login===g?E(a):null,a.login!==t?1===s&&p?(0,f.tZ)(L_,{tooltipDismissed:b,setTooltipDismissed:y,children:(0,f.tZ)(l.zx,{id:"users-action-menu-button","aria-label":u(H_),onClick:()=>S(a.login),layout:"iconOnly",intensity:"supershy",icon:G_||(G_=(0,f.tZ)(l.JO,{name:"SettingsOutlined",color:"ds.text.neutral.standard"}))})}):(0,f.tZ)(l.zx,{id:"users-action-menu-button","aria-label":u(H_),onClick:()=>S(a.login),layout:"iconOnly",intensity:"supershy",icon:$_||($_=(0,f.tZ)(l.JO,{name:"SettingsOutlined",color:"ds.text.neutral.standard"}))}):null]})]},a.login);var r,o}))})()})},Y_={TOP:{display:"flex",justifyContent:"space-between",height:"90px",marginBottom:"16px",color:"ds.text.neutral.quiet"},TOP_PAGINATION_TEXT:{whiteSpace:"nowrap",display:"flex",gap:"5px",alignItems:"center",maxHeight:"42px",overflowY:"hidden",marginRight:"16px"}},K_="team_members_heading_name",Q_="team_members_heading_security_score",J_="team_members_heading_password_count",eu="team_members_heading_last_login",tu=24,au=({lee:e,members:t,onMembersActionSelect:a,onMembersInvite:n})=>{var i;const{translate:s}=(0,x.Z)(),o=(0,Gn.v0)(e.globalState),c=null!=(i=o?.login)?i:"",[d,_]=(0,r.useState)(g_(t)),[u,m]=(0,r.useState)(new Set),[p,g]=(0,r.useState)(0),[h,b]=(0,r.useState)(["accepted","pending","removed"]),[y,S]=(0,r.useState)(""),[v,C]=(0,r.useState)({sortBy:"sortableRights",sortOrder:"asc"});(0,r.useEffect)((()=>{m(new Set),_(g_(t))}),[t]);const Z=()=>{const e=y?.toLocaleUpperCase(),t="asc"===v.sortOrder?Ci.ascend:Ci.descend;return(0,Ci.sortWith)([t((0,Ci.prop)(v.sortBy))])(d.filter((e=>e.filterableStatus&&h.includes(e.filterableStatus))).filter((t=>!y||t.login.toLocaleUpperCase().includes(e))))},T=e=>{g(e)},D=e=>{const t=e===v.sortBy&&"asc"===v.sortOrder?"desc":"asc";C({sortBy:e,sortOrder:t})},E=e=>{g(0),b((t=>t.includes(e)?t.filter((t=>t!==e)):t.concat([e])))},k=e=>!e.isBillingAdmin&&["accepted","pending","proposed"].includes(e.status),w=()=>{m(new Set)},N=()=>{const e=p*tu,t=new Set;Z().slice(e,e+tu).reduce(((e,t)=>(c===t.login||e.add({...t}),e)),t),Array.from(u).forEach((e=>t.add({...e}))),m(t)},I=p*tu,A=Z(),M={first:A.length?I+1:0,last:Math.min(A.length,I+tu)},O=A.slice(I,I+tu),L=(e=>{const t=e.filter((e=>Array.from(u).find((t=>t.login===e.login)))).length;let a;return e.find((e=>e.login===c)),e.length,a=0===t?N:w,(0,f.tZ)(l.XZ,{onChange:a,"aria-label":"select-all"})})(O),B=[{headerLabel:"",headerElement:L,headerKey:"checkbox"},{headerLabel:s(K_),tooltipLabel:s(K_),onClick:()=>D("login"),sortOrder:"login"!==v.sortBy?void 0:v.sortOrder,headerKey:"login"},{headerLabel:s(Q_),tooltipLabel:s(Q_),onClick:()=>D("sortableSecurityScore"),sortOrder:"sortableSecurityScore"!==v.sortBy?void 0:v.sortOrder,headerKey:"security-score"},{headerLabel:s(J_),tooltipLabel:s(J_),onClick:()=>D("sortablePasswords"),sortOrder:"sortablePasswords"!==v.sortBy?void 0:v.sortOrder,headerKey:"num-passwords"},{headerLabel:s("team_members_heading_safe"),tooltipLabel:s("team_members_heading_safe_tooltip"),onClick:()=>D("sortableSafePasswords"),sortOrder:"sortableSafePasswords"!==v.sortBy?void 0:v.sortOrder,headerKey:"safe-passwords"},{headerLabel:s("team_members_heading_weak"),tooltipLabel:s("team_members_heading_weak_tooltip"),onClick:()=>D("sortableWeakPasswords"),sortOrder:"sortableWeakPasswords"!==v.sortBy?void 0:v.sortOrder,headerKey:"weak-passwords"},{headerLabel:s("team_members_heading_reused"),tooltipLabel:s("team_members_heading_reused_tooltip"),onClick:()=>D("sortableReused"),sortOrder:"sortableReused"!==v.sortBy?void 0:v.sortOrder,headerKey:"reused-passwords"},{headerLabel:s("team_members_heading_compromised"),tooltipLabel:s("team_members_heading_compromised_tooltip"),onClick:()=>D("sortableCompromisedPasswords"),sortOrder:"sortableCompromisedPasswords"!==v.sortBy?void 0:v.sortOrder,headerKey:"compromised-passwords"},{headerLabel:s(eu),tooltipLabel:s(eu),onClick:()=>D("sortableLastActivity"),sortOrder:"sortableLastActivity"!==v.sortBy?void 0:v.sortOrder,headerKey:"last-login"},{headerLabel:(0,f.BX)("span",{sx:{display:"flex",alignItems:"center"},children:[s("team_members_heading_rights")," ",(0,f.tZ)(l.JO,{color:"ds.text.neutral.quiet",name:"FeedbackInfoOutlined",sx:{display:"inline-block",marginLeft:"4px"},size:"small"})]}),tooltipLabel:(0,f.tZ)("div",{sx:{"& > * > p:not(:last-child)":{marginBottom:"10px"}},children:s.markup("team_members_heading_rights_tooltip_markup")}),onClick:()=>D("sortableRights"),sortOrder:"sortableRights"!==v.sortBy?void 0:v.sortOrder,headerKey:"permissions"},{headerLabel:s("team_members_heading_actions"),headerKey:"actions"}];return(0,f.BX)("div",{className:"container--lTIFkRrWrT",children:[(0,f.tZ)("div",{sx:Y_.TOP,children:(0,f.BX)("div",{className:"tableHeaderContainer--NOzH1jto0x",children:[(0,f.tZ)(s_.n,{type:"search",containerStyle:{flexGrow:1,maxWidth:"300px",marginBottom:"15px"},onChange:e=>{g(0),S(e.currentTarget.value)},placeholder:s("team_members_filter_control_search_placeholder"),placeholderIcon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAyMSAyMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNNy4zNzUgMTMuNzY0Nkw0LjM3NSAxNi43NjQ2TTE2LjM3NSA5LjI2NDY1QzE2LjM3NSAxMS43NDk5IDE0LjM2MDMgMTMuNzY0NiAxMS44NzUgMTMuNzY0NkM5LjM4OTcyIDEzLjc2NDYgNy4zNzUgMTEuNzQ5OSA3LjM3NSA5LjI2NDY1QzcuMzc1IDYuNzc5MzcgOS4zODk3MiA0Ljc2NDY1IDExLjg3NSA0Ljc2NDY1QzE0LjM2MDMgNC43NjQ2NSAxNi4zNzUgNi43NzkzNyAxNi4zNzUgOS4yNjQ2NVoiIHN0cm9rZT0iI0NDQzdDMiIgc3Ryb2tlLXdpZHRoPSIxLjUiLz4KPC9zdmc+Cg=="}),(0,f.BX)("div",{className:"topContainer--ST6B1mEZjJ",children:[(0,f.tZ)("div",{className:"topLeft--viTEuhR25Z",children:(0,f.BX)("div",{className:"statusFilters--SMNEn98faE",children:[(0,f.tZ)(l.XZ,{label:s("team_members_filter_control_include_active"),onChange:()=>E("accepted"),checked:h.includes("accepted")}),(0,f.tZ)(l.XZ,{label:s("team_members_filter_control_include_invited"),onChange:()=>E("pending"),checked:h.includes("pending")}),(0,f.tZ)(l.XZ,{label:s("team_members_filter_control_include_revoked"),onChange:()=>E("removed"),checked:h.includes("removed")})]})}),u.size>0&&[(0,f.tZ)(__,{onMultipleReassignActionSelect:e=>{let t=[...u];switch(e){case"member":t=t.filter((e=>e.isTeamCaptain||e.isGroupManager));break;case"teamCaptain":t=t.filter((e=>!e.isTeamCaptain&&"accepted"===e.status));break;case"groupManager":t=t.filter((e=>!e.isGroupManager&&"accepted"===e.status))}a("reassign",t,e)}},"dropdown"),(0,f.tZ)(n_.Z,{classNames:["revokeButton--_sdxTpsqR2 topButton--vxY2fF8Lv4"],label:s("team_members_revoke_multiple_label"),disabled:![...u].some(k),onClick:()=>{let e=[...u];e=e.filter(k),a("revoke",e)}},"button")],(0,f.BX)("div",{className:"topRight--YZ2DF7wcrD",children:[(0,f.BX)("div",{className:"topPagination--rTlBiQ0EDF",children:[(0,f.BX)("div",{sx:Y_.TOP_PAGINATION_TEXT,children:[(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.catchy",children:s("team_members_filter_pagination_top_count",{first:M.first,last:M.last})}),(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",children:s("team_members_filter_pagination_top_total",{total:A.length})})]}),(0,f.tZ)(i_.Z,{currentPageIndex:p,isShort:!0,itemsLength:A.length,itemsPerPage:tu,onChange:T})]}),(0,f.tZ)(l.zx,{icon:"ActionAddOutlined",layout:"iconLeading",onClick:n,children:s("team_members_quota_progress_add")}),t.length>1&&(0,f.tZ)(l_,{members:t,onMembersActionSelect:a})]})]})]})}),(0,f.BX)("table",{className:"table--a8O2px0gHj",children:[(0,f.tZ)(Er,{columns:B}),(0,f.tZ)(W_,{checkedMembers:u,currentLoggedLogin:c,members:O,onMemberActionSelect:(e,t)=>{a(e,[t])},onMemberToggleCheck:e=>{m((t=>{const a=Array.from(t).find((t=>t.login===e.login)),n=new Set(t);return a?n.delete(a):n.add({...e}),n}))}})]}),(0,f.tZ)("div",{className:"bottom--b6BPTxGASq",children:(0,f.tZ)(i_.Z,{currentPageIndex:p,itemsLength:A.length,itemsPerPage:tu,onChange:T})})]})},nu=[],iu=()=>{const{translate:e}=(0,x.Z)(),{shouldShowNonMembersInfobox:t,nonMembersCount:a,nonMembersList:n}=(()=>{const e=(0,_.k)(ud.L,"getNonMembersCount"),t=(0,_.k)(ud.L,"getHasAdminDismissedInfobox"),a=(0,_.k)(ud.L,"getNonMembersList");return{shouldShowNonMembersInfobox:e.status===ue.rq.Success&&t.status===ue.rq.Success&&e.data>0&&!t.data,nonMembersCount:e.status===ue.rq.Success&&t.status===ue.rq.Success?e.data:0,nonMembersList:a.status===ue.rq.Success?a.data:nu}})(),[i,s]=(0,r.useState)(!1),o=function(){const{dismissNonMembersInfobox:e}=(0,q.u)(ud.L);return e}();return(0,r.useEffect)((()=>{i&&n.length&&(function(e){const t=e.map((e=>[e.userId,e.login,e.premiumStatus,(0,na.Z)(e.lastActivityDateUnix).toISOString()].join(","))).join("\n");(0,mr.S)(`${["user_id","login","premium_status","last_activity_date"].join(",")}\n${t}`,"non-members-list.csv","text/csv;charset=utf-8")}(n),s(!1))}),[i,n]),t?(0,f.tZ)(l.ke,{title:e("non_members_infobox_title",{count:a}),description:e("non_members_infobox_description"),mood:"warning",size:"large",actions:[(0,f.tZ)(l.zx,{intensity:"quiet",size:"small",onClick:()=>o(),children:e("non_members_infobox_dismiss_cta")},"no-stuff"),(0,f.tZ)(l.zx,{size:"small",isLoading:i,onClick:()=>s(!0),children:e("non_members_infobox_download_cta")},"no-stuff")]}):null};var su;const ru="_common_toast_close_label",ou=({refusedMembers:e={}}={})=>Object.keys(e).length>0;var lu;const cu=["text/*",".csv",".txt"],du="_common_dialog_dismiss_button",_u=({lee:e,isFreeTrial:t,isOpen:a,slotsTaken:n,slotsTotal:i,exclude:c,preFilledEmails:_,closeInviteDialog:u,handleInviteCompleteSuccess:m,handleInvitePartialSuccess:p,setShowActivationDialog:g})=>{const{routes:h}=(0,s.Xo)(),{translate:y}=(0,x.Z)(),{showToast:S}=(0,l.pm)(),{reportTACError:v}=H(),{proposeMembers:C}=(0,q.u)(ud.L),Z=(0,Ee.Y)(),{billingDetails:T,amountToPay:k,amountToTax:w,onSeatCountChange:N}=zs(null),[I,A]=(0,r.useState)(!1),[M,O]=(0,r.useState)(!1),[L,B]=(0,r.useState)(null!=_?_:new Set([])),[z,P]=(0,r.useState)(0),[X,U]=(0,r.useState)(0),[j,G]=(0,r.useState)(0),[$,F]=(0,r.useState)(0),[V,W]=(0,r.useState)(!1);(0,r.useEffect)((()=>{O(I)}),[I]),(0,r.useEffect)((()=>{B(null!=_?_:new Set([]))}),[_]),(0,r.useEffect)((()=>{L.size||G(0)}),[L]);const Y=()=>{u(),A(!1),P(0),U(0)},K=async(t,a)=>{var n;a=null!=(n=a)?n:0,U(t.length),A(!0);const i=a+Math.min(t.length-a,500),s=t.slice(a,i),r={};try{const a=await(async t=>{if(!(0,Gn.v0)(e.globalState)){const e=new Error(Zi.N);throw v(e),e}if(!e.apiMiddleware.teamPlans)throw new Error("we want to remove this middleware but we can't just yet!");try{const e=await C({proposedMemberLogins:t,force:!0});if("failure"===e.tag)throw new Error(e.error);return e.data}catch(e){const t=e.code&&e.subCode?`invite_error_${e.code}_${e.subCode}`:"team_members_invite_error_message";throw S({description:y(t),closeActionLabel:y(du),mood:"danger"}),new Error(y(t))}})(s);if(P(i),(0,E.merge)(r,a),i<t.length)return K(t,i);if(ou(r)){p(r.proposedMembers,r.refusedMembers);const e=Object.keys(r.proposedMembers).length,t=Object.keys(r.refusedMembers).length;(0,b.Kz)(new d.UserSendManualInviteEvent({flowStep:d.FlowStep.Complete,inviteCount:e,inviteFailedCount:t,inviteResentCount:0,inviteSuccessfulCount:e-t,isImport:j>0,importSize:j,isResend:!1}))}else m(t),$<0?1===L.size?S({description:y("team_members_invite_success_message_with_added_seats_one_invite",{cost:y.price(T.currency,(k+w)/100)}),closeActionLabel:y(du),mood:"brand"}):S({description:y("team_members_invite_success_message_with_added_seats",{total:L.size,count:-$,cost:y.price(T.currency,(k+w)/100)}),closeActionLabel:y(du),mood:"brand"}):S({description:y("team_members_invite_success_message_with_count",{count:L.size}),closeActionLabel:y(du),mood:"brand"}),(0,b.Kz)(new d.UserSendManualInviteEvent({flowStep:d.FlowStep.Complete,inviteCount:t.length,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:t.length,isImport:j>0,importSize:j,isResend:!1}));return Y()}catch(e){throw(0,b.Kz)(new d.UserSendManualInviteEvent({flowStep:d.FlowStep.Error,inviteCount:L.size,inviteFailedCount:L.size,inviteResentCount:0,inviteSuccessfulCount:0,isImport:j>0,importSize:j,isResend:!1})),Y(),e}},Q=e=>function(e){if(function(e){const t=e.match(/[\x00-\x09\x0e-\x1F]/g);return!!t&&t.length/e.length>.03}(e))return[];if(!e.includes("@"))return[e];return function(e){const t={};return e.forEach((e=>t[e]=!0)),Object.keys(t)}(e.match(/[^<> ,;:\t\n\r"']+@[a-zA-Z0-9_.-]+/g)||[])}(e).filter((e=>!L.has(e))),J=e=>(0,Ga.vV)(e)&&!(e=>!!c?.includes(e))(e),ee=e=>{G(e.length),B(new Set([...L,...e]))},te=e=>{v(e)},ae=[...L].filter((e=>!J(e))).length;let ne=0===L.size||ae>0||$<0&&xs(-$)||V;(0,r.useEffect)((()=>{if(i){const e=i-(L.size-ae)-n;F(e),e<0?(N(-e),Z.status===o.rq.Success&&(0,R.f1)(Z.data)&&W(!0)):W(!1)}}),[L,Z,i,n]);const{loading:ie,billingCountry:se}=D();if(ie)return lu||(lu=(0,f.tZ)(l.ZX,{}));const re="US"===se?"team_invite_dialog_input_counter_negative_tax":"team_invite_dialog_input_counter_negative_vat";return(0,f.BX)(l.Vq,{isOpen:a,title:y("invite_user_dialog_title"),closeActionLabel:y(du),onClose:()=>{I||((0,b.Kz)(new d.UserSendManualInviteEvent({flowStep:d.FlowStep.Cancel,inviteCount:L.size,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:j>0,importSize:j,isResend:!1})),Y(),B(new Set([])))},"aria-describedby":"dialogContent",actions:{primary:{children:y("invite_user_dialog_button"),onClick:async()=>{try{await K([...L]),g(!0)}catch(e){(0,b.Kz)(new d.UserSendManualInviteEvent({flowStep:d.FlowStep.Error,inviteCount:L.size,inviteFailedCount:L.size,inviteResentCount:0,inviteSuccessfulCount:0,isImport:j>0,importSize:j,isResend:!1})),S({description:y("_common_generic_error"),closeActionLabel:y(du),mood:"danger"})}B(new Set([]))},disabled:ne,layout:"iconLeading",icon:"ItemEmailOutlined"}},children:[(0,f.BX)("div",{sx:{display:"flex",flexDirection:"column",overflowY:"auto",gap:"8px",marginBottom:"16px"},children:[(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",children:y(I?"team_invite_dialog_input_label_sending":"invite_user_dialog_input_label")}),(0,f.tZ)(md.Z,{accept:cu,passClicksThrough:!0,onChange:e=>{ee(Q(e.join("\0")))},onError:te,children:(0,f.tZ)(pd.L,{setIsOverlayVisible:O,placeholder:y("team_invite_dialog_input_placeholder"),tags:[...L],isOverlayVisible:M,setTags:e=>{B(new Set(e))},formatToTags:Q,validate:J},"tags")}),V?(0,f.tZ)(l.ke,{title:(0,f.BX)(f.HY,{children:[(0,f.tZ)(l.nv,{textStyle:"ds.title.block.small",children:y("team_dialog_starter_limit_warning")}),(0,f.tZ)(s.rU,{to:h.teamAccountRoutePath,children:y("team_dialog_starter_change_plan")})]}),mood:"brand",icon:"FeedbackSuccessOutlined"}):(()=>{if(!i)return null;const e=$<0?xs(-$)?y("team_account_teamplan_upgrade_premium_buy_more_seats_than_cap",{seatCap:ps,salesEmail:gs}):w?y(re,{count:-$,total:i,cost:y.price(T.currency,(k+w)/100)}):y("team_invite_dialog_input_counter_negative",{count:-$,total:i,cost:y.price(T.currency,k/100)}):y("team_invite_dialog_input_counter",{count:$,total:i}),a=y("team_invite_dialog_input_counter_special",{total:i});let n=e;return t&&$<1&&(ne=$<0||ne,n=a),(0,f.tZ)(l.nv,{color:$<1?"ds.text.danger.quiet":"ds.text.positive.quiet",textStyle:"ds.body.reduced.regular",sx:{display:I?"none":"flex"},children:n})})()]}),(0,f.BX)("div",{sx:{display:"flex",flexDirection:"column"},children:[(0,f.tZ)(l.nv,{color:"ds.text.positive.quiet",textStyle:"ds.body.reduced.regular",sx:{display:I?"flex":"none"},children:y("team_invite_dialog_invitations_counter",{count:z,total:X})}),(0,f.tZ)("div",{sx:{display:I?"none":"flex"},children:(0,f.tZ)(md.Z,{accept:cu,onChange:e=>{ee(Q(e.join("\0")))},onError:te,children:(0,f.tZ)(l.nv,{as:"span",textStyle:"ds.title.section.medium",color:"ds.text.brand.quiet",sx:{cursor:"pointer"},children:y("team_invite_dialog_import_description")})})}),(0,f.tZ)(l.nv,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.quiet",sx:{display:I?"none":"flex"},children:y("team_invite_dialog_import_example_text")})]})]})},uu="_common_toast_close_label",mu=({showActivationDialog:e,setShowActivationDialog:t,setShowSharingDialog:a})=>{const{toggleInviteLink:n,createInviteLink:i,getInviteLinkDataForAdmin:s}=(0,Ld.h)(),{setAsInteracted:r}=(0,me.d)(_e.O.ActivateInviteLink),{translate:o}=(0,x.Z)(),{showToast:c}=(0,l.pm)(),d=Tn();return d?(0,f.tZ)(l.Vq,{title:o("team_activation_dialog_title"),closeActionLabel:o("_common_dialog_dismiss_button"),isOpen:e,onClose:()=>t(!1),actions:{primary:{children:o("team_activation_dialog_activate_button"),onClick:async()=>{r?.(),t(!1);const e=await s();e?.teamKey?await n(!1):(await i(d),c({description:o("team_activation_dialog_notification"),mood:"brand",closeActionLabel:o(uu)})),a(!0)}},secondary:{children:o("team_activation_dialog_notrightnow_button"),onClick:()=>{r?.(),t(!1),c({description:o("team_activation_dialog_cancel_notification"),mood:"brand",closeActionLabel:o(uu)})}}},children:(0,f.tZ)(l.nv,{sx:{marginBottom:"15px"},children:o("team_activation_dialog_paragrah")})}):null};var pu=a(833090);const gu=({showSharingDialog:e,setShowSharingDialog:t})=>{const{translate:a}=(0,x.Z)(),{inviteLinkDataForAdmin:n,getInviteLinkDataForAdmin:i}=(0,Ld.h)(),s=(0,dn.V)();return(0,r.useEffect)((()=>{i()}),[i]),(0,f.BX)(c.VqE,{closeIconName:a("_common_dialog_dismiss_button"),isOpen:e,onClose:()=>t(!1),children:[(0,f.tZ)(c.$N8,{title:a("team_sharing_invite_dialog_title")}),(0,f.BX)(c.a7O,{children:[(0,f.tZ)(c.nvN,{sx:{marginBottom:"15px"},color:c.colors.dashGreen01,children:a("team_sharing_invite_dialog_paragrah")}),(0,f.tZ)(c.nvN,{sx:{marginBottom:"15px",fontWeight:"600"},color:c.colors.dashGreen01,children:(0,te.cI)(n?.teamKey)})]}),(0,f.tZ)(c.cNS,{children:(0,f.tZ)(pu.q,{copyValue:(0,te.cI)(n?.teamKey),buttonText:a("team_sharing_invite_dialog_copy_link"),onClick:()=>{navigator.clipboard.writeText((0,te.cI)(n?.teamKey)),s.showAlert(a("team_sharing_invite_dialog_copied_notification"),c.BLW.SUCCESS)}})})]})},hu=({lee:e,teamId:t,isFreeTrial:a,totalSeatCount:n,numSeatsTaken:i,excludedInviteMembers:s,shouldShowInviteDialog:o,handleCloseInviteDialog:l,handleInvitePartialSuccess:c,handleInviteCompleteSuccess:d,invitePartialSuccessState:_,handleInvitationResultClosed:u,preFilledInviteEmails:m})=>{const{inviteLinkDataForAdmin:p,inviteLinkDataLoading:g,getInviteLinkDataForAdmin:h}=(0,Ld.h)(),[b,y]=r.useState(!1),[x,S]=r.useState(!1),{interacted:v}=(0,me.d)(_e.O.ActivateInviteLink);return r.useEffect((()=>{h()}),[h]),(0,f.BX)(f.HY,{children:[o?(0,f.tZ)(_u,{lee:e,slotsTotal:n,slotsTaken:i,exclude:s,isFreeTrial:a,isOpen:o,closeInviteDialog:l,handleInvitePartialSuccess:c,handleInviteCompleteSuccess:e=>{!1===p?.disabled&&S(!0),d(e)},preFilledEmails:m,setShowActivationDialog:y}):null,v||!b||g||p?.teamKey?null:(0,f.tZ)(mu,{showActivationDialog:b,setShowActivationDialog:y,setShowSharingDialog:S}),x?(0,f.tZ)(gu,{showSharingDialog:x,setShowSharingDialog:S}):null,_.show?(0,f.tZ)(Ed,{teamId:t,isOpen:_.show,onClose:u,invitedMembers:_.invitedMembers,refusedMembers:_.refusedMembers}):null]})},bu=({lee:e,isOpen:t,onClose:a,prefilledEmails:n,teamMembers:i,handleInviteCompleteSuccess:s})=>{const o=(0,r.useRef)(!1),{invitePartialSuccessState:l,setInvitePartialSuccessState:c,handleInvitationResultClosed:d}=Dd(),{teamId:_}=(0,De.fV)(),u=_d(i),[m,p]=(0,r.useState)(0),[g,h]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const t=(0,Gn.v0)(e.globalState);if(t)return(new $n.Z).status({auth:t}).then((e=>{o.current||(p(e.content.team.membersNumber+e.content.team.extraFreeSlots),h(e.content.team.isFreeTrial))})).catch(),()=>{o.current=!0}}),[]),(0,f.tZ)(hu,{lee:e,teamId:_,totalSeatCount:m,numSeatsTaken:u,excludedInviteMembers:i.filter((({status:e})=>"removed"!==e)).map((({login:e})=>e)),isFreeTrial:g,shouldShowInviteDialog:t,handleCloseInviteDialog:a,handleInvitePartialSuccess:(e,t)=>c({show:!0,invitedMembers:e,refusedMembers:t}),handleInviteCompleteSuccess:s,invitePartialSuccessState:l,handleInvitationResultClosed:d,preFilledInviteEmails:n})},yu=100,xu="_common_toast_close_label",Su=({domainName:e})=>{const{showToast:t}=(0,l.pm)(),[a,n]=(0,r.useState)(!1),[i,s]=(0,r.useState)(!1),{translate:o}=(0,x.Z)();return(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",layout:"iconLeading",onClick:async()=>{let a;try{(0,b.Kz)(new d.UserClickEvent({button:d.Button.DownloadCsv})),n(!0),a=setTimeout((()=>{s(!0)}),2e3),await(async()=>{const t=[],a=await Qc(e,yu,0),n=Math.ceil(a.emailsImpactedCount/yu);t.push(...a.emails);const i=async(a=0)=>{const s=[];for(;a<n||(n-a)%5!=0;)s.push(Qc(e,yu,a*yu)),a+=1;const r=await Promise.all(s);t.push(...r.flatMap((e=>e.emails))),a<n&&i(a)};await i(1),((e,t)=>{(0,mr.S)(((e,t)=>{let a=["email","domain","data_affected","incident_date","view_status"].join(",")+"\n";for(const n of e)for(const e of n.leaks)a+=[`"${n.email}"`,`"${e.domain}"`,`"${e.types.join(", ")}"`,`"${t((0,na.Z)(e.breachDateUnix))}"`,`"${n.viewStatus}"`].join(",")+"\n";return a})(e,t),"DWI-report.csv","text/csv;charset=utf-8")})(t,o.shortDate)})(),t({description:o("team_dark_web_insights_download_csv_success"),closeActionLabel:o(xu)})}catch(e){t({description:o("_common_generic_error"),mood:"danger",closeActionLabel:o(xu)})}finally{clearTimeout(a),n(!1),s(!1)}},icon:"DownloadOutlined",disabled:a,isLoading:i,children:o("team_dark_web_insights_download_csv")})};var fu=a(735760);const vu=({breach:e,id:t,isFirstInGroup:a=!1,isLastInGroup:n=!1,opened:i=!1})=>{const{translate:s}=(0,x.Z)();return(0,f.BX)("tr",{id:t,sx:{backgroundColor:c.colors.grey06,borderLeft:`3px solid ${c.colors.dashGreen00}`,display:i?"table-row":"none",height:"44px","> td":{verticalAlign:"middle",padding:"5px 16px",paddingTop:a?"18px":void 0,paddingBottom:n?"18px":void 0}},children:[(0,f.tZ)("td",{colSpan:2,children:(0,f.tZ)(c.nvN,{size:"small",as:"div",sx:{fontWeight:"light",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},children:(0,f.BX)("div",{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},children:[e.domain&&""!==e.domain?(0,f.tZ)(c.plG,{size:"small",text:e.domain,backgroundColor:c.colors.dashGreen00}):null,(0,f.tZ)("div",{title:e.domain,sx:{paddingLeft:"8px",width:"100px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.domain})]})})}),(0,f.tZ)("td",{children:(0,f.tZ)(c.nvN,{sx:{"::first-letter":{textTransform:"uppercase"},textTransform:"lowercase"},size:"x-small",color:c.colors.grey00,children:(r=e.types,r.map((e=>s(Zu[e]))).join(", "))})}),(0,f.tZ)("td",{colSpan:3,children:(0,f.tZ)(c.nvN,{size:"x-small",as:"span",color:c.colors.grey00,children:(0,f.tZ)(Ir.v,{date:(0,na.Z)(e.breachDateUnix),format:ga._T.ll})})})]});var r},Cu={borderBottom:`1px solid ${c.colors.dashGreen05}`,height:"55px",position:"relative",borderLeft:"3px solid white","&:hover,:focus-visible":{cursor:"pointer",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.16)"},'&[aria-expanded="true"]':{borderLeftColor:c.colors.dashGreen00},"> td":{verticalAlign:"middle",padding:"0 16px"}},Zu={[fu.hb.Password]:"team_dark_web_insights_incident_data_type_password",[fu.hb.CreditCard]:"team_dark_web_insights_incident_data_type_credit_card",[fu.hb.IPAddress]:"team_dark_web_insights_incident_data_type_ip_address",[fu.hb.MailingAddress]:"team_dark_web_insights_incident_data_type_mailing_address",[fu.hb.Phone]:"team_dark_web_insights_incident_data_type_phone",[fu.hb.Email]:"team_dark_web_insights_incident_data_type_email",[fu.hb.Social]:"team_dark_web_insights_incident_data_type_social",[fu.hb.GeoLocation]:"team_dark_web_insights_incident_data_type_geolocation",[fu.hb.UserName]:"team_dark_web_insights_incident_data_type_username",[fu.hb.PersonalInfo]:"team_dark_web_insights_incident_data_type_personalinfo"},Tu=({userReport:e,isPendingMember:t=!1,onInviteAction:a,shouldShowInviteButton:n})=>{const{translate:i}=(0,x.Z)(),[s,o]=(0,r.useState)(!1),l=e.leaks?.map(((t,a)=>`${e.email}-${a}`)).join(" ");return(0,f.BX)(f.HY,{children:[(0,f.BX)("tr",{id:e.email,tabIndex:0,"aria-expanded":s,"aria-controls":l,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),o((e=>!e)))},onClick:()=>{o((e=>!e))},sx:Cu,children:[(0,f.tZ)("td",{children:(0,f.tZ)(c.nvN,{size:"x-small",as:"span",children:e.email})}),(0,f.tZ)("td",{children:(0,f.BX)(c.Ejs,{flexDirection:"row",children:[(0,f.tZ)(c.nvN,{size:"medium",as:"span",sx:{fontWeight:"bold"},children:e.breachesCount}),e.viewStatus===fu.j8.New?(0,f.tZ)(c.P_k,{dot:!0,ariaLabel:i("team_new_label")}):null]})}),(0,f.tZ)(c.nvN,{size:"x-small",as:"td",color:c.colors.grey00,sx:{maxWidth:"160px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textTransform:"lowercase","::first-letter":{textTransform:"uppercase"}},children:(e=>{const t=e.leaks.map((e=>e.types.map((e=>i(Zu[e])))));return[...new Set(t.flat())].join(", ")})(e)}),(0,f.tZ)("td",{children:(0,f.tZ)(c.nvN,{size:"x-small",as:"span",color:c.colors.grey00,children:(0,f.tZ)(Ir.v,{date:(0,na.Z)(e.leaks[0].breachDateUnix),format:ga._T.ll})})}),(0,f.tZ)("td",{children:n?(0,f.tZ)(c.zxk,{onClick:()=>{a(e.email)},type:"button",nature:"secondary",children:i("team_dark_web_insights_incident_summary_invite_button")}):(0,f.tZ)(c.nvN,{size:"x-small",as:"span",color:c.colors.grey00,children:i(t?"team_dark_web_insights_incident_summary_pending":"team_dark_web_insights_incident_summary_member")})}),(0,f.tZ)("td",{"aria-label":i("team_dark_web_insights_incident_summary_expand"),children:(0,f.tZ)(c.veu,{sx:{transform:s?"scale3D(1, -1, 1)":"scale3D(1, 1, 1)"}})})]},e.email),e.leaks.map(((t,a,n)=>{const i=`${e.email}-${t.domain}-${t.breachDateUnix}`;return(0,f.tZ)(vu,{id:i,breach:t,opened:s,isFirstInGroup:0===a,isLastInGroup:a===n.length-1},i)}))]})},Du=({emailsToInvite:e,reports:t,isLoading:a,pendingMembers:n,onInviteAction:i})=>{const{translate:s}=(0,x.Z)(),r=[{headerLabel:s("team_dark_web_insights_table_header_email_affected"),headerKey:"email-affected"},{headerLabel:s("team_dark_web_insights_table_header_incidents"),headerKey:"incidents"},{headerLabel:s("team_dark_web_insights_table_header_data_affected"),headerKey:"data-affected"},{headerLabel:s("team_dark_web_insights_table_header_last_incident"),headerKey:"last-incident"},{headerLabel:s("team_dark_web_insights_table_header_member_status"),headerKey:"member-status"},{headerLabel:"",headerKey:"actions"}];return(0,f.BX)("div",{sx:{minWidth:"100%",minHeight:"600px"},children:[a?(0,f.tZ)("div",{sx:{display:"block",width:"950px",height:"600px",position:"absolute",textAlign:"center"},children:(0,f.tZ)(l.ZX,{sx:{position:"relative",top:"50%"},size:120})}):null,(0,f.BX)("table",{sx:{minWidth:"100%"},children:[(0,f.tZ)(Er,{columns:r}),(0,f.tZ)("tbody",{sx:a?{opacity:"0.5"}:{},children:t.map((t=>(0,f.tZ)(Tu,{userReport:t,onInviteAction:i,isPendingMember:n.includes(t.email),shouldShowInviteButton:e.includes(t.email)},t.email)))})]})]})},Eu=({label:e,labelGridArea:t,title:a,titleGridArea:n})=>(0,f.BX)(f.HY,{children:[(0,f.tZ)(l.nv,{sx:{gridArea:t},textStyle:"ds.specialty.monospace.small",color:"ds.text.warning.quiet",children:a}),(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",sx:{gridArea:n},children:e})]}),ku=({gridArea:e})=>(0,f.tZ)("div",{sx:{gridArea:e,backgroundColor:"ds.border.neutral.quiet.idle",height:"100%",width:"1px",alignSelf:"center"}});var wu,Nu;const Iu=({reports:e,suggestedInvitees:t,onInviteAll:a})=>{const{translate:n}=(0,x.Z)();return(0,f.BX)(c.Zbd,{sx:{marginBottom:"24px",padding:"24px 24px"},children:[(0,f.tZ)(l.X6,{as:"h3",sx:{marginBottom:"24px"},children:n("team_dark_web_insights_summary_title")}),(0,f.BX)(c.T5p,{gridTemplateColumns:"1fr 1px 1fr 1px 1fr max-content",gridTemplateAreas:'"label-0 divider-left label-1 divider-right label-2 invite-all" "title-0 divider-left title-1 divider-right title-2 invite-all"',alignItems:"center",sx:{columnGap:"16px",justifyContent:"center"},children:[(0,f.tZ)(Eu,{labelGridArea:"label-0",label:n("team_dark_web_insights_summary_employees_affected"),titleGridArea:"title-0",title:e.emailsImpactedCount}),wu||(wu=(0,f.tZ)(ku,{gridArea:"divider-left"})),(0,f.tZ)(Eu,{labelGridArea:"label-1",label:n("team_dark_web_insights_summary_total_incidents"),titleGridArea:"title-1",title:e.leaksCount}),Nu||(Nu=(0,f.tZ)(ku,{gridArea:"divider-right"})),(0,f.tZ)(Eu,{labelGridArea:"label-2",label:n("team_dark_web_insights_summary_not_protected"),titleGridArea:"title-2",title:n("team_dark_web_insights_summary_employee_invitation",{count:t.length})}),(0,f.tZ)(c.dDn,{gridArea:"invite-all",alignSelf:"center",children:(0,f.tZ)(l.zx,{onClick:a,children:n("team_dark_web_insights_summary_invite_all_button")})})]})]})};var Au,Mu;const Ou=({lee:e,domainName:t})=>{const{translate:a}=(0,x.Z)(),n=(0,dn.V)(),{teamId:i}=(0,De.fV)(),{teamMembers:s,refreshTeamMembers:o}=dd(i),{setHasNewBreaches:_}=ye(),{openDialog:u,shouldShowFrozenStateDialog:m}=(0,N.Ub)(),[p,g]=(0,r.useState)(!0),[h,y]=(0,r.useState)(null),[S,v]=(0,r.useState)(!1),[C,Z]=(0,r.useState)(1),[T,D]=(0,r.useReducer)((e=>e+1),0),{unseen:E,setAsSeen:k}=(0,me.m)(_e.O.TacDarkWebInsightsNewBadge),[w,I]=(0,r.useState)(!1),[A,M]=(0,r.useState)(new Set([])),O=s.filter((e=>["pending","proposed"].includes(e.status))).map((e=>e.login)),L=s.filter((e=>["pending","proposed","accepted"].includes(e.status))).map((e=>e.login)),B=(0,r.useMemo)((()=>{var e;return null!=(e=h?.allImpactedEmails.filter((e=>!L.includes(e))))?e:[]}),[h?.allImpactedEmails,L]),R=async(e,t)=>{try{const a=await Qc(e,10,t);return!!a&&(y(a),!0)}catch{return!1}};(0,r.useEffect)((()=>{(0,b.Nc)(d.PageView.TacDarkWebInsights),_(!1),R(t,0).then((()=>{(0,b.Kz)(new d.UserLoadDarkWebInsightsResultsEvent({})),g(!1)}))}),[_,t]),(0,r.useEffect)((()=>{E&&h?.emails&&k()}),[E,k,h?.emails]);const z=(0,r.useCallback)((async e=>{v(!0),await R(t,10*(e-1))?Z(e):(n.showAlert(a("team_dark_web_insights_generic_error"),c.BLW.ERROR),D()),v(!1)}),[n,t,a]),P=(0,r.useCallback)((()=>{m?u():B.length<=0||(I(!0),(0,b.Kz)(new d.UserSendManualInviteEvent({flowStep:d.FlowStep.Start,inviteCount:0,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:!1,isResend:!1})),M(new Set(B)))}),[B]);return(0,f.BX)(f.HY,{children:[p?Au||(Au=(0,f.tZ)(ld,{})):null,!p&&h?.emails?0===h.leaksCount?(0,f.tZ)(ad,{domainName:t}):(0,f.BX)(f.HY,{children:[(0,f.tZ)(Iu,{reports:h,suggestedInvitees:B,onInviteAll:P}),(0,f.BX)(c.Zbd,{sx:{padding:"32px 24px"},children:[(0,f.BX)("div",{sx:{display:"flex",justifyContent:"space-between",marginBottom:"24px",alignItems:"center"},children:[(0,f.tZ)(l.X6,{as:"h3",children:a("team_dark_web_insights_table_title")}),(0,f.tZ)(Su,{domainName:t})]}),(0,f.tZ)(Du,{reports:h.emails,isLoading:S,pendingMembers:O,emailsToInvite:B,onInviteAction:e=>{m?u():(I(!0),(0,b.Kz)(new d.UserSendManualInviteEvent({flowStep:d.FlowStep.Start,inviteCount:0,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:!1,isResend:!1})),M(new Set([e])))}}),(0,f.BX)(c.T5p,{gridTemplateColumns:"1fr auto 1fr",alignItems:"center",sx:{paddingTop:6,paddingBottom:3},children:[(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",textStyle:"ds.title.block.small",children:a("team_dark_web_insights_table_pagination_page_size",{pageSize:10})}),(0,f.tZ)(c.tlE,{totalPages:Math.ceil(h.emailsImpactedCount/10),currentPage:C,onPageChange:z},T)]}),(0,f.tZ)(bu,{lee:e,isOpen:w,prefilledEmails:A,onClose:()=>{I(!1),M(new Set([]))},handleInviteCompleteSuccess:()=>o(),teamMembers:s})]})]}):null,p||h?.emails||""===t?null:Mu||(Mu=(0,f.tZ)(cd,{}))]})};var Lu,Bu;const Ru=({lastVerificationAttemptDateUnix:e,onRetry:t})=>{const{translate:a}=(0,x.Z)();return(0,f.BX)(c.Ejs,{sx:{justifyContent:"space-between",flexDirection:"column",margin:"30px 0",paddingLeft:"24px",borderLeft:`solid 2px ${c.colors.grey00}`,gap:5},children:[(0,f.BX)(c.nvN,{size:"x-small",bold:!0,children:[a("team_dwi_pending_latest_attempt_label")," ",e?(0,f.tZ)(y_.Z,{date:(0,na.Z)(e)}):null]}),(0,f.tZ)(c.zxk,{type:"button",nature:"ghost",sx:{width:"fit-content",margin:0,padding:0,minWidth:0,height:"fit-content","&:hover":{backgroundColor:"transparent !important",textDecoration:"underline"},"&:focus":{backgroundColor:"transparent !important",textDecoration:"underline"}},onClick:t,children:(0,f.BX)(c.Ejs,{sx:{alignItems:"center",flexDirection:"row",gap:2},children:[Lu||(Lu=(0,f.tZ)(c.DuK,{size:12})),(0,f.tZ)(c.nvN,{size:"x-small",color:c.colors.midGreen00,children:a("team_dwi_pending_retry_button_label")})]})})]})},zu=({domain:e,isDeactivating:t,handleDeactivateDomain:a,handleRetryValidateDomain:n})=>{const{translate:i}=(0,x.Z)(),{dnsToken:{computedToken:s,challengeDomain:r}={computedToken:"",challengeDomain:""},lastVerificationAttemptDateUnix:o}=e;return(0,f.BX)(f.HY,{children:[Bu||(Bu=(0,f.tZ)(Fc,{})),(0,f.BX)("div",{children:[(0,f.BX)(c.Zbd,{sx:{padding:"24px",margin:"24px 0"},children:[(0,f.tZ)(c.X6q,{size:"x-small",children:i("team_breach_report_domain_verify_pending_title")}),(0,f.tZ)(c.nvN,{sx:{marginBottom:"20px",marginTop:"10px"},color:c.colors.grey00,children:i("team_dwi_pending_verification_txt")}),(0,f.tZ)(Ru,{lastVerificationAttemptDateUnix:o,onRetry:n}),(0,f.BX)(c.Ejs,{gap:"16px",children:[(0,f.tZ)(c.k$b,{sx:{width:"70%"},children:(0,f.tZ)(c.oil,{fullWidth:!0,defaultValue:e.name,disabled:!0})}),(0,f.tZ)(c.k$b,{children:(0,f.tZ)(c.zxk,{type:"button",disabled:t,nature:"secondary",onClick:a,children:i("team_dwi_pending_cancel_button_label")})}),(0,f.tZ)(c.k$b,{children:(0,f.tZ)(c.zxk,{type:"button",disabled:!0,sx:{maxWidth:"120px"},children:i("team_breach_report_verifying_txt")})})]})]}),(0,f.tZ)(c.UQy,{size:"medium",children:(0,f.BX)(c.UlM,{open:!0,children:[(0,f.tZ)(c._Oh,{children:i("team_breach_report_domain_verify_dns_confirm_text")}),(0,f.tZ)(c.rN7,{children:(0,f.BX)(c.T5p,{gap:"24px",gridTemplateColumns:"1fr",gridAutoRows:"auto",children:[(0,f.tZ)(c.nvN,{size:"small",color:c.colors.grey00,children:i("team_breach_report_domain_verify_dns_description")}),(0,f.tZ)(Xc.x,{inputValue:r,textInputProps:{fullWidth:!0,readOnly:!0,label:i("team_settings_domain_verify_host")}}),(0,f.tZ)(Xc.x,{inputValue:s,textInputProps:{fullWidth:!0,readOnly:!0,label:i("team_settings_domain_verify_txt")}}),(0,f.tZ)(c.nvN,{size:"small",sx:{marginBottom:"20px"},color:c.colors.grey00,children:i("team_breach_report_domain_verify_dns_secondary_description")})]})})]})})]})]})},Pu={background:"ds.container.expressive.neutral.quiet.idle",color:"ds.text.neutral.standard",cursor:"default"},Xu=({label:e})=>(0,f.tZ)(c.OTy,{sx:{":hover":Pu,":focus":Pu,...Pu},disabled:!0,selected:!1,size:"medium",label:e}),Uu=({activeDomain:e,verifiedDomains:t,selectVerifiedDomain:a})=>{var n;const i=(0,ae.o)(ne.w.DwiMultipleDomainsProd),s=null!=(n=e?.name)?n:"",r=t.map((e=>(0,f.tZ)(c.OTy,{sx:Pu,onClick:()=>{s!==e.name&&a(e)},selected:s===e.name,size:"medium",label:e.name},e.name)));return(0,f.tZ)(c.G8v,{sx:{marginTop:"12px",padding:0},children:i&&t.length>1?r:""!==s?(0,f.tZ)(Xu,{label:s}):null})};var ju,qu;const Gu={display:"flex",justifyContent:"center",width:"100%",height:"100%",backgroundColor:`${c.colors.dashGreen06}`,alignItems:"center"},$u=e=>(0,f.tZ)("div",{className:"container--INT3GORhR4",children:e.children});var Fu=a(814691);const Vu="group_name_already_in_use";var Hu=a(868505);const Wu={HEADER:{display:"inline-block",width:"100%",verticalAlign:"top"},CARD_CONTAINER:{display:"flex",gap:"16px",flexDirection:"column",padding:"32px",borderRadius:"8px",backgroundColor:"ds.container.agnostic.neutral.supershy",border:"1px solid ds.border.neutral.quiet.idle"}},Yu={nameContainer:"nameContainer--NmQCGqTrTR",nameInput:"nameInput--Vpc7anR7aO",nameEditIcon:"nameEditIcon--Thlp4CT5Bq",spinner:"spinner--QQ6Zpwc8Zd",_errorText:"_errorText--shQIAebNjL",errorMessage:"errorMessage--Btb66DLL6K _errorText--shQIAebNjL",error:"error--UkyphHJLOB _errorText--shQIAebNjL"},Ku=({onNameChanged:e,defaultValue:t,editable:a,saving:n})=>{const i=(0,r.useRef)(null),[s,o]=(0,r.useState)(t),[c,d]=(0,r.useState)(!1),[_,u]=(0,r.useState)(null);(0,r.useEffect)((()=>{c&&i.current?.focus()}),[c,i]);const m=()=>{const a=i.current?.value.trim();d(!1),o(a||t),e&&a&&e(a).then((({success:e,error:t=null})=>{d(!e),u(e?null:t)}))},p=Boolean(_);return(0,f.BX)(l.X6,{as:"h1",color:"ds.text.neutral.standard",textStyle:"ds.title.section.large",children:[!c&&(0,f.BX)("div",{className:B()(Yu.nameContainer,{[Yu.hoverableContainer]:a}),onClick:()=>{a&&d(!0)},children:[s,n?(0,f.tZ)(Ss.Z,{size:20,containerClassName:Yu.nameEditIcon}):(0,f.tZ)("img",{className:Yu.nameEditIcon,src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHZpZXdCb3g9IjAgMCAxNSAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMTAuMTY3OCAxLjA3MjAzQzEwLjkzMDUgMC4zMDkzMjMgMTIuMTY2OCAwLjMwOTMyMyAxMi45Mjk1IDEuMDcyMDNDMTMuNjkyMyAxLjgzNDc0IDEzLjY5MjMgMy4wNzEwOSAxMi45Mjk1IDMuODM0NzhNMS4xOTA0NCAxMC4wNDlMMC41IDEzLjUwMjJMMy45NTIyMSAxMi44MTE4TDExLjU0ODEgNS4yMTQ5N0w4Ljc4NjI4IDIuNDUzMkwxLjE5MDQ0IDEwLjA0OVoiIHN0cm9rZT0iIzBFNjQ3NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo="})]}),c&&(0,f.tZ)("div",{className:Yu.editNameContainer,children:(0,f.tZ)("input",{ref:i,type:"text",className:B()(Yu.nameInput,{[Yu.error]:p}),defaultValue:s,onBlur:m,onKeyUp:e=>{13===e.keyCode&&m()}})}),c&&p?(0,f.tZ)("div",{className:Yu.errorMessage,children:_}):null]})};var Qu=a(303431),Ju=a(589789);const em="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNSAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNOC41IDEuMTMyMzJMMTQuNSA3LjEzMjMyTTguNSAxMy4xMzIzTDE0LjUgNy4xMzIzMk0xNC41IDcuMTMyMzJMMC41MDAwMDEgNy4xMzIzMiIgc3Ryb2tlPSIjRDZEMkNFIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg==",tm="onboardingStepArrow--gqb_E47Df_",am="onboardingStepPanel--qnDSxlGTtS",nm="onboardingStepCounterPanel--KZLs4foheX",im="onboardingStepText--K_Kh_SIwEm",sm="circle--mihUuCFcJa";var rm,om;const lm={CONTAINER:{width:"100%",textAlign:"center",paddingTop:"58px",border:"dashed 1px ds.border.neutral.quiet.idle",backgroundColor:"ds.container.agnostic.neutral.supershy"}},cm=()=>{const{translate:e}=(0,x.Z)();return(0,f.BX)("div",{sx:lm.CONTAINER,children:[(0,f.tZ)("div",{className:"onboardingTitlePanel--yGKYcW_2lp",children:(0,f.tZ)(l.X6,{as:"h1",textStyle:"ds.title.section.large",color:"ds.text.neutral.catchy",children:e("team_groups_list_onboarding_title")})}),(0,f.BX)("div",{className:"onboardingStepsContainer--LZ8j5MDbRH",children:[(0,f.BX)("div",{className:am,children:[(0,f.tZ)("div",{className:nm,children:(0,f.tZ)("div",{className:sm,children:"1"})}),(0,f.tZ)("div",{className:im,children:e("team_groups_list_onboarding_step_1")})]}),(0,f.tZ)("div",{className:tm,children:rm||(rm=(0,f.tZ)("img",{src:em}))}),(0,f.BX)("div",{className:am,children:[(0,f.tZ)("div",{className:nm,children:(0,f.tZ)("div",{className:sm,children:"2"})}),(0,f.tZ)("div",{className:im,children:e("team_groups_list_onboarding_step_2")})]}),(0,f.tZ)("div",{className:tm,children:om||(om=(0,f.tZ)("img",{src:em}))}),(0,f.BX)("div",{className:am,children:[(0,f.tZ)("div",{className:nm,children:(0,f.tZ)("div",{className:sm,children:"3"})}),(0,f.tZ)("div",{className:im,children:e("team_groups_list_onboarding_step_3")})]})]})]})},dm="onboarding_web_tacgetstarted",_m=({key:e,index:t,isFirstTimeGroupCreation:a,hasNewGroupDelayPassed:n,children:i})=>{const{translate:s}=(0,x.Z)(),r=(0,u._)(),{[dm]:o=!1}=r.status!==ue.rq.Success?{}:r.data;return(0,f.tZ)(c.ua7,{sx:{"@keyframes fadeIn":{"0%":{opacity:0},"100%":{opacity:1}},animation:"fadeIn 250ms ease-out"},passThrough:0!==t||!a||!o||!n,placement:"bottom",arrowSize:12,trigger:"persist",content:(0,f.tZ)(l.nv,{color:"ds.text.inverse.standard",children:s("team_groups_list_new_group_tooltip")}),children:i},e)},um=({enforcePaywall:e,className:t})=>{const{translate:a}=(0,x.Z)(),{routes:n}=(0,s.Xo)();return(0,f.tZ)(l.ke,{title:a(e?"team_group_list_paywall_block_title":"team_group_list_paywall_warning_title"),description:a("team_group_list_paywall_description"),actions:[(0,f.tZ)(s.rU,{to:`${n.teamAccountChangePlanRoutePath}?plan=business`,onClick:()=>{(0,b.Kz)(new d.UserClickEvent({clickOrigin:e?d.ClickOrigin.GroupsStarterLimitReached:d.ClickOrigin.GroupsStarterLimitCloseToBeReached,button:d.Button.UpgradeBusinessTier}))},children:(0,f.tZ)(l.zx,{icon:"PremiumOutlined",layout:"iconLeading",size:"small",children:a("team_group_list_paywall_upgrade")})},"upgrade")],mood:e?"warning":"brand",size:"large",className:t})},mm=({className:e})=>{const{translate:t}=(0,x.Z)(),a=te.tz;return(0,f.tZ)(l.ke,{title:t("team_group_list_in_trial_business_paywall_block_title"),description:t("team_group_list_in_trial_business_paywall_block_description"),mood:"brand",size:"large",actions:[(0,f.tZ)(l.zx,{onClick:()=>{},as:"a",href:a,rel:"noreferrer",target:"_blank",children:t("team_group_list_in_trial_business_paywall_block_upgrade")},"upgrade")],className:e})};var pm,gm;const hm={GROUP_ROW:{display:"grid",gap:"16px",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))",gridAutoRows:"62px"},GROUP_ITEM:{cursor:"pointer",display:"flex",flexDirection:"column",justifyContent:"center",backgroundColor:"ds.container.expressive.neutral.supershy.idle",borderRadius:"4px",border:"1px solid ds.border.neutral.quiet.idle",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",padding:"20px 16px"}},bm="team_groups_list_search_placeholder",ym="isFirstTimeGroupCreation",xm=(e,t)=>{const a=e.name.toLocaleLowerCase(),n=t.name.toLocaleLowerCase();return a.localeCompare(n)},Sm="onboarding_web_tacgetstarted",fm=({tooltipDismissed:e,setTooltipDismissed:t,children:a})=>{var n;const i=(0,s.TH)(),{translate:r}=(0,x.Z)(),o=(0,u._)(),d=null!=(n=i.state?.[ym])&&n,{[Sm]:_=!1}=o.status!==ue.rq.Success?{}:o.data;return(0,f.tZ)(c.ua7,{sx:{maxWidth:"400px"},passThrough:e||!d||!_,placement:"left-start",arrowSize:0,trigger:"persist",content:(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"8px",sx:{padding:"8px",textAlign:"left",width:"auto"},children:[(0,f.tZ)(l.X6,{as:"h1",color:"ds.text.inverse.catchy",children:r("team_groups_edit_add_member_tooltip_title")}),(0,f.tZ)(l.nv,{color:"ds.text.inverse.standard",children:r("team_groups_edit_add_member_tooltip_content")}),(0,f.tZ)(l.zx,{onClick:()=>t(!0),sx:{alignSelf:"end"},children:r("team_invite_dialog_infobox_action")})]}),children:a})},vm=({lee:e,userGroup:t})=>{const a=(0,r.useRef)(null),{translate:n}=(0,x.Z)(),{teamId:i}=(0,De.fV)(),{teamMembers:s}=dd(i),[o,l]=(0,r.useState)(null),[d,_]=(0,r.useState)(!1),[u,m]=(0,r.useState)([]),{invitePartialSuccessState:p,setInvitePartialSuccessState:g,handleInvitationResultClosed:h}=Dd(),b=(0,dn.V)(),y=e=>(0,f.tZ)(Nr.q,{className:"avatar--ZwBEp_dc1w",email:e,size:32}),S=()=>Boolean(u.length);return(0,f.BX)("div",{children:[(0,f.tZ)(Hu.e,{ref:a,buttonLabel:n("team_groups_edit_add_members"),confirmButtonLabel:n("team_groups_edit_add_member_confirm"),cancelButtonLabel:n("team_groups_edit_add_member_cancel"),confirmButtonDisabled:!S(),onCancelButtonClick:()=>{m([]),l(null)},onConfirmButtonClick:async()=>{if(!S())return;const s=u,{groupId:r,revision:o,name:d}=t,p=s.map((e=>({alias:e.toLowerCase(),permission:"limited"})));if(null===i)return void e.reportError(new Error(Zi.N));const h=await(0,Ce.j_)({teamId:i,groupId:r,revision:o,users:p});if(h.error)return"no_free_slot"===h.error.message||"not_enough_free_slots"===h.error.message?void b.showAlert(n("team_group_edit_add_member_not_enough_slots_error",{count:p.length,groupName:d}),c.BLW.ERROR):void b.showAlert(n("team_groups_edit_invite_member_to_group_error_message_markup"),c.BLW.ERROR);Object.keys(h.refusedMembers).length&&g({invitedMembers:{},refusedMembers:h.refusedMembers,show:!0}),a.current&&a.current.hidePopup(),m([]),l(null),_(!0)},popupClassName:"addMemberPopup--Zd2J1smSL4",children:(0,f.BX)(fm,{tooltipDismissed:d,setTooltipDismissed:_,children:[(0,f.tZ)("span",{className:"addMemberLabel--DXxhvug4yq",children:n("team_groups_edit_add_member_header")}),o&&(0,f.tZ)("div",{className:"error--IjVtbntYUX",children:o}),(0,f.tZ)(Qu.J,{autoFocus:!0,className:"addMemberMultiselect--CDfv8wJoB6",dataSource:(()=>{const e=new Set(t.users.filter((({status:e})=>["accepted","pending"].includes(e))).map((({alias:e})=>e)));return s.filter((({login:t,status:a})=>"removed"!==a&&!e.has(t))).map((({login:e})=>({text:e,icon:y(e)})))})(),getCurrentSelectionAvatar:y,defaultValue:u,isItemValid:e=>(0,Ga.vV)(e),onChange:e=>{m(e)},onError:e=>l(e?n(`team_groups_edit_error_${e.message}`):null),placeholder:n("team_groups_edit_add_member_input_placeholder")})]})}),(0,f.tZ)(Ed,{teamId:(0,k.ev)(e.globalState),isOpen:p.show,onClose:h,invitedMembers:p.invitedMembers,refusedMembers:p.refusedMembers})]})},Cm=h_.Maybe.nothing(),Zm=({onBackLinkClick:e,onDeleteClick:t,onRenameGroup:a,groupName:n,lee:i,userGroup:s})=>{const{translate:o}=(0,x.Z)(),[d,_]=(0,r.useState)(h_.Maybe.nothing()),[u,m]=(0,r.useState)(!1);return(0,f.BX)("div",{sx:Wu.HEADER,children:[(0,f.tZ)(l.zx,{intensity:"supershy",layout:"iconLeading",icon:"ArrowLeftOutlined",onClick:t=>{e(t)},children:o("team_groups_edit_header_back")}),(0,f.BX)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"16px"},children:[(0,f.tZ)(Ku,{defaultValue:n,editable:!0,saving:u,onNameChanged:async e=>{m(!0);const{error:t}=await a(e);return m(!1),t===Vu?{success:!1,error:o("team_groups_edit_header_name_already_exists")}:{success:!0}}}),(0,f.BX)("div",{style:{display:"flex",gap:"8px"},children:[(0,f.tZ)(Hu.e,{buttonLabel:o("team_groups_edit_header_delete_group"),cancelButtonLabel:o("team_groups_edit_header_delete_group_cancel_button"),confirmButtonLabel:o("team_groups_edit_header_delete_group_confirm_button"),onCancelButtonClick:()=>{_(Cm)},onConfirmButtonClick:()=>{_(Cm),t()},confirmButtonDisabled:!d.caseOf({just:e=>e===n,nothing:()=>!1}),popupClassName:"confirmPopup--NTDDMjDo4B",buttonMood:"neutral",buttonIntensity:"quiet",buttonIconName:"ActionDeleteOutlined",children:(0,f.BX)("div",{style:{display:"flex",flexDirection:"column",gap:10,marginBottom:12},children:[(0,f.tZ)(c.nvN,{size:"large",children:o.markup("team_groups_edit_header_delete_group_confirm_title_markup",{group:n})}),(0,f.tZ)(c.nvN,{color:"neutrals.8",children:o("team_groups_edit_header_delete_group_confirm_subtitle")}),(0,f.tZ)(c.oil,{fullWidth:!0,onChange:e=>{const t=e.target.value?.trim();_(h_.Maybe.maybe(t))},type:"text",defaultValue:d.caseOf({just:e=>e,nothing:()=>{}}),autoFocus:!0})]})}),(0,f.tZ)(vm,{lee:i,userGroup:s})]})]})]})};var Tm;const Dm=e=>(0,f.tZ)("svg",{className:e.className,width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"none",children:Tm||(Tm=(0,f.tZ)("path",{d:"M13.5 2.5V15.5H2.5V2.5M10.5 2.5V0.5H5.5V2.5M1 2.5H15M5.5 6V11M8 6V11M10.5 6V11",stroke:"#0E6476",strokeLinecap:"round",strokeLinejoin:"round"}))});var Em;const km=r.memo((({member:e,handleRemoveMember:t})=>{const{translate:a}=(0,x.Z)();return(0,f.BX)("tr",{children:[(0,f.tZ)("td",{className:"emailCell--c3avC4hgf6",children:(0,f.BX)("div",{className:"emailCellContainer--yFS7a4HnT_",children:[(0,f.tZ)(Nr.q,{className:"avatar--XHrkwJbc_C",email:e.alias,size:32}),e.alias]})}),(0,f.tZ)("td",{className:"rightsCell--Z6diiNotCT",children:a((n=e.permission,i=e.status,"admin"===n&&"accepted"===i?"team_groups_edit_member_list_rights_manager":"limited"===n&&"accepted"===i?"team_groups_edit_member_list_rights_member":"pending"===i?"team_groups_edit_member_list_rights_pending":""))}),(0,f.tZ)("td",{className:"plusCell--B02g3LGOlG",children:(0,f.tZ)("div",{style:{cursor:"pointer"},onClick:()=>t(e),children:Em||(Em=(0,f.tZ)(Dm,{}))})})]});var n,i})),wm=(0,Ci.ascend)((0,Ci.prop)("permission")),Nm=(0,Ci.ascend)((0,Ci.compose)(Ci.toLower,(0,Ci.prop)("alias"))),Im=(0,Ci.sortWith)([wm,Nm]),Am=h_.Maybe.nothing(),Mm=({lee:e,className:t,userGroup:a,revokeMembers:n})=>{const{translate:i}=(0,x.Z)(),[s,o]=(0,r.useState)(0),[l,d]=(0,r.useState)({showRemoveUserDialog:!1,removeMemberCandidate:h_.Maybe.nothing()}),_=e=>{d({showRemoveUserDialog:!0,removeMemberCandidate:h_.Maybe.just(e)})},u=()=>(a.users||[]).filter((e=>"accepted"===e.status||"pending"===e.status)),m=()=>{d({showRemoveUserDialog:!1,removeMemberCandidate:Am})},p=(0,Ci.map)((e=>(0,f.tZ)(km,{member:e,handleRemoveMember:_},e.alias))),g=[{headerLabel:i("team_groups_edit_member_list_header_email"),headerKey:"email"},{headerLabel:i("team_groups_edit_member_list_header_group_rights"),colSpan:2,headerKey:"group-rights"}];return(0,f.BX)("div",{children:[(0,f.BX)("table",{className:B()(t,"table--hj3WYleNh5"),children:[(0,f.tZ)(Er,{columns:g}),(0,f.tZ)("tbody",{children:(()=>{const e=24*s;return(0,Ci.compose)(p,(0,Ci.slice)(e,e+24),Im)(u())})()})]}),(0,f.tZ)("div",{className:"pagination--Xk8h572zZ7",children:(0,f.tZ)(i_.Z,{currentPageIndex:s,itemsLength:u().length,itemsPerPage:24,onChange:e=>{o(e)}})}),(0,f.tZ)(ms.o,{isOpen:l.showRemoveUserDialog,onRequestClose:m,footer:(0,f.tZ)(c.cNS,{primaryButtonTitle:i("team_groups_edit_member_list_action_remove_dialog_cta"),primaryButtonOnClick:()=>{h_.Maybe.sequence({removeMemberCandidate:l.removeMemberCandidate,userGroup:h_.Maybe.just(a)}).caseOf({just:({removeMemberCandidate:t,userGroup:a})=>{n(e.dispatchGlobal,{groupId:a.groupId,revision:a.revision,users:[t.userId]},{title:i("team_groups_edit_revoke_member_from_group_error_title"),message:i("team_groups_edit_revoke_member_from_group_error_message")})},nothing:()=>{}}),d({showRemoveUserDialog:!1,removeMemberCandidate:Am})},secondaryButtonTitle:i("team_groups_edit_member_list_action_remove_dialog_cancel"),secondaryButtonOnClick:m}),title:i("team_groups_edit_member_list_action_remove_dialog_header"),children:(0,f.BX)("div",{children:[(0,f.tZ)("div",{className:"removeDialogTitle--Zn2JmJtOF0",children:i("team_groups_edit_member_list_action_remove_dialog_title",{email:l.removeMemberCandidate.caseOf({just:e=>e.userId,nothing:()=>""})})}),(0,f.tZ)("div",{children:i("team_groups_edit_member_list_action_remove_dialog_subtitle")})]})})]})};var Om=a(689611),Lm=a(886662);const Bm=e=>`{${e.match.params.uuid}}`,Rm={userGroup:{live:Ze.C.liveAdministrableUserGroup,liveParam:Bm,query:Ze.C.getAdministrableUserGroup,queryParam:Bm}},zm={strategies:Rm},Pm=(0,Om.$)((0,Lm.i)((({lee:e,userGroup:t})=>{const{routes:a}=(0,s.Xo)(),{translate:n}=(0,x.Z)(),{addAlertToQueue:i}=H();(0,Ko.Bf)(),(0,r.useEffect)((()=>{(0,b.Nc)(d.PageView.TacGroupDetails)}),[]);const o=(e,t,a,n)=>{try{const e=JSON.parse(n);e.code&&(t.message+=` : ${e.code}`)}finally{e(Fu.Qy.error({message:a,content:{error:n}})),i(t)}};if(!t)return null;const l=(0,f.tZ)(Zm,{onBackLinkClick:()=>{(0,s.uX)(a.teamGroupsRoutePath)},onDeleteClick:()=>{const{groupId:i,revision:r}=t;(0,Ce.FU)({groupId:i,revision:r}).then((()=>{(0,s.uX)(a.teamGroupsRoutePath)})).catch((t=>{const a={title:n("team_groups_edit_delete_group_error_title"),message:n("team_groups_edit_delete_group_error_message")};o(e.dispatchGlobal,a,"Group deletion failed",t.message)}))},onRenameGroup:async a=>{if(a===t.name)return{success:!0};const i=(t,a)=>{const i={title:n("team_groups_edit_rename_group_error_title"),message:n("team_groups_edit_rename_group_error_message")};return o(e.dispatchGlobal,i,a,t.message),{success:!1,error:"group_renaming_failed"}};try{if(!await Ze.C.isGroupNameAvailable(a))return{success:!1,error:Vu}}catch(e){return i(e,"Group name availability check failed")}try{const{groupId:e,revision:n}=t;return await(0,Ce.J0)({groupId:e,revision:n,name:a}),{success:!0}}catch(e){return i(e,"Group renaming failed")}},groupName:t.name,lee:e.child(),userGroup:t});return(0,f.tZ)(cr,{header:l,children:(0,f.tZ)("div",{sx:Wu.CARD_CONTAINER,children:(0,f.tZ)(Mm,{lee:e.child(),userGroup:t,revokeMembers:(e,t,a)=>{try{Ze.C.revokeUserGroupMembers(t).then((({error:t})=>{t&&o(e,a,"Revoke member from group failed",t.message)}))}catch(t){o(e,a,"Revoke member from group failed",t.message)}}})})})}),zm),Rm);var Xm=a(158432);const Um=(0,Xm.SP)("edit",{},[]),jm={userGroups:{live:Ze.C.liveAdministrableUserGroups,query:Ze.C.getAdministrableUserGroups}},qm={strategies:jm,loadingComponent:(0,f.tZ)(Ss.Z,{containerStyle:{minHeight:240}})},Gm=(0,Om.$)((0,Lm.i)((({userGroups:e,lee:t})=>{const a=(0,r.useRef)(null),{translate:n}=(0,x.Z)(),{teamId:i}=(0,De.fV)(),{routes:o}=(0,er.Xo)(),{addAlertToQueue:_,reportTACError:u}=H(),[m,p]=(0,r.useState)(""),[g,h]=(0,r.useState)(!1),[y,S]=(0,r.useState)(!1),[v,C]=(0,r.useState)(""),[Z,T]=(0,r.useState)(e),D=(0,r.useRef)(!1),E=(0,s.k6)(),{displayStarterPaywall:k,displayInTrialBusinessPaywall:w,enforceStarterPaywall:N}=(e=>{const t=(0,se.C)(),a=(0,Ee.Y)(),n=(0,ae.o)("monetization_extension_group_sharing_repackage"),i=(0,Qs.S)(),s=(0,ie.lZ)(),r=!1===s.isLoading&&s.isTeamSoftDiscontinued;if(a.status!==ue.rq.Success||!n||r)return{displayStarterPaywall:!1,enforceStarterPaywall:!1,displayInTrialBusinessPaywall:!1};const o=i?.groupSharing.info?.limit,l=!!o;return{displayStarterPaywall:l,enforceStarterPaywall:l&&e.length>=o,displayInTrialBusinessPaywall:(0,R.NG)(a.data)&&!!t?.isFreeTrial}})(e);(0,r.useEffect)((()=>{(0,b.Nc)(d.PageView.TacGroupList)}),[]),(0,r.useEffect)((()=>{const t=[...e].sort(xm),a=v?t.filter((e=>e.name.toLocaleLowerCase().includes(v.trim().toLocaleLowerCase()))):t;T(a)}),[v,e]);const I=e=>{E.push({pathname:o.teamGroupRoutePath((0,Ju.FN)(e.groupId)),state:{[ym]:D.current}})},A=async e=>{var t;const a=null!=(t=e.target.value.trim())?t:"",n=""!==a&&await Ze.C.isGroupNameAvailable(a);p(a),h(n)},M=()=>{p("")},O=async()=>{if(!i)throw new Error("teamId missing when attempting to create group");try{await(0,Ce.wZ)(t.dispatchGlobal,{name:m,teamId:i}),a.current?.hidePopup(),p(""),e?.length?D.current&&(D.current=!1):(D.current=!0,setTimeout((()=>{S(!0)}),700))}catch(e){let t;try{t=JSON.parse(e.message)?.code}catch{t=`${e?.message}`.toUpperCase()}t!==F&&_({title:n("team_groups_list_create_group_error_title"),message:n("MISSING_PUBLIC_KEY"===t?"team_groups_list_create_group_missing_public_key_error_message":"team_groups_list_create_group_error_message")}),u(new Error(e.message))}};return(0,f.tZ)(cr,{header:(()=>{const e=!g&&""!==m;return(0,f.tZ)("div",{sx:Wu.HEADER,children:(0,f.BX)("div",{sx:{display:"flex",justifyContent:"space-between"},children:[(0,f.tZ)(l.X6,{as:"h1",color:"ds.text.neutral.standard",textStyle:"ds.title.section.large",children:n("team_groups_list_title")}),N?null:(0,f.tZ)(Hu.e,{ref:a,buttonLabel:n("team_groups_list_new_group_cta"),confirmButtonLabel:n("team_groups_list_new_group_creation_confirm_btn"),cancelButtonLabel:n("team_groups_list_new_group_creation_cancel_btn"),onConfirmButtonClick:O,onCancelButtonClick:M,confirmButtonDisabled:!g,children:(0,f.BX)("div",{style:{display:"flex",flexDirection:"column",gap:10,marginBottom:12},children:[(0,f.tZ)(l.nv,{as:"label",children:n("team_groups_list_new_group_creation_header")}),(0,f.tZ)(c.oil,{fullWidth:!0,onChange:A,defaultValue:m,type:"text",placeholder:n("team_groups_list_new_group_input_placeholder"),feedbackType:e?"error":void 0,feedbackText:e?n("team_groups_list_create_group_name_already_exists"):void 0,autoFocus:!0})]})})]})})})(),children:(()=>{const t=e?.length?Z.map(((e,t)=>e?(0,f.tZ)(_m,{index:t,isFirstTimeGroupCreation:D.current,hasNewGroupDelayPassed:y,children:(0,f.tZ)("div",{className:"groupItem",onClick:()=>I(e),onKeyDown:t=>{"Enter"===t.key&&I(e)},tabIndex:0,role:"button",title:e.name,sx:hm.GROUP_ITEM,children:(0,f.tZ)(l.X6,{as:"h2",textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name})})},e.groupId):null)):pm||(pm=(0,f.tZ)(cm,{}));return(0,f.BX)(f.HY,{children:[k?(0,f.tZ)(um,{enforcePaywall:N,sx:{marginBottom:"24px"}}):null,w?(0,f.tZ)(mm,{sx:{marginBottom:"24px"}}):null,(0,f.BX)("div",{sx:Wu.CARD_CONTAINER,children:[(0,f.tZ)(l.oi,{"aria-label":n(bm),placeholder:n(bm),type:"search",onChange:e=>{var t;return C(null!=(t=e.target.value)?t:"")},prefixIcon:gm||(gm=(0,f.tZ)(l.JO,{name:"ActionSearchOutlined"})),sx:{maxWidth:"365px",margin:0,padding:"0"}}),(0,f.tZ)(l.ke,{title:n("team_groups_list_info_box_title"),mood:"neutral"}),(0,f.tZ)("div",{sx:e?.length?hm.GROUP_ROW:void 0,children:t})]})]})})()})}),qm),jm),$m=(0,Xm.SP)("list",{},[]),Fm=fo(Gm,ge.$.GROUPS),Vm=fo(Pm,ge.$.GROUPS);function Hm(e){const{path:t,permission:a}=e;return(0,f.tZ)(s.GB,{exact:!0,path:[t,`${t}/:uuid`],component:$u,permission:a,children:(0,f.BX)(s.rs,{children:[(0,f.tZ)(s.Vy,{exact:!0,path:t,component:Fm,reducer:$m}),(0,f.tZ)(s.Vy,{path:`${t}/:uuid`,component:Vm,reducer:Um})]})})}var Wm=a(678128);const Ym={settingsPage:"settingsPage--k2Ztg5L3TZ",withoutHeader:"withoutHeader--K7wlLBUI31",settingsContainer:"settingsContainer--nyZHFHWont",settingsRow:"settingsRow--Mid_I3S6Qx",settingsLabelContainer:"settingsLabelContainer--rCMIUljV94",settingsGreyedLabel:"settingsGreyedLabel--L0ZP86y4UJ",textSettingRow:"textSettingRow--JwyTaO5qbq",selectSettingRow:"selectSettingRow--CRjY3loqBA",switchSettingRow:"switchSettingRow--THK1RoaDKQ",textFieldInputColumn:"textFieldInputColumn--G3ALnYhur_",helperLabelPanel:"helperLabelPanel--gGU7C6m_r2",infoBoxPanel:"infoBoxPanel--TMnBp9xS5d",textWithButtonSettingRow:"textWithButtonSettingRow--rWQRX8E5Np",versionContainer:"versionContainer--eWfpg9oE65",versionNumber:"versionNumber--uHC_eBvZbs",confirmationContent:"confirmationContent--C7lnmdM6Vl"};var Km;const Qm={SETTINGS_PANEL:{display:"inline-block",backgroundColor:"ds.container.agnostic.neutral.supershy",padding:"32px",marginBottom:"10px",flex:"1",borderRadius:"8px"}},Jm=({children:e,leadingContent:t,trailingContent:a,title:n,isLoading:i=!1})=>i?Km||(Km=(0,f.tZ)(Yo.a,{scopedToPage:!0})):(0,f.tZ)("div",{className:B()(Ym.settingsPage,{[Ym.withoutHeader]:!n}),children:(0,f.BX)("div",{className:Ym.settingsContainer,children:[n?(0,f.tZ)(l.X6,{as:"h1",textStyle:"ds.title.section.large",color:"ds.text.neutral.catchy",sx:{marginBottom:"32px"},children:n}):null,t,(0,f.tZ)("div",{sx:Qm.SETTINGS_PANEL,children:e}),a]})});var ep=a(723104),tp=a(599203);const ap=({data:e,targetUri:t,...a})=>{const n=(0,r.useRef)(null);return(0,f.BX)("form",{action:t,method:"post",ref:n,target:"_blank",rel:"noopener",children:[(()=>{const t=[];return Object.keys(e).forEach((a=>t.push((0,f.tZ)("input",{defaultValue:e[a],type:"hidden",name:a},String(65535*Math.random()).replace(/\./,""))))),(0,f.tZ)("div",{children:t})})(),(0,f.tZ)(n_.Z,{onClick:()=>n.current?.submit(),...a})]})},np={uploadCsvLabel:"uploadCsvLabel--sX4DnYKGlL",fileContainer:"fileContainer--M2SFpr0Pvl",file:"file--dJtQQDGzSk",fileIcon:"fileIcon--MKumqlXPl7",fileTitle:"fileTitle--d2cupH4GiA",fileTitleHeader:"fileTitleHeader--jqYDFR_MsK",fileTitleHint:"fileTitleHint--g2OBjT1L4G",fileTitleHintError:"fileTitleHintError--F4iw3QsNVb",fileTitleHintSuccess:"fileTitleHintSuccess--JPyWdw7GS8",fileProgressBackground:"fileProgressBackground--NEs2tyO8Pe",fileProgress:"fileProgress--cr0wc0wF3w",fileProgressAnimation:"fileProgressAnimation--aFpkqnmOMV",fileProgressComplete:"fileProgressComplete--y2f1JLicyr",fileButtons:"fileButtons--ofyh4FIc7u",fileError:"fileError--RHrDBIVtVA",fileErrorTitle:"fileErrorTitle--Jx5QASYwkS",fileErrorTitleIcon:"fileErrorTitleIcon--b8GGJ4i0UT",fileErrorContent:"fileErrorContent--G67_aw40u7"},ip="team_settings_duo_header_general";var sp=a(157457);const rp=()=>(0,_.k)(m.o,"getTeamPolicies");var op=a(874466);const lp=({content:e,header:t,index:a})=>(0,f.BX)(c.Ejs,{gap:"8px",sx:{flexFlow:"row",flexBasis:"25%"},children:[(0,f.tZ)(c.Ejs,{justifyContent:"center",alignItems:"center",sx:{width:36,height:36,borderRadius:36,flexShrink:0,backgroundColor:"ds.container.expressive.brand.quiet.idle",color:"ds.text.brand.standard"},children:a}),(0,f.BX)("section",{children:[(0,f.tZ)(l.X6,{as:"h4",textStyle:"ds.title.block.medium",sx:{marginBottom:"8px"},children:t}),(0,f.tZ)(l.nv,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.quiet",children:e})]})]}),cp=()=>{const{translate:e}=(0,x.Z)();return(0,f.BX)("div",{sx:{display:"flex",flexDirection:"row",marginBottom:40,gap:"24px"},children:[(0,f.tZ)(lp,{index:1,header:e("team_settings_master_password_policies_settings_stepper_step_request_title"),content:e("team_settings_master_password_policies_settings_stepper_step_request_subtitle")}),(0,f.tZ)(lp,{index:2,header:e("team_settings_master_password_policies_settings_stepper_step_approval_title"),content:e("team_settings_master_password_policies_settings_stepper_step_approval_subtitle")}),(0,f.tZ)(lp,{index:3,header:e("team_settings_master_password_policies_settings_stepper_step_recover_title"),content:e("team_settings_master_password_policies_settings_stepper_step_recover_subtitle")}),(0,f.tZ)(lp,{index:4,header:e("team_settings_master_password_policies_settings_stepper_step_login_title"),content:e("team_settings_master_password_policies_settings_stepper_step_login_subtitle")})]})};var dp;const _p=({header:e})=>(0,f.tZ)(l.X6,{as:"h2",textStyle:"ds.title.supporting.small",color:"ds.text.neutral.quiet",children:e.label},e.label),up=({onClick:e,content:t})=>(0,f.tZ)(l.zx,{mood:"brand",intensity:"quiet",onClick:e,sx:{maxWidth:"fit-content"},children:t}),mp="team_settings_saving_label",pp="team_settings_save_success_label",gp={SETTINGS_LABEL_MARGIN_TOP:{marginTop:"13px"},HELPER_LABEL_PANEL:{color:"ds.text.neutral.standard",marginTop:"13px",marginBottom:"8px",paddingRight:"70px",fontSize:"12px",fontWeight:"400"}},hp=({field:e,editSettings:t,checkForAuthenticationError:a})=>{const{translate:n}=(0,x.Z)(),{reportTACError:i}=H(),s=!!e.multiLine,o=e.deserializer?e.deserializer(e.value):e.value,l=(0,r.useCallback)((async n=>{var s;if(!t)return;if(e.validator){const t=e.serializer?e.serializer(n):n,a=e.validator(t);if(a)throw new Error(e.getErrorMessageForKey?.(a))}if(a?.())return;const r={};if(["disableAutoLoginDomains","teamDomain"].includes(null!=(s=e.feature)?s:"")){const t=e.value;if(t.length){const a=e.serializer?.(n),i=t.filter((e=>!a.some((t=>t===e)))),s=a.filter((e=>!t.some((t=>t===e))));e.feature&&(r[e.feature]={removed:i,added:s.map((e=>e.toLowerCase()))})}else e.serializer&&e.feature&&(r[e.feature]={added:e.serializer(n)})}else e.feature&&(r[e.feature]=e.serializer?e.serializer(n):n);if(Object.keys(r).length)try{await t(r)}catch(t){i(t,e.getErrorMessageForKey?.(t.message))}}),[a,t,e,i]);return(0,f.tZ)(Hn.X,{multiLine:s,defaultValue:o,ariaLabelledBy:e.feature,saveBtnLabel:n("team_settings_button_save_label"),savingBtnLabel:n(mp),editBtnLabel:n("team_settings_button_edit_label"),placeholder:e.hintText,inputStyle:e.inputStyle,hintStyle:e.hintStyle,successMessage:n(pp),onSave:l,textFieldClassName:Ym.textFieldInputColumn,isDisabled:e.isReadOnly},e.label)};var bp=a(259284);var yp,xp;const{accessibleValidatorGreen:Sp}=c.colors,fp=({value:e,isDisabled:t,onSelectElementClick:a,options:n,saveValueFunction:i,successMessage:s,savingMessage:o})=>{const[d,_]=(0,r.useState)(""),[u,m]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1);return(0,f.BX)("div",{className:"container--Wz5267l08y",children:[(0,f.tZ)("div",{className:"select--EypTcJ6Y5l",children:(0,f.tZ)(bp.m,{value:e,disabled:t||u,onChangeExtended:(e,t,a)=>{m(!0),i(a).then((()=>{m(!1),g(!0),_(""),setTimeout((()=>{g(!1)}),1e3)})).catch((e=>{m(!1),g(!1);const t=(0,Rs.i)(e);_(t)}))},onClick:a,errorText:d,successText:p?s:u?o:"",style:{marginTop:"-1.5em",width:320},children:n.map((e=>(0,f.tZ)(bp.t,{value:e.value,primaryText:e.label,disabled:e.disabled},e.value)))})}),u||p?(0,f.tZ)("div",{className:"feedback--XqG4rKApan",children:u?yp||(yp=(0,f.tZ)(l.ZX,{mood:"positive",size:18})):xp||(xp=(0,f.tZ)(c.rE2,{size:20,color:Sp}))}):null]})},vp=({field:e,checkForAuthenticationError:t,editSettings:a})=>{const{translate:n}=(0,x.Z)(),{reportTACError:i}=H(),s=(0,r.useCallback)((async n=>{if(!a||t?.()||!e.feature)return;const s={};s[e.feature]="unset"===n?null:e.serializer?e.serializer(n):n;try{await a(s)}catch(t){const a=t.data?.content||{},n=e.getErrorMessageForKey?.(a.error);i(t,n)}}),[t,a,e,i]);return(0,f.tZ)(fp,{value:e.value,saveValueFunction:s,successMessage:n(pp),savingMessage:n(mp),options:e.options,isDisabled:e.isReadOnly},e.label)},Cp=({field:e,editSettings:t,checkForAuthenticationError:a,policies:n})=>{var i;const{translate:s}=(0,x.Z)(),{reportTACError:o}=H(),[c,d]=(0,r.useState)(!1),[_,u]=(0,r.useState)(""),[m,p]=(0,r.useState)(!1),g=null!=(i=e.value)&&i?e.confirmDisable:e.confirmEnable,h=e.value?e.confirmDisable:e.confirmEnable,b=(0,r.useCallback)((async()=>{if(!t||a?.())return;const n={};if(e.feature){const t=void 0!==e.value&&!e.value;n[e.feature]=e.serializer?e.serializer(t):t,t||e.constraintsFromOtherFields?.requiredFor?.forEach((e=>e.reset?.(n)))}try{await t(n)}catch(t){const a=t.data?.content||429===t.code&&{error:"too_many_requests"}||"not_authorized"===t.message&&{error:"not_authorized"}||{},n=e.getErrorMessageForKey?.(a.error);o(t,n)}}),[a,t,e,o]),y=(0,r.useCallback)((()=>{d(!1),u(""),p(!1)}),[]),S=(0,r.useCallback)((()=>(d(!0),u(""),p(!1),Promise.resolve())),[]),v=(0,r.useCallback)((async()=>{const e=await(0,Ce.RR)({masterPassword:null!=_?_:""});return p(!e),e?(y(),b()):Promise.resolve()}),[b,y,_]),C=(0,r.useCallback)((e=>{u(e.target.value),p(!1)}),[]),Z=(0,r.useCallback)((e=>{"Enter"===e.key&&_&&v()}),[v,_]),T=(0,r.useCallback)((async()=>{e.customSwitchHandler?await e.customSwitchHandler():g?await S():await b()}),[g,e,b,S]);return(0,f.BX)(f.HY,{children:[(0,f.tZ)(ep.Z,{isLoading:e.isLoading,genericErrorMessage:s("_common_generic_error"),ariaLabelledBy:e.feature,value:e.value,isReadOnly:e.isReadOnly,isDisabled:e.constraintsFromOtherFields?.disabledWhen?.some((e=>n&&e?.condition?.(n))),disabledFeedbackMessage:e.constraintsFromOtherFields?.disabledWhen?.find((e=>n&&e?.condition?.(n)&&e?.warningMessage))?.warningMessage,saveValueFunction:T,successMessage:s("team_settings_save_success_label"),savingMessage:s("team_settings_saving_label")},e.label),c&&h?(0,f.BX)(sp.Z,{isOpen:!0,title:h.title,labelDismiss:h.dismiss,labelConfirm:h.confirm,onDismiss:y,onConfirm:v,onChange:C,isMasterPasswordInvalid:m,ctaIsDisabled:!_,onKeyDown:Z,children:[(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",children:h.helper1}),(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",children:h.helper2}),(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",children:h.label})]}):null]})},Zp=e=>{const{field:t,...a}=e;switch(t.type){case"text":return(0,f.tZ)(hp,{field:t,...a});case"select":return(0,f.tZ)(vp,{field:t,...a});case"switch":return(0,f.tZ)(Cp,{...e});case"cta":return(0,f.tZ)(up,{onClick:t.ctaAction,content:t.ctaLabel});default:return null}},Tp=e=>{var t;const a={"> *":{flex:"1"},display:"flex",gap:"8px",alignItems:"flex-start",flexDirection:"row",marginBottom:"32px"},{field:n}=e;switch(n.type){case"text":a.marginTop="7px";break;case"select":a.marginTop="4px";break;case"switch":case"cta":a.marginTop="20px"}return(0,f.BX)("div",{sx:a,children:[(0,f.BX)("div",{sx:{maxWidth:"50%"},children:[(0,f.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,f.tZ)(l.X6,{as:"h3",textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",sx:"select"===n.type||"text"===n.type?gp.SETTINGS_LABEL_MARGIN_TOP:{},id:n.feature,children:n.label.split("//").map(((e,t)=>t%2?(0,f.tZ)("span",{sx:{color:"ds.text.oddity.disabled",fontWeight:"300"},children:e},e):e))}),n.badgeLabel?(0,f.tZ)(l.Ct,{label:n.badgeLabel,mood:"brand",iconName:n.badgeIconName,layout:"iconLeading"}):null]}),n.helperLabel?(0,f.tZ)("div",{id:"helper-label-panel",sx:gp.HELPER_LABEL_PANEL,children:n.helperLabel}):null,n.infoBox?(0,f.tZ)("div",{sx:{marginTop:"20px"},children:(0,f.tZ)(l.ke,{size:"large",title:n.infoBox.title,description:n.infoBox.description,mood:null!=(t=n.infoBox.mood)?t:"neutral"})}):null]}),(0,f.tZ)(Zp,{...e})]},n.feature)},Dp="_common_generic_error",Ep=()=>{const{translate:e}=(0,x.Z)(),{inviteLinkDataForAdmin:t,getInviteLinkDataForAdmin:a,inviteLinkDataLoading:n,createInviteLink:i,toggleInviteLink:s}=(0,Ld.h)(),o=Tn(),l=(0,Gd.U)();if((0,r.useEffect)((()=>{a()}),[a]),!o||null===l)return null;const d={type:"header",label:e("team_settings_header_user_access")},_={type:"switch",isLoading:n,label:e("team_settings_enable_invite_link_label"),isReadOnly:l,feature:"inviteLink",helperLabel:(0,f.BX)(f.HY,{children:[e("team_settings_disable_enable_invite_link_helper"),!1===t?.disabled?(0,f.BX)(c.Ejs,{flexDirection:"row",flexWrap:"nowrap",alignItems:"center",gap:"8px",sx:{marginTop:"12px"},children:[(0,f.tZ)(pu.q,{mood:"neutral",intensity:"supershy",iconProps:{color:"ds.text.neutral.standard"},copyValue:(0,te.cI)(t.teamKey)}),(0,f.tZ)(c.nvN,{bold:!0,size:"x-small",sx:{textDecoration:"underline"},children:(0,te.cI)(t.teamKey)})]}):null]}),value:!1===t?.disabled,customSwitchHandler:async()=>{const n=t?.teamKey;if(n){if(!await s(!t?.disabled))throw Error(e(Dp))}else if(!await i(o))throw Error(e(Dp));if(!await a())throw Error(e(Dp))}};return(0,f.BX)(f.HY,{children:[(0,f.tZ)(_p,{header:d}),(0,f.tZ)(Tp,{field:_})]})},kp=({settingRow:e,editSettings:t,checkForAuthenticationError:a})=>{const{reportTACError:n}=H();return(0,f.tZ)(l.ke,{sx:{margin:"16px 0"},title:e.label,description:e.description,icon:e.icon,size:"large",mood:e.mood,actions:[e.actions?.secondary?(0,f.tZ)(l.zx,{mood:e.mood,intensity:"quiet",icon:"ActionOpenExternalLinkOutlined",layout:"iconLeading",onClick:e.actions?.secondary.onClick,children:e.actions?.secondary.label},e.actions?.secondary.label):null,e.actions?.primary?(0,f.tZ)(l.zx,{mood:e.mood,intensity:"catchy",onClick:async()=>{if(t&&e.featuresToDisable&&!a?.())try{await t(e.featuresToDisable)}catch(e){n(e)}},children:e.actions?.primary.label},e.actions?.primary.label):null]})},wp=({textWithButton:e})=>(0,f.BX)("div",{sx:{display:"flex",alignItems:"flex-start",flexDirection:"row",marginBottom:"32px",marginTop:"7px"},children:[(0,f.BX)("div",{children:[(0,f.tZ)(l.X6,{as:"h3",textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",sx:gp.SETTINGS_LABEL_MARGIN_TOP,children:e.label.split("//").map(((e,t)=>t%2?(0,f.tZ)("span",{sx:{color:"ds.text.oddity.disabled",fontWeight:"300"},children:e},e):e))}),e.helperLabel?(0,f.tZ)("div",{id:"helper-label-panel",sx:gp.HELPER_LABEL_PANEL,children:e.helperLabel}):null]}),(0,f.tZ)("div",{children:(0,f.tZ)(tp.Z,{label:e.buttonLabel,onClick:e?.onClick})})]},e.label),Np=({settingRow:e,...t})=>{switch(e.type){case"header":return(0,f.tZ)(_p,{header:e});case"textwithbutton":return(0,f.tZ)(wp,{textWithButton:e});case"quickDisable":return(0,f.tZ)(kp,{settingRow:e});default:return(0,f.tZ)(Tp,{field:e,...t})}},Ip=({className:e})=>{const{translate:t}=(0,x.Z)(),a=(0,ae.o)("monetization_extension_policies_revert_notice"),n=(0,q.u)(Le.t),i=(0,_.k)(Le.t,"HasSeenStarterRepackagePolicyInfobox");return!a||i.status!==ue.rq.Success||i.data?null:(0,f.tZ)(l.ke,{title:t("team_settings_starter_repackage_policy_change_title"),description:t("team_settings_starter_repackage_policy_change_description"),size:"large",actions:[(0,f.tZ)(l.zx,{onClick:()=>{n.markStarterRepackagePolicyInfoboxSeen()},children:t("team_settings_starter_repackage_policy_change_cta")},"dismiss")],sx:{whiteSpace:"break-spaces"},className:e})},Ap=({className:e})=>{const{translate:t}=(0,x.Z)(),a=(0,z.B)(),n=`${te.ub}?plan=business&subCode=${a?.subscriptionCode}`;return(0,f.tZ)(l.ke,{className:e,title:t("team_settings_in_trial_paywall_repackage_policies_title"),size:"large",actions:[(0,f.tZ)(l.zx,{onClick:()=>{(0,b.Kz)(new d.UserClickEvent({button:d.Button.UpgradeBusinessTier,clickOrigin:d.ClickOrigin.BannerTacSettingsPoliciesPaywall}))},as:"a",href:n,rel:"noreferrer",target:"_blank",children:t("team_settings_in_trial_paywall_repackage_policies_cta")},"cta")]})},Mp={CONTAINER:{display:"flex",flexDirection:"column",gap:"24px",padding:"24px",backgroundColor:"ds.container.agnostic.neutral.supershy",border:"1px solid ds.border.neutral.quiet.idle",borderRadius:"8px"},HEADER:{display:"flex",flexDirection:"column",gap:"8px"},FEATURES_LIST:{display:"grid",gap:"16px",gridTemplateColumns:"1fr 1fr"}},Op=()=>{const{translate:e}=(0,x.Z)(),{routes:t}=(0,s.Xo)(),a=`${t.teamAccountChangePlanRoutePath}?plan=business`;return(0,f.BX)("div",{sx:Mp.CONTAINER,children:[(0,f.BX)("div",{sx:Mp.HEADER,children:[(0,f.tZ)(l.X6,{as:"h5",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:e("team_settings_starter_repackage_upgrade_tile_title")}),(0,f.BX)(l.nv,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.quiet",children:[e("team_settings_starter_repackage_upgrade_tile_subtitle")," "]})]}),(0,f.BX)("div",{sx:Mp.FEATURES_LIST,children:[(0,f.tZ)(jn,{iconName:"SettingsOutlined",children:e("team_settings_starter_repackage_upgrade_tile_feature_advanced_policies")}),(0,f.tZ)(jn,{iconName:"GroupOutlined",children:e("team_settings_starter_repackage_upgrade_tile_feature_unlimited_seats")}),(0,f.tZ)(jn,{iconName:"ToolsOutlined",children:e("team_settings_starter_repackage_upgrade_tile_feature_sso")}),(0,f.tZ)(jn,{iconName:"SharedOutlined",children:e("team_settings_starter_repackage_upgrade_tile_feature_scim")})]}),(0,f.tZ)(l.zx,{fullsize:!0,mood:"brand",intensity:"catchy",layout:"iconLeading",icon:"PremiumOutlined",onClick:()=>{(0,b.Kz)(new d.UserClickEvent({button:d.Button.UpgradeBusinessTier,clickOrigin:d.ClickOrigin.FeatureLimitationsBlock}))},as:s.rU,to:a,children:e("team_settings_starter_repackage_upgrade_tile_cta")})]})};var Lp,Bp;const Rp={CONTAINER:{display:"flex",flexDirection:"column",gap:"24px",marginBottom:"24px"}},zp=()=>{const{hasStarterPaywall:e,hasTrialBusinessPaywall:t}=we();return e?(0,f.BX)("div",{sx:Rp.CONTAINER,children:[Lp||(Lp=(0,f.tZ)(Ip,{})),Bp||(Bp=(0,f.tZ)(Op,{}))]}):t?(0,f.tZ)(Ap,{sx:{marginBottom:"24px"}}):null},Pp="team_settings_space_management_infobox_learn_more_button",Xp="team_settings_too_many_requests",Up="team_settings_enable_space_restrictions_save_error_msg_generic_error",jp="team_settings_available_in_business_plan",qp="team_settings_too_many_requests",Gp=(e,t,a,n,i,r,o)=>{const l=[],c=r("sharingDisabled");return l.push({type:"header",label:e("team_setting_header_sharing")}),l.push(((e,t,a,n,i)=>({type:"switch",isReadOnly:t||n,label:e("team_settings_allow_sharing"),helperLabel:e("team_settings_allow_sharing_helper"),value:a.allowSharing,feature:"allowSharing",badgeIconName:n||i?"PremiumOutlined":void 0,badgeLabel:n||i?e(jp):void 0,getErrorMessageForKey:t=>e("too_many_requests"===t?qp:"team_settings_allow_sharing_save_error_msg_generic_error"),constraintsFromOtherFields:{requiredFor:[{feature:"restrictSharingToTeam",reset:e=>e.restrictSharingToTeam=!1}]}}))(e,i,a,c,o)),l.push(((e,t,a,n,i)=>{const{accountSubscriptionCode:r,shouldShowBuyPaywall:o,shouldShowUpgradePaywall:l}=n,c=`${te.ub}?plan=business&subCode=${r}&utm_source=button:buy_dashlane+click_origin:restrict_sharing_to_team_activation_setting+origin_page:tac/settings/policies+origin_component:main_app`,_=()=>(0,b.Kz)(new d.UserClickEvent({button:d.Button.SeeB2bPlanTiers,clickOrigin:d.ClickOrigin.TacSettingsPolicies}));let u,m;return o?(u=()=>{_(),(0,X.Yo)(c)},m=e("team_settings_buy_dashlane_cta")):l&&(u=()=>{_(),(0,s.uX)(`${t.teamAccountChangePlanRoutePath}`)},m=e("team_settings_see_plans_cta")),{type:o||l?"cta":"switch",badgeIconName:o||l?"PremiumOutlined":void 0,badgeLabel:o||l?e(jp):void 0,ctaAction:u,ctaLabel:m,isReadOnly:i,label:e("team_settings_restrict_sharing_to_team_title"),helperLabel:e("team_settings_restrict_sharing_to_team_description"),value:a.restrictSharingToTeam,feature:"restrictSharingToTeam",getErrorMessageForKey:t=>e("too_many_requests"===t?qp:"team_settings_restrict_sharing_to_team_generic_error"),constraintsFromOtherFields:{disabledWhen:[{feature:"allowSharing",condition:e=>!e.allowSharing,warningMessage:e("team_settings_restrict_sharing_to_team_enable_sharing_first")}]}}})(e,t,a,n,i)),l};var $p=a(164718);const Fp="team_settings_available_in_business_plan",Vp="team_settings_too_many_requests",Hp="team_settings_lock_on_exit_save_error_msg_generic_error",Wp=(e,t,a,n,i,r,o,l)=>{const c=[],_=o("forceAutomaticLogout"),u=o("lockOnExit"),m=o("collectSensitiveDataAuditLogsEnabled"),p=o("secureWifiEnabled");return c.push({type:"header",label:e("team_settings_header_security")}),c.push(((e,t,a)=>({type:"select",label:e("team_settings_force_crypto_payload_label"),isReadOnly:a,helperLabel:e("team_settings_force_crypto_payload_helper"),value:t.cryptoForcedPayload,feature:"cryptoForcedPayload",options:[{label:e("team_settings_force_crypto_payload_option_disabled"),value:""},{label:e("team_settings_force_crypto_payload_option_argon2"),value:"$1$argon2d$16$3$32768$2$aes256$cbchmac$16$"},{label:e("team_settings_force_crypto_payload_option_pbkdf2_advanced"),value:"$1$pbkdf2$16$200000$sha256$aes256$cbchmac$16$"},{label:e("team_settings_force_crypto_payload_option_pbkdf2_standard"),value:"KWC3",disabled:!0}],getErrorMessageForKey:t=>e("too_many_requests"===t?Vp:"team_settings_force_crypto_payload_save_error_msg_generic_error")}))(e,t,i)),c.push(((e,t,a)=>({type:"switch",isReadOnly:a,label:e("team_settings_enforce_2fa"),helperLabel:e("team_settings_enforce_2fa_helper"),infoBox:{title:e("team_settings_generate_recovery_codes_infobox_title"),description:e.markup("team_settings_generate_recovery_codes_infobox_description_markup")},value:t.enforce2FA,feature:"enforce2FA",confirmEnable:{title:e("team_settings_enforce_2fa_confirm_enable_title"),label:e("team_settings_enforce_2fa_confirm_enable_helper2"),dismiss:e("team_settings_enforce_2fa_confirm_enable_dismiss"),confirm:e("team_settings_enforce_2fa_confirm_enable_confirm")},getErrorMessageForKey:t=>e("too_many_requests"===t?Vp:"team_settings_enforce_2fa_save_error_msg_generic_error")}))(e,t,i)),r||c.push(((e,t,a)=>({type:"switch",label:e("team_settings_allow_export"),helperLabel:e("team_settings_allow_export_helper"),infoBox:a?{title:e("team_settings_allow_export_infobox_title"),description:e("team_settings_allow_export_infobox_subtitle"),mood:"brand"}:void 0,value:t.vaultExportEnabled,feature:"vaultExportEnabled",getErrorMessageForKey:t=>e("too_many_requests"===t?Vp:"_common_generic_error")}))(e,t,i)),c.push(((e,t,a,n,i)=>({type:"select",isReadOnly:a||n,label:e("team_settings_force_auto_logout_after"),helperLabel:e("team_settings_force_auto_logout_after_helper"),badgeIconName:n||i?"PremiumOutlined":void 0,badgeLabel:n||i?e(Fp):void 0,value:t.forceAutomaticLogout,feature:"forceAutomaticLogout",options:["unset","15","30","60"].map((t=>({label:e("team_settings_force_auto_logout_after_"+t),value:t}))),getErrorMessageForKey:t=>e("too_many_requests"===t?Vp:"team_settings_force_auto_logout_after_save_error_msg_generic_error")}))(e,t,i,_,l)),c.push(((e,t,a,n,i)=>({type:"switch",isReadOnly:a||n,label:e("team_settings_lock_on_exit"),helperLabel:e("team_settings_lock_on_exit_helper"),value:t.lockOnExit,feature:"lockOnExit",badgeIconName:n||i?"PremiumOutlined":void 0,badgeLabel:n||i?e(Fp):void 0,getErrorMessageForKey:t=>e("too_many_requests"===t?Vp:Hp)}))(e,t,i,u,l)),c.push(((e,t,a,n,i,s)=>({type:"switch",isReadOnly:a||i,label:e("team_settings_collect_sensitive_data_audit_logs_enabled"),helperLabel:e(n?"team_settings_collect_sensitive_data_audit_logs_enabled_helper":"team_settings_collect_sensitive_data_audit_logs_enabled_helper_without_space"),badgeIconName:i||s?"PremiumOutlined":void 0,badgeLabel:i||s?e(Fp):void 0,value:t.collectSensitiveDataAuditLogsEnabled,feature:"collectSensitiveDataAuditLogsEnabled",getErrorMessageForKey:t=>e("too_many_requests"===t?Vp:Hp)}))(e,t,i,r,m,l)),c.push(((e,t,a,n,i,r)=>{const{shouldShowBuyOrUpgradePaywall:o,isTrialOrGracePeriod:l,accountSubscriptionCode:c,planType:_}=e,u=!i&&o&&l,m=!i&&o&&"starter"===_,p=`${te.ub}?plan=${_===g.lD.Team?"team":"business"}&subCode=${c}&utm_source=button:buy_dashlane+click_origin:vpn_feature_activation_setting+origin_page:tac/settings/policies+origin_component:main_app`;let h,y,x;return u?(h=t("team_settings_available_in_paid_subscription_badge"),y=()=>{(0,b.Kz)(new d.UserClickEvent({button:d.Button.BuyDashlane,clickOrigin:d.ClickOrigin.VpnFeatureActivationSetting})),(0,X.Yo)(p)},x=t("team_settings_buy_dashlane_cta")):m?(h=t("team_settings_upgrade_badge"),y=()=>{(0,b.Kz)(new d.UserClickEvent({button:d.Button.SeePlan,clickOrigin:d.ClickOrigin.VpnFeatureActivationSetting})),(0,s.uX)(`${n.teamAccountChangePlanRoutePath}`)},x=t("team_settings_see_plans_cta")):(i||r)&&(h=t("team_settings_available_in_business_plan")),{type:m||u?"cta":"switch",badgeIconName:m||u||i||r?"PremiumOutlined":void 0,badgeLabel:h,ctaAction:y,ctaLabel:x,isReadOnly:i,label:t("team_settings_vpn"),helperLabel:t("team_settings_vpn_helper"),value:a.enableVPN,feature:"enableVPN",getErrorMessageForKey:e=>{switch(e){case"too_many_requests":return t("team_settings_too_many_requests");case"not_authorized":return t("team_settings_vpn_disabled_for_free_trial");default:return t("team_settings_vpn_save_error_msg_generic_error")}}}})(n,e,t,a,p,l)),c},Yp=(e,t,a,n,i,s,r,o,l)=>{const c=[],d=s.enablePersonalSpace;return d&&c.push(...((e,t,a)=>{const n=[],i=a&&(t.enableForcedDomains||t.enableRemoveForcedContent),s=a&&!t.enableForcedDomains&&!t.enableRemoveForcedContent;return n.push({type:"header",label:e("team_settings_header_team_space_options")}),i&&n.push((e=>({type:"quickDisable",label:e("team_settings_space_management_click_to_disable_infobox_title"),description:e("team_settings_space_management_click_to_disable_infobox_subtitle"),mood:"brand",featuresToDisable:{enableForcedDomains:!1,enableRemoveForcedContent:!1},actions:{primary:{label:e("team_settings_space_management_infobox_disable_button")},secondary:{label:e(Pp),onClick:()=>(0,X.Yo)(te.Rf)}}}))(e)),s&&n.push((e=>({type:"quickDisable",label:e("team_settings_space_management_disabled_infobox_title"),description:e("team_settings_space_management_disabled_infobox_subtitle"),icon:"FeedbackSuccessOutlined",mood:"positive",actions:{secondary:{label:e(Pp),onClick:()=>(0,X.Yo)(te.Rf)}}}))(e)),n.push(((e,t,a)=>({type:"text",multiLine:!0,isReadOnly:a,label:e("team_settings_team_domain"),helperLabel:e("team_settings_team_domain_helper"),hintText:e("team_settings_team_domain_placeholder"),feature:"teamDomain",value:t.teamDomain,serializer:e=>e?e.split(";").map((e=>e.trim().toLowerCase())).filter((e=>Boolean(e.length))):[],deserializer:e=>e?.length?e.join(";"):"",validator:e=>e.some((e=>!hc().isFQDN(e)))?"wrong_url":e.some((e=>e.length>255))?"wrong_size":null,getErrorMessageForKey:t=>{switch(t){case"wrong_size":return e("team_settings_team_domain_save_error_msg_wrong_size",{lengthLimit:255});case"wrong_url":return e("team_settings_team_domain_save_error_msg_wrong_url");case"too_many_requests":return e(Xp);default:return e("team_settings_team_domain_save_error_msg_generic_error")}}}))(e,t,s)),n.push(((e,t,a)=>({type:"switch",isReadOnly:a,label:e("team_settings_enable_space_restrictions"),helperLabel:e("team_settings_enable_space_restrictions_helper"),value:t.enableForcedDomains,feature:"enableForcedDomains",getErrorMessageForKey:t=>e("too_many_requests"===t?Xp:Up),constraintsFromOtherFields:{disabledWhen:[{feature:"teamDomain",condition:e=>!e.teamDomain?.length,warningMessage:e("team_settings_enable_space_restrictions_define_team_domain_first")}],requiredFor:[{feature:"enableRemoveForcedContent",reset:e=>e.enableRemoveForcedContent=!1}]}}))(e,t,s)),n.push(((e,t,a)=>({type:"switch",label:e("team_settings_remove_forced_content"),isReadOnly:a,helperLabel:e("team_settings_remove_forced_content_helper"),value:t.enableRemoveForcedContent,feature:"enableRemoveForcedContent",getErrorMessageForKey:t=>e("too_many_requests"===t?Xp:Up),constraintsFromOtherFields:{disabledWhen:[{feature:"teamDomain",condition:e=>!e.teamDomain?.length,warningMessage:e("team_settings_remove_forced_content_define_team_domain_first")},{feature:"enableForcedDomains",condition:e=>!e.enableForcedDomains,warningMessage:e("team_settings_remove_forced_content_enable_forced_domains_first")}]}}))(e,t,s)),n})(e,s,i)),c.push(...Wp(e,s,r,t,n,d,o,l)),c.push(...Gp(e,r,s,a,n,o,l)),c.push(...((e,t,a,n,i)=>{const s=[],r=n("autologinDomainDisabledArray");return s.push({type:"header",label:e("team_settings_header_browser_settings")}),s.push({type:"text",isReadOnly:a||r,multiLine:!0,label:e("team_settings_disable_auto_login_domains"),helperLabel:e("team_settings_disable_auto_login_domains_helper"),hintText:e("team_settings_disable_auto_login_domains_placeholder"),value:t.disableAutoLoginDomains,badgeIconName:r||i?"PremiumOutlined":void 0,badgeLabel:r||i?e("team_settings_available_in_business_plan"):void 0,serializer:e=>(e.length?e.split(";"):[]).filter((e=>!!e.length)).map((e=>e.trim())),deserializer:e=>e?.length?e.join(";"):"",validator:e=>e.some((e=>!new $p.Y(e).isUrlValid()))?"wrong_url":e.some((e=>e.length>255))?"wrong_size":null,feature:"disableAutoLoginDomains",getErrorMessageForKey:t=>{switch(t){case"wrong_size":return e("team_settings_disable_auto_login_domains_save_error_msg_wrong_size",{lengthLimit:255});case"wrong_url":return e("team_settings_disable_auto_login_domains_save_error_msg_wrong_url");case"too_many_requests":return e("team_settings_too_many_requests");default:return e("team_settings_disable_auto_login_domains_save_error_msg_generic_error")}}}),s})(e,s,n,o,l)),c};var Kp,Qp,Jp,eg=a(460384);const tg=new Map([[g.lD.Business,d.B2bPlanTier.Business],[g.lD.Team,d.B2bPlanTier.Team],[g.lD.Legacy,d.B2bPlanTier.Legacy],[g.lD.Enterprise,d.B2bPlanTier.Business]]),ag=({currentBillingPlanTier:e,emailDomainError:t,emailDomainSubmittedCount:a,emailDomainValidatedCount:n,encryptionServicePlatformSelected:i,idpValidationResponse:s,ssoSetupStep:r,ssoSolutionChosen:o,testSsoResponse:l})=>{(0,b.Kz)(new d.UserSetupSsoEvent({currentBillingPlanTier:e,emailDomainError:null!=t?t:d.EmailDomainError.OtherError,emailDomainSubmittedCount:null!=a?a:0,emailDomainValidatedCount:null!=n?n:0,encryptionServicePlatformSelected:null!=i?i:d.EncryptionServicePlatformSelected.AmazonWebServices,idpValidationResponse:null!=s?s:d.IdpValidationResponse.Success,ssoSetupStep:r,ssoSolutionChosen:o,testSsoResponse:null!=l?l:d.TestSsoResponse.NotTested}))},ng=e=>e&&tg.get(e)||d.B2bPlanTier.Business,ig=e=>{ag({...e,currentBillingPlanTier:ng(e.currentBillingPlanTier),ssoSolutionChosen:d.SsoSolutionChosen.SelfHostedSso})},sg=e=>{ag({...e,currentBillingPlanTier:ng(e.currentBillingPlanTier),ssoSolutionChosen:d.SsoSolutionChosen.NitroSso})};var rg=a(533258),og=a(605961),lg=a.n(og),cg=a(324047);const dg=e=>{const{markdownValue:t="",linkParams:a={},linkProps:n}=e,{linkTarget:i,onLinkClicked:s=(()=>{})}=a,r=t.includes("\n");return(0,f.tZ)(lg(),{source:t,allowedTypes:["Text","Link","Emph","Strong","Paragraph","Softbreak","List","Item","Code"],containerTagName:"span",softBreak:"br",renderers:{Paragraph:r?"p":"span",Link:function(e){return(0,f.tZ)(cg.Z,{...n,"aria-label":t,href:e.href,target:i,onClick:()=>{s(e.href)},children:e.children})}}})},_g=({onClose:e,onConfirm:t,titleText:a,bodyText:n})=>{const{translate:i}=(0,x.Z)(),[s,o]=(0,r.useState)(!1),[d,_]=(0,r.useState)(null),u=i("_common_action_cancel");return(0,f.BX)(c.VqE,{isOpen:!0,disableOutsideClickClose:!0,disableScrolling:!0,closeIconName:u,onClose:e,children:[(0,f.tZ)(c.$N8,{title:a}),(0,f.tZ)(c.a7O,{children:(0,f.tZ)(c.nvN,{color:d?"ds.text.danger.standard":"ds.text.neutral.standard",children:null!=d?d:n})}),(0,f.BX)(c.cNS,{children:[(0,f.tZ)(l.zx,{sx:{mr:"12px"},mood:"neutral",intensity:"quiet",onClick:()=>{e()},disabled:s,children:u}),(0,f.tZ)(l.zx,{mood:"brand",intensity:"catchy",onClick:async()=>{o(!0),_(null);try{await t(),o(!1),e()}catch(e){_(e instanceof Error?e.message:i("_common_generic_error")),o(!1)}},isLoading:s,disabled:s,children:"Yes, clear setup"})]})]})};let ug=function(e){return e.ChooseSso="ChooseSso",e.SelfHosted="SelfHosted",e.Nitro="Nitro",e}({});const mg=({pageContext:e,onSetupClear:t})=>{const{routes:a}=(0,s.Xo)(),n=(0,z.B)(),{translate:i}=(0,x.Z)(),[o,c]=(0,r.useState)(!1),{teamId:u}=(0,De.fV)(),{clearSettings:m,initSsoProvisioning:p}=(0,q.u)(eg.y),{status:g,data:h}=(0,_.k)(eg.y,"ssoProvisioning");if(g!==ue.rq.Success||h.enableSSO.ssoEnabled)return null;const{global:{inferredSsoState:y,ssoCapable:S}}=h;if(!1===S)return(0,f.tZ)(l.ke,{mood:"neutral",size:"large",title:i("team_settings_es_sso_plan_error_header"),description:i("team_settings_es_sso_plan_missing_body"),actions:n?.premiumStatus?[(0,R.wt)(n.premiumStatus)?(0,f.tZ)(l.zx,{onClick:()=>{(0,b.Kz)(new d.UserClickEvent({button:d.Button.BuyDashlane,clickOrigin:d.ClickOrigin.SsoPaywallBanner})),(0,X.Yo)(`${te.ub}?plan=business&subCode=${n?.subscriptionCode}`)},role:"link",children:i("team_account_teamplan_plan_buy_dashlane")},"buy"):(0,f.tZ)(s.rU,{to:`${a.teamAccountChangePlanRoutePath}?plan=business`,children:(0,f.tZ)(l.zx,{children:i("team_settings_es_sso_plan_missing_button")})},"upgrade")]:[]});const v=[rg.s5.enum.NitroIncomplete,rg.s5.enum.SelfHostedIncomplete];if(e!==ug.ChooseSso&&v.includes(y)){let a=null,n=async()=>{await(t?.()),ig({ssoSetupStep:d.SsoSetupStep.ClearSsoSettings})};e===ug.SelfHosted&&y===rg.s5.enum.NitroIncomplete?(a={title:"To use self-hosted SSO, clear Confidential SSO setup",description:"If you want to use self-hosted SSO, which supports SCIM provisioning, select **Clear setup** to erase your progress in Dashlane. Make sure to also delete your progress in your IdP.",cta:"Clear setup"},n=async()=>{await m(),await p({teamId:`${u}`}),await(t?.())}):e===ug.Nitro&&y===rg.s5.enum.SelfHostedIncomplete&&(a={title:"To use Confidential SSO, clear self-hosted SSO setup",description:"If you want to use Confidential SSO, select **Clear setup** to erase your progress in Dashlane. Make sure to also delete your progress in your IdP.",cta:"Clear setup"},n=async()=>{await Ze.C.clearSelfHostedESSettings(),await p({teamId:`${u}`}),await(t?.())});const i=[rg.s5.enum.NitroComplete,rg.s5.enum.SelfHostedComplete];if(a&&!i.includes(y))return(0,f.BX)(f.HY,{children:[o?(0,f.tZ)(_g,{onClose:()=>c(!1),onConfirm:n,titleText:"Are you sure?",bodyText:"This action can’t be undone."}):null,(0,f.tZ)(l.ke,{mood:"neutral",size:"large",title:a.title,description:(0,f.tZ)(dg,{markdownValue:a.description}),actions:[(0,f.tZ)(l.zx,{onClick:()=>c(!0),children:a.cta},"clear")]})]})}return(0,f.tZ)(l.ke,{mood:"warning",size:"large",title:"Switching between SSO options isn't available right now",description:"We're in the process of adding new capabilities to Confidential SSO. During this period, you can't switch between the two options. Before turning on your chosen SSO option, please make sure it meets your organization's needs."})};var pg,gg=a(165911);const hg=[{li:"In a separate window, log in to your IdP account."},{li:"Find the section to create a new SSO application.",ol:[{li:"Add the ID and URLs provided here to your application."},{li:"Add members who will log in to Dashlane with SSO to your application."}]}],bg=({content:e})=>(0,f.tZ)("ol",{sx:{color:"ds.text.neutral.quiet"},children:e.map((({li:e,ol:t},a)=>(0,f.BX)(l.nv,{as:"li",textStyle:"ds.body.standard.regular",children:[(0,f.tZ)(dg,{markdownValue:e}),t?(0,f.tZ)(bg,{content:t}):null]},a)))}),yg=()=>{var e,t,a;const{translate:n}=(0,x.Z)(),i=(0,_.k)(eg.y,"ssoProvisioning"),s=i.status===ue.rq.Loading,r={entityId:null!=(e=i.data?.idpApplication.entityId)?e:"",acsUrl:null!=(t=i.data?.idpApplication.acsUrl)?t:"",signOnUrl:null!=(a=i.data?.idpApplication.signOnUrl)?a:""};return(0,f.BX)("div",{sx:{display:"grid",gridTemplateColumns:"auto",gridAutoRows:"auto",gap:"24px",marginBottom:"32px"},children:[(0,f.BX)("div",{sx:{ol:{listStyleType:"decimal",ml:"20px",ol:{listStyleType:"lower-alpha"}}},children:[(0,f.tZ)(l.X6,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.standard",sx:{mb:"8px"},children:n("sso_confidential_idp_setup_page_title")}),pg||(pg=(0,f.tZ)(bg,{content:hg}))]}),(0,f.tZ)(l.ke,{mood:"brand",size:"small",title:n("sso_confidential_idp_setup_infobox_message")}),(0,f.BX)("div",{sx:{display:"grid",gridTemplateColumns:"auto",gridAutoRows:"auto",gap:"24px"},children:[(0,f.tZ)(gg.x,{isLoading:s,value:r.entityId,label:n("sso_confidential_idp_setup_entity_id_label"),readOnly:!0}),(0,f.tZ)(gg.x,{isLoading:s,value:r.acsUrl,label:n("sso_confidential_idp_setup_acs_url_label"),readOnly:!0}),(0,f.tZ)(gg.x,{isLoading:s,value:r.signOnUrl,label:n("sso_confidential_idp_setup_sign_on_url_label"),readOnly:!0})]})]})},xg="sso_confidential_metadata_form_field_placeholder",Sg="sso_confidential_metadata_form_error_could_not_find_entrypoint",fg="sso_confidential_metadata_form_error_cound_not_validate_certificate",vg="sso_confidential_metadata_form_error_server_error",Cg={XML_PARSE_FAILED:"sso_confidential_metadata_form_error_could_not_read_metadata",KEY_DESCRIPTOR_NOT_FOUND:Sg,IDP_ENTRYPOINT_NOT_FOUND:Sg,INVALID_IDP_SSO_DESCRIPTOR:Sg,MISSING_CERTIFICATE:"sso_confidential_metadata_form_error_no_certificate",MULTIPLE_CERTIFICATES:"sso_confidential_metadata_form_error_multiple_certificates",INVALID_ENTRYPOINT:"sso_confidential_metadata_form_error_invalid_entrypoint",CERTIFICATE_TOO_SHORT:fg,CERTIFICATE_TOO_LONG:fg,CERTIFICATE_DECODE_FAILED:fg},Zg={INVALID_METADATA_CONTENT:"sso_confidential_metadata_form_error_invalid_metadata_content",INVALID_METADATA_URL:"sso_confidential_metadata_form_error_invalid_metadata_url",DOMAIN_UPDATE_FAILED:vg,SAVE_METADATA_FAILED:vg,INTERNAL_ERROR:"sso_confidential_metadata_form_error_internal_error"},Tg="Unexpected server error. Please try again or contact Customer Support.",Dg="ssoIdpMetadata",Eg=()=>{var e;const[t,a]=(0,r.useState)(!1),{translate:n}=(0,x.Z)(),i=(0,_.k)(eg.y,"ssoProvisioning"),{createTeam:s,validateMetadata:o,updateMetadata:c}=(0,q.u)(eg.y),u=i.status===ue.rq.Loading,m=null!=(e=i.data?.idpMetadata.metadataValue)?e:"",p={ssoIdpMetadata:m},g=i.data?.global.inferredSsoState,h=[rg.s5.enum.SelfHostedIncomplete,rg.s5.enum.SelfHostedComplete].includes(g),b=(0,r.useCallback)((async(e,t)=>{try{a(!0);const r=i.data?.global.isTeamProvisionedInNitro;r||(await s(),sg({ssoSetupStep:d.SsoSetupStep.CreateSsoApplication})),sg({ssoSetupStep:d.SsoSetupStep.UpdateIdpSettings});const o=await c({metadata:""===e.ssoIdpMetadata?null:e.ssoIdpMetadata});if(a(!1),(0,G.hx)(o)){const e=o.error.tag.toUpperCase();return t.setFieldError(Dg,n(e in Zg?Zg[e]:Tg))}}catch(e){return t.setFieldError(Dg,Tg)}}),[s,i.data?.global.isTeamProvisionedInNitro,n,c]),y=async e=>{var t;if(e&&!new $p.Y(e).isUrlValid())try{const a=await o({metadata:e});if(sg({ssoSetupStep:d.SsoSetupStep.ValidateIdpMetadata,idpValidationResponse:(t=a,(0,G.hx)(t)?Object.values(d.IdpValidationResponse).includes(t.error.tag)?t.error.tag:d.IdpValidationResponse.XmlParseFailed:d.IdpValidationResponse.Success)}),(0,G.hx)(a)){const e=a.error.tag.toUpperCase();return n(e in Cg?Cg[e]:Cg.XML_PARSE_FAILED)}}catch(e){return e instanceof Error?e.message:"Unknown error"}};return(0,f.tZ)(cn.J9,{initialValues:p,onSubmit:b,enableReinitialize:!0,children:({isSubmitting:e,isValid:a,isValidating:i,dirty:s})=>{const r=h||e||u,o=r||!a||i||!s;return(0,f.tZ)(cn.l0,{noValidate:!0,children:(0,f.BX)("div",{sx:{display:"grid",gridTemplateColumns:"auto",gridAutoRows:"auto",gap:"8px"},children:[(0,f.tZ)(l.X6,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.standard",children:n("sso_confidential_metadata_form_section_heading")}),(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",sx:{marginBottom:"24px"},children:n("sso_confidential_metadata_form_paragraph")}),(0,f.tZ)(cn.gN,{name:Dg,validateOnChange:!0,validate:y,children:({field:t,meta:{error:a}})=>(0,f.tZ)(l.Kx,{required:!0,id:t.name,label:n("sso_confidential_metadata_form_field_label"),placeholder:n(xg),"aria-label":n(xg),autoCorrect:"off",autoComplete:"off",spellCheck:"false",disabled:r,feedback:!a||e||i?void 0:{text:a},error:!(!a||e||i),...t})}),(0,f.tZ)(l.zx,{type:"submit",sx:{mt:"12px",justifySelf:"end"},mood:m?"neutral":"brand",intensity:m?"quiet":"catchy",disabled:o,isLoading:t,children:n("sso_confidential_metadata_form_button_submit")})]})})}})},kg="sso_confidential_enable_nitro_sso_confirm_dialog_cancel",wg=({title:e,body:t,primaryActionLabel:a,onConfirm:n,onCancel:i})=>{const{translate:s}=(0,x.Z)(),[o,c]=(0,r.useState)(!1);return(0,f.tZ)(l.Vq,{closeActionLabel:s(kg),title:e,isOpen:!0,onClose:i,actions:{primary:{children:a,onClick:async()=>{try{c(!0),await n()}catch{c(!1)}},disabled:o,isLoading:o},secondary:{children:s(kg),onClick:i,disabled:o}},children:t})},Ng=()=>{const{translate:e}=(0,x.Z)(),{showAlert:t}=(0,dn.V)(),[a,n]=(0,r.useState)(!1),i=(0,_.k)(eg.y,"ssoProvisioning"),{enableSso:s}=(0,q.u)(eg.y),o=i.data?.domainSetup[0]?.domainName,u=o?i.data?.domainVerificationInfo[o]:null,m=u?.verificationStatus!==rg.X5.enum.valid,p=i.data?.enableSSO.ssoEnabled,g=Boolean(m||p);return(0,f.BX)(f.HY,{children:[(0,f.BX)("div",{sx:{display:"grid",gap:"8px"},children:[(0,f.tZ)(l.nv,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.standard",children:e("sso_confidential_enable_nitro_sso_section_heading")}),(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",sx:{mb:"4px",gridRow:"2",gridColumn:"1/1"},children:e("sso_confidential_enable_nitro_sso_description")}),(0,f.tZ)("div",{sx:{justifySelf:"end"},children:(0,f.tZ)(l.zx,{id:"enableSso",onClick:()=>{n(!0),sg({ssoSetupStep:d.SsoSetupStep.TurnOnSso})},disabled:g,children:e("sso_confidential_enable_nitro_sso_button_label")})})]}),a?(0,f.tZ)(wg,{title:e("sso_confidential_enable_nitro_sso_confirm_dialog_title"),body:e("sso_confidential_enable_nitro_sso_confirm_dialog_body"),primaryActionLabel:e("sso_confidential_enable_nitro_sso_confirm_dialog_primary_action_label"),onConfirm:async()=>{await(async()=>{const a=await s();(0,G.d6)(a)?t(e("sso_confidential_enable_nitro_sso_success_feedback"),c.BLW.SUCCESS):t(a.error.tag,c.BLW.ERROR)})(),sg({ssoSetupStep:d.SsoSetupStep.CompleteSsoSetup}),n(!1)},onCancel:()=>{n(!1)}}):null]})},Ig=()=>{var e;const{translate:t}=(0,x.Z)(),[a,n]=(0,r.useState)(!1),[i,s]=(0,r.useState)(!1),[o,u]=(0,r.useState)(!1),{testLoginUserWithEnclaveSSO:m}=(0,q.u)(eg.y),p=(0,_.k)(eg.y,"ssoProvisioning"),g=null!=(e=p.data?.domainSetup[0]?.domainName)?e:"",h=p.data?.domainVerificationInfo[g]?.verificationStatus!==rg.X5.enum?.valid||!1;return(0,f.BX)("div",{sx:{display:"grid",gridTemplateColumns:"auto",gridAutoRows:"auto",gap:"8px"},children:[(0,f.BX)("div",{children:[(0,f.tZ)(l.X6,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.standard",sx:{mb:"8px"},children:t("sso_confidential_test_nitro_sso_section_heading")}),(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",children:t("sso_confidential_test_nitro_sso_description")})]}),(0,f.tZ)("div",{sx:{justifySelf:"end",gridColumn:"2"},children:(0,f.tZ)(B_.M,{disabled:h,onClick:async()=>{n(!0);try{const e=await m({domainName:g}),t=(0,G.d6)(e);sg({ssoSetupStep:d.SsoSetupStep.TestSsoConnection,testSsoResponse:t?d.TestSsoResponse.Success:d.TestSsoResponse.Failure}),s(t),u(!t)}finally{n(!1)}},loading:a,content:t("sso_confidential_test_nitro_sso_no_extension_feedback"),neverShowTooltip:!0,children:t("sso_confidential_test_nitro_sso_button_label")})}),i?(0,f.tZ)("div",{sx:{gridColumn:"1/span 2"},children:(0,f.tZ)(c.bZj,{showIcon:!0,size:c.k3y.SMALL,severity:c.BLW.SUCCESS,onClose:()=>{s(!1)},closeIconName:"Close",children:t("sso_confidential_test_nitro_sso_success_feedback")})}):null,o?(0,f.tZ)("div",{sx:{gridColumn:"1/span 2"},children:(0,f.tZ)(c.bZj,{showIcon:!0,size:c.k3y.SMALL,severity:c.BLW.ERROR,onClose:()=>{u(!1)},closeIconName:"Close",children:t("sso_confidential_test_nitro_sso_error_feedback")})}):null]})},Ag=({domainName:e,showModal:t,onClose:a})=>{var n,i;const{translate:s}=(0,x.Z)(),o=(0,_.k)(eg.y,"ssoProvisioning"),{checkDNSValidation:c}=(0,q.u)(eg.y),[d,u]=(0,r.useState)(!1);if(o.status!==ue.rq.Success)return null;const m=e?o.data.domainVerificationInfo[e]:void 0;if(!m)return null;let p=s("sso_confidential_verify_domain_modal_verify_domain_button");return"valid"===m.verificationStatus?p=s("sso_confidential_verify_domain_modal_verify_domain_button_close"):("pending"===m.verificationStatus&&m.pendingReason||"invalid"===m.verificationStatus)&&(p=s("sso_confidential_verify_domain_modal_verify_domain_button_retry")),(0,f.BX)(l.Vq,{closeActionLabel:s("_common_dialog_dismiss_button"),title:s("sso_confidential_verify_domain_modal_title",{domainName:e}),isOpen:t,onClose:a,actions:{primary:{children:p,onClick:"valid"===m.verificationStatus?a:async()=>{u(!0);try{await c({domainName:e})}finally{u(!1),a()}},isLoading:d}},children:[(0,f.BX)("ol",{sx:{listStyleType:"decimal",ml:"20px"},children:[(0,f.tZ)(l.nv,{as:"li",textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",children:s("sso_confidential_verify_domain_modal_instruction_1")}),(0,f.tZ)(l.nv,{as:"li",textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",children:s("sso_confidential_verify_domain_modal_instruction_2")}),(0,f.tZ)(l.nv,{as:"li",textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",children:s.markup("sso_confidential_verify_domain_modal_instruction_3_markup")})]}),(0,f.tZ)(l.ke,{title:s("sso_confidential_verify_domain_modal_infobox_title"),mood:"brand"}),(0,f.tZ)(gg.x,{label:s("sso_confidential_verify_domain_modal_subdomain_label"),value:null!=(n=m.subdomainValue)?n:"",readOnly:!0}),(0,f.tZ)(gg.x,{label:s("sso_confidential_verify_domain_modal_txt_label"),value:null!=(i=m.txtValue)?i:"",readOnly:!0}),m.verificationStatus===rg.X5.enum.pending&&m.pendingReason===rg.Q8.enum.invalidToken?(0,f.tZ)(l.ke,{title:s("sso_confidential_verify_domain_modal_error_infobox_title_invalid_token"),description:m.tokenFound,mood:"danger",size:"medium"}):null,m.verificationStatus===rg.X5.enum.pending&&m.pendingReason===rg.Q8.enum.tokenNotFound?(0,f.tZ)(l.ke,{title:s("sso_confidential_verify_domain_modal_error_infobox_title_token_not_found"),description:s("sso_confidential_verify_domain_modal_error_infobox_description_token_not_found"),mood:"danger",size:"medium"}):null,m.verificationStatus===rg.X5.enum.invalid?(0,f.tZ)(l.ke,{title:s("sso_confidential_verify_domain_modal_error_infobox_title_generic_error"),mood:"danger",size:"medium"}):null]})};var Mg,Og=a(198187),Lg=a(87065),Bg=a(52273);const Rg=()=>{const{translate:e}=(0,x.Z)(),[t,a]=(0,r.useState)(!1),{data:n,editTeamPolicies:i,status:s}=(()=>{const{data:e,status:t}=(0,_.k)(m.o,"getTeamId"),{data:a,status:n}=(0,_.k)(m.o,"getTeamPolicies"),{editTeamPolicies:i}=(0,q.u)(m.o);return n===ue.rq.Error||t===ue.rq.Error?{status:ue.rq.Error}:n===ue.rq.Loading||t===ue.rq.Loading?{status:ue.rq.Loading}:{status:ue.rq.Success,data:{teamPolicies:a},editTeamPolicies:t=>i({teamId:Number(e.teamId),policyUpdates:t})}})(),o=(0,_.k)(eg.y,"ssoProvisioning");return(0,r.useEffect)((()=>{if(o.status===ue.rq.Success){var e;const n=null!=(e=o.data?.global.inferredSsoState)?e:"";var t;["SelfHostedComplete","SelfHostedIncomplete"].includes(n)?Ze.C.getTeamDomains().then((e=>{e.success&&a(e.domains.some((e=>"valid"===e.status)))})):a((null!=(t=o.data?.domainSetup)?t:[]).some((e=>e.verificationStatus===rg.X5.enum.valid)))}}),[o]),(0,f.BX)("div",{sx:{backgroundColor:"ds.container.agnostic.neutral.quiet",borderRadius:"8px",padding:"24px",display:"flex",flexDirection:"column",gap:"16px"},children:[(0,f.BX)(l.X6,{as:"h3",textStyle:"ds.title.supporting.small",color:"ds.text.neutral.quiet",children:[e("jit_provisioning_cat_title")," "]})," ",(0,f.BX)("div",{sx:{display:"flex",flexDirection:"row",gap:"16px"},children:[(0,f.BX)("div",{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"8px"},children:[(0,f.tZ)(l.X6,{as:"h2",textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",children:e("jit_provisioning_title")}),(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",children:e("jit_provisioning_description")})]}),(0,f.tZ)("div",{children:s===ue.rq.Loading?Mg||(Mg=(0,f.tZ)(l.ZX,{mood:"brand"})):(0,f.tZ)(l.ZD,{disabled:!t,onChange:e=>{e.preventDefault(),s===ue.rq.Success&&i?.({ssoProvisioning:e.target.checked})},defaultChecked:!!n?.teamPolicies.ssoProvisioning})})]})]})};var zg,Pg,Xg;const Ug="sso_confidential_verify_domain_step_domain_input_label",jg="sso_confidential_verify_domain_step_domain_input_button_view_details",qg={valid:3,pending:2,expired:1,invalid:0},Gg=({status:e,ssoActive:t})=>{const{translate:a}=(0,x.Z)();let n,i,s;switch(e){case rg.X5.enum.valid:n=a(t?"sso_confidential_verify_domain_step_sso_status_active":"sso_confidential_verify_domain_step_sso_status_verified"),s=t?"catchy":"quiet",i="positive";break;case rg.X5.enum.expired:case rg.X5.enum.invalid:n=a("sso_confidential_verify_domain_step_sso_status_error"),i="danger",s="quiet";break;case rg.X5.enum.pending:default:n=a("sso_confidential_verify_domain_step_sso_status_unverified"),s="quiet",i="neutral"}return(0,f.tZ)(l.Ct,{mood:i,intensity:s,label:n})},$g=({domainName:e,ssoActive:t,onModalOpen:a,onDeleteDomain:n,onTextInputChange:i,disabled:s,duplicate:o})=>{var d;const{translate:u}=(0,x.Z)(),{provisionDomain:m,deleteDomain:p}=(0,q.u)(eg.y),g=(0,_.k)(eg.y,"ssoProvisioning"),[h,b]=(0,r.useState)(!1),y=(0,r.useMemo)((()=>new Og.x),[]),S=(0,r.useCallback)(i,[i]),v=o?void 0:g.data?.domainVerificationInfo[e];return(0,r.useEffect)((()=>{y.asObservable().pipe((0,Lg.U)((e=>e.currentTarget.value)),(0,Bg.b)(200)).subscribe((e=>{e&&S(e)}))}),[y,S]),(0,f.BX)(f.HY,{children:[(0,f.tZ)(c.dDn,{sx:{display:"flex",alignItems:"center"},children:(0,f.tZ)(Gg,{status:v?.pendingReason||o?"invalid":null!=(d=v?.verificationStatus)?d:null,ssoActive:t&&!o})}),(0,f.tZ)(c.dDn,{children:(0,f.tZ)(l.qo,{label:u(Ug),placeholder:u(Ug),labelPersists:!1,autoCorrect:"off",autoComplete:"off",disabled:s,hasClearAction:v?.verificationStatus!==rg.X5.enum.valid,readOnly:v?.verificationStatus===rg.X5.enum.valid,onChange:e=>y.next(e),value:e,sx:{width:"400px"},error:v?.verificationStatus===rg.X5.enum.invalid||v?.verificationStatus===rg.X5.enum.pending&&!!v?.pendingReason||o,feedback:o?{text:u("sso_confidential_verify_domain_error_domain_already_provisioned")}:v?.verificationStatus===rg.X5.enum.valid&&t?{text:u("sso_confidential_verify_domain_step_domain_input_feedback_sso_active")}:v?.verificationStatus===rg.X5.enum.pending&&v?.pendingReason===rg.Q8.enum.invalidToken?{text:u("sso_confidential_verify_domain_step_domain_input_feedback_sso_error_invalid_token")}:v?.verificationStatus===rg.X5.enum.pending&&v?.pendingReason===rg.Q8.enum.tokenNotFound?{text:u("sso_confidential_verify_domain_step_domain_input_feedback_sso_error_token_not_found")}:v?.verificationStatus===rg.X5.enum.invalid?{text:u("sso_confidential_verify_domain_step_domain_input_feedback_sso_error_generic")}:void 0})}),v?.verificationStatus===rg.X5.enum.valid&&t&&!o?(0,f.tZ)(c.dDn,{justifySelf:"end",alignSelf:"center",gridColumnStart:"3",gridColumnEnd:"5",children:(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",onClick:a,disabled:s||o,children:u(jg)})}):v?.verificationStatus===rg.X5.enum.valid?(0,f.tZ)(c.dDn,{justifySelf:"end",alignSelf:"center",children:(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",onClick:a,disabled:s||o,children:u(jg)})}):(0,f.tZ)(c.dDn,{justifySelf:"end",alignSelf:"center",children:(0,f.tZ)(l.zx,{mood:"brand",intensity:"quiet",disabled:!e||s||o,isLoading:h,onClick:async()=>{v||(b(!0),await m({domainName:e}),b(!1)),a()},sx:{position:"relative"},children:u("sso_confidential_verify_domain_step_domain_input_button_verify")})}),v?.verificationStatus===rg.X5.enum.valid&&t?null:(0,f.tZ)(c.dDn,{justifySelf:"end",alignSelf:"center",sx:{display:"flex",alignItems:"center"},children:(0,f.tZ)(l.zx,{mood:"danger",intensity:"supershy",layout:"iconOnly",icon:zg||(zg=(0,f.tZ)(l.JO,{name:"ActionDeleteOutlined"})),isLoading:h,onClick:async()=>{if(v&&!o){b(!0);try{await p({domainName:e}),n()}finally{b(!1)}}},sx:{position:"relative"},disabled:s})})]})},Fg=()=>{var e,t,a;const{translate:n}=(0,x.Z)(),[i,s]=(0,r.useState)([]),[o,d]=(0,r.useState)(null),{spaceDetails:u}=(0,De.fV)(),m=(0,_.k)(eg.y,"ssoProvisioning"),[,p]=null!=(e=u?.associatedEmail.split("@"))?e:["",""],g=m.data?.domainVerificationInfo,h=(0,r.useCallback)(((e,t)=>{if(!g)return 0;const a=g[e],n=g[t];if(null===a?.verificationStatus&&null===n?.verificationStatus)return 0;const i=a?.verificationStatus?qg[a.verificationStatus]:-1,s=n?.verificationStatus?qg[n.verificationStatus]:-1;if(i>s)return-1;if(s>i)return 1;const r=e.toLowerCase().replace(/ /g,""),o=t.toLowerCase().replace(/ /g,"");return r===o?0:o<r?""!==o?1:-1:r<o?""!==r?-1:1:0}),[g]),b=null!=(t=m.data?.enableSSO.ssoEnabled)&&t,y=null!=(a=m.data?.global.isTeamProvisionedInNitro)&&a&&m.data?.idpMetadata.metadataValue;return(0,r.useEffect)((()=>{if(m.data?.domainVerificationInfo&&0===i.length){var e;const t=Object.keys(null!=(e=m.data?.domainVerificationInfo)?e:{}).sort(((e,t)=>h(e,t)));s(t.length>0?t.map((e=>e)):[p])}}),[i.length,p,m.data?.domainVerificationInfo,h]),m.status!==ue.rq.Success?null:(0,f.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"32px"},children:[(0,f.tZ)(l.X6,{as:"h3",color:"ds.text.neutral.standard",textStyle:"ds.title.section.medium",children:n("sso_confidential_verify_domain_step_title")}),(0,f.BX)(c.T5p,{gap:"16px 10px",gridTemplateColumns:"100px 1fr 126px 40px",sx:{"& > *::after":{content:'""',position:"absolute",borderBottom:"1px solid #8C8F90"}},children:[(0,f.tZ)(c.dDn,{sx:{"& > ::after":{content:'""',borderBottom:"1px solid #8C8F90"}},children:(0,f.tZ)(l.X6,{as:"h4",color:"ds.text.neutral.quiet",textStyle:"ds.title.supporting.small",children:n("sso_confidential_verify_domain_step_table_header_status")})}),(0,f.tZ)(c.dDn,{gridColumnStart:2,gridColumnEnd:5,children:(0,f.tZ)(l.X6,{as:"h4",color:"ds.text.neutral.quiet",textStyle:"ds.title.supporting.small",children:n("sso_confidential_verify_domain_step_table_header_domain")})}),(()=>{const e=new Set;return i.map(((t,a)=>{const n=g?(0,f.tZ)($g,{domainName:t,ssoActive:b,onTextInputChange:e=>((e,t)=>{const a=i.map(((a,n)=>n===e?t:a));s(a)})(a,e),onModalOpen:()=>(async e=>{const t=i[e];s([...i]),d(t)})(a),onDeleteDomain:()=>(async e=>{i.splice(e,1),s([...i])})(a),disabled:!y,duplicate:e.has(t)},a):void 0;return e.add(t),n}))})(),(0,f.tZ)(c.dDn,{gridColumnStart:2,children:(0,f.tZ)(l.zx,{mood:"brand",intensity:"supershy",layout:"iconLeading",icon:Pg||(Pg=(0,f.tZ)(l.JO,{name:"ActionAddOutlined"})),size:"small",onClick:()=>{s([...i,""])},disabled:!y,children:n("sso_confidential_verify_domain_step_add_domain_button_label")})})]}),Xg||(Xg=(0,f.tZ)(Rg,{})),(0,f.tZ)(Ag,{domainName:null!=o?o:"",showModal:null!==o,onClose:()=>{d(null)}})]})},Vg=({title:e,paragraph:t,badgeLabel:a,children:n,onBackClicked:i,showBackButton:s=!0})=>{const r=(0,Ne.k6)(),o=null!=i?i:()=>{r.push(".")};return(0,f.BX)("div",{sx:{padding:"24px 0"},children:[(0,f.BX)("div",{sx:{padding:"0 32px"},children:[(0,f.BX)(c.Ejs,{flexDirection:"row",gap:"8px",sx:{marginBottom:"16px"},alignItems:"center",children:[s,(0,f.tZ)(l.zx,{layout:"iconOnly",icon:"CaretLeftOutlined",intensity:"supershy",mood:"neutral",onClick:o}),(0,f.tZ)(l.X6,{as:"h1",textStyle:"ds.title.section.large",children:e}),a?(0,f.tZ)(l.Ct,{label:a,mood:"brand"}):null]}),t?(0,f.tZ)(l.nv,{sx:{marginBottom:"32px"},children:t}):null]}),n]})};var Hg,Wg,Yg,Kg,Qg,Jg;const eh={CARD_1_HEADING:"Before you start",CARD_1_BODY_INTRO:"To set up SSO, you'll need:",CARD_1_BODY_POINTS:["Access to your IdP and public DNS provider accounts","A list of members to add to your SSO application","IdP metadata","Email domain"],CARD_1_SUB_HEADING:"Need help?",CARD_1_SUB_BODY:"For help setting up SSO, contact our Customer Support.",CARD_2_HEADING:"After turning on SSO",CARD_2_BODY_FIRST:"After SSO is turned on, non-admin members are required to log in with SSO.",CARD_2_BODY_SECOND:"They must use the browser extension when using Dashlane on a computer. They can also log in with SSO on mobile.",CARD_2_BODY_THIRD:"Admins can't log in with SSO. They still need to enter their Master Password."},th="support@dashlane.com",ah=()=>{const{status:e,data:t}=(0,_.k)(eg.y,"ssoProvisioning");if(e!==o.rq.Success)return null;const a=e===o.rq.Success?!t.enableSSO.ssoEnabled:null;return(0,f.tZ)("div",{children:(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"32px",sx:{flexGrow:1},children:[a?(0,f.tZ)(mg,{pageContext:ug.Nitro}):null,(0,f.BX)(c.Zbd,{sx:{padding:"32px"},children:[Hg||(Hg=(0,f.tZ)(yg,{})),Wg||(Wg=(0,f.tZ)(Eg,{}))]}),(0,f.tZ)(c.Zbd,{sx:{padding:"32px"},children:Yg||(Yg=(0,f.tZ)(Fg,{}))}),(0,f.tZ)(c.Zbd,{sx:{padding:"32px"},children:Kg||(Kg=(0,f.tZ)(Ig,{}))}),(0,f.tZ)(c.Zbd,{sx:{padding:"32px"},children:Qg||(Qg=(0,f.tZ)(Ng,{}))})]})})},nh=e=>(0,f.BX)("div",{sx:{border:"none",display:"flex",gap:"24px",flexDirection:"column"},...e,children:[(0,f.BX)(Qr,{children:[(0,f.tZ)(l.X6,{as:"h3",textStyle:"ds.title.block.medium",children:eh.CARD_1_HEADING}),(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",children:eh.CARD_1_BODY_INTRO}),(0,f.tZ)(l.nv,{as:"ul",textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",sx:{margin:"0px 0px 8px 20px",listStyleType:"disc"},children:eh.CARD_1_BODY_POINTS.map((e=>(0,f.tZ)("li",{children:e},e)))}),(0,f.tZ)(l.X6,{as:"h3",textStyle:"ds.title.block.medium",children:eh.CARD_1_SUB_HEADING}),(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",children:eh.CARD_1_SUB_BODY}),(0,f.tZ)(eo,{href:`mailto:${th}`,sx:{fontSize:"14px"},children:th})]}),(0,f.BX)(Qr,{children:[(0,f.tZ)(l.X6,{as:"h3",textStyle:"ds.title.block.medium",children:eh.CARD_2_HEADING}),(0,f.tZ)(l.nv,{textStyle:"ds.title.block.small",color:"ds.text.neutral.quiet",children:eh.CARD_2_BODY_FIRST}),(0,f.tZ)(l.nv,{textStyle:"ds.title.block.small",color:"ds.text.neutral.quiet",children:eh.CARD_2_BODY_SECOND}),(0,f.tZ)(l.nv,{textStyle:"ds.title.block.small",color:"ds.text.danger.standard",children:eh.CARD_2_BODY_THIRD})]})]}),ih=({backRoute:e})=>{const{data:t}=(0,_.k)(eg.y,"ssoProvisioning"),{translate:a}=(0,x.Z)(),n=!t?.enableSSO.ssoEnabled,i=!t?.enableSSO.ssoEnabled;return(0,f.tZ)(Vg,{title:a("sso_confidential_page_title"),badgeLabel:n?a("team_new_label"):"",showBackButton:i,onBackClicked:()=>{sg({ssoSetupStep:d.SsoSetupStep.ReturnToSsoSelection}),(0,s.uX)(e)},children:Jg||(Jg=(0,f.tZ)(Hr,{mainContent:(0,f.tZ)(ah,{}),secondaryContent:(0,f.tZ)(nh,{})}))})};var sh=a(823512);const rh=()=>{const[e,t]=(0,r.useState)(!1),[a,n]=(0,r.useState)(),i=(0,r.useCallback)((async()=>{try{return await Ze.C.getEncryptionServiceConfig()}catch{return{success:!1,error:{code:sh.S2}}}}),[]),s=(0,r.useCallback)((async(e=new AbortController)=>{e.signal.aborted||t(!0);const a=await i();return e.signal.aborted||(a.success&&n(a.data),t(!1)),a}),[i]);return(0,r.useEffect)((()=>{const e=new AbortController;return s(e),()=>{e.abort()}}),[s]),{esConfigLoading:e,esConfig:a,refreshEncryptionServiceConfig:s}};var oh=a(320144),lh=a(40010),ch=a(454661);const dh="esConfigurationLabel",_h=({value:e,disabled:t,error:a,isLoading:n=!1,configRegenRequired:i,lastGeneratedTimeStamp:s})=>{const{translate:r}=(0,x.Z)(),o=s?(0,f.BX)(c.Ejs,{gap:"4px",sx:{mt:"8px"},justifyContent:"center",children:[(0,f.tZ)(l.nv,{textStyle:"ds.body.reduced.strong",children:r("team_settings_encryption_service_generate_configuration_timestamp")}),(0,f.tZ)(l.nv,{textStyle:"ds.body.reduced.regular",children:(0,na.Z)(s).toLocaleString(navigator.language,{...ga.qG.lll,timeZoneName:"short"})})]}):null;return(0,f.BX)(c.T5p,{gridTemplateAreas:"'label button' 'description button' 'timestamp timestamp' 'config buttons'",gridTemplateColumns:"3fr 1fr",sx:{gridColumnGap:"8px"},children:[(0,f.tZ)(c.dDn,{gridArea:"label",sx:{paddingBottom:"8px"},as:l.nv,innerAs:"label",id:dh,textStyle:"ds.title.block.medium",children:r("team_settings_encryption_service_generate_configuration_label")}),(0,f.tZ)(c.dDn,{gridArea:"description",as:l.nv,children:r("team_settings_encryption_service_generate_configuration_label_helper")}),(0,f.BX)(c.dDn,{gridArea:"button",children:[(0,f.tZ)(l.zx,{disabled:t||n,mood:e&&!i?"neutral":"brand",intensity:e&&!i?"quiet":"catchy",fullsize:!0,type:"submit",isLoading:n,children:r("team_settings_encryption_service_generate_configuration_button")}),i?null:o]}),e?(0,f.BX)(f.HY,{children:[(0,f.tZ)(c.dDn,{gridArea:"config",sx:{marginTop:"18px"},children:(0,f.tZ)(l.Kx,{"aria-labelledby":dh,readOnly:!0,disabled:i,value:e,feedback:a?{text:a}:void 0,error:!!a})}),(0,f.BX)(c.dDn,{as:c.Ejs,gridArea:"buttons",sx:{marginTop:"18px"},flexDirection:"column",gap:"8px",children:[(0,f.tZ)(pu.q,{disabled:i,copyValue:e,buttonText:r("input_copy_button"),fullsize:!0}),(0,f.tZ)(ch.o,{disabled:i,buttonText:r("team_settings_encryption_service_config_download_button"),downloadString:e,fileName:"dashlane-encryption-service-config.txt",fileType:"text/plain",fullsize:!0})]})]}):null]})};function uh(e){const t=(0,r.useMemo)((()=>e),[e]),[a,n]=(0,r.useState)(!1),[i,s]=(0,r.useState)(),o=(0,r.useCallback)((async()=>{const e={success:!1,error:{code:sh.S2}};try{return t?await Ze.C.getTeamDevice({teamDeviceAccessKey:t}):e}catch{return e}}),[t]),l=(0,r.useCallback)((async(e=new AbortController)=>{e.signal.aborted||n(!0);const t=await o();return e.signal.aborted||(t.success&&s(t.data.teamDevice),n(!1)),t}),[o]);return(0,r.useEffect)((()=>{const e=new AbortController;return l(e),()=>{e.abort()}}),[l]),{teamDeviceLoading:a,teamDevice:i,refreshTeamDevice:l}}const mh={AWS:"https://support.dashlane.com/hc/articles/4404322174482-Dashlane-Encryption-Service-Overview-and-Setup?utm_source=extension#h_01FTXGN0C8B9HMKRD8J0BSYRAH","Microsoft Azure":"https://support.dashlane.com/hc/articles/4404322174482-Dashlane-Encryption-Service-Overview-and-Setup?utm_source=extension#h_01FTXGMVBAEK5GB0TZJ86K7ZWE"},ph=({context:e="GENERIC",...t})=>{var a,n;const{esConfig:i,esConfigLoading:s}=rh(),{teamDevice:o,teamDeviceLoading:c}=uh(i?.deviceAccessKey),[d,_]=(0,r.useState)(!1),{translate:u}=(0,x.Z)(),m={CONTENT:u.markup("team_settings_encryption_service_restart_failed_info_content_markup",{helpArticle:null!=(a=mh[null!=(n=i?.deploymentLocation)?n:""])?a:"",supportLink:"https://support.dashlane.com/hc/requests/new?utm_source=extension"},{linkTarget:"_blank"})},p={GENERIC:{TITLE:u("team_settings_encryption_service_restart_failed_info_title"),...m},SCIM:{TITLE:u("team_settings_encryption_service_restart_failed_info_title_scim"),...m},ES:{TITLE:u("team_settings_encryption_service_restart_failed_info_title_es"),...m},SSO:{TITLE:u("team_settings_encryption_service_restart_failed_info_title_sso"),...m}};return(0,r.useEffect)((()=>{if(!c&&!s&&o&&i){const t=!o.hasLatestConfig&&"GENERIC"===e||"GENERIC"!==e;_(t)}}),[o,i,c,s,e]),d?(0,f.tZ)(l.ke,{mood:"warning",size:"large",title:p[e].TITLE,description:p[e].CONTENT,actions:p[e].BUTTON?[(0,f.tZ)(l.zx,{mood:"brand",intensity:"catchy",onClick:()=>{_(!1)},children:p[e].BUTTON},"primary")]:void 0,...t}):null};var gh,hh,bh,yh,xh;const Sh="team_settings_encryption_service_enter_endpoint_placeholder_aws_linux",fh="_common_generic_error",vh="https://",Ch={AWS:"https://eu-west-1.console.aws.amazon.com/acm/home?region=eu-west-1#/welcome","Microsoft Azure":"https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fget.dashlane.com%2Fazure%2Farm%2Fes%2Fazuredeploy.json"},Zh={AWS:"https://support.dashlane.com/hc/articles/4404322174482-Dashlane-Encryption-Service-Overview-and-Setup?utm_source=extension#h_01FTXGN0C8B9HMKRD8J0BSYRAH","Microsoft Azure":"https://support.dashlane.com/hc/articles/4404322174482-Dashlane-Encryption-Service-Overview-and-Setup?utm_source=extension#h_01FTXGMVBAEK5GB0TZJ86K7ZWE"},Th={AWS:"team_settings_encryption_service_go_to_label_helper_aws_markup","Microsoft Azure":"team_settings_encryption_service_go_to_label_helper_azure_markup"},Dh={AWS:"team_settings_encryption_service_enter_endpoint_helper_aws_linux","Microsoft Azure":"team_settings_encryption_service_enter_endpoint_helper_azure"},Eh={"Microsoft Azure":"team_settings_encryption_service_enter_endpoint_placeholder_azure",AWS:Sh},kh="config",wh="deploymentLocation",Nh="encryptionServiceEndpoint",Ih="ssoConnectorKey",Ah="-sso.azurewebsites.net",Mh=({migratingFromSSOConnector:e=!1,esConfig:t,onSave:a,teamSettings:n,updateTeamSettings:i})=>{var o,_,u;const[m,p]=(0,r.useState)(!1),[g,h]=(0,r.useState)(""),[b,y]=(0,r.useState)(!1),[S,v]=(0,r.useState)(!1),{translate:C}=(0,x.Z)(),{spaceDetails:Z,teamId:T}=(0,De.fV)(),{initSsoProvisioning:D}=(0,q.u)(eg.y),E=null!=(o=Z?.associatedEmail)?o:"",k=(0,s.k6)(),w=n?.ssoServiceProviderUrl,N={encryptionServiceEndpoint:(null!=w?w:"").replace(vh,""),config:null!=(_=t?.config)?_:"",deploymentLocation:null!=(u=t?.deploymentLocation)?u:"",ssoConnectorKey:""},I=()=>k.goBack(),A=e=>e?null:C("team_settings_encryption_service_error_select_service"),M=e=>{const t=C("team_settings_encryption_service_error_invalid_ssoConnectorKey");try{const[t,a]=e.split("|"),n=atob(a);if(!t||!a||!n||36!==t.length||64!==n.length)throw new Error("Invalid key format")}catch{return t}return null},O=e=>{const t=C("team_settings_encryption_service_error_invalid_endpoint");if(!e)return t;let a;try{a=new URL(`${vh}${e}`)}catch(e){return t}return"/"!==a.pathname||""!==a.search||""!==a.hash||a.href.includes("?")?t:null};return(0,f.tZ)(cn.J9,{onSubmit:async(t,{setFieldValue:n,setFieldTouched:s})=>{h(""),p(!0),v(!1);const{deploymentLocation:r,encryptionServiceEndpoint:o,ssoConnectorKey:l}=t;if(!r)return void s(wh);if(e&&!l)return void s(Ih);n(kh,"");const c=e=>e.replace(/\/$/,"").toLowerCase();try{const s={deploymentLocation:r,encryptionServiceEndpoint:vh+c(o),updateTeamDeviceConfigParams:{}};e&&l&&(s.updateTeamDeviceConfigParams.ssoConnectorKey=l);const _=await Ze.C.generateAndSaveEncryptionServiceConfig(s);if(!_.success)return void h(C(fh));const u=_.data.basicConfig;if(n(kh,u.config),t[Nh]!==N.encryptionServiceEndpoint&&(await i({ssoServiceProviderUrl:t[Nh]?`${vh}`+c(`${t[Nh]}`):null}),await D({teamId:`${T}`})),p(!1),_.data.encryptionServiceReloadingStatus!==oh.x.OK)return v(!0),y(!1),void a?.();ig({ssoSetupStep:d.SsoSetupStep.GenerateAndSaveConfiguration}),g||a?.()}catch(e){p(!1),h(C(fh))}},initialValues:N,onReset:I,children:a=>{var n,i;return(0,f.BX)(cn.l0,{autoComplete:"off",children:[(0,f.tZ)(lh.X,{dirty:a.dirty&&!m&&!S}),(0,f.BX)(c.Zbd,{children:[(0,f.tZ)(c.Ol2,{children:C("team_settings_encryption_service_header")}),(0,f.BX)(c.aYP,{children:[e?(0,f.BX)(f.HY,{children:[(0,f.BX)(c.T5p,{gridTemplateAreas:"'header header' 'description description' 'input button'",gridTemplateColumns:"1fr auto",gap:"10px",children:[(0,f.tZ)(c.dDn,{gridArea:"header",children:(0,f.tZ)(l.nv,{as:"h3",textStyle:"ds.title.block.medium",children:C("team_settings_encryption_service_migrate_sso_title")})}),(0,f.tZ)(c.dDn,{gridArea:"description",children:(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.regular",children:C.markup("team_settings_encryption_service_migrate_sso_description_markup")})}),(0,f.tZ)(c.dDn,{gridArea:"input",children:(0,f.tZ)(cn.gN,{name:Ih,validate:M,children:({field:{onChange:e,...t},meta:{error:n,touched:i}})=>(0,f.tZ)(c.oil,{onChange:t=>{e(t)},id:"ssoConnectorKey",placeholder:C("team_settings_encryption_service_sso_connector_key_placeholder"),fullWidth:!0,feedbackText:i&&n?n:void 0,feedbackType:i&&n?"error":void 0,"aria-invalid":i&&!!n,readOnly:a.isSubmitting,...t})})})]}),gh||(gh=(0,f.tZ)("hr",{}))]}):null,(0,f.BX)(c.T5p,{gridTemplateAreas:"'label select' 'desc select'",gap:"8px",children:[(0,f.tZ)(c.dDn,{gridArea:"label",as:l.nv,innerAs:"label",htmlFor:"deploymentLocation",sx:{gridArea:"label"},textStyle:"ds.title.block.medium",children:C("team_settings_encryption_service_deploy_label")}),(0,f.tZ)(c.dDn,{gridArea:"desc",as:l.nv,children:C.markup("team_settings_encryption_service_deploy_label_helper_markup",{customerSupport:"https://support.dashlane.com/hc/requests/new?utm_source=extension"},{linkTarget:"_blank"})}),(0,f.tZ)(c.dDn,{gridArea:"select",children:(0,f.tZ)(cn.gN,{name:wh,validate:A,children:({field:{onChange:e,...t},meta:{error:n,touched:i}})=>(0,f.tZ)(c.PhF,{onChange:t=>{a.setFieldValue(Nh,((e,t)=>{if(!e||!t)return"";const a=e.replace(/.+@/,"");if("Microsoft Azure"===t){const[e,t,...n]=a.split(".").reverse(),i=t+Ah;return i.length<=42?i:t.slice(0,42-Ah.length)+Ah}return"AWS"===t?"dashlane-sso."+a:""})(E,t.target.value)),y(N.deploymentLocation!==t.target.value),ig({ssoSetupStep:d.SsoSetupStep.SelectEncryptionServicePlatform,encryptionServicePlatformSelected:"AWS"===t.target.value?d.EncryptionServicePlatformSelected.AmazonWebServices:d.EncryptionServicePlatformSelected.Azure}),e(t)},feedbackId:"deploymentLocationFeedback",selectId:"deploymentLocation",options:Object.keys(Dh),placeholder:C("team_settings_encryption_service_select_host"),intent:i&&n?"error":void 0,feedbackText:i&&n?n:void 0,readOnly:a.isSubmitting,...t})})})]}),hh||(hh=(0,f.tZ)("hr",{})),(0,f.BX)(c.T5p,{gridTemplateColumns:"auto",gap:"8px",children:[(0,f.tZ)(c.dDn,{as:l.nv,innerAs:"label",htmlFor:"endpointInput",textStyle:"ds.title.block.medium",children:C("team_settings_encryption_service_enter_endpoint_label")}),(0,f.tZ)(c.dDn,{as:l.nv,sx:{mb:"16px"},children:C(null!=(n=Dh[a.values[wh]])?n:"team_settings_encryption_service_enter_endpoint_label_helper_no_selection")}),e?(0,f.BX)(l.nv,{children:[C("team_settings_encryption_service_current_endpoint_label")," ",w]}):null,(0,f.tZ)(cn.gN,{name:Nh,validate:O,children:({field:{onChange:e,...t},meta:{error:n,touched:i},form:{values:{deploymentLocation:s}}})=>{var r;return(0,f.tZ)(c.oil,{sx:{pl:0},onChange:t=>{y(N.encryptionServiceEndpoint!==t.target.value),e(t)},startAdornment:bh||(bh=(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",children:vh})),id:"endpointInput",placeholder:C(null!=(r=Eh[s])?r:Sh),fullWidth:!0,feedbackText:i&&n?n:void 0,feedbackType:i&&n?"error":void 0,"aria-invalid":i&&!!n,readOnly:a.isSubmitting,...t})}})]}),yh||(yh=(0,f.tZ)("hr",{})),S?(0,f.tZ)(ph,{sx:{marginBottom:"20px"},context:"ES"}):null,(0,f.tZ)(cn.gN,{name:kh,children:({field:n,meta:i,form:{values:{deploymentLocation:s,ssoConnectorKey:r}}})=>{var o;return(0,f.tZ)(_h,{configRegenRequired:b,disabled:!s||e&&!r,lastGeneratedTimeStamp:t?.lastGeneratedTimeStamp,value:n.value,error:(null!=(o=i.error)?o:!a.isSubmitting&&b)?C("team_settings_encryption_service_config_regen_warning"):void 0,isLoading:m||a.isSubmitting})}}),xh||(xh=(0,f.tZ)("hr",{})),(0,f.BX)(c.T5p,{gridTemplateAreas:"'header button' 'description button'",gap:"8px",children:[(0,f.tZ)(c.dDn,{gridArea:"header",as:l.nv,textStyle:"ds.title.block.medium",children:C("team_settings_encryption_service_go_to_label")}),(0,f.tZ)(c.dDn,{gridArea:"description",as:l.nv,sx:{mb:"16px"},children:(i=a.values.deploymentLocation,i||(i="AWS"),C.markup(Th[i],{setupGuide:Zh[i]},{linkTarget:"_blank"}))}),(0,f.tZ)(c.dDn,{gridArea:"button",as:l.zx,type:"button",mood:a.values.config&&!b?"brand":"neutral",disabled:!a.values[wh]||!a.values[kh]||b,onClick:()=>{ig({ssoSetupStep:d.SsoSetupStep.AddConfigurationToServiceHost}),(0,X.Yo)(Ch[a.values[wh]])},icon:"ActionOpenExternalLinkOutlined",layout:"iconTrailing",sx:{gridArea:"button",height:"fit-content"},children:C("team_settings_encryption_service_go_to_button")})]})]}),(0,f.BX)(c.eWM,{flexWrap:"nowrap",children:[g?(0,f.tZ)(l.nv,{sx:{width:"40%",ml:0,mr:"auto"},textStyle:"ds.title.supporting.small",color:"ds.text.danger.standard",children:g}):null,(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",size:"large",type:"button",onClick:()=>I(),children:C("team_settings_encryption_service_button_cancel")})]})]})]})}})};var Oh,Lh=a(491684);const Bh="team_settings_encryption_service_not_available",Rh=({config:e})=>{var t;const{translate:a}=(0,x.Z)(),{teamDevice:n,refreshTeamDevice:i,teamDeviceLoading:s}=uh(e.deviceAccessKey),r=a.markup("team_settings_encryption_service_tooltip_text_markup",{updateServiceUrl:"https://support.dashlane.com/hc/articles/360015973719"},{linkTarget:"_blank"},{color:"ds.text.inverse.catchy",hoverColor:"ds.text.brand.quiet",activeColor:"ds.text.brand.standard"});return(0,f.tZ)(Lh.R,{children:s?Oh||(Oh=(0,f.tZ)(l.ZX,{})):(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"5px",children:[(0,f.tZ)(l.nv,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.standard",children:`${a("team_settings_encryption_service_last_restart")}\n                    ${n?.lastStartDateUnix?(0,na.Z)(n.lastStartDateUnix).toLocaleString(navigator.language,{...ga.qG.lll,timeZoneName:"short"}):a(Bh)}`}),(0,f.BX)(c.Ejs,{gap:"8px",children:[(0,f.tZ)(l.nv,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.standard",children:`\n                   ${a("team_settings_encryption_service_version")}\n                   ${null!=(t=n?.version)?t:a(Bh)}\n                  `}),!1===n?.hasLatestVersion?(0,f.tZ)(l.u,{wrapTrigger:!0,content:r,children:(0,f.tZ)(l.Ct,{mood:"danger",iconName:"FeedbackWarningOutlined",layout:"iconLeading",label:a("team_settings_encryption_service_new_version")})}):null]}),(0,f.BX)(l.nv,{as:"a",color:"ds.text.brand.standard",sx:{textDecoration:"none",fontWeight:"normal"},onClick:()=>i(),textStyle:"ds.body.reduced.regular",children:[(0,f.tZ)(l.JO,{sx:{display:"inline",marginRight:"5px"},name:"ActionRefreshOutlined",size:"xsmall",color:"ds.text.brand.standard"}),a("team_settings_encryption_service_refresh")]})]})})};var zh;const Ph=({esConfig:e,loading:t,parentPath:a,disableSetupButton:n})=>{const{translate:i}=(0,x.Z)(),r=(0,s.k6)(),o=!e&&!t;return(0,f.tZ)(c.Zbd,{children:(0,f.BX)(c.T5p,{as:c.aYP,gridTemplateAreas:"'header button' 'description button' 'status .'",gridTemplateColumns:"1fr auto",gap:"8px",sx:{bg:"white",border:"none"},children:[(0,f.BX)(c.dDn,{gridArea:"header",children:[e?null:(0,f.tZ)(l.X6,{as:"h3",color:"ds.text.neutral.quiet",textStyle:"ds.title.supporting.small",children:i("team_settings_encryption_service_get_started")}),(0,f.tZ)(l.X6,{as:"h3",textStyle:"ds.title.section.medium",children:i("team_settings_encryption_service_header")})]}),(0,f.BX)(c.dDn,{gridArea:"description",children:[(0,f.tZ)(l.nv,{textStyle:"ds.title.block.small",color:"ds.text.neutral.quiet",children:i("team_settings_encryption_service_description")}),zh||(zh=(0,f.tZ)("br",{})),(0,f.tZ)(l.nv,{as:"a",textStyle:"ds.title.block.small",href:"https://support.dashlane.com/hc/articles/360013149040#why-encryption",color:"ds.text.brand.standard",rel:"noopener noreferrer",target:"_blank",children:i("team_settings_encryption_service_more_info_link")})]}),(0,f.tZ)(c.dDn,{id:"esSetupButton",as:l.zx,disabled:t||n,mood:o?"brand":"neutral",intensity:o?"catchy":"quiet",gridArea:"button",type:"button",alignSelf:"center",size:"large",onClick:()=>{ig({ssoSetupStep:d.SsoSetupStep.SetUpEncryptionServiceSettings}),r.push(`${a}/encryption-service-settings`)},isLoading:t,children:i(e?"team_settings_button_edit_label":"team_settings_encryption_service_set_up")}),e?(0,f.tZ)(c.dDn,{gridArea:"status",sx:{mt:"20px"},children:(0,f.tZ)(Rh,{config:e})}):null]})})};var Xh=a(879869),Uh=a(347418);const jh=({actions:e,endIcon:t,fieldName:a,feedbackType:n,feedbackText:i,handleAdd:s,...r})=>{const[{value:{name:o},onBlur:l,...c},{error:d},{setValue:_}]=(0,cn.U$)(a),u=o?null!=i?i:d:void 0,m=(null!=n?n:u)?"error":void 0;return(0,f.tZ)(Uh.h,{textInputProps:{id:a,endAdornment:t,feedbackText:u,feedbackType:m,fullWidth:!0,value:o,...c,...r,onChange:({currentTarget:{value:e}})=>{_({name:e})},onKeyPress:e=>{"Enter"===e.key&&(s(),e.preventDefault(),e.stopPropagation())},onBlur:e=>{e.currentTarget.value&&!e.currentTarget.readOnly&&s(),l?.(e)}},tooltipProps:{passThrough:!0},replacementActions:e})};var qh,Gh,$h,Fh;const{accessibleValidatorGreen:Vh,orange00:Hh,dashGreen02:Wh}=c.colors,Yh="team_settings_domain_register_invalid_error",Kh=({fieldArrayName:e,domainLoadError:t,refreshDomains:a})=>{const{translate:n}=(0,x.Z)(),{values:i}=(0,cn.u6)(),[s,o]=(0,r.useState)({}),[d,_]=(0,r.useState)({}),[u,m]=(0,r.useState)(""),[p,g]=(0,r.useState)(null),h=(e,t)=>{o((a=>({...a,[e]:t})))},b=async t=>{const a=t.trim();if(!hc().isFQDN(a))throw new Error(n(Yh));if(i[e].reduce(((e,t)=>t.name===a?e+1:e),0)>1)throw new Error(n("team_settings_domain_register_duplicated_error"));(e=>{_((t=>({...t,[e]:!0})))})(t);const s=await Ze.C.registerTeamDomain({domain:a});var r;if((e=>{_((({[e]:t,...a})=>a))})(t),!s.success)throw new Error(n(null!=(r={INVALID_PUBLIC_DOMAIN:"team_settings_domain_register_public_error",DOMAIN_CONTAINS_EXISTING_NONTEAM_USERS:"team_settings_domain_register_contact_support"}[s.error.code])?r:Yh))},y=async e=>{await b(e.name),await a()};return t?(0,f.tZ)(c.Ejs,{fullWidth:!0,justifyContent:"center",children:(0,f.tZ)(c.j49,{color:"errors.4",children:t})}):(0,f.BX)(f.HY,{children:[(0,f.tZ)(c.nvN,{as:"label",htmlFor:`${e}.${i[e].length-1}`,bold:!0,sx:{display:"inline-block",mb:"8px"},children:n("team_settings_domain_title")}),(0,f.tZ)(c.nvN,{size:"small",sx:{mb:"24px"},children:n("team_settings_es_sso_setup_domain_description")}),(0,f.tZ)(cn.F2,{name:e,children:e=>(0,f.tZ)(c.T5p,{justifyContent:"stretch",gridTemplateColumns:"auto",gap:"8px",gridAutoRows:"auto",children:i[e.name].map(((t,a)=>{var r,o;const _=d[t.name],u=t.status===Vo.p.valid,p=t.status===Vo.p.pending||t.status===Vo.p.invalid||t.status===Vo.p.expired,b=_?qh||(qh=(0,f.tZ)(l.ZX,{size:"medium"})):u?Gh||(Gh=(0,f.tZ)(c.rE2,{color:Vh})):p?(0,f.tZ)(c.enX,{color:t.status===Vo.p.pending?Wh:Hh}):void 0;return(0,f.tZ)(f.HY,{children:(0,f.tZ)(jh,{placeholder:n("team_settings_es_sso_domain_url_placeholder"),fieldName:`${e.name}.${a}`,readOnly:null!=(o=!!t.status)?o:_,autoFocus:a===i[e.name].length-1,endIcon:b,feedbackType:!t.status&&s[t.name]?"error":void 0,feedbackText:t.status?void 0:s[t.name],handleAdd:async()=>{try{await y(t),m(t.name)}catch(e){h(t.name,e.message)}},actions:(0,f.BX)(f.HY,{children:[t.status===Vo.p.pending||void 0===t.status?(0,f.tZ)(c.zxk,{nature:"secondary",type:"button",disabled:_,onClick:()=>(async e=>{try{void 0===e.status&&await y(e),m(e.name)}catch(t){h(e.name,t.message)}})(t),children:n(void 0===t.status?"team_settings_es_sso_setup_add_domain":"team_settings_es_sso_setup_verify_button")}):null,t.name.length&&void 0!==t.status?(0,f.tZ)(Xh.h,{nature:"secondary",type:"button",disabled:_,onClick:()=>g(t),icon:$h||($h=(0,f.tZ)(c.XHJ,{}))}):null]})})},`${e.name}.${null!=(r=t.id)?r:a}`)}))})}),Fh||(Fh=(0,f.tZ)(Rg,{})),u?(0,f.tZ)(Gc,{domainName:u,onSuccess:async()=>{m(""),await a()},onDismiss:()=>m("")}):null,p?(0,f.tZ)(Sc,{domain:p,onDismiss:()=>g(null),onConfirm:async()=>{await(async e=>{if(!e)return;const t=await Ze.C.deactivateTeamDomain({domain:e});return t.success?void 0:t.error.code})(p.name),await a()}}):null]})};var Qh;const Jh=({inputValue:e,labelText:t,disabled:a,loading:n,id:i})=>(0,f.tZ)(Xc.x,{inputValue:e,textInputProps:{fullWidth:!0,readOnly:!0,disabled:a,id:i,startAdornment:n?Qh||(Qh=(0,f.tZ)(l.ZX,{})):void 0,label:(0,f.tZ)(c.nvN,{as:"label",bold:!0,sx:{mb:"4px"},htmlFor:i,children:t})},iconButtonProps:{disabled:a}}),eb=e=>{const t=(0,r.useMemo)((()=>{var t,a;return{draft:null!=(t=e?.draft)&&t,deviceAccessKey:null!=(a=e?.deviceAccessKey)?a:""}}),[e?.draft,e?.deviceAccessKey]),[a,n]=(0,r.useState)(!0),[i,s]=(0,r.useState)(null),[o,l]=(0,r.useState)(null),c=(0,r.useCallback)((async()=>{try{return await Ze.C.getTeamDeviceEncryptedConfig(t)}catch{return{success:!1,error:{code:sh.S2}}}}),[t]),d=(0,r.useCallback)((async(e=new AbortController)=>{e.signal.aborted||n(!0);const t=await c();return e.signal.aborted||(s(t.success?null:t.error.code),t.success&&l(t.data),n(!1)),t}),[c]),_=(0,r.useCallback)((async e=>{n(!0);try{return await Ze.C.updateTeamDeviceEncryptedConfig(e)}catch{return{success:!1,error:{code:sh.S2}}}finally{n(!1)}}),[]);return(0,r.useEffect)((()=>{const e=new AbortController;return d(e),()=>{e.abort()}}),[d]),{teamDeviceConfigLoading:a,loadTeamDeviceConfigErrorCode:i,teamDeviceConfig:o,updateTeamDeviceConfig:_,refreshTeamDeviceConfig:d}};var tb,ab,nb,ib;const{grey00:sb}=c.colors,rb="team_settings_es_sso_setup_header",ob="team_settings_domain_fetch_error",lb={GENERIC_ERROR:"_common_generic_error"},cb=e=>e?`${e}/saml/callback`:"",db="ssoIdpMetadata",_b=()=>{var e;const{translate:t}=(0,x.Z)(),{teamId:a}=(0,De.fV)(),{updateTeamDeviceConfig:n}=eb(),[i,o]=(0,r.useState)(!1),[d,_]=(0,r.useState)(!1),[u,m]=(0,r.useState)([]),p=(0,r.useRef)(null),[g,h]=(0,r.useState)(!1),[b,y]=(0,r.useState)(""),{teamSettings:S={},teamSettingsLoading:v}=Te(a),{ssoIdpMetadata:C,ssoServiceProviderUrl:Z=""}=S,T=(0,s.k6)(),D=(0,r.useCallback)((async()=>{try{y("");const e=await Ze.C.getTeamDomains();if(e.success){const t=e.domains.length?e.domains:[];m([...t,{name:"",id:0}])}else y(t(ob))}catch(a){var e;y(null!=(e=a.message)?e:t(ob))}}),[t]);(0,r.useEffect)((()=>{h(!0),D().then((()=>h(!1)))}),[D]);const E={domains:u,ssoIdpMetadata:null!=(e=null!=C?C:p.current?.value)?e:""},k=()=>T.goBack();return v||g?(0,f.BX)(c.Zbd,{children:[(0,f.tZ)(c.Ol2,{children:t(rb)}),tb||(tb=(0,f.tZ)(c.aYP,{children:(0,f.tZ)(c.Ejs,{fullWidth:!0,justifyContent:"center",children:(0,f.tZ)(l.ZX,{size:60})})}))]}):(0,f.tZ)(cn.J9,{onSubmit:async(e,a)=>{try{var i;o(!0),_(!1);const s=await n({ssoEnabled:!0,[db]:e[db],connectorEndpoint:Z||void 0,teamDeviceUrl:null!=(i=S.ssoServiceProviderUrl)?i:void 0});if(!s.success){const e=s.error.code.toUpperCase();if("DEACTIVATED_TEAM_DEVICE"===e)return;const n=t(lb[e]?lb[e]:lb.GENERIC_ERROR);return void a.setFieldError(db,n)}if(s.data.encryptionServiceReloadingStatus!==oh.x.OK)return void _(!0);k()}catch(e){a.setFieldError(db,t(lb.GENERIC_ERROR)),o(!1)}},initialValues:E,enableReinitialize:!0,children:({isSubmitting:e,dirty:a})=>{return(0,f.BX)(cn.l0,{autoComplete:"off",noValidate:!0,children:[(0,f.tZ)(lh.X,{dirty:a&&!i&&!d}),(0,f.BX)(c.Zbd,{children:[(0,f.tZ)(c.Ol2,{children:t(rb)}),(0,f.BX)(c.aYP,{children:[(0,f.tZ)(Kh,{fieldArrayName:"domains",domainLoadError:b,refreshDomains:D}),ab||(ab=(0,f.tZ)("hr",{})),(0,f.tZ)(l.ke,{title:t.markup("team_settings_es_sso_setup_copy_info_to_idp_markup"),sx:{mb:"32px"}}),(0,f.BX)(c.T5p,{justifyContent:"stretch",gridTemplateColumns:"auto",gap:"32px",gridAutoRows:"auto",children:[(0,f.tZ)(Jh,{id:"entity-id-input",inputValue:(n=Z,n?`${n}/saml/`:""),labelText:t("team_settings_es_sso_entity_id_label"),disabled:v||!Z,loading:v}),(0,f.tZ)(Jh,{id:"acs-url-input",inputValue:cb(Z),labelText:t("team_settings_es_sso_acs_url_label"),disabled:v||!Z,loading:v})]}),nb||(nb=(0,f.tZ)("hr",{})),(0,f.tZ)(c.nvN,{as:"label",bold:!0,htmlFor:"sso-metadata-input",children:t("team_settings_es_sso_metadata_label")}),(0,f.tZ)(c.nvN,{size:"small",color:sb,sx:{mt:"8px",mb:"24px"},children:t("team_settings_es_sso_metadata_description")}),(0,f.tZ)(cn.gN,{name:db,children:({field:e,meta:{error:t,touched:a}})=>(0,f.tZ)(c.oil,{id:"sso-metadata-input",sx:{height:"10em",resize:"vertical"},...e,ref:p,multiline:!0,fullWidth:!0,feedbackText:a&&t?t:void 0,feedbackType:a&&t?"error":void 0})})]}),(0,f.BX)(c.eWM,{children:[d?(0,f.tZ)(c.Ejs,{sx:{flexGrow:1,justifyContent:"center"},children:ib||(ib=(0,f.tZ)(ph,{context:"SSO"}))}):null,(0,f.tZ)(c.zxk,{disabled:e,nature:"secondary",size:"large",type:"button",onClick:k,children:t("team_settings_es_sso_setup_cancel")}),(0,f.tZ)(c.zxk,{disabled:e,nature:"primary",type:"submit",size:"large",children:t("team_settings_es_sso_setup_save")})]})]})]});var n}})},{grey00:ub}=c.colors,mb="team_settings_enable_sso_test_button",pb=({actionsDisabled:e,ssoServiceProviderUrl:t})=>{const{translate:a}=(0,x.Z)(),n=t?`${t}/saml/login?redirect=test_idp`:"";return(0,f.BX)(c.T5p,{gap:"8px",gridTemplateAreas:"'header buttons' 'description buttons' ",gridTemplateColumns:"1fr auto",children:[(0,f.tZ)(c.dDn,{as:c.nvN,innerAs:"h3",size:"large",bold:!0,gridArea:"header",children:a("team_settings_enable_sso_test_title")}),(0,f.tZ)(c.dDn,{gridArea:"description",as:c.nvN,size:"small",color:ub,children:a("team_settings_enable_sso_test_description")}),(0,f.BX)(c.T5p,{gap:"8px",gridTemplateAreas:"'test copy'",as:c.dDn,gridArea:"buttons",children:[(0,f.tZ)(c.dDn,{gridArea:"test",children:(0,f.BX)(B_.M,{onClick:()=>{(0,X.Yo)(n)},size:"medium","aria-label":a(mb),disabled:null!=e?e:!n,content:a("team_settings_es_sso_setup_incomplete"),children:[a(mb),(0,f.tZ)(c.RTC,{sx:{ml:"4px"},color:"white"})]})}),(0,f.tZ)(c.dDn,{gridArea:"copy",children:(0,f.tZ)(pu.q,{buttonText:a("team_settings_copy_sso_url_button"),disabled:null!=e?e:!n,copyValue:null!=n?n:""})})]})]})},gb=({closeDialog:e})=>{const{translate:t}=(0,x.Z)();return(0,f.tZ)(ms.o,{isOpen:!0,onRequestClose:()=>e(Dc.dismiss),footer:(0,f.tZ)(c.cNS,{primaryButtonTitle:t("team_settings_enable_sso_dialog_disable_action"),primaryButtonOnClick:()=>e(Dc.action),secondaryButtonTitle:t("team_settings_enable_sso_cancel"),secondaryButtonOnClick:()=>e(Dc.dismiss),intent:"danger"}),title:t("team_settings_enable_sso_dialog_disable_title"),children:t("team_settings_enable_sso_dialog_disable_description")})};var hb;const{grey00:bb}=c.colors,yb=({actionsDisabled:e,ssoEnabled:t,updateTeamSettings:a,loading:n})=>{const{translate:i}=(0,x.Z)(),[s,o]=(0,r.useState)(!1),[_,u]=(0,r.useState)(!1),m=(0,dn.V)(),{initSsoProvisioning:p}=(0,q.u)(eg.y),{teamId:g}=(0,De.fV)(),h=()=>{m.showAlert(t?i("_common_generic_error"):i.markup("team_settings_enable_sso_action_toggle_warning_markup",void 0,{linkTarget:"_blank"}),c.BLW.ERROR)};return(0,f.BX)(f.HY,{children:[(0,f.BX)(c.T5p,{gap:"8px",gridTemplateAreas:"'header buttons' 'description toggle' ",gridTemplateColumns:"1fr auto",children:[(0,f.tZ)(c.dDn,{as:c.nvN,innerAs:"h3",size:"large",bold:!0,gridArea:"header",children:i("team_settings_enable_sso_action_title")}),(0,f.BX)(c.dDn,{gridArea:"description",as:c.nvN,size:"small",color:bb,children:[i("team_settings_enable_sso_action_description"),hb||(hb=(0,f.tZ)("br",{})),i("team_settings_enable_sso_action_description_note")]}),(0,f.tZ)(c.dDn,{gridArea:"toggle",children:(0,f.tZ)(l.ZD,{disabled:e||n,checked:t,onChange:async()=>{t?o(!0):(u(!0),ig({ssoSetupStep:d.SsoSetupStep.TurnOnSso}))}})})]}),s?(0,f.tZ)(gb,{closeDialog:async e=>{if(o(!1),e!==Dc.dismiss&&g)try{const e=!t;await a({ssoEnabled:e}),await p({teamId:g})}catch(e){h()}}}):null,_?(0,f.tZ)(wg,{title:i("team_settings_enable_sso_confirm_dialog_title"),body:i("team_settings_enable_sso_confirm_dialog_body"),primaryActionLabel:i("team_settings_enable_sso_confirm_dialog_primary_action_label"),onCancel:()=>{u(!1)},onConfirm:async()=>{await(async()=>{if(g)try{await a({ssoEnabled:!0}),await p({teamId:g}),ig({ssoSetupStep:d.SsoSetupStep.CompleteSsoSetup})}catch(e){h()}})(),u(!1)}}):null]})};var xb;const{grey00:Sb}=c.colors;var fb=function(e){return e.UNKNOWN="UNKNOWN",e.LOADING="LOADING",e.COMPLETE="COMPLETE",e.INCOMPLETE="INCOMPLETE",e.NOT_STARTED="NOT_STARTED",e.UNAVAILABLE="UNAVAILABLE",e.ERROR="ERROR",e}(fb||{});const vb=[rg.s5.enum.NitroComplete,rg.s5.enum.NitroIncomplete],Cb=({disableSetupButton:e,isSsoCapable:t})=>{var a;const{translate:n}=(0,x.Z)(),{teamId:i}=(0,De.fV)(),{teamSettings:o={},updateTeamSettings:l,teamSettingsLoading:d}=Te(i),{ssoEnabled:u=!1,ssoServiceProviderUrl:m="",ssoIdpMetadata:p}=o,[g,h]=(0,r.useState)(fb.UNKNOWN),b=(0,_.k)(eg.y,"ssoProvisioning"),y=null!=(a=b.data?.global.inferredSsoState)?a:rg.s5.enum.Unknown;(0,r.useEffect)((()=>{h(fb.LOADING),Ze.C.getTeamDomains().then((e=>{if(!e.success)return void h(fb.ERROR);const t=vb.includes(y);if(!m||t)return void h(fb.UNAVAILABLE);const a=e.domains.some((({status:e})=>"valid"===e)),n=e.domains.length>0,i=!!p;switch(!0){case a&&i:h(fb.COMPLETE);break;case!n&&i||n&&!i||!a&&n&&i:h(fb.INCOMPLETE);break;case!n&&!i:h(fb.NOT_STARTED)}}))}),[y,p,m]);const S=g===fb.UNAVAILABLE||d||e,{path:v}=(0,s.$B)(),C=(0,s.k6)(),Z=[fb.COMPLETE,fb.INCOMPLETE].includes(g);return(0,f.BX)(c.Zbd,{children:[(0,f.BX)(c.T5p,{as:c.aYP,gridTemplateAreas:"'header button' 'description button'",gridTemplateColumns:"1fr auto",gap:"8px",sx:{bg:"white",border:"none"},children:[(0,f.tZ)(c.dDn,{as:c.nvN,innerAs:"h3",size:"large",bold:!0,gridArea:"header",children:n("team_settings_es_sso_setup_header")}),(0,f.tZ)(c.dDn,{gridArea:"description",as:c.nvN,size:"small",color:Sb,children:n("team_settings_es_sso_setup_description")}),(0,f.tZ)(c.dDn,{gridArea:"button",alignSelf:"center",children:(0,f.tZ)(B_.M,{id:"ssoSetupButton",loading:d||g===fb.LOADING,disabled:S,type:"button",size:"large",onClick:()=>{C.push(`${v}/sso-settings`)},content:n("team_settings_es_sso_setup_configure_es_tooltip"),neverShowTooltip:!t,mood:Z?"neutral":"brand",intensity:Z?"quiet":"catchy",children:n(Z?"team_settings_button_edit_label":"team_settings_es_sso_setup_button")})})]}),Z?(0,f.BX)(c.aYP,{sx:{bg:"white"},children:[(0,f.tZ)(pb,{actionsDisabled:g!==fb.COMPLETE,ssoServiceProviderUrl:m}),xb||(xb=(0,f.tZ)("br",{})),(0,f.tZ)(yb,{actionsDisabled:g!==fb.COMPLETE,ssoEnabled:u,loading:d,updateTeamSettings:l})]}):null]})};var Zb,Tb,Db;const{dashDarkerGreen00:Eb,dashGreen00:kb,dashGreen06:wb,midGreen00:Nb}=c.colors,Ib=({backRoute:e})=>{const{translate:t}=(0,x.Z)(),{path:a}=(0,s.$B)(),{esConfig:n,esConfigLoading:i,refreshEncryptionServiceConfig:r}=rh(),{teamId:o}=(0,De.fV)(),{teamSettings:u,updateTeamSettings:m,teamSettingsLoading:p}=Te(o),{status:g,data:h}=(0,_.k)(eg.y,"ssoProvisioning");if(g!==ue.rq.Success)return null;const{global:{ssoCapable:b,inferredSsoState:y},enableSSO:{ssoEnabled:S}}=h,v=y===rg.s5.enum.NitroIncomplete,C=!S,Z=y===rg.s5.enum.SsoConnectorToSelfHostedMigration;return(0,f.BX)(c.T5p,{gridTemplateColumns:"auto",gridTemplateRows:"auto 1fr",fullWidth:!0,sx:{height:"100%"},children:[(0,f.BX)("div",{sx:{bg:wb,px:"48px",pt:"32px",pb:"4px"},children:[(0,f.tZ)(nr,{title:t("team_settings_es_sso_title")}),C?(0,f.BX)(c.rUS,{color:Nb,hoverColor:kb,activeColor:Eb,onClick:()=>{ig({ssoSetupStep:d.SsoSetupStep.ReturnToSsoSelection}),(0,s.uX)(e)},sx:{fontSize:"16px",display:"flex",textDecoration:"none",marginTop:"-18px"},children:[(0,f.tZ)(l.JO,{name:"ArrowLeftOutlined",size:"small",color:kb,sx:{marginRight:"10px"}})," ","Back"]}):null]}),(0,f.tZ)(Hr,{mainContent:(0,f.tZ)(c.T5p,{gridTemplateColumns:"auto",gridAutoRows:"min-content",gap:"32px",children:(0,f.BX)(s.rs,{children:[(0,f.BX)(s.AW,{exact:!0,path:a,children:[(0,f.tZ)(mg,{pageContext:ug.SelfHosted,onSetupClear:()=>m({ssoServiceProviderUrl:null})}),Zb||(Zb=(0,f.tZ)(ph,{})),Z?(0,f.tZ)(l.ke,{title:t("team_settings_es_sso_migration_infobox_title"),description:t("team_settings_es_sso_migration_infobox_body")}):null,(0,f.tZ)(Ph,{loading:i||null===b,esConfig:n,parentPath:a,disableSetupButton:!b||v}),(0,f.tZ)(Cb,{isSsoCapable:b,disableSetupButton:!b||!n?.config})]}),(0,f.tZ)(s.AW,{path:`${a}/encryption-service-settings`,children:i||p?Tb||(Tb=(0,f.tZ)(l.ZX,{})):(0,f.tZ)(Mh,{migratingFromSSOConnector:Z,onSave:()=>r(),teamSettings:u,updateTeamSettings:m,esConfig:n})}),(0,f.tZ)(s.AW,{path:`${a}/sso-settings`,children:Db||(Db=(0,f.tZ)(_b,{}))})]})}),secondaryContent:(0,f.tZ)(ao,{description:t("team_settings_es_sso_setup_guide_description"),heading:t("team_settings_es_sso_setup_guide_heading"),linkText:t("team_settings_es_sso_setup_guide_link_text"),linkProps:{linkType:to.ExternalLink,linkHref:"https://support.dashlane.com/hc/articles/360013149040"}})})]})},Ab=({closeDialog:e})=>{const{translate:t}=(0,x.Z)(),a=t.markup("team_settings_sso_desktop_infobox_warning_markup",{learnMore:te.rh},{linkTarget:"_blank"});return(0,f.tZ)(c.VqE,{closeIconName:t("_common_dialog_dismiss_button"),isOpen:!0,onClose:()=>e(Dc.dismiss),children:(0,f.BX)("div",{className:"container--m6KmsQvg_3",children:[(0,f.tZ)(c.$N8,{title:t("team_settings_enable_sso_dialog_activate_title")}),(0,f.tZ)(c.a7O,{children:(0,f.tZ)("div",{className:"toggleInfoBox--y5TmWAMYcl",children:a&&(0,f.tZ)(c.vDh,{severity:"warning",size:"small",title:a})})}),(0,f.tZ)(c.cNS,{primaryButtonOnClick:()=>e(Dc.action),primaryButtonTitle:t("team_settings_enable_sso_dialog_activate_action"),secondaryButtonOnClick:()=>e(Dc.dismiss),secondaryButtonTitle:t("team_settings_enable_sso_cancel")})]})})},Mb=({closeDialog:e})=>{const{translate:t}=(0,x.Z)();return(0,f.tZ)(ms.o,{isOpen:!0,onRequestClose:()=>e(Dc.dismiss),footer:(0,f.tZ)(c.cNS,{primaryButtonTitle:t("team_settings_enable_sso_dialog_disable_action"),primaryButtonOnClick:()=>e(Dc.action),secondaryButtonTitle:t("team_settings_enable_sso_cancel"),secondaryButtonOnClick:()=>e(Dc.dismiss),intent:"danger"}),title:t("team_settings_enable_sso_dialog_disable_title"),children:t("team_settings_enable_sso_dialog_disable_description")})},Ob=({teamSettings:e,updateTeamSettings:t,teamId:a,planTier:n,setStepComplete:i})=>{var s;const[o,l]=(0,r.useState)(null!=(s=e?.ssoEnabled)&&s),[d,_]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1),[p,g]=(0,r.useState)([]),[h,b]=(0,r.useState)(!1);(0,r.useEffect)((()=>{if(!o)return"legacy"===n||"team"===n?b(!0):void 0;i(Zc.EnableSSO)}),[a,p,o,n,i]),(0,r.useEffect)((()=>{(async()=>{const e=await Ze.C.getTeamDomains();e.success&&g(e.domains.filter((e=>"valid"===e.status)).map((e=>e.name)))})()}),[]);const{translate:y}=(0,x.Z)(),S=async e=>{if(m(!1),e!==Dc.dismiss)try{const e=!o;await t({ssoEnabled:e}),l(e)}catch(e){_(!0)}};return(0,f.BX)("div",{className:"enableSSOContainer--VLsANoM8AQ",children:[(0,f.tZ)(Cc,{label:y("team_settings_enable_sso_test_title"),labelHelper:y("team_settings_enable_sso_test_description"),children:(0,f.tZ)(c.zxk,{type:"button",nature:"primary",onClick:()=>{(0,X.Yo)(`${e?.ssoServiceProviderUrl}/saml/login?redirect=test_idp`)},disabled:!(e&&e.ssoServiceProviderUrl),children:y("team_settings_enable_sso_test_button")})}),(0,f.tZ)(Cc,{label:y("team_settings_enable_sso_action_title"),labelHelper:y("team_settings_enable_sso_action_description"),children:h?(0,f.tZ)(c.zxk,{nature:"primary",onClick:()=>(0,X.Yo)(te.Bw),type:"button",children:y("team_settings_enable_sso_contact_support")}):(0,f.BX)("div",{children:[(0,f.tZ)(c.ZDl,{onClick:()=>m(!0),checked:o,disabled:d}),o?(0,f.tZ)("div",{className:"toggleDescription--S3OccP6JDd",children:y("team_settings_enable_sso_action_toggle_description")}):null,d?(0,f.tZ)("div",{className:"toggleWarning--TU8a__FJDp",children:y.markup("team_settings_enable_sso_action_toggle_warning_markup")}):null]})}),u?o?(0,f.tZ)(Mb,{closeDialog:S}):(0,f.tZ)(Ab,{closeDialog:S}):null]})};var Lb=a(568197);const Bb=({isTeamSettingsLoading:e,teamSettings:t})=>{const{translate:a}=(0,x.Z)(),[n,i]=r.useState(""),[s,o]=r.useState(""),[l,c]=r.useState(""),d=t?.ssoServiceProviderUrl;return r.useEffect((()=>{!e&&d&&(i((0,Lb.UQ)(d,"saml")),o((0,Lb.UQ)(d,"saml/")),c((0,Lb.UQ)(d,"saml/callback")))}),[e,d]),(0,f.BX)("div",{className:"configureIDPContainer--ACoVdM7s0N",children:[(0,f.tZ)(Cc,{label:a("team_settings_configure_idp_connector_metadata"),centerLabel:!0,children:(0,f.tZ)(Xc.x,{inputValue:n,textInputProps:{fullWidth:!0,readOnly:!0}})}),(0,f.tZ)(Cc,{label:a("team_settings_configure_idp_entity_id"),centerLabel:!0,children:(0,f.tZ)(Xc.x,{inputValue:s,textInputProps:{fullWidth:!0,readOnly:!0}})}),(0,f.tZ)(Cc,{label:a("team_settings_configure_idp_login_url"),centerLabel:!0,children:(0,f.tZ)(Xc.x,{inputValue:l,textInputProps:{fullWidth:!0,readOnly:!0}})})]})};var Rb=a(798783),zb=a.n(Rb);const Pb="connectorInfoContainer--e07d9cT8Hu",Xb="textField--Nk7DpcX8Pp",Ub="loading--sfYFOqhXPS",jb="installerButtonContainer--iP6MNTnQrn",qb="errorText--snbBoX2meA",Gb=({keyValue:e,onGenerateClicked:t,isGeneratorDisabled:a,generatorDisabledText:n})=>{const{translate:i}=(0,x.Z)(),[s,o]=(0,r.useState)(!1),l=(0,r.useRef)(null);return(0,r.useEffect)((()=>{l.current&&new(zb())(l.current,{text:()=>e})}),[e]),(0,f.tZ)(Cc,{label:i("team_settings_connector_generator_title"),labelHelper:i("team_settings_connector_generator_description"),children:(0,f.tZ)("div",{className:"generatorContainer--_83Buo4tVF",children:(0,f.tZ)(c.ua7,{content:n,passThrough:!a,sx:{maxWidth:"210px"},children:(0,f.BX)("div",{className:a?"generatorDisableContent--Olv4UpdAqY":"",children:[(0,f.tZ)(c.zxk,{type:"button","aria-describedby":"errorKeyWarning",className:"generatorButton--I0z2qEK25R",onClick:()=>{o(!0),t()},disabled:a,children:i("team_settings_connector_generator_button")}),(0,f.tZ)("div",{className:"generatorInputContainer--M4lkXUrCCY",children:(0,f.tZ)(Xc.x,{inputValue:e,textInputProps:{readOnly:!0,fullWidth:!0,disabled:a,style:{cursor:a?"not-allowed":"text"}},tooltipProps:{passThrough:a},iconButtonProps:{disabled:a}})}),s&&(0,f.tZ)("p",{id:"errorKeyWarning",className:qb,children:i("team_settings_connector_generator_warning")})]})})})})},$b="team_settings_connector_installer_tooltip",Fb=({isTeamSettingsLoading:e,isSsoEnabled:t,idpMetadata:a,connectorUrl:n})=>{const{translate:i}=(0,x.Z)(),[s,o]=(0,r.useState)(""),[l,d]=(0,r.useState)("");(0,r.useEffect)((()=>{o("")}),[a,n]);const _=Boolean(a&&n&&(l||t));return(0,f.BX)(f.HY,{children:[(0,f.tZ)(Gb,{keyValue:l,onGenerateClicked:async()=>{const e=await Ze.C.generateSSOConnectorKey();d(e)},isGeneratorDisabled:t,generatorDisabledText:i("team_settings_connector_generator_instance_help")}),(0,f.tZ)(Cc,{label:i("team_settings_connector_installer_title"),labelHelper:i("team_settings_connector_installer_description"),children:(0,f.tZ)("div",{className:e?Ub:jb,children:(0,f.BX)(c.ua7,{content:i($b),passThrough:_,sx:{maxWidth:"210px"},children:[(0,f.BX)(c.zxk,{type:"button","aria-describedby":"configError",disabled:!_,onClick:async()=>{o("");const e=await Ze.C.createSSOConnectorConfig({connectorUrl:n,connectorKey:l,idpMetadata:a});e.success?(0,mr.S)(e.config,"dashlane-sso-config.txt","text/plain"):e.success||o(e.error.code)},children:[(0,f.tZ)("div",{className:"downloadIcon--dtf6SHkd51",children:(0,f.tZ)(c._8t,{color:xc()["--white"]})}),i("team_settings_connector_installer_config_button")]}),s?(0,f.tZ)("p",{id:"configError",className:qb,children:i("team_settings_connector_installer_error")}):null]})})}),(0,f.tZ)(Cc,{label:i("team_settings_connector_installer_setup_title"),labelHelper:i("team_settings_connector_installer_setup_description"),children:(0,f.tZ)("div",{className:e?Ub:jb,children:(0,f.tZ)(c.ua7,{content:i($b),passThrough:_,sx:{maxWidth:"210px"},children:(0,f.BX)(c.zxk,{type:"button",disabled:!_,onClick:()=>(0,X.Yo)(te.nC),children:[(0,f.tZ)("div",{className:"openIcon--Jft6n3KJTS",children:(0,f.tZ)(c.RTC,{color:xc()["--white"]})}),i("team_settings_connector_installer_button")]})})})})]})},Vb="team_settings_connector_edit",Hb="team_settings_connector_save",Wb="team_settings_connector_saving",Yb="team_settings_connector_success",Kb=({isTeamSettingsLoading:e,saveConnectorURL:t,saveIdpMetadata:a,teamSettings:n})=>{var i,s;const{translate:r}=(0,x.Z)();return(0,f.BX)(f.HY,{children:[(0,f.tZ)(Cc,{label:r("team_settings_connector_metadata_title"),children:(0,f.tZ)("div",{className:Pb,children:(0,f.tZ)(Hn.X,{isDisabled:e,multiLine:!0,defaultValue:null!=(i=n?.ssoIdpMetadata)?i:"",saveBtnLabel:r(Hb),savingBtnLabel:r(Wb),editBtnLabel:r(Vb),placeholder:r("team_settings_connector_metadata_placeholder"),successMessage:r(Yb),onSave:a,inputFieldClassName:"inputField--SXqAbTX3lX",textFieldClassName:Xb})})}),(0,f.tZ)(Cc,{label:r("team_settings_connector_url_title"),labelHelper:r("team_settings_connector_url_description"),children:(0,f.tZ)("div",{className:Pb,children:(0,f.tZ)(Hn.X,{isDisabled:e,defaultValue:null!=(s=n?.ssoServiceProviderUrl)?s:"",saveBtnLabel:r(Hb),savingBtnLabel:r(Wb),editBtnLabel:r(Vb),placeholder:r("team_settings_connector_url_placeholder"),successMessage:r(Yb),onSave:t,textFieldClassName:Xb})})})]})},Qb=({setStepComplete:e,isTeamSettingsLoading:t=!1,teamSettings:a,updateTeamSettings:n})=>{var i,s,o;const{translate:l}=(0,x.Z)(),c=r.useCallback((async e=>{try{await n({ssoIdpMetadata:e})}catch(e){throw Error(l("team_settings_connector_metadata_error"))}}),[n,l]),d=r.useCallback((async e=>{try{const t=e?(0,Lb.Yw)(e):null;await n({ssoServiceProviderUrl:t})}catch(e){throw Error(l("team_settings_connector_url_error"))}}),[n,l]),_=a?.ssoServiceProviderUrl,u=a?.ssoIdpMetadata;return r.useEffect((()=>{t||u&&_&&e(Zc.SSOConnector)}),[t,_,u,e]),(0,f.BX)("div",{className:"ssoConnectorContainer--ndf4jAvwn0",children:[(0,f.tZ)(Kb,{isTeamSettingsLoading:t,teamSettings:a,saveConnectorURL:d,saveIdpMetadata:c}),(0,f.tZ)(Fb,{isTeamSettingsLoading:t,isSsoEnabled:null!=(i=a?.ssoEnabled)&&i,idpMetadata:null!=(s=a?.ssoIdpMetadata)?s:"",connectorUrl:null!=(o=a?.ssoServiceProviderUrl)?o:""})]})},Jb=({lee:e})=>{const{translate:t}=(0,x.Z)(),[a,n]=(0,r.useState)(new Set),[i,s]=(0,r.useState)(new Set),[o,l]=(0,r.useState)(new Set([Tc.EnableSSO,Tc.SSOConnector]));(0,r.useEffect)((()=>{(0,b.Nc)(d.PageView.TacSettingsSsoLegacy)}),[]),(0,r.useEffect)((()=>{const e=new Set,t=new Set([Tc.EnableSSO,Tc.ConfigureIDP,Tc.SSOConnector]);a.has(Zc.ClaimDomain)&&a.has(Zc.VerifyDomain)&&(e.add(Tc.SSOConnector),e.add(Tc.ConfigureIDP),e.add(Tc.EnableSSO),t.delete(Tc.SSOConnector),t.delete(Tc.ConfigureIDP),t.delete(Tc.EnableSSO)),a.has(Zc.EnableSSO)&&(e.delete(Tc.SSOConnector),e.delete(Tc.ConfigureIDP)),s(e),l(t)}),[a]);const _=(0,r.useCallback)((e=>{n((t=>{const a=e=>e.every((e=>t.has(e)));let n=!0;switch(e){case Zc.EnableSSO|Zc.VerifyDomain:n=!0;break;case Zc.SSOConnector:n=a([Zc.ClaimDomain,Zc.VerifyDomain]);break;case Zc.EnableSSO:n=a([Zc.ClaimDomain,Zc.VerifyDomain,Zc.SSOConnector])}return n&&!t.has(e)?new Set([...t,e]):t}))}),[]),u=(0,r.useCallback)((e=>{n((t=>{const a=new Set(t);return e.forEach((e=>{a.delete(e)})),a}))}),[]),m=(0,k.ev)(e.globalState),{teamSettingsLoading:p,teamSettings:g,updateTeamSettings:h,planTier:y}=Te(m),S=[{label:t("team_settings_sso_connector_title"),component:Qb,locked:o.has(Tc.SSOConnector),open:i.has(Tc.SSOConnector),index:2},{label:t("team_settings_sso_identity_provider_title"),component:Bb,locked:o.has(Tc.ConfigureIDP),open:i.has(Tc.ConfigureIDP),index:3},{label:t("team_settings_sso_enable_title"),component:Ob,locked:o.has(Tc.EnableSSO),open:i.has(Tc.EnableSSO),index:4}];return(0,f.BX)(Jm,{trailingContent:p?(0,f.tZ)(Ss.Z,{containerClassName:"loadingContainer--Qcn7EL4GD5",size:40}):(0,f.tZ)(c.UQy,{size:"large",children:S.map((e=>(0,f.BX)(c.UlM,{open:e.open,readOnly:e.locked,children:[(0,f.tZ)(c._Oh,{children:`${e.index}. ${e.label}`}),(0,f.tZ)(c.rN7,{children:(0,f.tZ)("fieldset",{disabled:e.locked,children:(0,f.tZ)(e.component,{isTeamSettingsLoading:p,teamSettings:g,setStepComplete:_,updateTeamSettings:h,teamId:null!=m?m:null,planTier:null!=y?y:null})})})]},e.label)))}),title:t("team_settings_menu_title_single_sign_on"),children:[(()=>{if(!g||g.ssoEnabled)return null;if("team"===y||"legacy"===y){const e=t.markup("team_settings_sso_teamplan_infobox_warning_markup"),a=t("team_settings_sso_teamplan_infobox_warning_button");return(0,f.tZ)("div",{className:"infoBox--w1PtJInNuc",children:(0,f.tZ)(c.vDh,{title:e,size:"simple",secondaryLabel:a,secondary:()=>(0,X.Yo)(te.Bw)})})}return null})(),(0,f.tZ)("p",{className:Ym.settingsHeader,children:t("team_settings_sso_title")}),(0,f.tZ)(Cc,{label:t("team_settings_sso_guide_title"),labelHelper:t("team_settings_sso_guide_description"),children:(0,f.tZ)(tp.Z,{label:t("team_settings_sso_setup_button"),onClick:()=>{(0,X.Yo)(te.nC)}})}),(0,f.tZ)(Ac,{isTeamSettingsLoading:p,teamSettings:g,setStepComplete:_,uncompleteSteps:u,updateTeamSettings:h,teamId:m,planTier:y})]})};var ey=a(818995);const ty={title:"tac_settings_choose_sso_card_self_hosted_title",redirectUrl:"self-hosted-sso",supportedFeatures:[{title:"tac_settings_sso_self_hosted_card_zero_knowledge",description:"",isSupported:!0,iconName:"FeedbackSuccessOutlined"},{title:"tac_settings_sso_self_hosted_card_simplified_setup",description:"tac_settings_sso_self_hosted_card_not_simplified_setup_description",isSupported:!1,iconName:"FeedbackFailOutlined"},{title:"tac_settings_sso_self_hosted_card_verified_domain",description:"",isSupported:!0,iconName:"FeedbackSuccessOutlined"},{title:"tac_settings_sso_self_hosted_card_scim_support",description:"",isSupported:!0,iconName:"FeedbackSuccessOutlined"}]},ay={title:"tac_settings_choose_sso_card_nitro_title",redirectUrl:"confidential-sso",supportedFeatures:[{title:"tac_settings_sso_self_hosted_card_zero_knowledge",description:"",isSupported:!0,iconName:"FeedbackSuccessOutlined"},{title:"tac_settings_sso_self_hosted_card_simplified_setup",description:"tac_settings_sso_nitro_card_simplified_setup_description",isSupported:!0,iconName:"FeedbackSuccessOutlined"},{title:"tac_settings_sso_self_hosted_card_verified_domain",description:"",isSupported:!0,iconName:"FeedbackSuccessOutlined"},{title:"tac_settings_sso_self_hosted_card_scim_support",description:"",isSupported:!0,iconName:"FeedbackSuccessOutlined"}]},ny={title:"tac_settings_choose_sso_card_sso_connector_title",redirectUrl:"sso-connector",supportedFeatures:[{title:"tac_settings_sso_self_hosted_card_zero_knowledge",description:"",isSupported:!0,iconName:"FeedbackSuccessOutlined"},{title:"tac_settings_sso_self_hosted_card_simplified_setup",description:"tac_settings_sso_self_hosted_card_not_simplified_setup_description",isSupported:!1,iconName:"FeedbackFailOutlined"},{title:"tac_settings_sso_self_hosted_card_verified_domain",description:"",isSupported:!1,iconName:"FeedbackFailOutlined"},{title:"tac_settings_sso_self_hosted_card_scim_support",description:"",isSupported:!1,iconName:"FeedbackFailOutlined"}]},iy=({backgroundColor:e,withBorder:t,paddingSize:a="normal",...n})=>(0,f.tZ)("div",{sx:{bg:null!=e?e:"ds.container.agnostic.neutral.quiet",p:"tight"===a?"24px":"32px 24px",border:t?"1px solid #8C8F9033":void 0,borderRadius:3,height:"fit-content"},...n});var sy;const ry=()=>{const[e,t]=(0,r.useState)(!1),[a,n]=(0,r.useState)(!1),{teamId:i}=(0,De.fV)(),{clearSettings:s,initSsoProvisioning:o}=(0,q.u)(eg.y);return(0,f.BX)(c.T5p,{as:iy,backgroundColor:"ds.background.default",paddingSize:"normal",gridTemplateRows:"auto 1fr auto",justifyItems:"center",children:[(0,f.tZ)(l.nv,{color:"ds.text.neutral.standard",textStyle:"ds.body.standard.regular",children:"Use this button to reset the SSO configuration in case of error"}),(0,f.tZ)(l.zx,{layout:"iconLeading",tooltip:"Reset SSO configuration","aria-label":"Reset SSO Button",icon:"ActionRefreshOutlined",type:"button",isLoading:e,onClick:async()=>{try{t(!0);const e=await s();(0,G.d6)(e)&&i&&await o({teamId:i})}catch(e){console.error(e),n(!0)}finally{t(!1)}},children:"Reset"}),a?sy||(sy=(0,f.tZ)(l.nv,{color:"ds.text.danger.standard",textStyle:"ds.body.standard.regular",children:"Reset has fail, please check the console"})):null]})},oy=({title:e,description:t,isSupported:a,iconName:n,disabled:i=!1})=>{const{translate:s}=(0,x.Z)();return(0,f.BX)(c.Ejs,{flexDirection:"row",gap:"8px",flexWrap:"nowrap",alignItems:"flex-start",children:[(0,f.tZ)("div",{sx:{padding:"10px",borderRadius:"12px",background:void 0===a?i?"ds.container.expressive.brand.quiet.disabled":"ds.container.expressive.brand.quiet.idle":a?"ds.container.expressive.positive.quiet.disabled":"ds.container.expressive.danger.quiet.disabled"},children:(0,f.tZ)(l.JO,{name:n,color:i?"ds.border.brand.quiet.idle":"ds.text.brand.standard"})}),(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"4px",children:[(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:i?"ds.text.oddity.disabled":"ds.text.neutral.catchy",children:s(e)}),t?(0,f.tZ)(l.nv,{textStyle:"ds.body.helper.regular",color:i?"ds.text.oddity.disabled":"ds.text.neutral.quiet",children:s(t)}):null]})]})},ly=({title:e,redirectUrl:t,optionNumber:a,supportedFeatures:n,buttonLabel:i,onCtaClick:r,disabled:o=!1,selected:d=!1,featureCardStatus:_="NOT_STARTED"})=>{const{translate:u}=(0,x.Z)(),m=(0,s.k6)(),p=`${(0,s.$B)().path}/${t}`;return(0,f.tZ)(c.Zbd,{sx:{padding:"24px",borderColor:d?"ds.border.brand.standard.idle":"ds.border.neutral.quiet.idle",backgroundColor:"ds.container.agnostic.neutral.supershy",width:"100%"},children:(0,f.BX)(c.T5p,{gridTemplateAreas:"'option badge' 'title title' 'body body' 'button button'",children:[(0,f.tZ)(c.dDn,{gridArea:"option",sx:{marginBottom:"8px"},children:(0,f.tZ)(l.nv,{color:o?"ds.text.oddity.disabled":"ds.text.neutral.quiet",textStyle:"ds.body.helper.regular",children:`${u("tac_settings_directory_sync_card_option")} ${a}`})}),"ACTIVATED"===_||"STARTED"===_?(0,f.tZ)(c.dDn,{gridArea:"badge",justifySelf:"right",children:(0,f.tZ)(l.Ct,{mood:"ACTIVATED"===_?"positive":"warning",intensity:"catchy",label:u("ACTIVATED"===_?"tac_settings_directory_sync_card_badge_enabled":"tac_settings_feature_card_badge_configuration_not_completed")})}):null,(0,f.tZ)(c.dDn,{gridArea:"title",sx:{marginBottom:"32px"},children:(0,f.tZ)(l.X6,{as:"h3",textStyle:"ds.title.section.medium",color:o?"ds.text.oddity.disabled":"ds.text.neutral.catchy",sx:{display:"inline-block"},children:u(e)})}),(0,f.tZ)(c.dDn,{gridArea:"body",children:(0,f.tZ)(c.Ejs,{gap:"32px",flexDirection:"column",sx:{marginBottom:"32px"},children:n.map((e=>(0,f.tZ)(oy,{disabled:o,...e},a+e.title)))})}),(0,f.tZ)(c.dDn,{gridArea:"button",justifySelf:"right",children:(0,f.tZ)(l.zx,{role:"button",onClick:()=>{r?.(),m.push(p)},disabled:o,intensity:"catchy",children:i})})]})})},cy={CouldNotGetTeamStatus:"COULD_NOT_GET_TEAM_STATUS",TeamIdNotFound:"TEAM_ID_NOT_FOUND",UserNotAuthorized:"USER_NOT_AUTHORIZED",InvalidSsoState:"INVALID_SSO_STATE",GenericSsoError:"GENERIC_SSO_ERROR"},dy={ERROR_HEADER:"team_settings_sso_error_header",RETRY:"team_settings_sso_error_button_retry",RESET:"team_settings_sso_error_button_reset",RETRY_MODAL_TITLE:"team_settings_sso_error_retry_modal_title",RETRY_MODAL_BODY:"team_settings_sso_error_retry_modal_body",RETRY_MODAL_CANCEL:"team_settings_sso_error_retry_modal_button_cancel",RETRY_MODAL_CONFIRM:"team_settings_sso_error_retry_modal_button_confirm",COULD_NOT_GET_TEAM_STATUS:"team_settings_sso_error_message_team_status",TEAM_ID_NOT_FOUND:"team_settings_sso_error_message_team_id",USER_NOT_AUTHORIZED:"team_settings_sso_error_message_not_authorized",INVALID_SSO_STATE:"team_settings_sso_error_message_invalid_sso_state",GENERIC_SSO_ERROR:"team_settings_sso_error_message_generic"},_y=({onReloadData:e,errorTag:t})=>{const{translate:a}=(0,x.Z)(),{clearSettings:n}=(0,q.u)(eg.y),i=(0,ae.o)("setup_rollout_reset_confidential_button"),[s,o]=(0,r.useState)(!1),[d,_]=(0,r.useState)(!1);return(0,f.BX)(c.Ejs,{alignItems:"center",justifyContent:"center",fullWidth:!0,gap:"40px",sx:{mt:"20vh",flexDirection:"column"},children:[(0,f.tZ)(l.JO,{name:"FeedbackFailOutlined",color:"ds.text.danger.quiet",sx:{height:"64px",width:"64px"}}),(0,f.BX)(c.Ejs,{alignItems:"center",flexDirection:"column",gap:"8px",children:[(0,f.tZ)(l.X6,{textStyle:"ds.title.section.large",as:"h1",children:a(dy.ERROR_HEADER)}),(0,f.tZ)(l.nv,{children:a(dy[cy[t]])})]}),(0,f.BX)(c.Ejs,{gap:"16px",children:[i?(0,f.BX)(f.HY,{children:[(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",onClick:()=>o(!0),isLoading:d,children:a(dy.RESET)}),(0,f.tZ)(l.Vq,{actions:{primary:{children:a(dy.RETRY_MODAL_CONFIRM),onClick:async()=>{o(!1),_(!0),await n(),e()}},secondary:{children:a(dy.RETRY_MODAL_CANCEL),onClick:()=>o(!1)}},closeActionLabel:"Close",onClose:()=>o(!1),title:a(dy.RETRY_MODAL_TITLE),isOpen:s,isDestructive:!0,children:(0,f.tZ)(l.nv,{children:a(dy.RETRY_MODAL_BODY)})})]}):null,(0,f.tZ)(l.zx,{mood:"brand",intensity:"catchy",onClick:e,disabled:d,children:a(dy.RETRY)})]})]})};var uy,my,py;const gy=()=>{const{translate:e}=(0,x.Z)(),[t,a]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!0),[s,o]=(0,r.useState)(null),m=(0,h.s)(),p=(0,u._)(),g=(0,_.k)(eg.y,"ssoProvisioning"),y=(0,_.k)(ey.m,"scimConfiguration"),{initSsoProvisioning:S}=(0,q.u)(eg.y),{teamId:v}=(0,De.fV)(),C=(0,r.useCallback)((async e=>{if(!e)return;o("");const t=await S({teamId:`${e}`});(0,G.hx)(t)&&o(t.error.tag)}),[S]);(0,r.useEffect)((()=>{C(v).then((()=>{a(!0)}))}),[C,v]),(0,r.useEffect)((()=>{(0,b.Nc)(d.Page.TacSso)}),[]);const{resetButtonFF:Z,ssoMigrationFF:T,ssoConnectorCardFF:D}=(()=>{if(p.status!==ue.rq.Success)return{};const{setup_rollout_reset_confidential_button:e,itadmin_tac_encryptionservice_SSOmigration_reset:t,setup_rollout_web_ssoconnector_card:a}=p.data;return{resetButtonFF:null!=e&&e,ssoMigrationFF:null!=t&&t,ssoConnectorCardFF:null!=a&&a}})();if((0,r.useEffect)((()=>{p.status===ue.rq.Success&&m&&g.status===ue.rq.Success&&y.status===ue.rq.Success&&t&&i(!1)}),[m,Z,g.status,y.status,t,p]),n)return(0,f.tZ)(c.T5p,{justifyItems:"center",children:(0,f.tZ)(l.ZX,{size:75,sx:{marginTop:"20vh"}})});if(s||g.status===ue.rq.Error||y.status===ue.rq.Error)return(0,f.tZ)(_y,{onReloadData:()=>{C(v)},errorTag:null!=s?s:""});if(g.status!==ue.rq.Success||y.status!==ue.rq.Success||!m)return null;const{inferredSsoState:E,ssoCapable:k}=g.data.global,w=!k||E===rg.s5.enum.Unknown,N=E===rg.s5.enum.SelfHostedIncomplete||E===rg.s5.enum.SelfHostedComplete,I=E===rg.s5.enum.NitroIncomplete||E===rg.s5.enum.NitroComplete,A=E===rg.s5.enum.SsoConnectorIncomplete||E===rg.s5.enum.SsoConnectorComplete||D;return(0,f.BX)(c.T5p,{gap:"16px",alignContent:"start",sx:{px:"48px",pt:"32px",pb:"12px"},children:[(0,f.BX)(c.T5p,{fullWidth:!0,gap:"24px",gridTemplateColumns:A?"1fr 1fr 1fr":"1fr 1fr",children:[(0,f.tZ)(ly,{selected:I,optionNumber:1,...ay,buttonLabel:e(I?"tac_settings_choose_sso_confidential_card_button_edit":"tac_settings_choose_sso_confidential_card_button_setup"),disabled:w||E===rg.s5.enum.SelfHostedComplete||A,featureCardStatus:E===rg.s5.enum.NitroComplete?"ACTIVATED":E===rg.s5.enum.NitroIncomplete?"STARTED":"NOT_STARTED",onCtaClick:()=>{ig({currentBillingPlanTier:m.spaceTier,ssoSetupStep:d.SsoSetupStep.ChooseYourSsoSolution})}}),(0,f.tZ)(ly,{optionNumber:2,...ty,selected:N,buttonLabel:e(N?"tac_settings_choose_sso_self_hosted_card_button_edit":"tac_settings_choose_sso_self_hosted_card_button_setup"),disabled:w||E===rg.s5.enum.NitroComplete||!!y.data.token||A&&!T,featureCardStatus:E===rg.s5.enum.SelfHostedComplete?"ACTIVATED":E===rg.s5.enum.SelfHostedIncomplete?"STARTED":"NOT_STARTED",onCtaClick:()=>{sg({currentBillingPlanTier:m.spaceTier,ssoSetupStep:d.SsoSetupStep.ChooseYourSsoSolution})}}),A?(0,f.tZ)(ly,{optionNumber:3,...ny,buttonLabel:e("tac_settings_choose_sso_sso_connector_card_button_edit"),disabled:I||N,featureCardStatus:"ACTIVATED"}):null]}),Z?uy||(uy=(0,f.tZ)(ry,{})):null]})},hy=()=>{const{translate:e}=(0,x.Z)();return(0,f.BX)(c.T5p,{gridTemplateColumns:"auto",gridTemplateRows:"auto 1fr",fullWidth:!0,sx:{height:"100%"},children:[(0,f.BX)(c.T5p,{sx:{px:"48px",pt:"32px",pb:"12px"},children:[(0,f.tZ)(nr,{title:"Choose your single sign-on (SSO) configuration"}),(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",children:e("choose_sso_screen_paragraph_sso_description")}),(0,f.BX)("div",{sx:{display:"flex",alignItems:"center"},children:[(0,f.BX)(l.nv,{as:"a",href:"https://support.dashlane.com/hc/en-us/articles/360013149040",textStyle:"ds.body.standard.regular",color:"ds.text.brand.quiet",sx:{padding:"5px 5px 5px 0px",gap:"4px"},children:[" ",e("choose_sso_screen_link_lean_more")]}),my||(my=(0,f.tZ)(l.JO,{name:"ActionOpenExternalLinkOutlined",size:"small",color:"ds.text.brand.quiet"}))]})]}),py||(py=(0,f.tZ)(gy,{}))]})};var by=a(385993);const yy={ITEM:{display:"flex",flexDirection:"row",alignItems:"flex-start",gap:"16px"}},xy=({iconName:e,title:t,subtitle:a})=>{const{translate:n}=(0,x.Z)();return(0,f.BX)("div",{sx:yy.ITEM,children:[(0,f.tZ)(l.JO,{name:e,size:"xlarge"}),(0,f.BX)("div",{children:[(0,f.tZ)(l.nv,{textStyle:"ds.title.block.medium",sx:{marginBottom:"5px"},children:n(t)}),(0,f.tZ)(l.nv,{textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.quiet",children:n(a)})]})]})};var Sy;const fy={WHATS_SSO:{i18nKey:"team_settings_sso_paywall_whats_sso",url:te.Tz},ZERO_KNOWLEDGE:{i18nKey:"team_settings_sso_paywall_zero_knowledge",url:te.mn},MULTI_DOMAINS:{i18nKey:"team_settings_sso_paywall_multi_domains",url:te.I9},SELF_HOSTED:{i18nKey:"team_settings_sso_paywall_self_hosted",url:te.bx},CONFIDENTIAL_SSO:{i18nKey:"team_settings_sso_paywall_confidential_sso",url:te.Fn},IDENTITY_PROVIDER:{i18nKey:"team_settings_sso_paywall_identity_provider",url:te.HX},HELP_CENTER:{i18nKey:"team_settings_sso_paywall_helper_center",url:te.Tx}},vy={CONTAINER:{borderRadius:"8px",border:"1px solid ds.border.neutral.quiet.idle",padding:"32px",backgroundColor:"ds.background.default",display:"flex",flexDirection:"column",alignItems:"flex-start"},HEADER:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"8px",alignSelf:"stretch"},ITEMS:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"32px",alignSelf:"stretch"},ACTIONS:{display:"flex",justifyContent:"space-between",alignItems:"center",alignSelf:"stretch"}},Cy=({isTrialOrGracePeriod:e})=>{const{translate:t}=(0,x.Z)(),{routes:a}=(0,s.Xo)(),n=(0,z.B)();return(0,f.BX)(c.T5p,{gap:"32px",alignContent:"start",sx:vy.CONTAINER,children:[(0,f.BX)("div",{sx:vy.HEADER,children:[(0,f.tZ)(l.Ct,{iconName:"PremiumOutlined",layout:"iconLeading",label:t("team_settings_sso_paywall_business_badge"),mood:"brand",intensity:"quiet"}),(0,f.tZ)(l.nv,{textStyle:"ds.title.section.large",children:t("team_settings_sso_paywall_title")}),(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",children:t("team_settings_sso_paywall_description")})]}),(0,f.BX)("div",{sx:vy.ITEMS,children:[(0,f.tZ)(xy,{iconName:"ProtectionOutlined",title:"team_settings_sso_paywall_user_experience_item",subtitle:"team_settings_sso_paywall_user_experience_description"}),(0,f.tZ)(xy,{iconName:"FeatureDarkWebMonitoringOutlined",title:"team_settings_sso_paywall_transparency_item",subtitle:"team_settings_sso_paywall_transparency_description"}),(0,f.tZ)(xy,{iconName:"AccountSettingsOutlined",title:"team_settings_sso_paywall_access_item",subtitle:"team_settings_sso_paywall_access_description"}),(0,f.tZ)(xy,{iconName:"ToolsOutlined",title:"team_settings_sso_paywall_confidential_sso_item",subtitle:"team_settings_sso_paywall_confidential_sso_description"})]}),(0,f.BX)("div",{sx:vy.ACTIONS,children:[Sy||(Sy=(0,f.tZ)(by.a,{dropdownItems:fy,titleKey:"team_settings_sso_paywall_learn_more"})),(0,f.tZ)(l.zx,{mood:"brand",intensity:"catchy",icon:"PremiumOutlined",layout:"iconLeading",role:e?"link":void 0,onClick:()=>{var t;(0,b.Kz)(new d.UserClickEvent({button:d.Button.UpgradeBusinessTier,clickOrigin:d.ClickOrigin.SsoPaywallPage})),e?(0,X.Yo)(`${te.ub}?plan=business&subCode=${null!=(t=n?.subscriptionCode)?t:""}&utm_source=button:upgrade_business_tier+click_origin:sso_paywall_page+origin_page:tac/sso/paywall+origin_component:main_app`):(0,s.uX)(`${a.teamAccountChangePlanRoutePath}?plan=business`)},children:t("team_settings_sso_paywall_upgrade_business")})]})]})},Zy=({isTrialOrGracePeriod:e})=>{const[t,a]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{(0,b.Nc)(d.PageView.TacSsoPaywall)}),[]),(0,f.BX)(f.HY,{children:[(0,f.tZ)(Hr,{mainContent:(0,f.tZ)(c.T5p,{gridTemplateColumns:"auto",gridAutoRows:"min-content",gap:"32px",children:(0,f.tZ)(Cy,{isTrialOrGracePeriod:e})}),secondaryContent:(0,f.tZ)(no,{openContactDialog:()=>a(!0)})}),t?(0,f.tZ)(ee.c,{onDismiss:()=>a(!1)}):null]})};var Ty;const Dy="/confidential-sso",Ey="/paywall",ky=({lee:e})=>{var t;const a=(0,s.$B)(),{shouldShowBuyOrUpgradePaywall:n,isTrialOrGracePeriod:i,planType:r}=null!=(t=fe(e.permission.adminAccess))?t:{},o=n&&(r===g.lD.Starter||r===g.lD.Team);return(0,f.BX)(s.rs,{children:[(0,f.tZ)(s.AW,{path:`${a.path}/self-hosted-sso`,children:(0,f.tZ)(Ib,{backRoute:a.url})}),(0,f.tZ)(s.AW,{path:`${a.path}${Dy}`,children:(0,f.tZ)(ih,{backRoute:a.url})}),(0,f.tZ)(s.AW,{path:`${a.path}${Ey}`,children:(0,f.tZ)(Zy,{isTrialOrGracePeriod:null!=i&&i})}),(0,f.tZ)(s.AW,{path:`${a.path}/sso-connector`,children:(0,f.tZ)(Jb,{lee:e})}),(0,f.tZ)(s.AW,{exact:!0,path:a.path,children:o?(0,f.tZ)(s.l_,{to:`${a.path}${Ey}`}):Ty||(Ty=(0,f.tZ)(hy,{}))})]})};var wy=a(758480);const Ny=({accountInfo:e})=>{const{translate:t}=(0,x.Z)(),{routes:a}=(0,s.Xo)();return e?.premiumStatus?(0,f.tZ)(l.ke,{title:t("team_settings_active_directory_paywall_title"),description:t("team_settings_active_directory_paywall_description"),actions:[(0,R.wt)(e.premiumStatus)?(0,f.tZ)(l.zx,{onClick:()=>{(0,b.Kz)(new d.UserClickEvent({button:d.Button.UpgradeBusinessTier,clickOrigin:d.ClickOrigin.DirectorySyncPaywallPage})),(0,X.Yo)(`${te.ub}?plan=business&subCode=${e?.subscriptionCode}`)},children:t("team_settings_active_directory_paywall_buy")},"buy"):(0,f.tZ)(s.rU,{to:`${a.teamAccountChangePlanRoutePath}?plan=business`,children:(0,f.tZ)(l.zx,{children:t("team_settings_active_directory_paywall_upgrade")})},"upgrade")],size:"large",sx:{marginBottom:"32px"}}):null};var Iy,Ay;const My="_common_generic_error",Oy=({lee:e,disableForm:t,adSyncEnabled:a,isAdSyncCapable:n,accountInfo:i})=>{const{translate:s}=(0,x.Z)(),{reportTACError:o}=H(),{lastADSyncDateError:_,lastADSyncDateLoading:u,lastADSyncDate:m}=function(){const[e,t]=(0,r.useState)(!1),[a,n]=(0,r.useState)(),[i,s]=(0,r.useState)(null),o=(0,r.useCallback)((async e=>{try{e.signal.aborted||t(!0);const a=await async function(){const e=await Ze.C.getLastADSyncDate();if(e.success)return{lastSyncRequestForTeamUnix:e.data.lastSyncRequestForTeam,lastSuccessfulSyncRequestForTeamUnix:e.data.lastSuccessfulSyncRequestForTeam};throw new Error(`getScimLastSyncDate: failed with error ${e.error}`)}();e.signal.aborted||(n(a),t(!1),s(null))}catch(a){e.signal.aborted||(t(!1),s(a))}}),[]);return(0,r.useEffect)((()=>{const e=new AbortController;return o(e),()=>{e.abort()}}),[o]),{lastADSyncDateLoading:e,lastADSyncDate:a,lastADSyncDateError:i}}(),p=s.shortDate,[g,h]=(0,r.useState)(!0),[y,S]=(0,r.useState)(!1),[v,C]=(0,r.useState)(!1),[Z,T]=(0,r.useState)(!1),[D,E]=(0,r.useState)(!1),{inviteLinkDataForAdmin:k,getInviteLinkDataForAdmin:w}=(0,Ld.h)(),[N,I]=(0,r.useState)(!1),[A,M]=(0,r.useState)(void 0),{teamId:O}=(0,De.fV)(),{teamSettings:L,teamSettingsLoading:B,updateTeamSettings:R}=Te(O),z=(0,r.useCallback)((()=>e.apiMiddleware.teamPlans?e.apiMiddleware.teamPlans:(o(new Error("teamPlans service missing from apiMiddleware")),null)),[]);(0,r.useEffect)((()=>{(0,b.Nc)(d.PageView.TacSettingsDirectorySyncActiveDirectory)}),[]),(0,r.useEffect)((()=>{w()}),[w]);const P=(0,r.useCallback)((()=>{if(!L)return;const{activeDirectorySyncType:t,activeDirectoryToken:a,activeDirectorySyncStatus:n}=L;try{const i={activeDirectorySyncStatus:n,activeDirectorySyncType:t,activeDirectoryToken:a,teamId:O};M(a),e.dispatch(wy.vo(i)),C(["full","deprovision-only"].includes(null!=t?t:"")),E((e=>["full","provision-only"].includes(e))(null!=t?t:"")),h(!1)}catch(e){console.error(`ActiveDirectorySettings - fetchData: failed with error: ${e}`)}}),[e,O,L]);(0,r.useEffect)((()=>{B&&P()}),[p,B,P]);const X=(e,t)=>e?t?"full":"provision-only":t?"deprovision-only":null,U=(0,te.cI)(k?.teamKey);return(0,f.BX)(Vg,{title:"Active Directory",children:[(0,f.tZ)(gu,{showSharingDialog:N,setShowSharingDialog:I}),(0,f.BX)(c.T5p,{gap:"10px",gridTemplateAreas:"'mainContent secondaryContent'",gridTemplateColumns:"auto 1fr",alignContent:"flex-start",children:[(0,f.tZ)(c.dDn,{gridArea:"mainContent",children:(0,f.BX)(Jm,{children:[n?null:(0,f.tZ)(Ny,{accountInfo:i}),(0,f.tZ)(l.nv,{sx:{marginTop:t?"32px":void 0},color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.strong",children:s("team_settings_active_directory_title_help")}),(0,f.tZ)(Cc,{label:s("team_settings_active_directory_header_label"),labelHelper:s("team_settings_active_directory_header_helper"),children:(0,f.tZ)("div",{children:(0,f.tZ)(tp.Z,{label:s("team_settings_active_directory_header_button_label"),onClick:()=>{window.open("https://support.dashlane.com/hc/articles/115002155485","_blank")}})})}),(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.strong",children:s("team_settings_active_directory_title_status")}),(0,f.tZ)(Cc,{label:s("team_settings_active_directory_last_successful_sync_date_label"),children:u?Iy||(Iy=(0,f.tZ)(l.ZX,{color:"ds.oddity.focus",size:"medium"})):_?`${s("_common_generic_error")} ${_.message.toLowerCase()}`:m?.lastSuccessfulSyncRequestForTeamUnix?p((0,na.Z)(m.lastSuccessfulSyncRequestForTeamUnix),ga._T.lll):s("team_settings_active_directory_last_successful_sync_date_value_never")}),(()=>{const{activeDirectorySyncStatus:t}=e.state;return t?.failedSyncCount?(0,f.BX)(f.HY,{children:[(0,f.tZ)(Cc,{label:s("team_settings_active_directory_last_error_message_label"),children:(0,f.tZ)("span",{sx:{color:"ds.text.danger.standard"},children:t.lastFailedSync?.error})}),(0,f.tZ)(Cc,{label:s("team_settings_active_directory_last_error_date_label"),children:(0,f.tZ)("span",{sx:{color:"ds.text.danger.standard"},children:t?.lastFailedSync?p((0,na.Z)(t.lastFailedSync.eventDateUnix),ga._T.lll):null})}),(0,f.tZ)(Cc,{label:s("team_settings_active_directory_fail_count_label"),children:(0,f.tZ)("span",{sx:{color:"ds.text.danger.standard"},children:e.state.activeDirectorySyncStatus.failedSyncCount})})]}):null})(),(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.strong",children:s("team_settings_active_directory_title_setup")}),(0,f.tZ)(Cc,{label:s("team_settings_active_directory_automated_provisioning_label"),labelHelper:s("team_settings_active_directory_automated_provisioning_helper"),children:(0,f.tZ)(ep.Z,{genericErrorMessage:s(My),isDisabled:g||Z||t,saveValueFunction:async()=>{if(Z)return Promise.resolve();T(!0);const t=!D,a=X(t,v);try{if(!L)return;let{activeDirectorySyncStatus:n}=L;if(!n){const e=await(async()=>{const e=await z();if(!e)return;const{activeDirectorySyncStatus:t,activeDirectoryToken:a}=await e.getADToken();return M(a),{activeDirectorySyncStatus:t,activeDirectoryToken:a}})();n=e?.activeDirectorySyncStatus}await R({activeDirectorySyncType:a}),e.dispatch(wy.dV(a)),E(t),T(!1)}catch(e){o(e)}},value:D})}),(0,f.tZ)(Cc,{label:s("team_settings_active_directory_automated_deprovisioning_label"),labelHelper:s("team_settings_active_directory_automated_deprovisioning_helper"),children:(0,f.tZ)(ep.Z,{genericErrorMessage:s(My),isDisabled:g||y||t,saveValueFunction:async()=>{if(y)return Promise.resolve();S(!0);const t=!v,a=X(D,t);try{await R({activeDirectorySyncType:a}),e.dispatch(wy.dV(a)),C(t),S(!1)}catch(e){o(e)}},value:v})}),(0,f.BX)(Cc,{label:s("team_settings_active_directory_cron_script_label"),labelHelper:s("team_settings_active_directory_cron_script_helper"),children:[(0,f.tZ)(s_.n,{defaultValue:e.state.activeDirectoryScript,isDisabled:!0,multiLine:!0,style:{backgroundColor:"ds.container.expressive.neutral.quiet.active",fontSize:"12px",height:"180px",width:"300px"}}),(0,f.tZ)("div",{children:(0,f.tZ)(n_.Z,{label:e.state.isCopied?s("team_settings_active_directory_button_copy_feedback"):s("team_settings_active_directory_button_copy_label"),onClick:()=>{navigator.clipboard.writeText(e.state.activeDirectoryScript).then((()=>{e.dispatch(wy.Kk(!0)),window.setTimeout((()=>e.dispatch(wy.Kk(!1))),700)}))},disabled:!A})})]})]})}),a?(0,f.tZ)(c.dDn,{gridArea:"secondaryContent",sx:{maxWidth:"500px",minWidth:"250px"},alignSelf:"flex-start",children:(0,f.tZ)(ao,{linkProps:{linkType:to.ExternalLink},heading:s("team_settings_encryption_service_scim_invite_link_heading"),description:(0,f.BX)("div",{children:[(0,f.tZ)(l.nv,{sx:{mb:"8px"},children:s("team_settings_encryption_service_scim_invite_link_description_first")}),(0,f.BX)(l.nv,{as:"a",onClick:e=>{e.preventDefault(),navigator.clipboard.writeText(U),I(!0)},sx:{display:"flex",gap:"4px"},href:"_blank",children:[s("team_settings_encryption_service_scim_invite_link_copy"),Ay||(Ay=(0,f.tZ)(l.JO,{color:"ds.text.brand.standard",name:"ActionCopyOutlined",size:"medium"}))]})]})})}):null]})]})};var Ly,By;const Ry={CONTAINER:{borderRadius:"8px",padding:"24px",border:"1px solid ds.border.neutral.quiet.idle",background:"ds.container.agnostic.neutral.supershy","& h1":{margin:"8px 0px"}},MAIN_TITLE:{margin:"8px 0px",fontFamily:"Public Sans",fontSize:"22px",fontStyle:"normal",fontWeight:"500",lineHeight:"28px"},CONTENT_CARD:{margin:"32px 0px",display:"flex",flexDirection:"row",gap:"16px"},CONTENT_CARD_FEATURE_TITLE:{fontSize:"16px",fontStyle:"normal",fontWeight:"500",lineHeight:"20px",color:"ds.text.neutral.catchy"},CONTENT_CARD_FEATURE_DESC:{color:"ds.text.neutral.quiet",fontSize:"13px",fontStyle:"normal",fontWeight:"400",lineHeight:"18px",maxWidth:"600px"},BUTTONS:{display:"flex",justifyContent:"space-between"}},zy={LINK_ZEROKNOWLEDGE:{i18nKey:"team_settings_directory_sync_scim_paywall_link_zeroknowledge",url:te.mn},LINK_MULTIPLEDOMAINS:{i18nKey:"team_settings_directory_sync_scim_paywall_link_multiple_domains",url:te.I9},LINK_SELFHOSTED:{i18nKey:"team_settings_directory_sync_scim_paywall_link_self_hosted",url:te.uR},LINK_CONFIDENTIAL:{i18nKey:"team_settings_directory_sync_scim_paywall_link_confidential",url:te.FP},LINK_IDP_INTEGRATION:{i18nKey:"team_settings_directory_sync_scim_paywall_link_idp",url:te.uC},LINK_ADMIN_HC:{i18nKey:"team_settings_directory_sync_scim_paywall_link_help_center",url:te.Tx}},Py=({isTrialOrGracePeriod:e})=>{const{translate:t}=(0,x.Z)(),{routes:a}=(0,s.Xo)(),n=(0,z.B)();return(0,r.useEffect)((()=>{(0,b.Nc)(d.PageView.TacSettingsDirectorySyncPaywall)}),[]),(0,f.BX)("div",{sx:Ry.CONTAINER,children:[(0,f.tZ)(l.Ct,{iconName:"PremiumOutlined",label:t("team_settings_directory_sync_scim_paywall_business_badge"),layout:"iconLeading",intensity:"quiet",mood:"brand",sx:{height:"16px"}}),(0,f.tZ)("h2",{sx:Ry.MAIN_TITLE,children:t("team_settings_directory_sync_scim_paywall_title")}),(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",textStyle:"ds.body.standard.regular",children:t("team_settings_directory_sync_scim_paywall_description")}),(0,f.BX)("div",{sx:Ry.CONTENT_CARD,children:[Ly||(Ly=(0,f.tZ)(l.JO,{name:"ToolsOutlined",size:"xlarge",tooltip:"bli"})),(0,f.BX)("div",{children:[(0,f.tZ)("span",{sx:Ry.CONTENT_CARD_FEATURE_TITLE,children:t("team_settings_directory_sync_scim_paywall_feature_selfhosted_title")}),(0,f.tZ)(l.nv,{sx:Ry.CONTENT_CARD_FEATURE_DESC,children:t("team_settings_directory_sync_scim_paywall_feature_selfhosted_desc")})]})]}),(0,f.BX)("div",{sx:Ry.CONTENT_CARD,children:[By||(By=(0,f.tZ)(l.JO,{name:"ToolsOutlined",size:"xlarge",tooltip:"bli"})),(0,f.BX)("div",{children:[(0,f.tZ)("div",{sx:{display:"flex",gap:"5px"},children:(0,f.tZ)("span",{sx:Ry.CONTENT_CARD_FEATURE_TITLE,children:t("team_settings_directory_sync_scim_paywall_feature_confidential_title")})}),(0,f.tZ)(l.nv,{sx:Ry.CONTENT_CARD_FEATURE_DESC,children:t("team_settings_directory_sync_scim_paywall_feature_confidential_desc")})]})]}),(0,f.BX)("div",{sx:Ry.BUTTONS,children:[(0,f.tZ)(by.a,{dropdownItems:zy,titleKey:"team_settings_directory_sync_scim_paywall_dropdown_learn_more"}),(0,f.tZ)(l.zx,{layout:"iconLeading",icon:"PremiumOutlined",mood:"brand",intensity:"quiet",onClick:()=>{(0,b.Kz)(new d.UserClickEvent({button:d.Button.UpgradeBusinessTier,clickOrigin:d.ClickOrigin.DirectorySyncPaywallPage})),e?(0,X.Yo)(`${te.ub}?plan=business&subCode=${n?.subscriptionCode}&utm_source=button:upgrade_business_tier+click_origin:directory_sync_paywall_page+origin_page:tac/settings/directory_sync/paywall+origin_component:main_app`):(0,s.uX)(`${a.teamAccountChangePlanRoutePath}?plan=business`)},role:e?"link":"button",children:t("team_settings_directory_sync_scim_paywall_upgrade_business")})]})]})},Xy="SCIM provisioning is not currently supported by Confidential SSO",Uy="If you plan to set up both SCIM and single sign-on (SSO), you'll need to use the self-hosted option. Both SCIM and self-hosted SSO require the encryption service you configure and host yourself on AWS or Azure.",jy="Learn more",qy=({isScimEnabled:e,isSCIMCapable:t,isTrialOrGracePeriod:a,onSetupClear:n,showPaywall:i})=>{const[s,o]=(0,r.useState)(!1),{teamId:d}=(0,De.fV)(),{clearSettings:u,initSsoProvisioning:m}=(0,q.u)(eg.y),{data:p,status:g}=(0,_.k)(eg.y,"ssoProvisioning");if(g!==ue.rq.Success)return null;const{global:{inferredSsoState:h}}=p;if(h===rg.s5.enum.NitroComplete)throw new Error("Invalid state: cannot access SCIM if the team is using Confidential SSO until the enclave supports SCIM.");if(!1===t&&i&&void 0!==a)return(0,f.tZ)(Py,{isTrialOrGracePeriod:a});if(h===rg.s5.enum.NitroIncomplete&&!i){const e=async()=>{await u(),await m({teamId:`${d}`}),await(n?.())};return(0,f.BX)(f.HY,{children:[s?(0,f.tZ)(_g,{onClose:()=>o(!1),onConfirm:e,titleText:"Are you sure?",bodyText:"This action can’t be undone."}):null,(0,f.tZ)(l.ke,{mood:"neutral",size:"large",title:"To use SCIM, clear Confidential SSO setup",description:(0,f.tZ)(dg,{markdownValue:"If you want to use SCIM, select **Clear setup** to erase your progress in Dashlane. Make sure to also delete your progress in your IdP."}),actions:[(0,f.tZ)(l.zx,{onClick:()=>o(!0),children:"Clear setup"},"clear")]})]})}return h===rg.s5.enum.SelfHostedComplete||!1!==e||i?null:(0,f.tZ)(l.ke,{mood:"neutral",size:"large",title:Xy,description:Uy,actions:[(0,f.tZ)(c.rUS,{href:te.B7,target:"_blank",rel:"noopener noreferrer",children:(0,f.tZ)(l.zx,{onClick:()=>{},children:jy})},"learn-more")]})};var Gy;const $y=({lastSyncUnix:e,version:t,loading:a,refreshData:n})=>{const{translate:i}=(0,x.Z)();return(0,f.tZ)(Lh.R,{children:a?Gy||(Gy=(0,f.tZ)(l.ZX,{})):(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"5px",children:[(0,f.tZ)(c.k$b,{as:l.nv,textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.standard",children:`${i("team_settings_directory_sync_last_sync")} ${e?(0,na.Z)(e).toLocaleString(navigator.language,{...ga.qG.lll,timeZoneName:"short"}):i("team_settings_directory_sync_not_available")}`}),(0,f.tZ)(c.k$b,{as:l.nv,textStyle:"ds.body.reduced.regular",color:"ds.text.neutral.standard",children:`${i("team_settings_encryption_service_version")} ${null!=t?t:i("team_settings_encryption_service_not_available")}`}),(0,f.BX)(c.k$b,{as:l.nv,innerAs:"a",color:"ds.text.brand.standard",sx:{textDecoration:"none",fontWeight:"normal",display:"flex",flexDirection:"row"},onClick:()=>n(),children:[(0,f.tZ)(l.JO,{name:"ActionRefreshOutlined",sx:{marginRight:"5px"},color:"ds.text.brand.standard",size:"xsmall"}),i("team_settings_scim_sync_refresh")]})]})})},Fy=({loading:e,parentPath:t,teamSettings:a,esConfig:n,isScimCapable:i,disableSetupButton:r})=>{const o=(0,s.k6)(),{translate:d}=(0,x.Z)(),{teamDeviceConfigLoading:_,teamDeviceConfig:u}=eb({draft:!1,deviceAccessKey:n?.deviceAccessKey}),{teamDeviceLoading:m,teamDevice:p,refreshTeamDevice:g}=uh(n?.deviceAccessKey),h=e||_,b=!a?.ssoServiceProviderUrl||h||r||!i,y=!u?.configProperties?.scimAuthToken;return(0,f.tZ)(c.Zbd,{children:(0,f.BX)(c.T5p,{as:c.aYP,gap:"8px",gridTemplateAreas:"'header button' 'description button' 'status status'",gridTemplateColumns:"1fr auto",sx:{bg:"white",border:"none"},children:[(0,f.tZ)(c.dDn,{as:l.X6,innerAs:"h3",size:"large",bold:!0,gridArea:"header",textStyle:"ds.title.section.medium",children:d("team_settings_directory_sync_scim_header")}),(0,f.tZ)(c.dDn,{gridArea:"description",as:l.nv,size:"small",textStyle:"ds.title.block.small",color:"ds.text.neutral.quiet",children:d("team_settings_directory_sync_scim_description")}),(0,f.tZ)(c.dDn,{gridArea:"button",children:(0,f.tZ)(B_.M,{id:"scimSetupButton",loading:h,disabled:b,neverShowTooltip:r,size:"large",onClick:()=>{o.push(`${t}${nx}`)},content:d("team_settings_es_sso_setup_configure_es_tooltip"),mood:y&&!b?"brand":"neutral",intensity:y&&!b?"catchy":"quiet",children:d(y?"team_settings_directory_sync_scim_set_up_button":"team_settings_button_edit_label")})}),u?.configProperties?.scimEnabled?(0,f.tZ)(c.dDn,{gridArea:"status",sx:{mt:"20px"},children:(0,f.tZ)($y,{loading:m,version:p?.version,refreshData:g,lastSyncUnix:p?.lastActivityDateUnix})}):null]})})};var Vy,Hy,Wy,Yy=a(957459);const Ky={GENERIC_ERROR:"_common_generic_error"},Qy=({config:e,esEndpoint:t})=>{var a;const{translate:n}=(0,x.Z)(),i=(0,s.k6)(),{teamDeviceConfigLoading:o,teamDeviceConfig:d,updateTeamDeviceConfig:_,refreshTeamDeviceConfig:u,loadTeamDeviceConfigErrorCode:m}=eb({draft:!1,deviceAccessKey:e?.deviceAccessKey}),[p,g]=(0,r.useState)(""),[h,b]=(0,r.useState)(!1),[y,S]=(0,r.useState)(!1),[v,C]=(0,r.useState)(!1),[Z,T]=(0,r.useState)(!1),D=o;(0,r.useEffect)((()=>{const e=m;e&&e!==sh.Bf&&g(e)}),[m,n]);const E=()=>i.goBack(),k=async({values:e,resetForm:a})=>{S(!0),b(!1);const n={scimEnabled:e.encryptionServiceSync,teamDeviceUrl:null!=t?t:void 0};!v&&d?.configProperties?.scimAuthToken||(n.scimAuthToken=e.scimToken);const i=await _(n);C(!1),await u(),S(!1),i.success?i.data.encryptionServiceReloadingStatus===oh.x.OK?(a({values:e}),E()):b(!0):g(i.error.code)},w={scimToken:(N=d?.configProperties?.scimAuthToken,null!=(I=N?.replace(/./g,"*"))?I:""),scimEndpoint:t?(0,Lb.UQ)(t,"scim/2.0"):"",encryptionServiceSync:null!=(a=d?.configProperties?.scimEnabled)&&a};var N,I;const A=()=>{T(!1)};return(0,f.tZ)(cn.J9,{onSubmit:async(e,t)=>{e.encryptionServiceSync?T(!0):await k({values:e,resetForm:t.resetForm})},enableReinitialize:!0,initialValues:w,children:({values:e,setFieldValue:t,isSubmitting:a,dirty:i,resetForm:s})=>{var r,_;return(0,f.BX)(cn.l0,{autoComplete:"off",noValidate:!0,children:[(0,f.tZ)(lh.X,{dirty:i&&!y&&!h}),(0,f.BX)(c.Zbd,{children:[(0,f.tZ)(c.Ol2,{children:n("team_settings_directory_sync_scim_header")}),(0,f.BX)(c.aYP,{children:[(0,f.tZ)(l.ke,{mood:"brand",title:n("team_settings_directory_sync_scim_infobox")}),(0,f.BX)(c.T5p,{gridTemplateAreas:"'header button' 'desc button' 'inputField inputField'",gap:"8px",sx:{mt:"32px"},children:[(0,f.tZ)(c.dDn,{gridArea:"header",as:l.nv,innerAs:"label",htmlFor:"scimTokenInput",textStyle:"ds.title.block.medium",children:n("team_settings_directory_sync_scim_set_up_token_label")}),(0,f.tZ)(c.dDn,{as:l.zx,gridArea:"button",type:"button",alignSelf:"right",intensity:"quiet",mood:"brand",disabled:D||a,onClick:()=>(e=>{C(!0),e("scimToken",(0,Yy.Z)())})(t),sx:{height:"fit-content",width:"100%"},children:e.scimToken?n("team_settings_directory_sync_scim_set_up_reset_buttons"):n("team_settings_directory_sync_scim_set_up_generate_buttons")}),(0,f.tZ)(c.dDn,{gridArea:"desc",as:l.nv,size:"medium",sx:{marginBottom:"24px"},color:"ds.text.neutral.quiet",children:n("team_settings_directory_sync_scim_set_up_token_description")}),(0,f.tZ)(c.dDn,{gridArea:"inputField",children:(0,f.tZ)(cn.gN,{name:"scimToken",children:({field:t})=>t.value?(0,f.tZ)(Xc.x,{inputValue:t.value,iconButtonProps:{disabled:Boolean(e.scimToken)&&!v||a},passwordInputProps:{disabled:Boolean(e.scimToken)&&!v||a,fullWidth:!0,readOnly:!0,...t,id:"scimTokenInput"}}):null})})]}),(0,f.BX)(c.T5p,{gridTemplateColumns:"auto",gap:"8px",children:[(0,f.tZ)(c.dDn,{as:l.nv,innerAs:"label",htmlFor:"endpointInput",sx:{marginTop:"32px"},textStyle:"ds.title.block.medium",children:n("team_settings_directory_sync_scim_set_up_endpoint_label")}),(0,f.tZ)(cn.gN,{name:"scimEndpoint",children:({field:e})=>(0,f.tZ)(Xc.x,{inputValue:e.value,textInputProps:{fullWidth:!0,readOnly:!0,...e,id:"endpointInput"}})})]}),Vy||(Vy=(0,f.tZ)("hr",{})),(0,f.BX)(c.T5p,{gridTemplateAreas:"'label toggle' 'desc .'",gap:"8px",children:[(0,f.tZ)(c.dDn,{gridArea:"label",as:l.nv,innerAs:"label",htmlFor:"encryptionServiceSync",textStyle:"ds.title.block.medium",children:n("team_settings_directory_sync_scim_set_up_service_label")}),(0,f.tZ)(c.dDn,{gridArea:"desc",as:l.nv,color:"ds.text.neutral.quiet",children:n("team_settings_directory_sync_scim_set_up_service_description")}),(0,f.tZ)(c.dDn,{gridArea:"toggle",children:o?Hy||(Hy=(0,f.tZ)(l.ZX,{mood:"brand"})):(0,f.tZ)(l.ZD,{disabled:D||a,id:"encryptionServiceSync",onChange:e=>((e,t)=>{t("encryptionServiceSync",e.currentTarget.checked)})(e,t),defaultChecked:null!=(r=d?.configProperties?.scimEnabled)&&r})})]})]}),(0,f.BX)(c.eWM,{children:[p?(0,f.tZ)(l.nv,{sx:{width:"40%",ml:0,mr:"auto"},textStyle:"ds.title.supporting.small",children:n(null!=(_=Ky?.[p])?_:Ky.GENERIC_ERROR)}):null,h?(0,f.tZ)(c.Ejs,{sx:{flexGrow:1,justifyContent:"center"},children:Wy||(Wy=(0,f.tZ)(ph,{context:"SCIM"}))}):null,(0,f.tZ)(l.zx,{mood:"neutral",intensity:"quiet",size:"large",type:"button",onClick:E,children:n("team_settings_directory_sync_scim_set_up_button_cancel")}),(0,f.tZ)(l.zx,{type:"submit",disabled:D||a||!i,children:n("team_settings_directory_sync_scim_set_up_button_save_changes")})]})]}),Z?(0,f.tZ)(wg,{title:n("team_settings_directory_sync_scim_confirm_dialog_title"),body:n("team_settings_directory_sync_scim_confirm_dialog_body"),primaryActionLabel:n("team_settings_directory_sync_scim_confirm_dialog_primary_action_label"),onCancel:A,onConfirm:()=>(async({values:e,resetForm:t})=>{await k({values:e,resetForm:t}),T(!1)})({values:e,resetForm:s})}):null]})}})};var Jy;const ex=({isScimEnabled:e})=>{const{translate:t}=(0,x.Z)(),{getInviteLinkDataForAdmin:a}=(0,Ld.h)(),[n,i]=(0,r.useState)(!1),[s,o]=(0,r.useState)(!1);return(0,f.BX)(c.Ejs,{gap:"6",children:[(0,f.tZ)(gu,{showSharingDialog:n,setShowSharingDialog:i}),s?(0,f.tZ)(mu,{showActivationDialog:s,setShowActivationDialog:o,setShowSharingDialog:i}):null,(0,f.tZ)(ao,{linkProps:{linkType:to.ExternalLink,linkHref:"https://support.dashlane.com/hc/articles/4404301553938?utm_source=extension"},heading:t("team_settings_encryption_service_scim_setup_guide_heading"),description:t("team_settings_encryption_service_scim_setup_guide_description"),linkText:t("team_settings_encryption_service_scim_setup_guide_link_text")}),e?(0,f.tZ)(ao,{linkProps:{linkType:to.ExternalLink},heading:t("team_settings_encryption_service_scim_invite_link_heading"),description:(0,f.BX)("div",{children:[(0,f.tZ)(l.nv,{color:"ds.text.neutral.standard",textStyle:"ds.body.standard.regular",sx:{mb:"8px"},children:t("team_settings_encryption_service_scim_invite_link_description_first")}),(0,f.BX)(c.k$b,{as:l.nv,innerAs:"a",color:"ds.text.brand.standard",onClick:async e=>{e.preventDefault();const t=await a();t?.disabled||!t?.teamKey?o(!0):i(!0)},gap:"4px",href:"_blank",children:[(0,f.tZ)("span",{children:t("team_settings_encryption_service_scim_invite_link_copy")}),Jy||(Jy=(0,f.tZ)(l.JO,{name:"ActionCopyOutlined",size:"medium",color:"ds.text.brand.standard"}))]})]})}):null]})};var tx,ax;const nx="/scim-settings",ix=({isScimEnabled:e,isScimCapable:t,teamSettings:a,updateTeamSettings:n,disableForm:i=!1,adSyncEnabled:o,ssoConnectorSetup:_})=>{const[u,m]=(0,r.useState)(!1),{translate:p}=(0,x.Z)(),{path:h}=(0,s.$B)(),{esConfig:y,esConfigLoading:S,refreshEncryptionServiceConfig:v}=rh(),C=(0,ae.o)(ne.w.ItadminTacEncryptionserviceSSOmigrationReset),Z=Boolean(C||!S&&_);(0,r.useEffect)((()=>{(0,b.Nc)(d.PageView.TacSettingsDirectorySyncSelfHostedScim)}),[]);const T=fe({hasBillingAccess:!0});if(!T)return null;const{shouldShowBuyOrUpgradePaywall:D,planType:E,isTrialOrGracePeriod:k}=T,w=D&&E!==g.lD.Business;return(0,f.tZ)(Vg,{title:"Self-hosted SCIM",children:(0,f.tZ)(Hr,{mainContent:(0,f.tZ)(c.T5p,{gridTemplateColumns:"auto",gridAutoRows:"min-content",gap:"32px",children:(0,f.BX)(s.rs,{children:[(0,f.BX)(s.AW,{exact:!0,path:h,children:[w?(0,f.tZ)(qy,{isScimEnabled:e,isSCIMCapable:t,onSetupClear:()=>n({ssoServiceProviderUrl:null}),isTrialOrGracePeriod:k,showPaywall:!0}):(0,f.BX)(f.HY,{children:[tx||(tx=(0,f.tZ)(ph,{})),(0,f.tZ)(qy,{isScimEnabled:e,isSCIMCapable:t,onSetupClear:()=>n({ssoServiceProviderUrl:null})}),o?(0,f.tZ)(l.ke,{size:"medium",mood:"neutral",title:p("team_settings_encryption_service_scim_setup_ad_sync_warning_heading"),description:p("team_settings_encryption_service_scim_setup_ad_sync_warning_description")}):null,Z?(0,f.tZ)(l.ke,{size:"medium",mood:"brand",title:p("team_settings_es_sso_migration_infobox_title"),description:(0,f.tZ)(l.nv,{children:p("team_settings_es_sso_migration_infobox_body")})}):null,(0,f.tZ)(Ph,{parentPath:h,loading:S||null===t,esConfig:y,disableSetupButton:!1===t||i}),(0,f.tZ)(Fy,{teamSettings:a,parentPath:h,loading:S||null===t,esConfig:y,isScimCapable:!0===t,disableSetupButton:i})]}),u?(0,f.tZ)(ee.c,{onDismiss:()=>m(!1)}):null]}),(0,f.tZ)(s.AW,{path:`${h}/encryption-service-settings`,children:S?ax||(ax=(0,f.tZ)(l.ZX,{mood:"brand"})):(0,f.tZ)(Mh,{migratingFromSSOConnector:Z,onSave:()=>v(),teamSettings:a,updateTeamSettings:n,esConfig:y})}),(0,f.tZ)(s.AW,{path:`${h}${nx}`,children:(0,f.tZ)(Qy,{config:y,esEndpoint:a?.ssoServiceProviderUrl})})]})}),secondaryContent:w?(0,f.tZ)(no,{openContactDialog:()=>m(!0)}):(0,f.tZ)(ex,{isScimEnabled:e})})})},sx={title:"tac_settings_directory_sync_card_title_confidential_scim",redirectUrl:"confidential-scim",supportedFeatures:[{title:"tac_settings_directory_sync_card_cloud_based",description:"tac_settings_directory_sync_card_cloud_based_description",iconName:"SettingsOutlined"},{title:"tac_settings_directory_sync_card_confidential_automatic_syncs",description:"tac_settings_directory_sync_card_confidential_automatic_syncs_description",iconName:"ConfigureOutlined"},{title:"tac_settings_directory_sync_card_user_provisioning",description:"tac_settings_directory_sync_card_user_provisioning_description",iconName:"GroupOutlined"},{title:"tac_settings_directory_sync_card_sharing_group",description:"tac_settings_directory_sync_card_sharing_group_description",iconName:"FeedbackSuccessOutlined"}]},rx={title:"tac_settings_directory_sync_card_title_selfhosted_scim",redirectUrl:"scim-provisioning",supportedFeatures:[{title:"tac_settings_directory_sync_card_selfhosted_scim_cloud_based",description:"tac_settings_directory_sync_card_selfhosted_scim_cloud_based_description",iconName:"AccountSettingsOutlined"},{title:"tac_settings_directory_sync_card_selfhosted_confidential_automatic_syncs",description:"tac_settings_directory_sync_card_selfhosted_confidential_automatic_syncs_description",iconName:"ConfigureOutlined"},{title:"tac_settings_directory_sync_card_selfhosted_user_provisioning",description:"tac_settings_directory_sync_card_selfhosted_user_provisioning_description",iconName:"GroupOutlined"},{title:"tac_settings_directory_sync_card_selfhosted_sharing_group",description:"tac_settings_directory_sync_card_selfhosted_sharing_group_description",iconName:"FeedbackSuccessOutlined"}]},ox={title:"tac_settings_directory_sync_card_title_ad_sync",redirectUrl:"active-directory",supportedFeatures:[{title:"tac_settings_directory_sync_card_ad_sync_cloud_based",description:"tac_settings_directory_sync_card_ad_sync_cloud_based_description",iconName:"AccountSettingsOutlined"},{title:"tac_settings_directory_sync_card_automatic_ad_sync_syncs",description:"tac_settings_directory_sync_card_automatic_ad_sync_syncs_description",iconName:"ConfigureOutlined"},{title:"tac_settings_directory_sync_card_ad_sync_user_provisioning",description:"tac_settings_directory_sync_card_ad_sync_user_provisioning_description",iconName:"GroupOutlined"},{title:"tac_settings_directory_sync_card_ad_sync_sharing_group",description:"tac_settings_directory_sync_card_ad_sync_sharing_group_description",iconName:"FeedbackSuccessOutlined"}]},lx=({isNitroSSOActivated:e,isSelfhostedSSOActivated:t})=>{const{translate:a}=(0,x.Z)(),{routes:n}=(0,er.Xo)();return e||t?(0,f.tZ)(l.ke,{title:a(e?"tac_settings_directory_sync_card_disabled_selfhosted_incompatible":"tac_settings_directory_sync_card_disabled_confidential_incompatible"),size:"large"}):(0,f.tZ)(l.ke,{title:a("tac_settings_directory_sync_card_disabled_confidential_not_activated"),size:"large",actions:[(0,f.tZ)(l.zx,{as:s.rU,to:n.teamSettingsSsoConfidential,size:"small",children:a("tac_settings_directory_sync_card_disabled_confidential_not_activated_button")},"enable-confidential-sso")]})},cx="tac_settings_directory_sync_card_button_setup",dx="tac_settings_directory_sync_card_button_edit",_x=({ssoState:e,isAdSyncEnabled:t,isSelfhostedScimEnabled:a,isNitroSCIMEnabled:n,isLoading:i=!1,isSSOConnectorSetup:s})=>{const{translate:o}=(0,x.Z)(),_="NitroComplete"===e,u=_||"NitroIncomplete"===e,m=(e=>"SelfHostedComplete"===e||"SelfHostedIncomplete"===e)(e),p=(0,Qs.S)(),[g,h]=(0,r.useState)(!0),[y,S]=(0,r.useState)(!1),v=fe({hasBillingAccess:!0}),C=n||a||t;return(0,r.useEffect)((()=>{p&&h(!!p.scim.enabled)}),[p]),(0,r.useEffect)((()=>{(0,b.Nc)(d.PageView.TacSettingsDirectorySync)}),[]),(0,r.useEffect)((()=>{v?.isTrialOrGracePeriod&&S(v.isTrialOrGracePeriod)}),[v]),i?(0,f.tZ)(c.T5p,{justifyItems:"center",children:(0,f.tZ)(l.ZX,{size:75,sx:{marginTop:"20vh"}})}):(0,f.BX)("div",{sx:{margin:"32px",display:"flex",gap:"32px",flexDirection:"column"},children:[(0,f.BX)("div",{children:[(0,f.tZ)(l.X6,{as:"h1",textStyle:"ds.title.section.large",sx:{marginBottom:"16px"},children:o("tac_settings_directory_sync_header")}),(0,f.tZ)(l.nv,{sx:{marginBottom:"8px"},children:o("tac_settings_directory_sync_header_helper")}),(0,f.tZ)(eo,{href:"https://support.dashlane.com/hc/articles/4404301553938?utm_source=extension",children:o("tac_settings_directory_sync_header_link")})]}),C?null:(0,f.tZ)(lx,{isNitroSSOActivated:_,isSelfhostedSSOActivated:m}),(0,f.tZ)(c.T5p,{fullWidth:!0,gridTemplateColumns:"repeat(3, 1fr)",gap:"24px",children:g?(0,f.BX)(f.HY,{children:[(0,f.tZ)(ly,{optionNumber:1,...sx,selected:n,buttonLabel:o(n?dx:cx),disabled:!n&&!_||m||a||t||s,featureCardStatus:n?"ACTIVATED":"NOT_STARTED",onCtaClick:()=>{(0,b.Kz)(new d.UserSetupConfidentialScimEvent({scimSetupStep:d.ScimSetupStep.ClickSetUp}))}}),(0,f.tZ)(ly,{optionNumber:2,...rx,selected:a,buttonLabel:o(a?dx:cx),featureCardStatus:a?"ACTIVATED":"NOT_STARTED",disabled:u||n||t||s}),(0,f.tZ)(ly,{optionNumber:3,...ox,selected:t,featureCardStatus:t?"ACTIVATED":"NOT_STARTED",buttonLabel:o(t?dx:cx),disabled:n||a})]}):(0,f.BX)(f.HY,{children:[(0,f.tZ)(ly,{optionNumber:1,...ox,selected:t,featureCardStatus:t?"ACTIVATED":"NOT_STARTED",buttonLabel:o(t?dx:cx),disabled:n||a}),(0,f.tZ)(Py,{isTrialOrGracePeriod:y})]})})]})},ux=({isTokenGenerated:e})=>{const[t,a]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),{translate:s}=(0,x.Z)(),{generateScimToken:o}=(0,q.u)(ey.m),c=(0,r.useCallback)((async()=>{a(!0),await o(void 0),(0,b.Kz)(new d.UserSetupConfidentialScimEvent({scimSetupStep:e?d.ScimSetupStep.ReGenerateToken:d.ScimSetupStep.GenerateScimToken})),a(!1)}),[o,e]);return(0,f.BX)(f.HY,{children:[(0,f.tZ)(l.X6,{as:"h2",textStyle:"ds.title.section.medium",sx:{marginBottom:"8px"},children:s("tac_settings_confidential_scim_generate_token_header")}),(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",sx:{marginBottom:"24px"},children:s("tac_settings_confidential_scim_generate_token_header_helper")}),(0,f.tZ)(l.zx,{intensity:e?"quiet":"catchy",mood:"brand",isLoading:!e&&t,onClick:e?()=>i(!0):c,children:s(e?"tac_settings_confidential_scim_regenerate_token_button":"tac_settings_confidential_scim_generate_token_button")}),(0,f.tZ)(l.Vq,{actions:{primary:{children:s("tac_settings_confidential_scim_regenerate_token_dialog_primary_action"),onClick:()=>{c(),i(!1)},isLoading:t},secondary:{children:s("tac_settings_confidential_scim_regenerate_token_dialog_secondary_action"),onClick:()=>i(!1)}},closeActionLabel:"Close",onClose:()=>i(!1),title:s("tac_settings_confidential_scim_regenerate_token_dialog_title"),isOpen:n,children:(0,f.tZ)(l.nv,{children:s("tac_settings_confidential_scim_regenerate_token_dialog")})})]})},mx=({scimApiToken:e,scimEndpoint:t})=>{const{translate:a}=(0,x.Z)(),[n,i]=(0,r.useState)(!1),s=async e=>{e&&await navigator.clipboard.writeText(e)};return(0,f.BX)(f.HY,{children:[(0,f.tZ)(l.X6,{as:"h2",textStyle:"ds.title.section.medium",sx:{marginBottom:"8px"},children:a("tac_settings_confidential_scim_copy_token_header")}),(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",sx:{marginBottom:"24px"},children:a("tac_settings_confidential_scim_copy_token_header_helper")}),(0,f.tZ)(l.qo,{label:a("tac_settings_confidential_scim_copy_token_field_token_label"),type:n?"text":"password",value:null!=e?e:"",disabled:!e,readOnly:!!e,sx:{marginBottom:"16px"},actions:[{iconName:"ActionRevealOutlined",key:"copy-token",label:"",onClick:()=>i(!n)},{iconName:"ActionCopyOutlined",key:"view-token",label:"",onClick:()=>{s(null!=e?e:""),(0,b.Kz)(new d.UserSetupConfidentialScimEvent({scimSetupStep:d.ScimSetupStep.CopyApiToken}))}}]}),(0,f.tZ)(l.qo,{value:null!=t?t:"",label:a("tac_settings_confidential_scim_copy_token_field_endpoint_label"),disabled:!t,readOnly:!!t,actions:[{iconName:"ActionCopyOutlined",key:"copy-endpoint",label:"",onClick:()=>{s(null!=t?t:""),(0,b.Kz)(new d.UserSetupConfidentialScimEvent({scimSetupStep:d.ScimSetupStep.CopyEndpointLink}))}}]})]})},px=({active:e})=>{const t=(0,r.useRef)(!1),{translate:a}=(0,x.Z)(),{updateScimConfiguration:n}=(0,q.u)(ey.m),{showToast:i}=(0,l.pm)();return(0,r.useEffect)((()=>(!0===t.current&&i({description:a(e?"tac_settings_activate_automatic_provisioning":"tac_settings_deactivate_automatic_provisioning"),closeActionLabel:"close"}),()=>{t.current=!0})),[e]),(0,f.BX)(c.T5p,{gridTemplateAreas:"'title title' 'description button'",children:[(0,f.tZ)(c.dDn,{gridArea:"title",as:l.X6,innerAs:"h2",textStyle:"ds.title.section.medium",sx:{marginBottom:"8px"},children:a("tac_settings_confidential_scim_activate_header")}),(0,f.tZ)(c.dDn,{gridArea:"description",as:l.nv,color:"ds.text.neutral.quiet",children:a("tac_settings_confidential_scim_activate_header_helper")}),(0,f.tZ)(c.dDn,{justifySelf:"end",gridArea:"button",as:l.ZD,onChange:()=>{(0,b.Kz)(new d.UserSetupConfidentialScimEvent({scimSetupStep:e?d.ScimSetupStep.DeactivateDirectorySync:d.ScimSetupStep.ActivateDirectorySync})),n({active:!e})},checked:e})]})},gx=({scimEndpoint:e,scimConfiguration:t})=>{const{translate:a}=(0,x.Z)();return(0,f.BX)(c.Ejs,{gap:"32px",flexDirection:"column",as:c.Zbd,sx:{padding:"32px"},children:[(0,f.tZ)(l.Ct,{mood:"neutral",intensity:"quiet",label:a("tac_settings_confidential_scim_user_provisioning_badge"),sx:{marginBottom:"calc(8px - 32px)"}}),(0,f.tZ)(c.k$b,{children:(0,f.tZ)(ux,{isTokenGenerated:!!t.token})}),(0,f.tZ)(c.k$b,{children:(0,f.tZ)(mx,{scimEndpoint:e?.endpoint,scimApiToken:t.token})}),(0,f.tZ)(c.k$b,{children:(0,f.tZ)(px,{active:t.active})})]})};var hx,bx,yx,xx=a(29270);const Sx={SEATS_REVIEW_SECTION:{display:"flex",flexDirection:"row",gap:"24px",marginBottom:"24px"},SEATS_REVIEW_ITEM:{width:"120px",display:"flex",flexDirection:"column",gap:"4px"},VERTICAL_DIVIDER:{borderLeft:"1px solid ds.border.neutral.quiet.idle",height:"48px"},BUTTON_SECTION:{display:"flex",flexDirection:"row",gap:"8px"}},fx=({onClickBuySeats:e})=>{const{translate:t}=(0,x.Z)(),{routes:a}=(0,s.Xo)(),{data:n}=(0,_.k)(m.o,"getTeamSeats");return(0,ae.o)(ne.w.EcommerceWebIdPErrorsPhase1)?(0,f.BX)(c.Zbd,{sx:{display:"flex",flexDirection:"column",gap:"8px",padding:"32px"},children:[(0,f.tZ)(l.Ct,{mood:"brand",intensity:"quiet",layout:"iconLeading",iconName:"PremiumOutlined",label:t("tac_settings_confidential_scim_review_seats_card_pro_tip_badge")}),(0,f.BX)("div",{children:[(0,f.tZ)(l.X6,{as:"h2",textStyle:"ds.title.section.medium",sx:{marginBottom:"8px"},children:t("tac_settings_confidential_scim_review_seats_card_header")}),(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",sx:{marginBottom:"24px"},children:t("tac_settings_confidential_scim_review_seats_card_description")}),(0,f.BX)("div",{sx:Sx.SEATS_REVIEW_SECTION,children:[(0,f.BX)("div",{sx:Sx.SEATS_REVIEW_ITEM,children:[(0,f.tZ)(l.X6,{as:"h3",textStyle:"ds.title.supporting.small",color:"ds.text.neutral.quiet",children:t("tac_settings_confidential_scim_review_seats_card_total_seats")}),(0,f.tZ)(l.nv,{textStyle:"ds.specialty.monospace.small",color:"ds.text.neutral.standard",children:n?n.paid:hx||(hx=(0,f.tZ)(l.ZX,{}))})]}),(0,f.tZ)("div",{sx:Sx.VERTICAL_DIVIDER}),(0,f.BX)("div",{sx:Sx.SEATS_REVIEW_ITEM,children:[(0,f.tZ)(l.X6,{as:"h3",textStyle:"ds.title.supporting.small",color:"ds.text.neutral.quiet",children:t("tac_settings_confidential_scim_review_seats_card_occupied")}),(0,f.tZ)(l.nv,{textStyle:"ds.specialty.monospace.small",color:"ds.text.positive.quiet",children:n?n.paid-n.remaining:bx||(bx=(0,f.tZ)(l.ZX,{}))})]}),(0,f.tZ)("div",{sx:Sx.VERTICAL_DIVIDER}),(0,f.BX)("div",{sx:Sx.SEATS_REVIEW_ITEM,children:[(0,f.tZ)(l.X6,{as:"h3",textStyle:"ds.title.supporting.small",color:"ds.text.neutral.quiet",children:t("tac_settings_confidential_scim_review_seats_card_free")}),(0,f.tZ)(l.nv,{textStyle:"ds.specialty.monospace.small",color:"ds.text.positive.quiet",children:n?n.remaining:yx||(yx=(0,f.tZ)(l.ZX,{}))})]})]}),(0,f.BX)("div",{sx:Sx.BUTTON_SECTION,children:[(0,f.tZ)(l.zx,{mood:"brand",intensity:"quiet",layout:"labelOnly",onClick:e,children:t("tac_settings_confidential_scim_review_seats_card_buy_seats_button")}),(0,f.tZ)(xx.rU,{to:a.teamAccountRoutePath,children:(0,f.tZ)(l.zx,{mood:"brand",intensity:"supershy",layout:"labelOnly",onClick:()=>{(0,b.Kz)(new d.UserClickEvent({button:d.Button.ReviewSubscription,clickOrigin:d.ClickOrigin.ProTip}))},children:t("tac_settings_confidential_scim_review_seats_card_review_subscription_button")})})]})]})]}):null},vx=()=>{const{translate:e}=(0,x.Z)();return(0,f.BX)(c.Zbd,{sx:{display:"flex",flexDirection:"column",gap:"8px",padding:"32px"},children:[(0,f.tZ)(l.Ct,{mood:"neutral",intensity:"quiet",label:e("tac_settings_confidential_scim_group_provisioning_badge")}),(0,f.BX)("div",{children:[(0,f.tZ)(l.X6,{as:"h2",textStyle:"ds.title.section.medium",sx:{marginBottom:"8px"},children:e("tac_settings_confidential_scim_group_provisioning_header")}),(0,f.tZ)(l.nv,{sx:{marginBottom:"24px"},children:e("tac_settings_confidential_scim_group_provisioning_description")}),(0,f.tZ)(l.Qj,{href:"https://support.dashlane.com/hc/articles/10992671925778?utm_medium=misc&utm_source=dashlane_admin_console#scim",isExternal:!0,children:e("tac_settings_confidential_scim_group_provisioning_support_link")})]})]})};var Cx;const Zx=()=>{var e,t;const{translate:a}=(0,x.Z)(),n=(0,ae.o)("setup_rollout_confidential_group_provisioning_dev"),[i,s]=(0,r.useState)(),[o,l]=(0,r.useState)(),[c,_]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1),[p,g]=(0,r.useState)(),[y,S]=(0,r.useState)(),{scimConfiguration:v,scimEndpoint:C}=(0,po.Y)(ey.m,{scimConfiguration:{},scimEndpoint:{}},[]),Z=(0,h.s)(),T=()=>{_(!0),(0,b.Kz)(new d.UserClickEvent({button:d.Button.BuySeats,clickOrigin:d.ClickOrigin.ProTip}))};if((0,r.useEffect)((()=>{v.status===ue.rq.Success&&v.data&&s(v.data)}),[v.data?.active,v.data?.token]),(0,r.useEffect)((()=>{C.status===ue.rq.Success&&C.data&&l(C.data)}),[C.data?.endpoint]),(0,r.useEffect)((()=>{(0,b.Nc)(d.PageView.TacSettingsDirectorySyncConfidentialScim)}),[]),!Z)return null;const{lastBillingDateUnix:D,nextBillingDetails:E,spaceTier:k,seatsNumber:w,usersToBeRenewedCount:N}=Z;return(0,f.BX)(f.HY,{children:[u?null:(0,f.tZ)(Vg,{title:a("tac_settings_confidential_scim_header"),paragraph:a("tac_settings_confidential_scim_header_helper"),children:(0,f.tZ)(Hr,{sx:{padding:"0 32px"},fullWidth:!0,mainContent:()=>(0,f.tZ)("div",{sx:{display:"flex",flexDirection:"column",gap:"24px"},children:i?(0,f.BX)(f.HY,{children:[e||(e=(0,f.tZ)(gx,{scimConfiguration:i,scimEndpoint:o})),i.active?t||(t=(0,f.tZ)(fx,{onClickBuySeats:T})):null,n?Cx||(Cx=(0,f.tZ)(vx,{})):null]}):null}),secondaryContent:(0,f.tZ)(ao,{heading:a("tac_settings_confidential_scim_help_card_header"),description:a("tac_settings_confidential_scim_help_card_description"),linkProps:{linkType:to.ExternalLink,linkHref:"https://support.dashlane.com/hc/articles/360013149040",onClick:()=>{(0,b.Kz)(new d.UserClickEvent({button:d.Button.SeeSetupGuide,clickOrigin:d.ClickOrigin.NeedHelp}))}},linkText:a("tac_settings_confidential_scim_help_card_link")})})}),c?(0,f.tZ)(Xs,{nextBillingDetails:E,numberOfCurrentPaidSlots:w,numberOfCurrentUsedSlots:N,onUpgradeSuccess:(e,t)=>{g(e),S(t),_(!1),m(!0)},onRequestClose:()=>_(!1),planTier:k},D):null,u&&p&&y?(0,f.tZ)(Ys,{planTier:k,lastAdditionalSeatsDetails:p,lastBillingDetails:y,onNavigateBack:()=>{m(!1),g(void 0),S(void 0)}}):null]})},Tx=()=>{var e,t;const{path:a}=(0,s.$B)(),{esConfig:n,esConfigLoading:i}=rh(),{teamDeviceConfig:o}=eb({draft:!1,deviceAccessKey:n?.deviceAccessKey}),{teamId:d}=(0,De.fV)(),{teamSettings:u={},teamSettingsLoading:m,updateTeamSettings:p,teamCapabilities:g}=Te(d),h=(0,z.B)(),{initSsoProvisioning:b}=(0,q.u)(eg.y),{data:y}=(0,_.k)(eg.y,"ssoProvisioning"),{data:x,status:S}=(0,_.k)(ey.m,"scimConfiguration");(0,r.useEffect)((()=>{y?.global.inferredSsoState===rg.s5.enum.Unknown&&d&&b({teamId:`${d}`})}),[b,y?.global.inferredSsoState,d]);const v=!m&&u.activeDirectorySyncType,C=o?.configProperties.scimEnabled,Z=null!=(e=g?.activeDirectorySync.enabled)?e:null,T=C&&!v||!Z,D=y?.global.inferredSsoState===rg.s5.enum.NitroIncomplete||v&&!C,E=m||i||!h||y?.global.inferredSsoState===rg.s5.enum.Unknown||S===ue.rq.Loading,k=[rg.s5.enum.SsoConnectorComplete,rg.s5.enum.SsoConnectorIncomplete],w=y?.global.inferredSsoState&&k.includes(y?.global.inferredSsoState);return(0,f.tZ)(c.T5p,{gridTemplateColumns:"auto",gridTemplateRows:"auto 1fr",fullWidth:!0,sx:{height:"100%"},children:E?(0,f.tZ)(c.T5p,{justifyItems:"center",children:(0,f.tZ)(l.ZX,{size:75,sx:{marginTop:"20vh"}})}):(0,f.BX)(s.rs,{children:[(0,f.tZ)(s.Vy,{exact:!0,path:a,component:_x,permission:e=>e.adminAccess.hasFullAccess||e.adminAccess.hasBillingAccess,additionalProps:{ssoState:y?.global.inferredSsoState,isAdSyncEnabled:v,isSelfhostedScimEnabled:C,isNitroSCIMEnabled:x?.active,isLoading:E,isSSOConnectorSetup:w}}),(0,f.tZ)(s.Vy,{exact:!0,path:`${a}/confidential-scim`,component:Zx,permission:e=>e.adminAccess.hasFullAccess||e.adminAccess.hasBillingAccess}),(0,f.tZ)(s.Vy,{path:`${a}/scim-provisioning`,component:ix,additionalProps:{isScimEnabled:null!=C?C:null,isScimCapable:null!=(t=g?.scim.enabled)?t:null,teamSettings:u,updateTeamSettings:p,disableForm:D,adSyncEnabled:v,ssoConnectorSetup:w},permission:e=>e.adminAccess.hasFullAccess||e.adminAccess.hasBillingAccess}),(0,f.tZ)(s.Vy,{path:`${a}/active-directory`,component:Oy,additionalProps:{isAdSyncCapable:Z,disableForm:T,adSyncEnabled:v,accountInfo:h},reducer:wy.ZP})]})})};var Dx=a(355102),Ex=a(24170);const kx={INVALID_URL:"team_settings_set_siem_configuration_invalid_url",GENERIC_ERROR:"team_settings_set_siem_configuration_generic_error",TEAM_NOT_FOUND:"team_settings_set_siem_configuration_team_not_found",MISMATCHING_ADMIN_PROVISIONING_KEY:"team_settings_set_siem_configuration_mismatching_admin_provision_key",NO_SIEM_CONFIGURATION_UPDATE:"team_settings_set_siem_configuration_no_siem_configuration_update"},wx=({token:e,instanceURL:t,active:a,isTeamAlreadyCreated:n})=>{const{translate:i}=(0,x.Z)(),{showToast:s}=(0,l.pm)(),{setSiemConfiguration:o}=(0,q.u)(Dx.v),{createTeam:d}=(0,q.u)(eg.y),_=(0,r.useRef)(null),u=(0,r.useRef)(null),[m,p]=(0,r.useState)(!1),[g,h]=(0,r.useState)(""),[b,y]=(0,r.useState)(!1),[S,v]=(0,r.useState)(!1),C=e&&t,Z=a=>{e!==_.current?.value||t!==u.current?.value?p(!0):p(!1),"instanceURL"===a&&h("")},T=e=>{e.tag===Ex.M7.INVALID_URL?h(i(kx.INVALID_URL)):s({mood:"danger",description:i(e.tag in kx?kx[e.tag]:kx.GENERIC_ERROR)})};return(0,f.BX)(f.HY,{children:[(0,f.tZ)(c.Zbd,{sx:{marginBottom:"24px"},children:(0,f.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"32px",padding:"32px"},children:[(0,f.BX)("div",{children:[(0,f.tZ)(l.X6,{as:"h2",sx:{marginBottom:"8px"},children:i("team_settings_splunk_configuration_step_1_title")}),(0,f.tZ)(l.nv,{sx:{marginBottom:"16px"},children:i("team_settings_splunk_configuration_step_1_description")}),(0,f.tZ)(l.ke,{mood:"brand",title:i("team_settings_splunk_configuration_step_1_infobox")})]}),(0,f.BX)("div",{children:[(0,f.tZ)(l.X6,{as:"h2",sx:{marginBottom:"8px"},children:i("team_settings_splunk_configuration_step_2_title")}),(0,f.tZ)(l.nv,{sx:{marginBottom:"24px"},children:i("team_settings_splunk_configuration_step_2_description")}),(0,f.BX)("div",{sx:{display:"flex",gap:"16px",flexDirection:"column"},children:[(0,f.tZ)(l.qo,{value:e,label:i("team_settings_splunk_configuration_token_label"),ref:_,onChange:()=>Z("token")}),(0,f.tZ)(l.qo,{value:t,label:i("team_settings_splunk_configuration_instance_url_label"),ref:u,onChange:()=>Z("instanceURL"),error:!!g,feedback:g||void 0})]})]}),(0,f.tZ)("div",{sx:{display:"flex",justifyContent:"end"},children:(0,f.tZ)(l.zx,{intensity:"catchy",disabled:!m,onClick:async()=>{y(!0),n||await d();const e=!_?.current?.value||!u?.current?.value,t=await o({token:_?.current?.value,instanceURL:u?.current?.value,active:!e&&void 0});"failure"===t.tag?T(t.error):s({mood:"brand",description:i("team_settings_splunk_integration_saved_toast")}),y(!1)},isLoading:b,children:i(C?"team_settings_siem_configuration_actions_update":"team_settings_siem_configuration_actions_save")})})]})}),(0,f.tZ)(c.Zbd,{children:(0,f.BX)("div",{sx:{display:"flex",gap:"32px",padding:"32px",alignItems:"center",justifyContent:"space-between"},children:[(0,f.BX)("div",{children:[(0,f.tZ)(l.X6,{as:"h2",sx:{marginBottom:"8px"},children:i("team_settings_splunk_configuration_step_3_title")}),(0,f.tZ)(l.nv,{children:i("team_settings_splunk_configuration_step_3_description")})]}),(0,f.tZ)("div",{children:(0,f.tZ)(l.ZD,{"aria-label":"activateSiemToggle",onChange:()=>(async e=>{v(!0);const t=await o({active:e});"failure"===t.tag?T(t.error):s({mood:"brand",description:i(e?"team_settings_splunk_integration_activated_toast":"team_settings_splunk_integration_deactivated_toast")}),v(!1)})(!a),checked:a,disabled:!C||S})})]})})]})},Nx=()=>{const{translate:e}=(0,x.Z)(),{data:t,status:a}=(0,_.k)(Dx.v,"getSiemConfiguration"),{data:n,status:i}=(0,_.k)(eg.y,"ssoProvisioning");return(0,f.tZ)(Vg,{title:e("team_settings_siem_header"),paragraph:e("team_settings_siem_header_helper"),children:(0,f.tZ)(Hr,{sx:{padding:"0 32px"},fullWidth:!0,mainContent:()=>{var e,s;return a!==ue.rq.Success||i!==ue.rq.Success?(0,f.tZ)(c.Zbd,{children:(0,f.tZ)(c.Ejs,{fullWidth:!0,justifyContent:"center",children:(0,f.tZ)(l.ZX,{size:60,sx:{padding:"16px"}})})}):(0,f.tZ)(wx,{token:null!=(e=t.token)?e:"",instanceURL:null!=(s=t.instanceURL)?s:"",active:t.active,isTeamAlreadyCreated:n.global.isTeamProvisionedInNitro})},secondaryContent:(0,f.tZ)(ao,{heading:e("team_settings_siem_help_card_header"),description:e("team_settings_splunk_help_card_description"),linkProps:{linkType:to.ExternalLink,linkHref:"https://TODO.com",onClick:()=>{(0,b.Kz)(new d.UserClickEvent({button:d.Button.SeeSetupGuide,clickOrigin:d.ClickOrigin.NeedHelp}))}},linkText:e("team_settings_splunk_help_card_link")})})})},Ix=fo((({lee:e})=>{const{routes:t}=(0,s.Xo)(),{translate:a}=(0,x.Z)(),n=fe(e.permission.adminAccess),i=function(e){var t;const a=(0,z.B)(),n=(0,se.C)();if(!n||!a)return null;const i=e.hasBillingAccess,s=n.isFreeTrial||n.isGracePeriod;return{shouldShowBuyPaywall:i&&s,shouldShowUpgradePaywall:i&&!s&&n.spaceTier!==g.lD.Business,accountSubscriptionCode:null!=(t=a?.subscriptionCode)?t:""}}(e.permission.adminAccess),o=(0,Gd.U)(),l=(()=>{const e=(0,ie.lZ)(),t=(0,ae.o)(ne.w.EcommerceWebB2BDiscontinuationDev);return e.isLoading||"boolean"!=typeof t?null:t&&!!e.isTeamSoftDiscontinued&&!!e.isTrial})(),{reportTACError:c}=H(),{data:_,status:u}=rp(),p=(()=>{const{editTeamPolicies:e}=(0,q.u)(m.o);return e})(),{hasExcludedPolicy:h,hasTrialBusinessPaywall:y}=we();(0,r.useEffect)((()=>{(0,b.Nc)(d.PageView.TacSettingsPolicies)}),[]);const S=async t=>{const a=(0,Gn.v0)(e.globalState);if(0===Object.keys(t).length||!a?.teamId)return Promise.resolve();await p({teamId:a.teamId,policyUpdates:t})},v=()=>!(0,Gn.v0)(e.globalState)&&(c(new Error(Zi.N)),!0);return n&&i&&null!==o&&null!==l?(u===ue.rq.Error&&c(new Error("Error loading team policies")),(0,f.BX)(Jm,{title:a("team_settings_menu_title_policies"),isLoading:u===ue.rq.Loading,leadingContent:Qp||(Qp=(0,f.tZ)(zp,{})),children:[Jp||(Jp=(0,f.tZ)(Ep,{},"inviteLinkPolicy")),u===ue.rq.Success?(C=_,Yp(a,n,i,o,l,C,t,h,y)).map((e=>(0,f.tZ)(Np,{checkForAuthenticationError:v,policies:_,editSettings:S,settingRow:e},e.label))):null]})):Kp||(Kp=(0,f.tZ)(Yo.a,{}));var C}),pe.POLICIES),Ax=fo(Tx,pe.DIRECTORY_SYNC),Mx=fo((e=>{const{translate:t}=(0,x.Z)(),{reportTACError:a}=H(),n=(0,r.useRef)(null),[i,s]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1),[g,h]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!1),[S,v]=(0,r.useState)(!1),[C,Z]=(0,r.useState)(null),[T,D]=(0,r.useState)(!1),[E,k]=(0,r.useState)(null),w=(()=>{const e=(0,_.k)(m.o,"getTeamDuoInfo");return{status:e.status,data:e.data,error:e.error}})(),N=e.lee.apiMiddleware.teamPlans?e.lee.apiMiddleware.teamPlans:(a(new Error("teamPlans service not set in apiMiddleware")),null),I=e.lee.apiMiddleware.strongAuth?e.lee.apiMiddleware.strongAuth:(a(new Error("strongAuth service not set in apiMiddleware")),null);return(0,r.useEffect)((()=>{(()=>{if(w.status===ue.rq.Success&&w.data){const{duo:t,duoIntegrationKey:a,duoSecretKey:n,duoApiHostname:i}=w.data;e.lee.dispatch(Wm.k0({duo:t,duoIntegrationKey:a,duoSecretKey:n,duoApiHostname:i}))}else w.status===ue.rq.Error&&console.error(`DuoSettings: fetchData failed with error: ${w.error}`)})()}),[w.data,w.error,w.status]),(0,f.BX)(Jm,{title:t(ip),children:[(0,f.tZ)("p",{className:Ym.settingsHeader,children:t(ip)}),(0,f.tZ)(Cc,{label:t("team_settings_duo_enable_label"),labelHelper:t("team_settings_duo_enable_helper"),children:(0,f.tZ)(ep.Z,{genericErrorMessage:t("_common_generic_error"),isDisabled:w.status===ue.rq.Loading||i,saveValueFunction:()=>{const t=!e.lee.state.hasDuo;return s(!0),e.lee.dispatch(Wm.FC(t)),N?.setSettings({duo:t}).then((()=>s(!1))).catch((()=>{}))},value:e.lee.state.hasDuo})}),(0,f.tZ)("p",{className:Ym.settingsHeader,children:t("team_settings_duo_header_setup")}),(0,f.BX)(Cc,{label:t("team_settings_duo_integration_key_label"),labelHelper:t("team_settings_duo_integration_key_helper"),children:[(0,f.tZ)(s_.n,{containerStyle:{width:"300px"},inputStyle:{minHeight:42},defaultValue:e.lee.state.duoIntegrationKey,isDisabled:o,onBlur:t=>{if(o)return;const a=t.target.value;e.lee.dispatch(Wm.a2(a)),l(!0),d(!1),N&&N.setSettings({duoIntegrationKey:a}).then((()=>{l(!1)})).catch((()=>{}))},onFocus:()=>d(!0),placeholder:t("team_settings_duo_integration_key_hint")}),c||o?(0,f.tZ)("div",{children:(0,f.tZ)(n_.Z,{label:t("team_settings_duo_integration_key_button"),loading:o})}):null]}),(0,f.BX)(Cc,{label:t("team_settings_duo_secret_key_label"),labelHelper:t("team_settings_duo_secret_key_helper"),children:[(0,f.tZ)(s_.n,{containerStyle:{width:"300px"},inputStyle:{minHeight:42},defaultValue:e.lee.state.duoSecretKey,isDisabled:u,onBlur:(t=>{if(u)return;const a=t.target.value;e.lee.dispatch(Wm.E4(a)),p(!0),h(!1),N&&N.setSettings({duoSecretKey:a}).then((()=>{p(!1)})).catch((()=>{}))}).bind(void 0),onFocus:()=>h(!0),placeholder:t("team_settings_duo_secret_key_hint")}),g||u?(0,f.tZ)("div",{children:(0,f.tZ)(n_.Z,{label:t("team_settings_duo_secret_key_button"),loading:u})}):null]}),(0,f.BX)(Cc,{label:t("team_settings_duo_api_host_label"),labelHelper:t("team_settings_duo_api_host_helper"),children:[(0,f.tZ)(s_.n,{containerStyle:{width:"300px"},inputStyle:{minHeight:42},defaultValue:e.lee.state.duoApiHostname,isDisabled:b,onBlur:(t=>{if(b)return;const a=t.target.value;e.lee.dispatch(Wm.qf(a)),y(!0),v(!1),N&&N.setSettings({duoApiHostname:a}).then((()=>{y(!1)})).catch((()=>{}))}).bind(void 0),onFocus:()=>v(!0),placeholder:t("team_settings_duo_api_host_hint")}),S||b?(0,f.tZ)("div",{children:(0,f.tZ)(n_.Z,{label:t("team_settings_duo_api_host_button"),loading:b})}):null]}),(0,f.tZ)("p",{className:Ym.settingsHeader,children:t("team_settings_duo_header_directory")}),(0,f.tZ)(Cc,{label:t("team_settings_duo_upload_csv_label"),labelHelper:(0,f.BX)("ol",{className:np.uploadCsvLabel,children:[(0,f.tZ)("li",{children:t("team_settings_duo_upload_csv_helper_step_one")}),(0,f.tZ)("li",{children:t("team_settings_duo_upload_csv_helper_step_two")}),(0,f.tZ)("li",{children:t("team_settings_duo_upload_csv_helper_step_three")})]}),children:(0,f.BX)("div",{className:np.fileContainer,children:[(0,f.BX)("div",{className:np.file,children:[(0,f.tZ)("span",{className:np.fileIcon}),(0,f.tZ)("div",{className:np.fileTitle,children:E?[(0,f.tZ)("div",{className:np.fileTitleHeader,children:E},"header"),(0,f.tZ)("div",{className:np.fileProgressBackground,children:(0,f.tZ)("div",{className:T?np.fileProgressComplete:np.fileProgress})},"progress"),(0,f.tZ)("p",{className:[np.fileTitleHint,T&&C?np.fileTitleHintError:np.fileTitleHintSuccess].join(" "),children:t(T?C?"team_settings_duo_upload_csv_feedback_error":"team_settings_duo_upload_csv_feedback_success":"team_settings_duo_upload_csv_feedback_progress")},"hint")]:[(0,f.tZ)("div",{className:np.fileTitleHeader,children:"duo_usernames.csv"},"header")]})]}),(0,f.BX)("div",{className:np.fileButtons,children:[(0,f.tZ)("input",{type:"file",id:"file",accept:"text/csv, text/plain, .csv",ref:n,style:{display:"none"},onChange:(()=>{var e;E&&k(null);const t=null!=(e=n.current?.files?.[0])?e:{name:""};k(t.name),I&&I.uploadDuoCsv(t).then((()=>{D(!0),setTimeout((()=>k(null)),2e3)})).catch((e=>{Z(e.code.toLowerCase()),D(!0)}))}).bind(void 0)}),(0,f.tZ)(tp.Z,{label:t("team_settings_duo_upload_csv_button_upload"),onClick:(()=>{n.current?.click()}).bind(void 0)}),(0,f.tZ)(ap,{data:{login:e.lee.globalState.user.session.login,uki:e.lee.globalState.user.session.uki},label:t("team_settings_duo_upload_csv_button_download"),style:{marginLeft:"16px"},targetUri:"https://ws1.dashlane.com/3/strongauth/exportDuoUsernames"})]}),C?(0,f.BX)("div",{className:np.fileError,children:[(0,f.BX)("div",{className:np.fileErrorTitle,children:[(0,f.tZ)("span",{className:np.fileErrorTitleIcon,children:"!"}),t("team_settings_duo_upload_csv_error_title")]}),(0,f.tZ)("p",{className:np.fileErrorContent,children:t(`team_settings_duo_upload_csv_error_${C}`)})]}):null]})})]})}),pe.DUO),Ox=fo((e=>{const[t,a]=(0,r.useState)(!1),[n,s]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1),[_,u]=(0,r.useState)(!1),[m,p]=(0,r.useState)(""),[g,h]=(0,r.useState)(!1),{translate:y}=(0,x.Z)(),{reportTACError:S}=H(),v=(0,Gd.U)(),{status:C,data:Z}=rp(),{showToast:T}=(0,l.pm)();if((0,r.useEffect)((()=>{null!==v&&((0,b.Nc)(d.PageView.TacSettingsAccountRecovery),(async()=>{if(a(!0),(0,Gn.v0)(e.lee.globalState))try{const t=Z?.recoveryEnabled;e.lee.dispatch(op.x({recoveryEnabled:t}));const a=await(async()=>{const t=(0,Gn.v0)(e.lee.globalState);if(t&&t.teamId){const e=await(0,Ce.mP)({teamId:t.teamId});return Boolean(e.length)}return S(new Error(Zi.N)),!1})();u(a)}catch(e){console.error(e)}finally{a(!1)}else S(new Error(Zi.N))})())}),[v,Z]),C!==ue.rq.Success||!Z)return null;const D=async t=>{a(!0);const n=(0,k.ev)(e.lee.globalState);if(n)try{await(0,Ce.jy)({teamId:n,settings:{recoveryEnabled:t}}),e.lee.dispatch(op.Zn(t)),T({id:"toggleRecovery",description:y(t?"team_settings_master_password_policies_dialog_alert_label_available":"team_settings_master_password_policies_dialog_alert_label_unavailable"),action:{label:y("common_alert_undo_action"),onClick:()=>{D(!t)}}}),a(!1)}catch(e){a(!1)}else S(new Error(Zi.N))},E=async()=>{c((e=>!e))},w=async()=>{s(!0);const t=await(0,Ce.RR)({masterPassword:m});s(!1),t?(await Promise.all([E(),D(!e.lee.state.recoveryEnabled)]),p(""),h(!1)):h(!0)},N=_&&e.lee.state.recoveryEnabled;return(0,f.BX)(Jm,{title:y("team_settings_menu_title_account_recovery"),children:[(0,f.BX)("div",{children:[(0,f.BX)("div",{sx:{position:"relative"},children:[(0,f.tZ)(l.X6,{textStyle:"ds.title.section.medium",as:"h3",sx:{marginBottom:"8px"},children:y("team_settings_master_password_policies_settings_recover_label")}),(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",sx:{marginBottom:"40px",paddingRight:"80px"},children:y("team_settings_master_password_policies_settings_recover_label_helper")}),(0,f.tZ)(l.ZD,{sx:{position:"absolute",top:0,right:0},disabled:t||N,readOnly:!!v,tooltip:v?y("team_settings_master_password_policies_settings_recovery_blocked_discontinued"):void 0,checked:e.lee.state.recoveryEnabled,onChange:E})]}),(0,f.tZ)(l.X6,{textStyle:"ds.title.section.medium",as:"h3",sx:{marginBottom:"24px"},children:y("team_settings_master_password_policies_settings_how_it_works_label")}),dp||(dp=(0,f.tZ)(cp,{})),(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.quiet",sx:{marginBottom:"4px"},children:y("team_settings_master_password_policies_settings_how_it_works_label_helper")}),(0,f.tZ)(l.Qj,{isExternal:!0,href:i.WW,children:y("team_settings_master_password_policies_settings_how_it_works_label_helper_link_text")})]}),(0,f.tZ)(sp.Z,{isOpen:o,title:e.lee.state.recoveryEnabled?y("team_settings_master_password_policies_dialog_title_disable"):y("team_settings_master_password_policies_dialog_title_enable"),labelDismiss:y("team_settings_master_password_policies_dialog_cta_cancel_label"),labelConfirm:e.lee.state.recoveryEnabled?y("team_settings_master_password_policies_dialog_cta_confirm_label_disable"):y("team_settings_master_password_policies_dialog_cta_confirm_label_enable"),onDismiss:()=>{p(""),h(!1),c(!1)},onConfirm:()=>w(),ctaIsDisabled:n||!m,onChange:e=>{p(e.target.value),h(!1)},isMasterPasswordInvalid:g,onKeyDown:e=>{(async e=>{13===e.keyCode&&m&&await w()})(e)},children:e.lee.state.recoveryEnabled?(0,f.BX)("div",{children:[(0,f.tZ)(l.nv,{children:y.markup("team_settings_master_password_policies_confirmation_dialog_disable_label_markup")}),(0,f.tZ)(l.nv,{children:y("team_settings_master_password_policies_confirmation_dialog_disable_sublabel")})]}):(0,f.BX)("div",{children:[(0,f.tZ)(l.nv,{children:y.markup("team_settings_master_password_policies_confirmation_dialog_enable_label_markup",{},{linkTarget:"_blank"})}),(0,f.tZ)(l.nv,{children:y("team_settings_master_password_policies_confirmation_dialog_enable_sublabel")})]})})]})}),pe.ACCOUNT_RECOVERY),Lx=fo(ky,pe.SSO),Bx=fo(Nx,pe.SIEM);function Rx({path:e}){return(0,f.tZ)(s.GB,{path:e,permission:e=>e.adminAccess.hasFullAccess,children:(0,f.BX)(s.rs,{children:[(0,f.tZ)(s.l_,{exact:!0,from:e,to:`${e}${i.B9.POLICIES}`}),(0,f.tZ)(s.Vy,{path:`${e}${i.B9.POLICIES}`,component:Ix}),(0,f.tZ)(s.Vy,{path:`${e}${i.B9.DIRECTORY_SYNC}`,component:Ax}),(0,f.tZ)(s.Vy,{path:`${e}${i.B9.DUO}`,component:Mx,reducer:Wm.ZP}),(0,f.tZ)(s.Vy,{path:`${e}${i.B9.MASTER_PASSWORD_POLICIES}`,component:Ox,reducer:op.ZP}),(0,f.tZ)(s.Vy,{path:`${e}${i.B9.SSO}`,component:Lx}),(0,f.tZ)(s.Vy,{path:`${e}${i.B9.SIEM}`,component:Bx})]})})}let zx=function(e){return e.DIRECTORY_SYNC="directory-sync",e.SSO="sso",e.SIEM="siem",e}({});const Px=()=>{const{translate:e}=(0,x.Z)();return(0,f.BX)("div",{sx:{padding:"24px",borderColor:"ds.border.neutral.quiet.idle",backgroundColor:"ds.container.agnostic.neutral.supershy",borderRadius:"8px",display:"flex",flexDirection:"column",gap:"32px"},children:[(0,f.BX)("div",{sx:{display:"flex",flexDirection:"column",rowGap:"4px"},children:[(0,f.tZ)(l.Ct,{label:e("team_integrations_mass_deployment_badge"),mood:"brand",intensity:"quiet"}),(0,f.tZ)(l.X6,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:e("team_integrations_mass_deployment_title")}),(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",children:e("team_integrations_mass_deployment_description")})]}),(0,f.tZ)(l.Qj,{href:"https://support.dashlane.com/hc/articles/360010375459-Deploy-Dashlane-browser-extension-using-GPO",isExternal:!0,children:e("team_integrations_mass_deployment_link")})]})};var Xx=a(80177);const Ux=({containerTitle:e,containerDescription:t,isMainButtonDisabled:a=!1,disabledReason:n,mainButtonLink:i,badgeLabel:s,isCapable:r,children:o})=>(0,f.BX)("div",{sx:{padding:"24px",borderColor:"ds.border.neutral.quiet.idle",backgroundColor:"ds.container.agnostic.neutral.supershy",borderRadius:"8px",display:"flex",flexDirection:"column",gap:"32px"},children:[(0,f.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,f.tZ)(l.Ct,{label:s,mood:i?"brand":"neutral",intensity:"quiet"}),(0,f.tZ)(l.X6,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:e}),!!t&&(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",children:t})]}),o,!!a&&!!n&&r&&(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",sx:{margin:"-28px 0px 0px 12px"},children:n})]}),jx=({subCardDescription:e,subCardHeader:t,image:a,externalLink:n,externalLinkTitle:i,isMainButtonDisabled:r=!1,mainButtonTitle:o,mainButtonLink:c,secondButtonTitle:d,secondButtonLink:_,upgradeButtonLink:u,isCapable:m})=>{const{translate:p}=(0,x.Z)();return(0,f.BX)("div",{sx:{display:"flex",flex:1,backgroundColor:"ds.background.alternate",padding:"24px",borderRadius:"8px"},children:[(0,f.BX)("div",{sx:{display:"flex",flex:a?3:1,flexDirection:"column",justifyContent:"center",gap:"10px"},children:[(0,f.tZ)(l.X6,{as:"h2",textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",children:t}),e||n||c||u?(0,f.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"24px"},children:[e?(0,f.tZ)(l.nv,{textStyle:"ds.body.standard.regular",color:"ds.text.neutral.standard",children:e}):null,!!n&&(0,f.tZ)(l.Qj,{href:n,isExternal:!0,children:i}),m&&c?(0,f.BX)("div",{sx:{display:"flex",gap:"8px"},children:[(0,f.tZ)(l.zx,{as:s.rU,to:c,disabled:r,children:o}),_?(0,f.tZ)(l.zx,{as:s.rU,to:_,mood:"neutral",intensity:"quiet",children:d}):null]}):u&&(0,f.tZ)(l.zx,{as:s.rU,to:u,layout:"iconLeading",icon:"PremiumOutlined",mood:"brand",intensity:"quiet",children:p("team_settings_directory_sync_scim_paywall_upgrade_business")})]}):null]}),a&&(0,f.tZ)("div",{sx:{display:"flex",justifyContent:"center",flex:1},children:(0,f.tZ)("img",{role:"presentation",alt:"",src:a,sx:{objectFit:"contain",width:"100%",height:"auto"}})})]})},qx=({containerTitle:e,containerDescription:t,subCardDescription:a,subCardHeader:n,image:i,externalLink:s,externalLinkTitle:r,isMainButtonDisabled:o=!1,disabledReason:l,mainButtonTitle:c,mainButtonLink:d,secondButtonTitle:_,secondButtonLink:u,badgeLabel:m,upgradeButtonLink:p,isCapable:g})=>(0,f.tZ)(Ux,{containerTitle:e,containerDescription:t,isMainButtonDisabled:o,disabledReason:l,mainButtonLink:d,badgeLabel:m,isCapable:g,children:(0,f.tZ)(jx,{subCardDescription:a,subCardHeader:n,image:i,externalLink:s,externalLinkTitle:r,isMainButtonDisabled:o,mainButtonTitle:c,mainButtonLink:d,secondButtonTitle:_,secondButtonLink:u,upgradeButtonLink:p,isCapable:g})});var Gx;const $x=({containerTitle:e,subCardTitle:t,editButtonLink:a,badgeLabel:n})=>{const{translate:i}=(0,x.Z)();return(0,f.BX)("div",{sx:{padding:"24px",borderColor:"ds.border.neutral.quiet.idle",backgroundColor:"ds.container.agnostic.neutral.supershy",borderRadius:"8px",display:"flex",flexDirection:"column",gap:"32px"},children:[(0,f.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,f.tZ)(l.Ct,{label:n,mood:"brand",intensity:"quiet"}),(0,f.tZ)(l.X6,{as:"h2",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:e})]}),(0,f.BX)("div",{sx:{display:"flex",justifyContent:"space-between",backgroundColor:"ds.background.alternate",padding:"24px",borderRadius:"8px"},children:[(0,f.BX)("div",{sx:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,f.tZ)(l.X6,{as:"h3",textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",children:t}),Gx||(Gx=(0,f.tZ)(l.Ct,{label:"Enabled",mood:"positive",intensity:"catchy",layout:"labelOnly"}))]}),(0,f.tZ)(l.zx,{as:s.rU,to:a,mood:"brand",intensity:"quiet",children:i("team_integrations_edit_button")})]})]})};var Fx;const Vx="team_integrations_siem_title",Hx="team_integrations_siem_badge",Wx=({active:e})=>{const{translate:t}=(0,x.Z)(),{routes:a}=(0,s.Xo)(),n=`${a.teamIntegrationsRoutePath}${i.B9.SIEM}`;return(0,ae.o)("setup_rollout_splunk_integration_dev")?e?(0,f.tZ)($x,{containerTitle:t(Vx),subCardTitle:(0,f.tZ)(l.X6,{as:"h3",textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",children:t("team_integrations_splunk_active_title")}),badgeLabel:t(Hx),editButtonLink:n}):(0,f.tZ)(qx,{containerTitle:t(Vx),subCardHeader:(0,f.BX)("div",{sx:{display:"flex",gap:"8px"},children:[(0,f.tZ)(l.X6,{as:"h3",textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",children:t("team_integrations_splunk_non_active_title")}),(0,f.BX)("div",{sx:{display:"flex",alignItems:"center",gap:"4px"},children:[Fx||(Fx=(0,f.tZ)(l.JO,{name:"TimeOutlined",size:"xsmall",color:"ds.text.neutral.standard"})),(0,f.BX)(l.nv,{color:"ds.text.neutral.standard",textStyle:"ds.body.helper.regular",children:["X ",t("team_integrations_time")]})]})]}),subCardDescription:t("team_integrations_splunk_non_active_subtitle"),badgeLabel:t(Hx),externalLink:"https://support.dashlane.com/hc/articles/",externalLinkTitle:t("team_integrations_splunk_non_active_link"),image:Xx,mainButtonTitle:t("team_integrations_splunk_non_active_main_button"),mainButtonLink:n,isCapable:!0}):(0,f.tZ)(qx,{containerTitle:t(Vx),subCardHeader:(0,f.BX)("div",{sx:{display:"flex",gap:"8px"},children:[(0,f.tZ)(l.X6,{as:"h3",textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",children:t("team_integrations_siem_subtitle")}),(0,f.tZ)(l.Ct,{label:t("team_integrations_siem_coming_soon"),layout:"labelOnly",intensity:"catchy",mood:"brand"})]}),subCardDescription:t("team_integrations_siem_subdescription"),badgeLabel:t(Hx),isCapable:!1})};var Yx,Kx,Qx=a(80911);const Jx=()=>{const{translate:e}=(0,x.Z)();return(0,f.BX)("div",{sx:{display:"flex",gap:"8px"},children:[(0,f.tZ)(l.X6,{as:"h3",textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",children:e("team_integrations_sso_subcard_title")}),(0,f.BX)("div",{sx:{display:"flex",alignItems:"center",gap:"4px"},children:[Yx||(Yx=(0,f.tZ)(l.JO,{name:"TimeOutlined",size:"xsmall",color:"ds.text.neutral.standard"})),(0,f.BX)(l.nv,{color:"ds.text.neutral.standard",textStyle:"ds.body.helper.regular",children:["10 ",e("team_integrations_time")]})]})]})},eS=({isCapable:e,isSelfhostedScimEnabled:t})=>{const{routes:a}=(0,s.Xo)(),{translate:n}=(0,x.Z)();return(0,f.tZ)(qx,{containerTitle:n("team_integrations_sso_card_title"),subCardHeader:Kx||(Kx=(0,f.tZ)(Jx,{})),subCardDescription:n("team_integrations_sso_subcard_description"),image:Qx,externalLink:"https://support.dashlane.com/hc/articles/10992671925778",externalLinkTitle:n("team_integrations_mass_deployment_link"),isMainButtonDisabled:t,disabledReason:n("team_integrations_sso_disabled"),mainButtonTitle:n("team_integrations_scim_main_button"),mainButtonLink:`${a.teamIntegrationsRoutePath}${i.B9.SSO}${Dy}`,secondButtonTitle:n("team_integrations_scim_second_button"),secondButtonLink:`${a.teamIntegrationsRoutePath}${i.B9.SSO}`,badgeLabel:n("team_integrations_sso_badge"),upgradeButtonLink:`${a.teamIntegrationsRoutePath}${i.B9.SSO}`,isCapable:e})},tS=({isConfidentialSSO:e,isSelfHostedSSO:t,isCapable:a,isSelfhostedScimEnabled:n})=>{const{translate:r}=(0,x.Z)(),{routes:o}=(0,s.Xo)();return e||t?(0,f.tZ)($x,{containerTitle:r("team_integrations_sso_title"),subCardTitle:(0,f.tZ)(l.nv,{children:r(e?"team_integrations_confidential_sso_title":"team_integrations_self_hosted_sso_title")}),editButtonLink:`${o.teamIntegrationsRoutePath}${i.B9.SSO}${Dy}`,badgeLabel:r("team_integrations_sso_badge")}):(0,f.tZ)(eS,{isCapable:a,isSelfhostedScimEnabled:null!=n&&n})};var aS,nS,iS=a(324120);const sS=()=>{const{translate:e}=(0,x.Z)();return(0,f.BX)("div",{sx:{display:"flex",gap:"8px"},children:[(0,f.tZ)(l.X6,{as:"h3",textStyle:"ds.title.block.medium",color:"ds.text.neutral.catchy",children:e("team_integrations_confidential_scim")}),(0,f.BX)("div",{sx:{display:"flex",alignItems:"center",gap:"4px"},children:[aS||(aS=(0,f.tZ)(l.JO,{name:"TimeOutlined",size:"xsmall",color:"ds.text.neutral.standard"})),(0,f.BX)(l.nv,{color:"ds.text.neutral.standard",textStyle:"ds.body.helper.regular",children:["5 ",e("team_integrations_time")]})]})]})},rS=({isCapable:e,isConfidentialSSOSetup:t,isSelfHostedSSOSetup:a})=>{const{routes:n}=(0,s.Xo)(),{translate:r}=(0,x.Z)();return(0,f.tZ)(qx,{containerTitle:r("team_integrations_scim_title"),subCardHeader:nS||(nS=(0,f.tZ)(sS,{})),subCardDescription:r("team_integrations_scim_subcard_description"),image:iS,externalLink:"https://support.dashlane.com/hc/articles/10992671925778",externalLinkTitle:r("team_integrations_mass_deployment_link"),isMainButtonDisabled:!t&&!a,disabledReason:r("team_integrations_scim_disabled_reason"),mainButtonTitle:r("team_integrations_scim_main_button"),mainButtonLink:`${n.teamIntegrationsRoutePath}${i.B9.DIRECTORY_SYNC}/${sx.redirectUrl}`,secondButtonTitle:r("team_integrations_scim_second_button"),secondButtonLink:`${n.teamIntegrationsRoutePath}${i.B9.DIRECTORY_SYNC}`,badgeLabel:r("team_integrations_scim_badge"),upgradeButtonLink:`${n.teamIntegrationsRoutePath}${i.B9.DIRECTORY_SYNC}`,isCapable:e})},oS=({isNitroSCIMEnabled:e,isSelfhostedScimEnabled:t,isAdSyncEnabled:a,isCapable:n,isConfidentialSSO:r,isSelfHostedSSO:o})=>{const{translate:c}=(0,x.Z)(),{routes:d}=(0,s.Xo)();return e||t||a?(0,f.tZ)($x,{containerTitle:c("team_integrations_scim_title"),subCardTitle:(0,f.tZ)(l.nv,{children:c(e?"team_integrations_confidential_scim":t?"team_integrations_self_hosted_scim":"team_integrations_active_directory")}),editButtonLink:`${d.teamIntegrationsRoutePath}${i.B9.DIRECTORY_SYNC}/${sx.redirectUrl}`,badgeLabel:c("team_integrations_scim_badge")}):(0,f.tZ)(rS,{isCapable:n,isConfidentialSSOSetup:r,isSelfHostedSSOSetup:o})},lS=()=>{const{translate:e}=(0,x.Z)();return(0,f.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,f.tZ)(l.X6,{as:"h1",textStyle:"ds.title.section.large",children:e("team_settings_menu_title_integrations")}),(0,f.tZ)(l.nv,{children:e("team_integrations_title")})]})};var cS,dS,_S;const uS=fo(Tx,zx.DIRECTORY_SYNC),mS=fo(ky,zx.SSO),pS=fo((()=>{var e;const[t,a]=(0,r.useState)(!1),n=(0,Qs.S)(),{initSsoProvisioning:i}=(0,q.u)(eg.y),s=(0,_.k)(eg.y,"ssoProvisioning"),{data:o,status:c}=(0,_.k)(ey.m,"scimConfiguration"),{data:d,status:u}=(0,_.k)(Dx.v,"getSiemConfiguration"),{teamId:m}=(0,De.fV)(),{teamSettings:p={},teamSettingsLoading:g}=Te(m),{esConfig:h}=rh(),{teamDeviceConfig:b}=eb({draft:!1,deviceAccessKey:h?.deviceAccessKey}),y=(0,r.useCallback)((async e=>{e&&await i({teamId:`${e}`})}),[i,m]),x=null==(e=n?.scim.enabled)||e;if((0,r.useEffect)((()=>{y(m).then((()=>{a(!0)}))}),[y]),s.status!==ue.rq.Success||c!==ue.rq.Success||u!==ue.rq.Success||!t)return(0,f.tZ)("div",{sx:{display:"flex",justifyContent:"center"},children:cS||(cS=(0,f.tZ)(l.ZX,{size:75}))});const{inferredSsoState:S}=s.data.global,v=S===rg.s5.enum.SelfHostedComplete,C=S===rg.s5.enum.NitroComplete,Z=!g&&p.activeDirectorySyncType,T=b?.configProperties.scimEnabled,D=o?.active,E=d?.active;return(0,f.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"32px",padding:"32px"},children:[dS||(dS=(0,f.tZ)(lS,{})),(0,f.tZ)(tS,{isConfidentialSSO:C,isSelfHostedSSO:v,isCapable:x,isSelfhostedScimEnabled:!!T}),(0,f.tZ)(oS,{isNitroSCIMEnabled:D,isAdSyncEnabled:!!Z,isCapable:x,isConfidentialSSO:C,isSelfHostedSSO:v,isSelfhostedScimEnabled:v}),_S||(_S=(0,f.tZ)(Px,{})),(0,f.tZ)(Wx,{active:E})]})}),ge.$.INTEGRATIONS),gS=fo(Nx,zx.SIEM);function hS({path:e}){return(0,f.tZ)(s.GB,{path:e,permission:e=>e.adminAccess.hasFullAccess,children:(0,f.BX)(s.rs,{children:[(0,f.tZ)(s.Vy,{exact:!0,component:pS,path:`${e}`,permission:e=>WS("FULL",e),redirectPath:`${e}`}),(0,f.tZ)(s.Vy,{path:`${e}${i.B9.DIRECTORY_SYNC}`,component:uS}),(0,f.tZ)(s.Vy,{path:`${e}${i.B9.SSO}`,component:mS}),(0,f.tZ)(s.Vy,{path:`${e}${i.B9.SIEM}`,component:gS})]})})}var bS,yS,xS,SS,fS,vS,CS,ZS=a(897078),TS=a(57904),DS=a(633272),ES=a(109215),kS=a(672153),wS=a(55961),NS=a(470180);const IS=({title:e,content:t,ctaText:a,ctaAction:n,buttonIcon:i})=>(0,f.BX)(c.Ejs,{flexDirection:"column",gap:4,children:[(0,f.tZ)(l.X6,{as:"h1",children:e}),(0,f.tZ)(l.nv,{children:t}),(0,f.tZ)(l.zx,{onClick:n,sx:{marginTop:"16px"},size:"small",mood:"neutral",intensity:"quiet",layout:i?"iconTrailing":"labelOnly",icon:i,children:a})]}),AS=({setContactSupportDialogIsOpen:e})=>{const{translate:t}=(0,x.Z)(),a=(0,s.Xo)(),n=(0,s.k6)(),i=[(0,f.tZ)(IS,{title:t("team_get_started_help_access_guide_title"),content:t("team_get_started_help_access_guide_content"),ctaText:t("team_get_started_help_access_guide_cta"),ctaAction:()=>{(0,X.Yo)(te.EL)},buttonIcon:bS||(bS=(0,f.tZ)(l.JO,{name:"ActionOpenExternalLinkOutlined"}))},"accessGuides"),(0,f.tZ)(IS,{title:t("team_get_started_help_customize_title"),content:t("team_get_started_help_customize_content"),ctaText:t("team_get_started_help_customize_cta"),ctaAction:()=>{n.push(a.routes.teamSettingsRoutePath)}},"customize"),(0,f.tZ)(IS,{title:t("team_get_started_help_activity_title"),content:t("team_get_started_help_activity_content"),ctaText:t("team_get_started_help_activity_cta"),ctaAction:()=>{n.push(a.routes.teamActivityRoutePath)}},"activity"),(0,f.tZ)(IS,{title:t("team_get_started_help_deploy_title"),content:t("team_get_started_help_deploy_content"),ctaText:t("team_get_started_help_deploy_cta"),ctaAction:()=>{(0,X.Yo)("https://support.dashlane.com/hc/articles/360012482199-Dashlane-deployment-guide-for-admins#invite_members")},buttonIcon:yS||(yS=(0,f.tZ)(l.JO,{name:"ActionOpenExternalLinkOutlined"}))},"deploy"),(0,f.BX)(c.Ejs,{flexDirection:"column",gap:4,justifyContent:"start",children:[(0,f.tZ)(l.X6,{as:"h1",children:t("team_get_started_help_more_title")}),(0,f.tZ)(l.zx,{size:"small",mood:"brand",sx:{textAlign:"left"},intensity:"supershy",layout:"iconTrailing",icon:xS||(xS=(0,f.tZ)(l.JO,{name:"ActionOpenExternalLinkOutlined"})),onClick:()=>(0,X.Yo)(te.EL),children:t("team_get_started_help_visit_help_center")}),(0,f.tZ)(l.zx,{size:"small",mood:"brand",sx:{textAlign:"left"},intensity:"supershy",layout:"iconTrailing",icon:SS||(SS=(0,f.tZ)(l.JO,{name:"ActionOpenExternalLinkOutlined"})),onClick:()=>(0,X.Yo)(te.VH),children:t("team_get_started_help_visit_help_resources")}),(0,f.tZ)(l.zx,{size:"small",mood:"brand",sx:{textAlign:"left"},intensity:"supershy",layout:"iconTrailing",icon:fS||(fS=(0,f.tZ)(l.JO,{name:"ActionOpenExternalLinkOutlined"})),onClick:()=>e(!0),children:t("team_get_started_help_visit_help_contact_support")})]},"moreHelp")],[o,d]=(0,r.useState)(0),_=i.length;return(0,f.BX)(c.Zbd,{sx:{padding:"32px",backgroundColor:"ds.container.agnostic.neutral.supershy",borderColor:"ds.border.neutral.quiet.idle",maxWidth:"480px",minWidth:"320px"},children:[(0,f.BX)(c.Ejs,{alignItems:"center",sx:{marginBottom:"16px"},flexDirection:"row",flexWrap:"nowrap",justifyContent:"space-between",children:[(0,f.BX)(l.nv,{color:"ds.text.neutral.quiet",children:[o+1,"/",_]}),(0,f.BX)(c.Ejs,{gap:4,children:[(0,f.tZ)(l.zx,{"aria-label":t("_common_action_back"),onClick:()=>{d((e=>e-1<0?_-1:(e-1)%_))},mood:"neutral",intensity:"supershy",icon:vS||(vS=(0,f.tZ)(l.JO,{name:"CaretLeftOutlined"})),layout:"iconOnly"}),(0,f.tZ)(l.zx,{"aria-label":t("_common_action_continue"),onClick:()=>{d((e=>(e+1)%_))},mood:"neutral",intensity:"supershy",icon:CS||(CS=(0,f.tZ)(l.JO,{name:"CaretRightOutlined"})),layout:"iconOnly"})]})]}),i[o]]})},MS=({isOpen:e,setIsOpen:t})=>{const{translate:a}=(0,x.Z)(),n=(0,s.k6)(),{setAsInteracted:i}=(0,me.d)(_e.O.TacGetStartedDismissPage),r=(0,s.Xo)();return(0,f.tZ)(ms.o,{title:a("team_get_started_close_page_title"),isOpen:e,onRequestClose:()=>{(0,b.Kz)(new d.UserCallToActionEvent({callToActionList:[d.CallToAction.Cancel,d.CallToAction.Confirm],hasChosenNoAction:!0})),t(!1)},footer:(0,f.BX)(c.cNS,{children:[(0,f.tZ)(l.zx,{sx:{mr:"12px"},mood:"neutral",intensity:"quiet",onClick:()=>{(0,b.Kz)(new d.UserCallToActionEvent({callToActionList:[d.CallToAction.Cancel,d.CallToAction.Confirm],chosenAction:d.CallToAction.Cancel,hasChosenNoAction:!1})),t(!1)},children:a("_common_action_cancel")}),(0,f.tZ)(l.zx,{mood:"danger",intensity:"catchy",onClick:()=>{(0,b.Kz)(new d.UserCallToActionEvent({callToActionList:[d.CallToAction.Cancel,d.CallToAction.Confirm],chosenAction:d.CallToAction.Confirm,hasChosenNoAction:!1})),i(),n.push(r.routes.teamDashboardRoutePath)},children:a("team_get_started_close_page_cta")})]}),children:a("team_get_started_close_page_content")})},OS=({allTasksCompleted:e})=>{const{translate:t}=(0,x.Z)(),a=Tn();return a?(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"8px",children:[(0,f.tZ)(l.nv,{textStyle:"ds.specialty.brand.small",sx:{fontWeight:"700"},children:t(e?"team_get_started_title_tasks_completed":"team_get_started_welcome_title")}),(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",children:e?null:t("team_get_started_welcome_subtitle",{team:a})})]}):null},LS=a.p+"b86402fcddc7bfe6ab1b.png";var BS;const RS=a.p+"f2c931634a3b982f7f78.png";var zS;var PS;var XS;var US;var jS,qS=a(29267);const GS={[kS.G.CREATE_ACCOUNT]:({isUpNext:e})=>(0,f.tZ)(z_,{isUpNext:e,upNextImage:zS||(zS=(0,f.tZ)("img",{alt:"",src:RS})),isCompleted:!0,title:"team_get_started_create_account_title",content:"team_get_started_create_account_content",helpDocLink:"",ctaOnClick:()=>{},ctaText:"team_get_started_visit_vault_cta"}),[kS.G.VISIT_VAULT]:({isCompleted:e,isUpNext:t})=>{const{markVaultAsVisited:a}=(0,wS.V)(),[n,i]=(0,r.useState)(!1);return(0,f.BX)(f.HY,{children:[(0,f.tZ)(z_,{isUpNext:t,upNextImage:jS||(jS=(0,f.tZ)("img",{alt:"",src:P_})),isCompleted:e,title:"team_get_started_visit_vault_title",content:"team_get_started_visit_vault_content",helpDocLink:"https://support.dashlane.com/hc/en-us/articles/115004367629",ctaOnClick:()=>{(0,b.Kz)(new d.UserClickEvent({button:d.Button.OpenVault})),(0,X.nL)(te.rC),a(),(0,qS.c)(qS.O.VisitVault)},ctaText:"team_get_started_visit_vault_cta",infoBoxText:"team_get_started_visit_vault_infobox"}),n?(0,f.tZ)(oe.F,{isShown:n,setIsShown:i,onBeforeNavigate:a,isFromVault:!1}):null]})},[kS.G.INVITE_MEMBERS]:({isCompleted:e,isUpNext:t})=>{const a=(0,s.Xo)(),n=(0,s.k6)();return(0,f.tZ)(z_,{isUpNext:t,upNextImage:XS||(XS=(0,f.tZ)("img",{alt:"",src:P_})),isCompleted:e,title:"team_get_started_invite_title",content:"team_get_started_invite_content",helpDocLink:"https://support.dashlane.com/hc/en-us/articles/208864325",ctaOnClick:()=>{X_(),n.push({pathname:a.routes.teamMembersRoutePath,state:{openSendInvitesDialog:!0}})},ctaText:"team_get_started_invite_cta",infoBoxText:"team_get_started_invite_member_infobox"})},[kS.G.ASSIGN_ADMIN]:({isCompleted:e,isUpNext:t,isCtaDisabled:a})=>{const n=(0,s.Xo)(),i=(0,s.k6)();return(0,f.tZ)(z_,{isUpNext:t,upNextImage:U_||(U_=(0,f.tZ)("img",{alt:"",src:P_})),isCompleted:e,isCtaDisabled:a,disabledCtaTooltipText:"team_get_started_assign_admin_disabled_tooltip",title:"team_get_started_assign_admin_title",content:"team_get_started_assign_admin_content",helpDocLink:"https://support.dashlane.com/hc/articles/208022229-Manage-Starter-Team-or-Business-plan-members#change-role",ctaOnClick:()=>{X_(),i.push({pathname:n.routes.teamMembersRoutePath,state:{[j_]:!0}})},ctaText:"team_get_started_assign_admin_cta",infoBoxText:"team_get_started_assign_admin_infobox"})},[kS.G.CREATE_SHARING_GROUP]:({isCompleted:e,isUpNext:t,isCtaDisabled:a,isDisabled:n})=>{const i=(0,s.Xo)(),r=(0,s.k6)();return(0,f.tZ)(z_,{isUpNext:t,upNextImage:PS||(PS=(0,f.tZ)("img",{alt:"",src:P_})),isDisabled:n,disabledText:"team_get_started_sharing_turned_off",isCtaDisabled:a,disabledCtaTooltipText:"team_get_started_sharing_group_disabled_tooltip",isCompleted:e,title:"team_get_started_sharing_group_title",content:"team_get_started_sharing_group_content",helpDocLink:"https://support.dashlane.com/hc/articles/115003949765",ctaOnClick:()=>{(0,b.Kz)(new d.UserClickEvent({button:d.Button.OpenGroupsPage})),r.push(i.routes.teamGroupsRoutePath)},ctaText:"team_get_started_sharing_group_cta",infoBoxText:"team_get_started_sharing_group_infobox"})},[kS.G.SHARE_ITEM]:({isCompleted:e,isUpNext:t,isCtaDisabled:a,isDisabled:n})=>{const i=(0,s.Xo)();return(0,f.tZ)(z_,{isUpNext:t,upNextImage:US||(US=(0,f.tZ)("img",{alt:"",src:RS})),isDisabled:n,disabledText:"team_get_started_sharing_turned_off",isCompleted:e,isCtaDisabled:a,disabledCtaTooltipText:"team_get_started_sharing_disabled_tooltip",title:"team_get_started_sharing_items_title",content:"team_get_started_sharing_items_content",helpDocLink:"https://support.dashlane.com/hc/en-us/articles/202699021",ctaOnClick:()=>{(0,b.Kz)(new d.UserClickEvent({button:d.Button.OpenSharingCenter})),(0,X.nL)(`${te.F1}#${i.routes.userSharingCenter}`)},ctaText:"team_get_started_sharing_items_cta",infoBoxText:"team_get_started_sharing_items_infobox"})},[kS.G.CHECK_PASSWORD_HEALTH]:({isCompleted:e,isUpNext:t,isCtaDisabled:a})=>{const n=(0,s.Xo)(),i=(0,s.k6)();return(0,f.tZ)(z_,{isUpNext:t,upNextImage:BS||(BS=(0,f.tZ)("img",{alt:"",src:LS})),isCompleted:e,isCtaDisabled:a,title:"team_get_started_password_health_title",content:"team_get_started_password_health_content",helpDocLink:"https://support.dashlane.com/hc/en-us/articles/360016225300",ctaOnClick:()=>{(0,b.Kz)(new d.UserClickEvent({button:d.Button.OpenDashboard})),i.push(n.routes.teamDashboardRoutePath)},ctaText:"team_get_started_password_health_cta",disabledCtaTooltipText:"team_get_started_password_health_cta_disabled",infoBoxText:"team_get_started_password_health_infobox"})}},$S=({tasks:e,completed:t,isUpNext:a})=>{const{translate:n}=(0,x.Z)();if(!e.length)return null;const i=a?null:(0,f.tZ)(l.X6,{as:"h2",textStyle:"ds.title.section.medium",sx:{marginTop:"16px",marginBottom:"8px"},children:n(t?"team_get_started_completed_tasks_title":"team_get_started_tasks_title")});return(0,f.BX)(f.HY,{children:[i,e.map((e=>t===e.isCompleted?(({key:e,...t})=>{if(!GS[e])return null;const a=GS[e];return(0,f.tZ)(a,{...t},e)})({isUpNext:a,...e}):null))]})},FS=({upNextTask:e,toDoTasks:t,completedTasks:a})=>(0,f.BX)(c.Ejs,{flexDirection:"column",children:[(0,f.tZ)($S,{completed:!1,tasks:e?[e]:[],isUpNext:!0}),(0,f.tZ)($S,{completed:!1,tasks:t,isUpNext:!1}),(0,f.tZ)($S,{completed:!0,tasks:a,isUpNext:!1})]}),VS=({openDialog:e,allTasksCompleted:t})=>{const{translate:a}=(0,x.Z)();return(0,f.BX)(c.Ejs,{sx:{display:"flex",marginTop:t?"0px":"40px",marginBottom:t?"16px":"80px",alignItems:"center",gap:"16px"},children:[(0,f.tZ)(l.nv,{color:"ds.text.neutral.quiet",children:a("team_get_started_close_guide")}),(0,f.tZ)(l.zx,{onClick:()=>{(0,b.Kz)(new d.UserCompleteTacOnboardingTaskEvent({onboardingTask:d.OnboardingTask.CloseGuide})),e(!0)},size:"small",mood:"neutral",intensity:"quiet",children:a("team_get_started_close_guide_cta")})]})};var HS;function WS(e,t){return!t.adminAccess||t.adminAccess.hasPermissionLevel(e)}const YS=fo((()=>{var e,t,a;const n=kt(),i=(0,h.s)(),{setNavBarChildren:x}=(0,r.useContext)(Tt),{showToast:S}=(0,l.pm)(),{data:C,status:T}=(0,_.k)(m.o,"getTeamSeats"),{loading:E,billingCountry:k}=D(),[w,N]=(0,r.useState)(0),[I,A]=(0,r.useState)(0),[M,O]=(0,r.useState)(),[L,B]=(0,r.useState)(""),[R,z]=(0,r.useState)(!0),[P,X]=(0,r.useState)(yn.FORM),[U,j]=(0,r.useState)(),[q,G]=(0,r.useState)(),[$,F]=(0,r.useState)(""),V=(0,u._)();let H=!1;var W;V?.status===o.rq.Success&&(H=null!=(W=V.data[p.A.EcommerceWebReduceSeatsDev]||V.data[p.A.EcommerceWebReduceSeatsProd])&&W);const Y=(null!=(e=C?.paid)?e:0)+(null!=(t=C?.extraFree)?t:0),K=Y-(null!=(a=C?.remaining)?a:0),Q=i?.spaceTier;if((0,r.useEffect)((()=>{""!==$&&S({mood:"danger",description:$}),F("")}),[$]),(0,r.useEffect)((()=>(P===yn.FORM?x(xn||(xn=(0,f.tZ)(Z,{}))):x(null),()=>{x(null)})),[P]),(0,r.useEffect)((()=>{n&&("business"!==(0,s.CN)().get("plan")&&Q!==g.lD.Team||O(n.businessOffer))}),[n]),E||T!==o.rq.Success||!C||!i||!n||!Q)return Sn||(Sn=(0,f.tZ)(l.ZX,{mood:"brand"}));const J=i.billingType===g.qo.Invoice,ee=n.businessOffer.currency;return(0,f.tZ)(c.Ejs,{sx:{margin:"45px",width:"1180px"},children:(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"8px",children:[P===yn.FORM?(0,f.BX)(c.Ejs,{gap:"8px",children:[(0,f.tZ)(c.k$b,{sx:{width:"646px"},children:(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"8px",children:[(0,f.tZ)(ea,{teamOffers:n,currentSpaceTier:Q,selectedOffer:M,handleSelection:e=>{(e=>{(0,b.Kz)(new d.UserClickEvent({clickOrigin:d.ClickOrigin.Plans,button:Mt(e)?d.Button.SelectTeamPlan:Ot(e)?d.Button.SelectBusinessPlan:d.Button.SelectStarterPlan}))})(e),O(e)}}),J?fn||(fn=(0,f.tZ)(ln,{})):"US"!==k?(0,f.BX)(f.HY,{children:[(0,f.tZ)(y.I,{b2b:!0,styles:{padding:"24px"}}),vn||(vn=(0,f.tZ)(bn,{isInAccountSummary:!1})),(0,f.tZ)($a,{email:L,emailValid:R,setEmail:B,setEmailValid:z})]}):(0,f.BX)(f.HY,{children:[(0,f.tZ)(y.I,{b2b:!0,styles:{padding:"24px"}}),(0,f.tZ)($a,{email:L,emailValid:R,setEmail:B,setEmailValid:z})]})]})}),(0,f.tZ)(c.k$b,{sx:{width:"470px"},children:(0,f.BX)(c.Ejs,{flexDirection:"column",gap:"8px",children:[(0,f.tZ)(tn,{teamOffers:n,currentSeats:Y}),H?(0,f.tZ)(Ua,{currentSeats:Y,currentActiveSeats:K,currentSpaceTier:Q,selectedSeatsQty:I,currency:ee,selectedOffer:M,email:L,emailValid:R,onSuccess:()=>{X((()=>yn.SUCCESS))},onError:e=>{F(e)},setSelectedSeatsQty:A,setOrderSummaryData:G}):(0,f.tZ)(wa,{currentSeats:Y,additionalSeats:w,currency:ee,selectedOffer:M,email:L,emailValid:R,onSuccess:()=>X((()=>yn.SUCCESS)),onError:e=>{F(e)},setAdditionalSeats:N,setOrderSummaryData:j}),Cn||(Cn=(0,f.tZ)(Fa,{}))]})})]}):null,P===yn.SUCCESS&&(H?q:U)&&M?(0,f.BX)(c.Ejs,{sx:{display:"flex",flexWrap:"nowrap",gap:"16px"},children:[(0,f.tZ)(c.Ejs,{sx:{display:"flex",flexGrow:"2",maxWidth:"632px",flexDirection:"column"},children:(0,f.tZ)(Ja,{targetPlan:Ot(M)?"business":"team"})}),(0,f.BX)(c.Ejs,{sx:{display:"flex",flexGrow:"1",gap:"16px",flexDirection:"column"},children:[(0,f.tZ)(on,{currency:ee,selectedOffer:M,costData:H?q:U}),Zn||(Zn=(0,f.tZ)(v,{}))]})]}):null]})})}),ge.$.CHANGE_PLAN),KS=fo((({lee:e})=>{const t=(0,z.B)(),a=(0,ie.JS)(),n=(0,se.C)(),i=(0,h.s)(),{search:s}=(0,Ne.TH)(),[o,l]=(0,r.useState)(Ks()),[c,_]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1),[p,y]=(0,r.useState)(!1),[x,S]=(0,r.useState)(!1),[v,C]=(0,r.useState)(),[Z,T]=(0,r.useState)(),D=a.status===ue.rq.Success?a.data.b2bStatus?.currentTeam?.planName:void 0;(0,r.useEffect)((()=>{(0,b.Nc)(d.PageView.TacAccount)}),[]);const k=e=>{"open"===e&&(y(!0),m(!1),S(!1)),"close"===e&&((0,b.Nc)(d.PageView.TacAccount),y(!1),S(!1))};if((0,r.useEffect)((()=>{s?.includes("showSeatsDialog")&&setTimeout((()=>{var e,t,a,n;(0,b.Kz)(new d.UserBuySeatEvent({flowStep:d.FlowStep.Start,hasPromo:!1,initialSeatCount:null!=(e=i?.seatsNumber)?e:0,priceAmountCents:null!=(t=i?.nextBillingDetails.amount)?t:0,priceCurrencyCode:d.PriceCurrencyCode[null!=(a=i?.nextBillingDetails.currency)?a:""],purchasedSeatCount:null!=(n=i?.seatsNumber)?n:0})),k("open")}),2e3)}),[]),(0,r.useEffect)((()=>{const e=(0,E.throttle)((()=>{const e=Ks();e&&!o?l(!0):!e&&o&&l(!1)}),100);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[o]),!n||!i||a.status===ue.rq.Loading)return null;const{lastBillingDateUnix:w,nextBillingDetails:N,spaceTier:I,seatsNumber:A,usersToBeRenewedCount:M}=i,O=a.status===ue.rq.Success&&!!a.data.b2bStatus?.currentTeam?.teamMembership.isTeamAdmin,{isFreeTrial:L}=n,B=e=>{const a=I===g.lD.Team?"team":"business",n=`${te.ub}?plan=${a}&subCode=${t?.subscriptionCode}`;(0,b.Kz)(new d.UserClickEvent({button:d.Button.BuyDashlane,clickOrigin:e})),(0,X.Yo)(n)},R=()=>{(0,b.Nc)(d.PageView.TacAccountCustomizeInvoice),_(!0)},P=!(a.status!==ue.rq.Success||!a.data)&&"invoice"===a.data.b2bStatus?.currentTeam?.teamInfo.planType,U=()=>{P?m(!0):k("open")};return(0,f.BX)("div",{sx:si.ACCOUNT_PAGE,children:[x?null:(0,f.BX)(f.HY,{children:[(0,f.tZ)(oi,{lee:e,onRequestBuyMoreSeats:()=>{(0,b.Kz)(new d.UserClickEvent({clickOrigin:d.ClickOrigin.AccountStatus,button:d.Button.BuySeats})),U()},onRequestTeamUpgrade:B,seatsNumber:A,isWindowCollapsed:o,hasFullAdminAccess:O}),u?(0,f.tZ)(us,{openUpgradeDialog:()=>k("open"),handleClose:()=>m(!1)}):null,(0,f.tZ)(as,{lee:e,handleGetPastReceipts:R,onRequestTeamUpgrade:()=>{L?B(d.ClickOrigin.BillingInformation):U()},planName:D,usersToBeRenewedCount:M,isWindowCollapsed:o})]}),p?(0,f.tZ)(Xs,{nextBillingDetails:N,numberOfCurrentPaidSlots:A,numberOfCurrentUsedSlots:M,onUpgradeSuccess:(e,t)=>{C(e),T(t),y(!1),S(!0)},onRequestClose:()=>k("close"),planTier:I},w):null,(0,f.tZ)(is,{lee:e,onClose:()=>{(0,b.Nc)(d.PageView.TacAccount),_(!1)},isOpen:c}),x&&v&&Z?(0,f.tZ)(Ys,{planTier:I,lastAdditionalSeatsDetails:v,lastBillingDetails:Z,onGetPastReceipts:R,onNavigateBack:()=>{S(!1),C(void 0),T(void 0)}}):null]})}),ge.$.ACCOUNT),QS=fo((()=>{const{translate:e}=(0,x.Z)(),[t,a]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!1),{isLoading:s,tasks:u}=(()=>{const{hasSharedGroupWithMembers:e=!1,status:t}=(0,DS.A)(),{hasSharedAnItemWithAGroup:a=!1,status:n}=(0,ES.W)(),{hasVisitedVault:i}=(0,wS.V)(),{hasMinimumMemberCount:s,hasMoreThanOneAdmin:r,hasSecurityScore:l,hasOnlyOneMember:c,isSharingDisabled:d,status:_}=(0,NS.h)();return t===o.rq.Loading||n===o.rq.Loading||_===o.rq.Loading?{isLoading:!0,tasks:[]}:{isLoading:!1,tasks:[{key:kS.G.CREATE_ACCOUNT,isCompleted:!0},{key:kS.G.VISIT_VAULT,isCompleted:null!=i&&i},{key:kS.G.INVITE_MEMBERS,isCompleted:s},{key:kS.G.ASSIGN_ADMIN,isCompleted:r,isCtaDisabled:c},{key:kS.G.CREATE_SHARING_GROUP,isCompleted:e,isCtaDisabled:c,isDisabled:d},{key:kS.G.SHARE_ITEM,isCompleted:a,isCtaDisabled:!e,isDisabled:d},{key:kS.G.CHECK_PASSWORD_HEALTH,isCtaDisabled:!l,isCompleted:l}]}})(),{isHasSeenGetStartedLoading:m,hasSeenGetStarted:p,markGetStartedAsSeen:g}=(()=>{const{data:e,status:t}=(0,_.k)(TS.h,"hasSeenGetStarted"),{markGetStartedAsSeen:a}=(0,q.u)(TS.h);return{isHasSeenGetStartedLoading:t===ue.rq.Loading,hasSeenGetStarted:t===ue.rq.Success&&e,markGetStartedAsSeen:()=>{a(void 0)}}})();(0,r.useEffect)((()=>{(0,b.Nc)(d.PageView.TacOnboardingChecklist)}),[]),(0,r.useEffect)((()=>{p||m||g()}),[p,m]);const{upNextTask:h,toDoTasks:y,completedTasks:S}=(()=>{const e=u,t=u.findIndex((e=>!e.isCompleted));let a=null;return t>=0&&(a=e[t],e.splice(t,1)),{upNextTask:a,toDoTasks:e.filter((e=>!e.isCompleted)),completedTasks:e.filter((e=>e.isCompleted))}})(),v=0===y.length&&null===h;return(0,f.BX)(c.Ejs,{sx:{paddingX:"80px",paddingY:"32px",maxWidth:"1900px"},gap:"8px",flexDirection:"column",children:[(0,f.tZ)(OS,{allTasksCompleted:v}),v?(0,f.tZ)(VS,{allTasksCompleted:v,openDialog:a}):null,h?(0,f.tZ)(l.X6,{as:"h2",textStyle:"ds.title.section.medium",sx:{marginTop:"16px"},children:e("team_get_started_up_next_task_title")}):null,(0,f.BX)(c.T5p,{fullWidth:!0,gap:"64px",gridTemplateColumns:"2fr 1fr",gridTemplateAreas:"'tasks helpTips'",children:[(0,f.tZ)(c.dDn,{gridArea:"tasks",children:s?HS||(HS=(0,f.tZ)(Yo.a,{})):(0,f.BX)(f.HY,{children:[(0,f.tZ)(FS,{upNextTask:h,completedTasks:S,toDoTasks:y}),v?null:(0,f.tZ)(VS,{allTasksCompleted:v,openDialog:a})]})}),(0,f.tZ)(c.dDn,{gridArea:"helpTips",sx:{paddingTop:"8px"},children:(0,f.tZ)(AS,{setContactSupportDialogIsOpen:i})})]}),n?(0,f.tZ)(ee.c,{onDismiss:()=>i(!1)}):null,(0,f.tZ)(MS,{isOpen:t,setIsOpen:a})]})}),ge.$.GET_STARTED),JS=fo((()=>{const{data:e,status:t}=(0,_.k)(Fo.B,"getReport"),a=(0,ae.o)(ne.w.EcommerceWebB2BDiscontinuationPhase1),n=t===ue.rq.Success?e:uc,i=t===ue.rq.Loading,[s,o]=(0,r.useState)(mc.PURCHASE),{verifiedOrPendingDomain:{domain:u,status:m}}=Wo(),[p,g]=(0,r.useState)(null),h=t===ue.rq.Success&&0===n.passwordHealthHistory.length,y=(0,r.useCallback)((async()=>{const e=await Ze.C.getDarkWebInsightsSummary();g(e)}),[]);(0,r.useEffect)((()=>{(0,b.Nc)(d.PageView.TacDashboard),y()}),[y]);const S=Un({dismissible:!0}),{translate:v}=(0,x.Z)(),[C,Z]=(0,r.useState)(!1),T=(0,ie.lZ)(),D=!T.isLoading&&T.isTeamSoftDiscontinued&&T.isTrial&&!1===a;return(0,r.useEffect)((()=>{D&&Z(!0)}),[D]),(0,Ko.DX)(),(0,f.BX)(cr,{header:(0,f.tZ)(l.X6,{as:"h1",color:"ds.text.neutral.standard",textStyle:"ds.title.section.large",children:v("dashboard_page_title")}),children:[(0,f.BX)(c.T5p,{fullWidth:!0,alignItems:"top",gap:"32px",gridTemplateColumns:"710px auto",gridTemplateRows:"auto auto",gridTemplateAreas:`'cards cards' '${S?"pwHealth upgrade":"pwHealth dwi"}'`,children:[(0,f.tZ)(c.dDn,{gridArea:"cards",children:(0,f.tZ)(ol,{passwordHealth:n.passwordHealth,seats:n.seats,passwordHealthHistoryEmpty:h})}),(0,f.tZ)(c.dDn,{gridArea:"pwHealth",sx:{height:"418px"},children:(0,f.tZ)(Ml,{isLoading:i,report:n,passwordHealthHistoryEmpty:h})}),S?(0,f.tZ)(c.dDn,{gridArea:"upgrade",sx:{width:"282px"},children:(0,f.tZ)(c.Zbd,{sx:{padding:"16px",backgroundColor:"ds.container.agnostic.neutral.supershy",borderColor:"ds.border.neutral.quiet.idle"},children:cc||(cc=(0,f.tZ)(qn,{dismissible:!0}))})}):(0,f.tZ)(c.dDn,{gridArea:"dwi",children:m===Ho.Loading?dc||(dc=(0,f.tZ)(Rl,{})):null!==u?(0,f.tZ)($l,{verifiedOrPendingDomain:u,dwiSummaryResponse:p}):(0,f.tZ)(Jl,{dwiSummaryResponse:p})})]}),i?_c||(_c=(0,f.tZ)(Yo.a,{})):null,C&&!T.isLoading&&T.planCopy?s===mc.PURCHASE?(0,f.tZ)(lc,{isOpen:!0,planCopy:v(T.planCopy),setModalState:o,handleClose:()=>{Z(!1)}}):(0,f.tZ)(oc,{isOpen:!0,plan:T.planFeature,setModalState:o}):null]})}),ge.$.DASHBOARD),ef=fo((({lee:e,location:t})=>{const a=(0,r.useRef)(!1),{translate:n}=(0,x.Z)(),{reportTACError:i}=H(),s=(0,dn.V)(),o=(0,gd.v)(),{proposeMembers:c}=(0,q.u)(ud.L),{showToast:_}=(0,l.pm)(),{openDialog:u,shouldShowFrozenStateDialog:m}=(0,N.Ub)(),[p,g]=(0,r.useState)(!0),{invitePartialSuccessState:h,setInvitePartialSuccessState:y,handleInvitationResultClosed:S}=Dd(),[v,C]=(0,r.useState)(null),[Z,T]=(0,r.useState)(!1),[D,E]=(0,r.useState)({showError:!1,membersWithoutPublicKey:[]}),w=(0,r.useCallback)((()=>{const t=(0,Gn.v0)(e.globalState);return t||i(new Error(Zi.N)),t}),[e.globalState,i]),I=(0,r.useCallback)((()=>{m?u():(T(!0),(0,b.Kz)(new d.UserSendManualInviteEvent({flowStep:d.FlowStep.Start,inviteCount:0,inviteFailedCount:0,inviteResentCount:0,inviteSuccessfulCount:0,isImport:!1,isResend:!1})))}),[m]),A=t=>{e.dispatch(Od.eY(t))},M=(e,t)=>{y({show:!0,invitedMembers:e,refusedMembers:t}),A(Object.keys(e))},O=(0,r.useCallback)(((t,a=[],i)=>{const s=async()=>{if(a.forEach((t=>{e.dispatch(Od.bh(t))})),!w())return;const t=a.map((e=>e.login));try{const i=await c({proposedMemberLogins:t});if("failure"===i.tag)throw new Error(i.error);if(i.data&&ou(i.data)){const{refusedMembers:n}=i.data.content;Object.values(n).forEach((t=>{const n=a.find((e=>e.login===t));M(i.data.proposedMembers,i.data.refusedMembers),e.dispatch(Od.S2(n))})),(0,b.Kz)(new d.UserSendManualInviteEvent({flowStep:d.FlowStep.Complete,inviteCount:t.length+Object.keys(n).length,inviteFailedCount:Object.keys(n).length,inviteResentCount:t.length,inviteSuccessfulCount:t.length-Object.keys(n).length,isImport:!1,isResend:!0}))}else _({description:n("team_members_invite_success_message"),mood:"brand",closeActionLabel:n(ru)}),(0,b.Kz)(new d.UserSendManualInviteEvent({flowStep:d.FlowStep.Complete,inviteCount:t.length,inviteFailedCount:0,inviteResentCount:t.length,inviteSuccessfulCount:t.length,isImport:!1,isResend:!0}))}catch(i){const{message:s="",data:r={}}=i,o=n("team_members_invite_error_message_no_free_slot"),l=n("team_members_invite_error_message"),{content:{error:c=s}={}}=r,u=["no_free_slot_free_plan","no_free_slot"].includes(c)?o:l;a.forEach((t=>{e.dispatch(Od.S2(t))})),_({description:u,mood:"danger",closeActionLabel:n(ru)}),(0,b.Kz)(new d.UserSendManualInviteEvent({flowStep:d.FlowStep.Error,inviteCount:t.length,inviteFailedCount:t.length,inviteResentCount:t.length,inviteSuccessfulCount:0,isImport:!1,isResend:!0}))}},r=a.map((e=>e.login));switch(t){case"reassign":return C((0,f.tZ)(Qd,{lee:e,selectedMembers:a,newRole:i,closeDialog:()=>C(null)}));case"reactivate":case"reinvite":return m?void u():void s();case"reinviteAll":return m?void u():C((0,f.tZ)(Bd,{resendOrReactivate:s,closeDialog:()=>C(null)}));case"revoke":return C((0,f.tZ)(zd,{lee:e,selectedMembers:a,closeDialog:()=>C(null)}));case"generateBackupCode":return C((0,f.tZ)(Md,{memberLogin:r[0],isOpen:!0,closeBackupCodeDialog:()=>C(null)}));case"enableInviteLink":return m?void u():C((0,f.tZ)(jd,{closeDialog:()=>C(null),applyActionOnMembers:O}));case"shareInviteLink":return m?void u():C((0,f.tZ)(Xd,{closeDialog:()=>C(null)}))}}),[s,w,M,m,n]);(0,r.useEffect)((()=>{if(a.current||null===o||null===m)return;a.current=!0;const n=w();if(!n)return;const{teamId:s}=n;s&&((new $n.Z).status({auth:n}).then((t=>{var a;return e.dispatch(Od.xF({extraFreeSlots:t.content.team.extraFreeSlots,membersNumber:t.content.team.membersNumber,isFreeTrial:t.content.team.isFreeTrial,teamName:null!=(a=t.content.team.info.name)?a:"",teamSecurityScore:t.content.team.securityIndex})),(0,Ce.YY)({teamId:s})})).then((a=>{e.dispatch(Od.Wq({members:a})),g(!1);const n=a&&1===a.length,i=t.state?.openSendInvitesDialog;if(!m&&(!o&&n||i))I();else if(t.state?.openResendPendingInvitationsDialog&&!m)return void O("reinviteAll",Jd(a));const s=a.filter((e=>!e.hasPublicKey)).filter((e=>"accepted"===e.status));s.length&&E({showError:!0,membersWithoutPublicKey:s})})).catch(i),(0,b.Nc)(d.PageView.TacUserList))}),[I,O,w,e,t.state?.openResendPendingInvitationsDialog,t.state?.openSendInvitesDialog,o,i,m,n]);const L=_d(e.state.members.valueOr([]));return(0,Ko.p_)(),(0,Ko.LD)(),(0,f.tZ)(cr,{header:(0,f.tZ)(l.X6,{as:"h1",color:"ds.text.neutral.standard",textStyle:"ds.title.section.large",children:n("team_members_page_title")}),children:(0,f.BX)("div",{sx:{display:"flex",flexDirection:"column",gap:"16px"},children:[su||(su=(0,f.tZ)(iu,{})),(0,f.tZ)(a_,{onReinviteAllClick:()=>{O("reinviteAll",Jd(e.state.members.valueOr([])))}}),(0,f.tZ)("div",{sx:{display:"flex",justifyContent:"center"},children:p?(0,f.tZ)(Ss.Z,{containerStyle:{minHeight:240}}):(0,f.tZ)(au,{lee:e,members:e.state.members.valueOr([]),onMembersActionSelect:O,onMembersInvite:I})}),D.showError?(0,f.tZ)(Ud,{membersWithoutPublicKey:D.membersWithoutPublicKey,onClose:()=>E((e=>({...e,showError:!1})))}):null,v,(0,f.tZ)(hu,{lee:e,teamId:(0,k.ev)(e.globalState),totalSeatCount:e.state.totalSeatCount.valueOr(0),numSeatsTaken:L,excludedInviteMembers:e.state.members.valueOr([]).filter((({status:e})=>"removed"!==e)).map((({login:e})=>e)),isFreeTrial:e.state.isFreeTrial.valueOr(!0),shouldShowInviteDialog:Z,handleCloseInviteDialog:()=>T(!1),handleInvitePartialSuccess:M,handleInviteCompleteSuccess:A,invitePartialSuccessState:h,handleInvitationResultClosed:S})]})})}),ge.$.MEMBERS),tf=fo((({lee:e})=>{const{translate:t}=(0,x.Z)(),{verifiedOrPendingDomain:{domain:a,status:n},verifiedDomains:i,updateDomainState:s,deactivateDomain:o,tryVerifyDomain:c,selectVerifiedDomain:_}=Wo();return(0,r.useEffect)((()=>{(0,b.Nc)(d.PageView.TacDarkWebInsights)}),[]),(0,f.BX)(f.HY,{children:[(0,f.BX)("div",{sx:{px:"48px",pt:"32px",pb:"12px"},children:[(0,f.tZ)(l.X6,{as:"h1",children:t("team_dashboard_dark_web_insights_heading")}),(0,f.tZ)(Uu,{activeDomain:a,verifiedDomains:i,selectVerifiedDomain:_})]}),(0,f.tZ)(Hr,{fullWidth:!0,mainContent:(0,f.tZ)("div",{children:n===Ho.Loading?ju||(ju=(0,f.tZ)("div",{sx:Gu,children:(0,f.tZ)(l.ZX,{size:120})})):null===a||n===Ho.Start?(0,f.tZ)(Kc,{onSuccess:s,onError:s}):n===Ho.Validated?(0,f.tZ)(Ou,{lee:e,domainName:a.name}):(0,f.tZ)(zu,{domain:a,isDeactivating:n===Ho.Deactivating,handleDeactivateDomain:o,handleRetryValidateDomain:c})}),secondaryContent:qu||(qu=(0,f.tZ)(pc,{}))})]})}),ge.$.DARK_WEB_INSIGHTS),af=({basePath:e,path:t})=>(0,f.tZ)(s.GB,{path:t,reducer:ZS.Z,permission:e=>e.loggedIn&&e.adminAccess.hasTACAccess,redirectPath:i.TT,component:$o,children:(0,f.BX)(s.rs,{children:[(0,f.tZ)(s.l_,{exact:!0,from:`${e}/`,to:`${e}/${ge.$.DASHBOARD}`}),(0,f.tZ)(s.Vy,{component:YS,path:`${e}/${ge.$.CHANGE_PLAN}`,permission:e=>WS("BILLING",e)}),(0,f.tZ)(s.Vy,{component:KS,path:`${e}/${ge.$.ACCOUNT}`,permission:e=>WS("BILLING",e),redirectPath:`${e}/${ge.$.GROUPS}`}),(0,f.tZ)(s.Vy,{component:QS,path:`${e}/${ge.$.GET_STARTED}`,permission:e=>WS("FULL",e),redirectPath:`${e}/${ge.$.ACCOUNT}`}),(0,f.tZ)(s.Vy,{component:JS,path:`${e}/${ge.$.DASHBOARD}`,permission:e=>WS("FULL",e),redirectPath:`${e}/${ge.$.ACCOUNT}`}),(0,f.tZ)(Zo,{path:`${e}/${ge.$.ACTIVITY}`}),(0,f.tZ)(Hm,{path:`${e}/${ge.$.GROUPS}`,permission:e=>WS("GROUP_READ",e)}),(0,f.tZ)(s.Vy,{component:ef,path:`${e}/${ge.$.MEMBERS}`,permission:e=>WS("FULL",e),redirectPath:`${e}/${ge.$.ACCOUNT}`,reducer:Od.ZP}),(0,f.tZ)(s.Vy,{component:tf,path:`${e}/${ge.$.DARK_WEB_INSIGHTS}`,permission:e=>WS("FULL",e),redirectPath:`${e}/${ge.$.DARK_WEB_INSIGHTS}`,reducer:Od.ZP}),(0,f.tZ)(Rx,{path:`${e}/${ge.$.SETTINGS}`}),(0,f.tZ)(hS,{path:`${e}/${ge.$.INTEGRATIONS}`})]})})},619122:(e,t,a)=>{a.d(t,{fV:()=>c,qc:()=>l});var n=a(696832),i=a(38452),s=a(739649),r=a(803322);const o=n.createContext({currentSpaceId:null,spaceDetails:null,teamId:null}),l=({lee:e,children:t})=>{var a;const n=(0,s.B)(e.globalState),l=null!=(a=(0,i.xO)(e.globalState)?.details)?a:null,c=(0,i.ev)(e.globalState);return(0,r.tZ)(o.Provider,{value:{teamId:c,currentSpaceId:n,spaceDetails:l},children:t})},c=()=>n.useContext(o)},758480:(e,t,a)=>{a.d(t,{vo:()=>i,ZP:()=>o,dV:()=>r,Kk:()=>s});const n=(0,a(158432).SP)("active-directory-settings",{activeDirectoryScript:"",activeDirectorySyncStatus:{failedSyncCount:0,lastFailedSync:null,lastSuccessfulSync:null},activeDirectorySyncType:null,isCopied:!1}),i=n.action("active-directory-settings-loaded",(({param:e})=>{var t,a,n;return{activeDirectoryScript:(a=e.activeDirectoryToken,n=e.teamId,`#################################################################################\n## dashlane-ad-sync.ps1\n##\n## For more information, please visit :\n## https://support.dashlane.com/hc/articles/115002155485\n##\n## This script will:\n## 1. Search each Group's GroupMembers\n## 2. Export all GroupMember AD User Email Address values to a temp CSV file\n## 3. Sign the data extract\n## 4. Synchronize the data with Dashlane\n#################################################################################\n\nPROCESS {\n##################################################################################\n## List the Group Names you'd like to extract Users from and sync with Dashlane ##\n##################################################################################\n\n$Groups = @(\n    "AGroup",\n    "AnotherGroup"\n)\n\n##################################################################################\n## Replace this with the attribute containing your employees' Dashlane logins   ##\n##################################################################################\n\n$DASHLANE_LOGIN_ATTR = "mail"\n\n#################################################################################\n##  DO NOT CHANGE THE PROCESS BELOW                                            ##\n#################################################################################\n\nImport-Module ActiveDirectory\n\nWrite-Host "Running Dashlane AD synchronization"\n\n$GroupMembers = @()\n$GroupInfos = @()\n$CSV_TEMP_PATH = $env:TEMP + "\\dashlane_export.csv"\n$INSTALL_TOKEN = "${a}"\n$TEAM_ID = "${n}"\n\n##################################################################################\n## Anaylzing Groups                                                                ##\n##################################################################################\n\nforeach ($Group in $Groups | Select-Object -Unique) {\n    Try {\n        $GroupInfo = Get-ADGroup -Identity $Group | Select Name, ObjectGUID\n        $GroupInfo | Add-Member Members @()\n\n        $Members = Get-ADGroupMember -Identity $Group | Get-ADUser -Properties Mail\n\n        # Roughly filtering out users with invalid emails.\n        # A user with an invalid email is filtered out by Dashlane servers: it will therefore not\n        # be included in the verified data, which will lead to an invalid signature check if it is\n        # included in the signed data.\n        $ValidMembers = $Members | Where-Object {($_ | Select -ExpandProperty $DASHLANE_LOGIN_ATTR) -like '*@*.*' }\n        # Lower case and trim all emails to make consistent with Dashlane servers; only need email\n        $ValidMembers = $ValidMembers | Select @{\n            Label=$DASHLANE_LOGIN_ATTR;\n            Expression={($_ | Select -ExpandProperty $DASHLANE_LOGIN_ATTR).ToLower().Trim() }\n        }\n        # Sort the users and get rid of any potential duplicates\n        $ValidMembers = $ValidMembers | Sort-Object -Property $DASHLANE_LOGIN_ATTR | Get-Unique -AsString\n        # Get a count\n        $measure = $ValidMembers | measure\n        $count = $measure.count\n        Write-Host "Exporting $count valid members from $Group"\n\n        if ($count -gt 0) {\n            foreach ($Member in $ValidMembers) {\n                $Member | Add-Member GroupName $GroupInfo.Name\n                $Member | Add-Member GroupGUID $GroupInfo.ObjectGUID\n                $GroupMembers += $Member\n                $GroupInfo.Members += $Member\n            }\n            $GroupInfos += $GroupInfo\n        }\n    } Catch {\n        $ErrorMessage = $_.Exception.Message\n        $FailedItem = $_.Exception.GetType().FullName\n\n        Write-Host "Error: $FailedItem - $ErrorMessage"\n        Write-Host "Message: It seems there is no account on this Group: $Group."\n        Exit 2\n    }\n}\n\n##################################################################################\n## Writing temp CSV                                                             ##\n##################################################################################\n\nWrite-Host ""\nWrite-Host "Writing debug information to $CSV_TEMP_PATH"\n$GroupMembers | Export-Csv -Path $CSV_TEMP_PATH -NoTypeInformation -Encoding UTF8\n\n##################################################################################\n## Generate signature                                                           ##\n##################################################################################\n\nTry {\n    $CspParameters = New-Object -TypeName System.Security.Cryptography.CspParameters\n    $CspParameters.KeyContainerName = "DashlaneDirectorySyncKey53"\n\n    $RSA = New-Object -TypeName System.Security.Cryptography.RSACryptoServiceProvider -ArgumentList $CspParameters\n    $PublicKey = $RSA.ToXmlString($false)\n    $PublicKeyHash = [System.Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes($PublicKey))\n\n    Write-Host ""\n    Write-Host "---------- Provide your Dashlane admin with this key on setup: -----------"\n    Write-Host ""\n    Write-Host $PublicKeyHash\n    Write-Host ""\n    Write-Host "--------------------------------------------------------------------------"\n    Write-Host ""\n\n    $RSAFormatter = New-Object -TypeName System.Security.Cryptography.RSAPKCS1SignatureFormatter -ArgumentList $RSA\n    $RSAFormatter.SetHashAlgorithm("SHA256")\n\n    $DataStr = $TEAM_ID\n    foreach ($GroupInfo in $GroupInfos | Sort-Object -Property ObjectGUID) {\n        $DataStr += $GroupInfo.ObjectGUID\n        $DataStr += $GroupInfo.Name\n\n        foreach ($Member in $GroupInfo.Members | Sort-Object -Property $DASHLANE_LOGIN_ATTR) {\n            $DashlaneLogin = $Member | Select -ExpandProperty $DASHLANE_LOGIN_ATTR\n            $DataStr += $DashlaneLogin\n        }\n    }\n\n    ## Uncomment following lines for debugging purposes on 'invalid_signature' error investigations\n    # Write-Host ""\n    # Write-Host "--------------------------------------------------------------------------"\n    # Write-Host ""\n    # Write-Host $DataStr\n    # Write-Host ""\n    # Write-Host "--------------------------------------------------------------------------"\n    # Write-Host ""\n\n    $DataBytes = [System.Text.Encoding]::UTF8.GetBytes($DataStr)\n    $SHA256 = New-Object -TypeName System.Security.Cryptography.SHA256CryptoServiceProvider\n    $DataHash = $SHA256.ComputeHash($DataBytes)\n\n    $SignatureBytes = $RSAFormatter.CreateSignature($DataHash)\n    $SignatureHash = [System.Convert]::ToBase64String($SignatureBytes)\n\n} Catch {\n    $ErrorMessage = $_.Exception.Message\n    $FailedItem = $_.Exception.GetType().FullName\n    Write-Host "Failed: $FailedItem - $ErrorMessage"\n    Exit 3\n}\n\n##################################################################################\n## Send data to Dashlane                                                        ##\n##################################################################################\n\n$FileContent = Get-Content $CSV_TEMP_PATH | Out-String\n$FileContentBytes = [System.Text.Encoding]::UTF8.GetBytes($FileContent)\n$FileContentEncoded = [System.Convert]::ToBase64String($FileContentBytes)\n\n[System.Net.ServicePointManager]::SecurityProtocol = [System.Net.SecurityProtocolType]::Tls12;\n\n$URL = "https://ws1.dashlane.com/1/teamPlans/syncFromDirectory"\n$Payload = @{adLogins=$FileContentEncoded;adToken=$INSTALL_TOKEN;teamId=$TEAM_ID;signature=$SignatureHash;publicKey=$PublicKeyHash}\n\nTry {\n    $Response = Invoke-WebRequest -Uri $URL -Method POST -Body $Payload\n    Write-Host "Dashlane sync responded with: $Response"\n\n} Catch {\n    $ErrorMessage = $_.Exception.Message\n    $FailedItem = $_.Exception.GetType().FullName\n    Write-Host ""\n    Write-Host "Dashlane sync error: $FailedItem - $ErrorMessage"\n}\n\n##################################################################################\n## Cleaning up temp CSV                                                         ##\n##################################################################################\n\nRemove-Item $CSV_TEMP_PATH\n\n}`),activeDirectorySyncStatus:e.activeDirectorySyncStatus||null,activeDirectorySyncType:null!=(t=e.activeDirectorySyncType)?t:null}})),s=n.action("script-copy-feedback-toggled",(({param:e})=>({isCopied:e}))),r=n.action("active-directory-sync-type-set",(({param:e})=>({activeDirectorySyncType:e}))),o=n},678128:(e,t,a)=>{a.d(t,{E4:()=>o,FC:()=>s,ZP:()=>c,a2:()=>r,k0:()=>i,qf:()=>l});const n=(0,a(158432).SP)("duo-settings",{hasDuo:!1,duoIntegrationKey:"",duoSecretKey:"",duoApiHostname:""}),i=n.action("duo-settings-loaded",(({param:e})=>({hasDuo:e.duo||!1,duoIntegrationKey:e.duoIntegrationKey||"",duoSecretKey:e.duoSecretKey||"",duoApiHostname:e.duoApiHostname||""}))),s=n.action("duo-set",(({param:e})=>({hasDuo:e}))),r=n.action("duo-integration-key-set",(({param:e})=>({duoIntegrationKey:e}))),o=n.action("duo-secret-key-set",(({param:e})=>({duoSecretKey:e}))),l=n.action("duo-api-hostname-set",(({param:e})=>({duoApiHostname:e}))),c=n},212637:(e,t,a)=>{a.d(t,{j:()=>c});var n=a(361607),i=a(133354),s=a(615142),r=a(136577),o=a(700091),l=a(728207);const c=()=>{var e;const t=(0,n._)(),a=t.status!==i.rq.Success,{[s.G.OnboardingWebAdminVaultGetStartedGuide]:c=!1}=a?{}:t.data,d=(0,o.F)(),_=(0,l.u)(),u=(0,r.m)();if(t.status===i.rq.Error||d.status===i.rq.Error||_.status===i.rq.Error||u.status===i.rq.Error)return{status:i.rq.Success,shouldDisplayAdminVaultGetStartedGuide:!1};if(t.status!==i.rq.Success||d.status!==i.rq.Success||_.status!==i.rq.Success||u.status!==i.rq.Success)return{status:i.rq.Loading};const m=c&&!d.isGetStartedDismissed&&_.teamCreationDate>=1702508400&&null!=(e=u.isTeamCreator)&&e;return{status:i.rq.Success,shouldDisplayAdminVaultGetStartedGuide:m}}},806135:(e,t,a)=>{a.d(t,{S:()=>r});var n=a(799852),i=a(133354),s=a(545738);const r=()=>{const e=(0,n.k)(s.o,"getTeamCapabilities");return e.status===i.rq.Success?e.data:null}},93437:(e,t,a)=>{a.d(t,{h:()=>r});var n=a(696832),i=a(823512),s=a(740300);function r(){const[e,t]=(0,n.useState)(!0),[a,r]=(0,n.useState)(null),[o,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),_=(0,n.useCallback)((async(e,t)=>{try{const a=await s.C.requestInviteLinkToken({teamUuid:e,login:t});if(a.success)return a.data;d(a.error.code)}catch{d(i.S2)}return null}),[]);return{inviteLinkDataLoading:e,inviteLinkError:c,inviteLinkData:a,inviteLinkDataForAdmin:o,getInviteLinkData:(0,n.useCallback)((async e=>{t(!0);try{const t=await s.C.getInviteLink({teamKey:e});if(t.success)return r(t.data),t.data;d(t.error.code)}catch{d(i.S2)}finally{t(!1)}return null}),[]),requestInviteLinkToken:_,getInviteLinkDataForAdmin:(0,n.useCallback)((async()=>{t(!0);try{const e=await s.C.getInviteLinkForAdmin({});if(e.success)return l(e.data),e.data;d(e.error.code)}catch{d(i.S2)}finally{t(!1)}return null}),[]),createInviteLink:(0,n.useCallback)((async e=>{t(!0);try{const t=await s.C.createInviteLink({displayName:e});if(t.success)return t.data;d(t.error.code)}catch{d(i.S2)}finally{t(!1)}return null}),[]),changeInviteLinkTeamKey:(0,n.useCallback)((async()=>{t(!0);try{const e=await s.C.changeInviteLinkTeamKey({});if(e.success)return e.data;d(e.error.code)}catch{d(i.S2)}finally{t(!1)}return null}),[]),toggleInviteLink:(0,n.useCallback)((async e=>{t(!0);try{const t=await s.C.toggleInviteLink({disabled:e});if(t.success)return t.data;d(t.error.code)}catch{d(i.S2)}finally{t(!1)}return null}),[])}}},874466:(e,t,a)=>{a.d(t,{ZP:()=>r,Zn:()=>s,x:()=>i});const n=(0,a(158432).SP)("master-password-policies-settings",{recoveryEnabled:!1}),i=n.action("master-password-policies-settings-loaded",(({param:e})=>({recoveryEnabled:Boolean(e.recoveryEnabled)}))),s=n.action("set-recovery-enabled",(({param:e})=>({recoveryEnabled:e}))),r=n},16037:(e,t,a)=>{a.d(t,{$:()=>n});let n=function(e){return e.ACCOUNT="account",e.ACTIVITY="activity",e.CHANGE_PLAN="account/changeplan",e.DASHBOARD="dashboard",e.GROUPS="groups",e.MEMBERS="members",e.SETTINGS="settings",e.DARK_WEB_INSIGHTS="dark-web-insights",e.GET_STARTED="get-started",e.INTEGRATIONS="integrations",e}({})},119471:(e,t,a)=>{a.d(t,{$b:()=>b,B7:()=>S,BJ:()=>T,Bw:()=>g,Bz:()=>P,EL:()=>d,F1:()=>n,FL:()=>R,FP:()=>A,FX:()=>m,Fn:()=>w,HX:()=>Z,I9:()=>E,Iw:()=>x,J0:()=>L,M:()=>V,Mv:()=>i,Pr:()=>f,Rf:()=>B,Tx:()=>N,Tz:()=>q,VH:()=>l,Vr:()=>c,XP:()=>F,bx:()=>k,cI:()=>W,hc:()=>h,i1:()=>U,lh:()=>j,mA:()=>O,mn:()=>G,n0:()=>p,nC:()=>v,o2:()=>$,oH:()=>u,rC:()=>s,rh:()=>D,sz:()=>z,tU:()=>C,to:()=>_,tz:()=>o,uC:()=>M,uR:()=>I,ub:()=>r,vS:()=>X,yi:()=>y,zF:()=>H});const n="https://app.dashlane.com",i="https://app.dashlane.com#/login",s="https://app.dashlane.com#/onboarding",r="https://www.dashlane.com/business/directbuy",o="https://www.dashlane.com/pricing",l="https://www.dashlane.com/resources",c="https://support.dashlane.com/hc",d="https://support.dashlane.com/hc/en-us/categories/200958889-Admins",_="https://support.dashlane.com/hc/requests/new",u="https://support.dashlane.com/hc/requests/new?req_type=dashlane_for_business",m="https://support.dashlane.com/hc/categories/200958889-Dashlane-Business",p="https://support.dashlane.com/hc/en-us/articles/360015304999-Joining-a-Dashlane-Business-plan-with-SSO-enabled#title2",g="https://support.dashlane.com/hc/requests/new",h="https://support.dashlane.com/hc/en-us/requests/new?utm_medium=misc&utm_source=dashlane_admin_console",b="https://support.dashlane.com/hc/en-us/articles/6351573344786?utm_medium=misc&utm_source=dashlane_admin_console",y="https://www.dashlane.com/download",x="https://support.dashlane.com/hc/articles/360014345059",S="https://support.dashlane.com/hc/articles/360014345059",f="https://dashlane.status.io/",v="https://support.dashlane.com/hc/articles/360013149040",C="https://support.dashlane.com/hc/articles/360000112339",Z="https://support.dashlane.com/hc/articles/360013149040",T="https://www.dashlane.com/business/sso-download",D="https://support.dashlane.com/hc/articles/360017434219",E="https://support.dashlane.com/hc/en-us/articles/210826449",k="https://support.dashlane.com/hc/en-us/articles/360015973719-Use-self-hosted-SSO-to-integrate-Dashlane-with-your-IdP",w="https://support.dashlane.com/hc/en-us/articles/10992671925778-Use-Dashlane-Confidential-SSO-to-integrate-with-your-IdP",N="https://support.dashlane.com/hc/en-us/categories/200958889-Admins",I="https://support.dashlane.com/hc/en-us/articles/360013149040",A="https://support.dashlane.com/hc/en-us/articles/360013149040",M="https://support.dashlane.com/hc/en-us/articles/360013149040",O="https://www.dashlane.com/business-password-manager/enterprise",L="https://dashlane.zoom.us/webinar/register/6216504012380/WN_j-3JwzI0T1q1alUxHqsM7g#/registration",B="https://support.dashlane.com/hc/en-us/articles/212491369",R="https://support.dashlane.com/hc/articles/4516905332370",z="https://www.dashlane.com/terms",P="https://www.dashlane.com/privacy",X="https://support.dashlane.com/hc/requests/new?req_type=dashlane_for_business&ticket_form_id=4659353761426&topic=upgrade_to_dashlane_business",U="https://support.dashlane.com/hc/requests/new?req_type=dashlane_for_business&topic=add_seats",j=`${c}/articles/4516905332370#chatbot`,q="https://www.dashlane.com/blog/what-is-single-sign-on-sso",G="https://www.dashlane.com/resources/dashlane-zero-knowledge-security",$="https://support.apple.com/HT202039",F="https://support.apple.com/HT204088",V="https://support.google.com/googleplay/answer/7018481?co=GENIE.Platform%3DDesktop",H="https://support.google.com/store/answer/6160235",W=(e="")=>`https://app.dashlane.com/#/team/signup?team=${e}`},127521:(e,t,a)=>{a.d(t,{MQ:()=>o,n5:()=>l,t2:()=>s,v0:()=>r}),a(233377);var n=a(38452);const i=e=>(e=>"function"==typeof e.getState)(e)?e.getState():e,s=e=>i(e).user.session.login,r=e=>{const t=s(e),a=i(e).user.session.uki;return a?{login:t||null,uki:a||null,teamId:(0,n.ev)(i(e))}:null},o=e=>i(e).user.session.sessionId,l=e=>i(e).user.session.anonymousUserId}}]);