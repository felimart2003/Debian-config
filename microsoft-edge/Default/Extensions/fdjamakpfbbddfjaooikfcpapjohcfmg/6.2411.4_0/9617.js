"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[9617,3076],{188134:(e,t,i)=>{i.d(t,{t:()=>g});var a=i(696832),c=i(700033),s=i(782579),r=i(482598),_=i(287279),l=i(448430),o=i(382706),d=i(692077),n=i(45272),u=i(488203),p=i(806697),b=i(386962),y=i(310789),m=i(803322);const w=({formId:e,handleCancel:t,hasDataBeenModified:i,isSubmitting:a})=>{const{translate:c}=(0,u.Z)();return(0,m.BX)(y.Ejs,{sx:{padding:"24px"},as:"footer",justifyContent:"flex-end",flexDirection:"row",flexWrap:"nowrap",children:[i?(0,m.tZ)(y.zxk,{type:"submit",form:e,disabled:a,children:c("webapp_panel_edition_generic_save_changes")}):null,(0,m.tZ)(y.zxk,{sx:{marginLeft:"16px"},nature:"secondary",onClick:t,type:"button",children:c("webapp_panel_edition_generic_cancel_changes")})]})},h="id-add-form",f={GENERIC_ERROR:"_common_generic_error"};function g({children:e,initialValues:t,listRoute:i,reportError:y,countryToKeys:g,header:E,type:I,requiredProperty:S="idNumber"}){const{translate:C}=(0,u.Z)(),{openDialog:R,shouldShowFrozenStateDialog:L}=(0,p.Ub)(),[N,Z]=a.useState(!1),[v,P]=a.useState(!1),[D,U]=a.useState(t.country),{createVaultItem:x}=(0,r.u)(l.L),{showToast:B}=(0,s.pm)();a.useEffect((()=>{const e={[o.U.DriversLicense]:c.PageView.ItemDriverLicenceCreate,[o.U.FiscalId]:c.PageView.ItemFiscalStatementCreate,[o.U.IdCard]:c.PageView.ItemIdCardCreate,[o.U.Passport]:c.PageView.ItemPassportCreate,[o.U.SocialSecurityId]:c.PageView.ItemSocialSecurityStatementCreate};(0,n.Nc)(e[I])}),[I]),a.useEffect((()=>{L&&R()}),[R,L]);const T=()=>{(0,n.Nc)(c.PageView.ItemIdList),(0,d.uX)(i)},A=()=>{B({description:C(f.GENERIC_ERROR),mood:"danger",isManualDismiss:!0})},V=a.useRef((e=>{if(null!==e){const{dirty:t,isSubmitting:i,values:a}=e;Z(t),P(i),U(a.country)}}));return(0,m.BX)(m.HY,{children:[E(D),(0,m.tZ)(b.P,{formId:h,formRef:V.current,handleSubmit:async(e,{setSubmitting:t,setFieldError:i})=>{if(!e[S])return i(S,"");try{const i=await x({vaultItemType:I,content:e});(0,_.d6)(i)?(B({description:C(g(D).success)}),T()):(t(!1),A(),y(new Error("[ids][add] Unable to add id"),i.error?.errorMessage))}catch(e){t(!1),A(),y(e,"[ids][add] Unexpected exception while add id")}},initialValues:t,variant:"add",children:t=>e({values:t})}),(0,m.tZ)(w,{formId:h,handleCancel:()=>{T()},hasDataBeenModified:N,isSubmitting:v})]})}},634355:(e,t,i)=>{i.r(t),i.d(t,{SocialSecurityIdAddPanel:()=>y}),i(696832);var a,c=i(575257),s=i(382706),r=i(488203),_=i(739649),l=i(188134),o=i(566219),d=i(974910),n=i(647121),u=i(803322);const p={[c.c.BR]:{title:"webapp_id_creation_socialsecurity_title_br",success:"webapp_id_creation_socialsecurity_alert_add_success_br"},[c.c.CA]:{title:"webapp_id_creation_socialsecurity_title_ca",success:"webapp_id_creation_socialsecurity_alert_add_success_ca"},[c.c.GB]:{title:"webapp_id_creation_socialsecurity_title_gb",success:"webapp_id_creation_socialsecurity_alert_add_success_gb"},[c.c.IE]:{title:"webapp_id_creation_socialsecurity_title_ie",success:"webapp_id_creation_socialsecurity_alert_add_success_ie"},[c.c.IT]:{title:"webapp_id_creation_socialsecurity_title_it",success:"webapp_id_creation_socialsecurity_alert_add_success_it"},[c.c.JP]:{title:"webapp_id_creation_socialsecurity_title_jp",success:"webapp_id_creation_socialsecurity_alert_add_success_jp"},[c.c.NL]:{title:"webapp_id_creation_socialsecurity_title_nl",success:"webapp_id_creation_socialsecurity_alert_add_success_nl"},[c.c.NO]:{title:"webapp_id_creation_socialsecurity_title_no",success:"webapp_id_creation_socialsecurity_alert_add_success_no"},[c.c.PT]:{title:"webapp_id_creation_socialsecurity_title_pt",success:"webapp_id_creation_socialsecurity_alert_add_success_pt"},[c.c.SE]:{title:"webapp_id_creation_socialsecurity_title_se",success:"webapp_id_creation_socialsecurity_alert_add_success_se"}},b=e=>{var t;return null!=(t=p[e])?t:{title:"webapp_id_creation_socialsecurity_title_default",success:"webapp_id_creation_socialsecurity_alert_add_success_default"}},y=({lee:e,listRoute:t})=>{var i;const{translate:c}=(0,r.Z)(),p={idName:"",idNumber:"",country:(0,o.lt)(e.carbon.currentLocation),spaceId:null!=(i=(0,_.B)(e.globalState))?i:""};return(0,u.tZ)(l.t,{initialValues:p,listRoute:t,reportError:e.reportError,countryToKeys:b,header:e=>(0,u.tZ)(d.h,{title:c(b(e).title),country:e,type:s.U.SocialSecurityId}),type:s.U.SocialSecurityId,children:()=>a||(a=(0,u.tZ)(n.x,{variant:"add"}))})}},647121:(e,t,i)=>{i.d(t,{x:()=>p});var a,c=i(696832),s=i(488203),r=i(177650),_=i(321143),l=i(806697),o=i(16792),d=i(865212),n=i(803322);const u={...o.k},p=c.memo((({variant:e,handleCopy:t})=>{const{translate:i}=(0,s.Z)(),{shouldShowFrozenStateDialog:o}=(0,l.Ub)(),p=c.useRef(null);return c.useEffect("add"===e?()=>{const e=setTimeout((()=>{p.current?.focus()}),r.sc);return()=>clearTimeout(e)}:()=>{},[]),(0,n.BX)(n.HY,{children:[(0,n.tZ)(d.YI,{name:"idName",label:i(u.NAME_LABEL),placeholder:i(u.NAME_PLACEHOLDER),ref:p,disabled:!!o}),(0,n.tZ)(d.G1,{name:"idNumber",label:i(u.ID_NUMBER_LABEL),placeholder:i(u.ID_NUMBER_PLACEHOLDER),handleCopy:"edit"===e?t:void 0,disabled:!!o}),(0,n.tZ)(d.Dz,{name:"country",label:i(u.COUNTRY_LABEL),disabled:!!o}),a||(a=(0,n.tZ)(_.c,{height:24})),(0,n.tZ)(d.A0,{name:"spaceId",disabled:!!o})]})}))}}]);