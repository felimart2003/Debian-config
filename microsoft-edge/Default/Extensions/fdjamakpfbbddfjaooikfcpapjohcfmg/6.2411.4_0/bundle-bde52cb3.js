"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[7906],{335396:(e,t,n)=>{n.d(t,{R:()=>le});var o=n(896259),a=n(545874),s=n(571450),i=n(496248),u=n(157668),c=n(593856),d=n(908122),r=n(690056),l=n(172721),h=n(348958),g=n(258425),m=n(277007),w=n(460384),f=n(818995),L=n(929986),P=n(406218),v=n(611433),b=n(69401),x=n(442853),p=n(389033),k=n(866974),y=n(434710),E=n(470305),j=n(565766),C=n(816189),O=n(715403),R=n(845714),N=n(238554),S=n(569029),T=n(592018),F=n(846097),D=n(448430),_=n(573883),I=n(299074),M=n(722499),q=n(252484),A=n(873363),J=n(191235),K=n(764130),U=n(589193),V=n(355102),Y=n(344690),z=n(545738),B=n(637269),G=n(632765),X=n(57904),H=n(339409),Q=n(481030),W=n(575962),Z=n(571669),$=n(885575),ee=n(249329),te=n(520587),ne=n(970493),oe=n(397191),ae=n(650540),se=n(918007),ie=n(474281),ue=n(515272),ce=n(189861),de=n(85176);const re="background",le=(0,o.t)(re,[]).with({module:ee.e,on:re}).with({module:a.W,on:re}).with({module:s.H,on:re}).with({module:i.M,on:re}).with({module:m.S,on:re}).with({module:w.y,on:re}).with({module:f.m,on:re}).with({module:u.d,on:re}).with({module:l.a,on:re}).with({module:h.X,on:re}).with({module:L.V,on:re}).with({module:P.F,on:re}).with({module:v.i,on:re}).with({module:b.M,on:re}).with({module:O.c,on:re}).with({module:R._,on:re}).with({module:N.V,on:re}).with({module:S.I,on:re}).with({module:T.Y,on:re}).with({module:F.G,on:re}).with({module:g.t,on:re}).with({module:se.J,on:re}).with({module:C.r,on:re}).with({module:c.f,on:re}).with({module:D.L,on:re}).with({module:_.R,on:re}).with({module:I.v,on:re}).with({module:M.e,on:re}).with({module:q.Z,on:re}).with({module:U.g,on:re}).with({module:d.J,on:re}).with({module:r.i,on:re}).with({module:W.J,on:re}).with({module:J.D,on:re}).with({module:K.j,on:re}).with({module:te.Yu,on:re}).with({module:y.Q,on:re}).with({module:Y.L,on:re}).with({module:z.o,on:re}).with({module:B.K,on:re}).with({module:G.a,on:re}).with({module:ne.cV,on:re}).with({module:$.B,on:re}).with({module:E.v,on:re}).with({module:X.h,on:re}).with({module:H.t,on:re}).with({module:Q.B,on:re}).with({module:Z.y,on:re}).with({module:j.Y,on:re}).with({module:ie.d,on:re}).with({module:ue.l,on:re}).with({module:de.U,on:re}).with({module:x.G,on:re}).with({module:oe.Dm,on:re}).with({module:ae.J,on:re}).with({module:A.z,on:re}).with({module:ce.X,on:re}).with({module:p.n,on:re}).with({module:k.n,on:re}).with({module:V.v,on:re}).define()},148038:(e,t,n)=>{n.d(t,{A0:()=>h,Cc:()=>L,K_:()=>m,ae:()=>o,iD:()=>l,lU:()=>d,qr:()=>w,rq:()=>r,wz:()=>c});var o,a=n(58138),s=n(696832),i=n(330504);!function(e){e.KILLED="killed"}(o||(o={}));const u=s.createContext({addLifecycleEventListener:e=>{},removeLifecycleEventListener:e=>{}}),c=e=>{const[t,n]=s.useState([]),i=s.useCallback((e=>{t.forEach((t=>{t(e)}))}),[t]),{channel:c}=e;return s.useEffect((()=>(c&&c.onDisconnect((()=>i(o.KILLED))),()=>{})),[i,c]),(0,a.jsx)(u.Provider,{value:{addLifecycleEventListener:e=>{t.push(e),n(t)},removeLifecycleEventListener:e=>{t.splice(t.findIndex((t=>e===t))),n(t)}},children:e.children})},d=(e,t)=>{const{addLifecycleEventListener:n,removeLifecycleEventListener:o}=s.useContext(u);s.useEffect((()=>(n(e),()=>{o(e)})),[e,n,o,...null!=t?t:[]])};var r,l;function h(e,t){const n=s.useRef(!0);s.useEffect((()=>()=>{n.current=!1}),[]);const[o,a]=s.useState({status:r.Loading}),i=s.useCallback((e=>{n.current&&a({data:e,status:r.Success})}),[]),u=s.useCallback((e=>{n.current&&a({error:e,status:r.Error})}),[]);return s.useEffect((()=>{a({status:r.Loading});const t=null!==(n=e.queryParam)&&void 0!==n?n:null;var n;e.query(t).then(i).catch(u)}),t),o}!function(e){e.Success="success",e.Loading="loading",e.Error="error"}(r||(r={})),function(e){e.Received="received",e.NotReceived="notReceived"}(l||(l={}));const g={status:l.NotReceived};function m(e,t){const n=s.useRef(null),[o,a]=s.useState(g),u=s.useCallback((e=>{a({status:l.Received,data:e})}),[]),c=s.useCallback((()=>{n.current&&n.current(),n.current=null}),[]);return s.useEffect((()=>{return a(g),e?(c(),n.current=e.live.on(void 0===(t=e.liveParam)?i.DEFAULT_PARAM:t,u),c):c;var t}),t),o}function w({queryConfig:e,liveConfig:t},n){const o=h(e,n),a=m(t,n);return a.status===l.NotReceived||o.status!==r.Success?o:Object.assign(Object.assign({},o),{data:a.data})}function f(e,t){switch(t.type){case"firstPageLoaded":return{status:r.Success,data:Object.assign(Object.assign({},e),{items:new Map([[t.firstPageToken,t.firstPage.batch]]),hasNextPage:!!t.firstPage.nextToken,isNextPageLoading:!1})};case"firstPageLoading":return{status:r.Loading};case"nextPageLoading":return e.status!==r.Success?e:Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{isNextPageLoading:!0})});case"nextPageLoaded":return e.status!==r.Success?e:Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{isNextPageLoading:!1,hasNextPage:!!t.nextPage.nextToken,items:new Map([...e.data.items,[t.nextPageToken,t.nextPage.batch]])})});case"pageChanged":return e.status!==r.Success?e:Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{items:new Map([...e.data.items,[t.pageToken,t.pageItems]])})});case"firstPageFetchFailed":case"nextPageFetchFailed":return{status:r.Error,error:t.error}}}const L=({pageEndpoint:e,tokenEndpoint:t,tokenEndpointParam:n,batchLiveEndpoint:o},a)=>{const[i,u]=s.useReducer(f,{status:r.Loading}),c=s.useRef(void 0),d=s.useRef([]),l=s.useCallback((e=>{const t=o.on(e,(t=>{u({type:"pageChanged",pageItems:t,pageToken:e})}));d.current.push(t)}),[o]),h=s.useCallback((()=>{d.current.forEach((e=>e()))}),[]),g=s.useCallback((async()=>{const t=c.current;if(t){u({type:"nextPageLoading"});try{const n=await e(t);c.current=n.nextToken,u({type:"nextPageLoaded",nextPage:n,nextPageToken:t}),l(t)}catch(e){u({type:"nextPageFetchFailed",error:e})}}}),[e,l]),m=s.useCallback((async()=>{u({type:"firstPageLoading"}),c.current=void 0;try{const o=await t(n),a=await e(o);c.current=a.nextToken,u({type:"firstPageLoaded",firstPage:a,firstPageToken:o}),l(o)}catch(e){u({type:"firstPageFetchFailed",error:e})}}),[e,l,t,n]);return s.useEffect((()=>(m(),h)),a),i.status===r.Success?{status:r.Success,data:{hasNextPage:i.data.hasNextPage,isNextPageLoading:i.data.isNextPageLoading,items:Array.from(i.data.items).reduce(((e,[,t])=>e.concat(t)),[]),loadNextPage:()=>{g()}}}:i}}}]);