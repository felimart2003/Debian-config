(()=>{var e={656:e=>{var t,s,n=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(s){try{return t.call(null,e,0)}catch(s){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{s="function"==typeof clearTimeout?clearTimeout:i}catch(e){s=i}}();var a,c=[],l=!1,u=-1;function d(){l&&a&&(l=!1,a.length?c=a.concat(c):u=-1,c.length&&p())}function p(){if(!l){var e=o(d);l=!0;for(var t=c.length;t;){for(a=c,c=[];++u<t;)a&&a[u].run();u=-1,t=c.length}a=null,l=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===i||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{return s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];c.push(new h(e,t)),1!==c.length||l||o(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},29:()=>{},391:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChunkedChannel=void 0;var n=s(476),r=s(119);const i=e=>{if(!e.chunkId)throw new Error(`ChunkedMessage did not have a chunkId: ${JSON.stringify(e)}`)};class o extends n.GenericChannel{constructor(e){super(e.timeout),this._chunkSize=void 0,this._maxStringAlloc=void 0,this._sender=void 0,this._buffer={},this._chunkSize=e.chunkSize,this._sender=e.sender,this._maxStringAlloc=e.maxStringAlloc||-1}send(e){const t=JSON.stringify(e);if(t.length<=this._chunkSize)return void this._sender(e);const s=(e=>{const t=new Uint16Array(e.length);for(let s=0,n=e.length;s<n;s++)t[s]=e.charCodeAt(s);return t})(t),n=[...Array(30)].map((()=>Math.random().toString(36)[3])).join("");this._sender({type:"chunk_start",chunkId:n,size:t.length});const r=(e=0)=>{let t=s.slice(e,e+this._chunkSize);t.length&&(this._sender({type:"chunk_data",chunkId:n,data:Array.from(t)}),r(e+this._chunkSize))};r(),this._sender({type:"chunk_end",chunkId:n})}_messageReceived(e){switch(e.type){case"chunk_start":this._receiveNewChunk(e);break;case"chunk_data":this._receiveChunkData(e);break;case"chunk_end":const t=this._mergeChunks(e);super._messageReceived(t);break;default:super._messageReceived(e)}}_receiveNewChunk(e){if(i(e),this._buffer[e.chunkId])throw new Error(`There was already an entry in the buffer for chunkId ${e.chunkId}`);this._buffer[e.chunkId]={id:e.chunkId,chunks:[],size:e.size}}_receiveChunkData(e){if(i(e),!this._buffer[e.chunkId])throw new Error(`ChunkId ${e.chunkId} was not found in the buffer`);this._buffer[e.chunkId].chunks.push(e.data)}_mergeChunks(e){if(i(e),!this._buffer[e.chunkId])throw new Error(`ChunkId ${e.chunkId} was not found in the buffer`);let t;const s=((e,t)=>{if(-1===t)return String.fromCharCode.apply(null,e);{let s="";for(let n=0;n<e.length;n+=t)n+t>e.length?s+=String.fromCharCode.apply(null,e.subarray(n)):s+=String.fromCharCode.apply(null,e.subarray(n,n+t));return s}})(this._buffer[e.chunkId].chunks.reduce(((e,t,s)=>(t.forEach(((t,s)=>e.uintArray[e.currentIx+s]=t)),e.currentIx+=t.length,e)),{uintArray:new Uint16Array(this._buffer[e.chunkId].size),currentIx:0}).uintArray,this._maxStringAlloc);try{t=JSON.parse(s)}catch(e){throw new Error(`Not a valid JSON string: ${s}`)}if(!(0,r.isTransportMessage)(t))throw new Error(`Not a transport message: ${JSON.stringify(t)}`);return t}}t.ChunkedChannel=o},476:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericChannel=void 0,t.GenericChannel=class{constructor(e=5e3){this._timeout=e,this._onMessageCallbacks=[],this._onConnectCallbacks=[],this._onDisconnectCallbacks=[],this._onErrorCallbacks=[],this._ready=!1}get timeout(){return this._timeout}onData(e){-1===this._onMessageCallbacks.indexOf(e)&&this._onMessageCallbacks.push(e)}onConnect(e){this._ready&&e(),this._onConnectCallbacks.push(e)}onDisconnect(e){this._onDisconnectCallbacks.push(e)}onError(e){this._onErrorCallbacks.push(e)}_messageReceived(e){this._onMessageCallbacks.forEach((t=>t(e)))}_error(e){this._onErrorCallbacks.forEach((t=>t(e)))}_connected(){this._ready=!0,this._onConnectCallbacks.forEach((e=>e()))}_disconnected(){this._ready=!1,this._onDisconnectCallbacks.forEach((e=>e()))}}},880:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PARAM=void 0,t.DEFAULT_PARAM="$_DEFAULT_$"},184:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineEvents=function(...e){const t=e.reduce(((e,t)=>(e.push.apply(e,Object.keys(t)),e)),[]),s=[...new Set(t)];if(t.length>s.length)throw new Error("ts-event-bus: duplicate slots encountered in combineEvents.");return Object.assign({},...e)},t.createEventBus=function(e){const t=(e.channels||[]).map((t=>new r.Transport(t,e.ignoredEvents))),s={};for(const r in e.events)e.events.hasOwnProperty(r)&&(!e.ignoredEvents||e.ignoredEvents&&!e.ignoredEvents.includes(r))&&(s[r]=(0,n.connectSlot)(r,t,e.events[r].config));return s};var n=s(592),r=s(522)},415:(e,t)=>{"use strict";function s(e,t){let s=null;try{s=e(t)}catch(e){return Promise.reject(e)}return s&&s.then?s:Promise.resolve(s)}Object.defineProperty(t,"__esModule",{value:!0}),t.callHandlers=function(e,t){return t&&0!==t.length?1===t.length?s(t[0],e):Promise.all(t.map((t=>s(t,e)))):new Promise((e=>{}))}},119:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTransportMessage=function(e){switch(e.type){case"request":case"response":case"error":case"handler_unregistered":case"handler_registered":case"event_list":return!0;default:return!1}}},592:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.slot=function(e=o){return a(e)},t.connectSlot=function(e,t,s={}){const i=t.reduce(((e,t,s)=>({...e,[s]:{}})),{[c]:{}}),o=t.reduce(((e,t,s)=>({...e,[s]:{}})),{}),a=(e,t)=>{let s=()=>{};const n=new Promise((e=>s=e));o[e][t]={registered:n,onRegister:s}},d=[],p=[],h=e=>d.forEach((t=>t(e))),m=e=>p.forEach((t=>t(e)));return t.forEach(((t,s)=>{t.addRemoteHandlerRegistrationCallback(e,((e=r.DEFAULT_PARAM,t)=>{if(!o[s])return;const n=i[s][e]||[];i[s][e]=n.concat(t),1===l(e,i).length&&h(e),o[s][e]||a(String(s),e),o[s][e].onRegister()})),t.addRemoteHandlerUnregistrationCallback(e,((e=r.DEFAULT_PARAM,t)=>{const n=(i[s][e]||[]).indexOf(t);n>-1&&i[s][e].splice(n,1),0===l(e,i).length&&m(e),o[s]&&a(String(s),e)})),t.addRemoteEventListChangedListener(e,(()=>{o[s]&&Object.keys(o[s]).forEach((e=>{o[s][e].onRegister()})),delete o[s]}))})),Object.assign((function(e,c){const u=2===arguments.length,d=u?c:e,p=u?e:r.DEFAULT_PARAM,h=()=>{const e=l(p,i);return(0,n.callHandlers)(d,e)};if(0===t.length)return h();const m=[];if(s.autoReconnect&&t.forEach((e=>{m.push(e.autoReconnect())})),s.noBuffer)return Promise.all(m).then((()=>h()));{t.forEach(((e,t)=>{o[t]&&!o[t][p]&&a(String(t),p)}));const e=t.reduce(((e,t,s)=>{var n;return[...e,...null!==(n=o[s]&&[o[s][p].registered])&&void 0!==n?n:[]]}),[]);return Promise.all(e).then((()=>h()))}}),{on:function(s,n){let o="",a=()=>new Promise((e=>e()));return"string"==typeof s?(o=s,a=n||a):(o=r.DEFAULT_PARAM,a=s),t.forEach((t=>t.registerHandler(e,o,a))),i[c][o]=(i[c][o]||[]).concat(a),1===l(o,i).length&&h(o),()=>{t.forEach((t=>t.unregisterHandler(e,o,a)));const s=(i[c][o]||[]).indexOf(a);-1!==s&&i[c][o].splice(s,1),0===l(o,i).length&&m(o)}},lazy:function(e,t){return d.push(e),p.push(t),u(i).forEach(e),()=>{u(i).forEach(t);const s=d.indexOf(e);s>-1&&d.splice(s,1);const n=p.indexOf(t);n>-1&&p.splice(n,1)}},config:s,slotName:e})},t.defaultSlotConfig=void 0;var n=s(415),r=s(880);const i=()=>{throw new Error("Slot not connected")},o={noBuffer:!1,autoReconnect:!0};t.defaultSlotConfig=o;const a=e=>Object.assign((()=>i()),{config:e,lazy:()=>i,on:()=>i,slotName:"Not connected"}),c="LOCAL_TRANSPORT",l=(e,t)=>Object.keys(t).reduce(((s,n)=>s.concat(t[n][e]||[])),[]),u=e=>Object.keys(e).reduce(((t,s)=>{const n=e[s],r=[...t,...Object.keys(n).filter((e=>(n[e]||[]).length>0))];return[...new Set(r)]}),[])},522:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=void 0;var n=s(415);let r=0;t.Transport=class{constructor(e,t){this._channel=e,this._localHandlers={},this._localHandlerRegistrations={},this._remoteHandlers={},this._remoteHandlerRegistrationCallbacks={},this._remoteHandlerDeletionCallbacks={},this._remoteIgnoredEventsCallbacks={},this._pendingRequests={},this._channelReady=!1,this._channel.onData((e=>{switch(e.type){case"request":return this._requestReceived(e);case"response":return this._responseReceived(e);case"handler_registered":return this._registerRemoteHandler(e);case"handler_unregistered":return this._unregisterRemoteHandler(e);case"error":return this._errorReceived(e);case"event_list":return this._remoteIgnoredEventsReceived(e);default:(e=>{throw new Error(`Should not happen: ${e}`)})(e)}})),this._channel.onConnect((()=>{this._channelReady=!0,Object.keys(this._localHandlerRegistrations).forEach((e=>{this._localHandlerRegistrations[e].forEach((e=>{this._channel.send(e)}))})),t&&this._channel.send({type:"event_list",ignoredEvents:t})})),this._channel.onDisconnect((()=>{this._channelReady=!1,this._unregisterAllRemoteHandlers(),this._rejectAllPendingRequests(new Error("REMOTE_CONNECTION_CLOSED"))})),this._channel.onError((e=>this._rejectAllPendingRequests(e)))}_remoteIgnoredEventsReceived({ignoredEvents:e}){Object.keys(this._remoteIgnoredEventsCallbacks).forEach((t=>{e.includes(t)&&this._remoteIgnoredEventsCallbacks[t]()}))}_requestReceived({slotName:e,data:t,id:s,param:r}){const i=this._localHandlers[e];if(!i)return;const o=i[r];o&&(0,n.callHandlers)(t,o).then((async t=>{await this.autoReconnect(),this.isDisconnected()||this._channel.send({type:"response",slotName:e,id:s,data:t,param:r})})).catch((async t=>{await this.autoReconnect(),this.isDisconnected()||this._channel.send({id:s,message:`${t}`,param:r,slotName:e,stack:t.stack||"",type:"error"})}))}_responseReceived({slotName:e,data:t,id:s,param:n}){const r=this._pendingRequests[e];r&&r[n]&&r[n][s]&&(r[n][s].resolve(t),delete r[n][s])}_errorReceived({slotName:e,id:t,message:s,stack:n,param:r}){const i=this._pendingRequests[e];if(!i||!i[r]||!i[r][t])return;const o=new Error(`${s} on ${e} with param ${r}`);o.stack=n||o.stack,this._pendingRequests[e][r][t].reject(o),delete this._pendingRequests[e][r][t]}_registerRemoteHandler({slotName:e,param:t}){const s=this._remoteHandlerRegistrationCallbacks[e];if(!s)return;const n=this._remoteHandlers[e];if(n&&n[t])return;const i=s=>new Promise(((n,i)=>{if(!this._channelReady)return i(new Error(`CHANNEL_NOT_READY on ${e}`));const o=""+r++;this._pendingRequests[e]=this._pendingRequests[e]||{},this._pendingRequests[e][t]=this._pendingRequests[e][t]||{},this._pendingRequests[e][t][o]={resolve:n,reject:i},this._channel.send({type:"request",id:o,slotName:e,param:t,data:s}),setTimeout((()=>{const s=((this._pendingRequests[e]||{})[t]||{})[o];if(s){const n=new Error(`TIMED_OUT on ${e} with param ${t}`);s.reject(n),delete this._pendingRequests[e][t][o]}}),this._channel.timeout)}));this._remoteHandlers[e]=this._remoteHandlers[e]||{},this._remoteHandlers[e][t]=i,s(t,i)}_unregisterRemoteHandler({slotName:e,param:t}){const s=this._remoteHandlerDeletionCallbacks[e],n=this._remoteHandlers[e];if(!n)return;const r=n[t];r&&s&&(s(t,r),delete this._remoteHandlers[e][t])}_unregisterAllRemoteHandlers(){Object.keys(this._remoteHandlerDeletionCallbacks).forEach((e=>{const t=this._remoteHandlers[e];t&&Object.keys(t).filter((e=>t[e])).forEach((t=>this._unregisterRemoteHandler({slotName:e,param:t})))}))}_rejectAllPendingRequests(e){Object.keys(this._pendingRequests).forEach((t=>{Object.keys(this._pendingRequests[t]).forEach((s=>{Object.keys(this._pendingRequests[t][s]).forEach((n=>{this._pendingRequests[t][s][n].reject(e)}))})),this._pendingRequests[t]={}}))}addRemoteHandlerRegistrationCallback(e,t){this._remoteHandlerRegistrationCallbacks[e]||(this._remoteHandlerRegistrationCallbacks[e]=t)}addRemoteHandlerUnregistrationCallback(e,t){this._remoteHandlerDeletionCallbacks[e]||(this._remoteHandlerDeletionCallbacks[e]=t)}addRemoteEventListChangedListener(e,t){this._remoteIgnoredEventsCallbacks[e]||(this._remoteIgnoredEventsCallbacks[e]=t)}registerHandler(e,t,s){if(this._localHandlers[e]=this._localHandlers[e]||{},this._localHandlers[e][t]=this._localHandlers[e][t]||[],this._localHandlers[e][t].push(s),1===this._localHandlers[e][t].length){const s={type:"handler_registered",param:t,slotName:e};this._localHandlerRegistrations[t]=this._localHandlerRegistrations[t]||[],this._localHandlerRegistrations[t].push(s),this._channelReady&&this._channel.send(s)}}unregisterHandler(e,t,s){const n=this._localHandlers[e];if(n&&n[t]){const r=n[t].indexOf(s);if(r>-1&&(n[t].splice(r,1),0===n[t].length)){const s={type:"handler_unregistered",param:t,slotName:e};this._channelReady&&this._channel.send(s)}}}isDisconnected(){return!this._channelReady}autoReconnect(){if(this.isDisconnected()&&this._channel.autoReconnect){const e=new Promise((e=>{this._channel.onConnect((()=>e()))}));return this._channel.autoReconnect(),e}return Promise.resolve()}}},504:(e,t,s)=>{"use strict";Object.defineProperty(t,"LW",{enumerable:!0,get:function(){return n.slot}}),Object.defineProperty(t,"mt",{enumerable:!0,get:function(){return r.combineEvents}}),Object.defineProperty(t,"nv",{enumerable:!0,get:function(){return r.createEventBus}}),Object.defineProperty(t,"oN",{enumerable:!0,get:function(){return i.GenericChannel}});var n=s(592),r=s(184),i=(s(29),s(476));s(391),s(119),s(880)},473:function(e,t,s){var n;!function(r,i){"use strict";var o="function",a="undefined",c="object",l="string",u="major",d="model",p="name",h="type",m="vendor",f="version",v="architecture",g="console",y="mobile",b="tablet",_="smarttv",w="wearable",x="embedded",S="Amazon",L="Apple",I="ASUS",A="BlackBerry",E="Browser",T="Chrome",C="Firefox",U="Google",k="Huawei",N="LG",W="Microsoft",O="Motorola",D="Opera",R="Samsung",P="Sharp",M="Sony",F="Xiaomi",B="Zebra",j="Facebook",q="Chromium OS",G="Mac OS",V=function(e){for(var t={},s=0;s<e.length;s++)t[e[s].toUpperCase()]=e[s];return t},Z=function(e,t){return typeof e===l&&-1!==H(t).indexOf(H(e))},H=function(e){return e.toLowerCase()},$=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,350)},z=function(e,t){for(var s,n,r,a,l,u,d=0;d<t.length&&!l;){var p=t[d],h=t[d+1];for(s=n=0;s<p.length&&!l&&p[s];)if(l=p[s++].exec(e))for(r=0;r<h.length;r++)u=l[++n],typeof(a=h[r])===c&&a.length>0?2===a.length?typeof a[1]==o?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3===a.length?typeof a[1]!==o||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):i:this[a[0]]=u?a[1].call(this,u,a[2]):i:4===a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):i):this[a]=u||i;d+=2}},K=function(e,t){for(var s in t)if(typeof t[s]===c&&t[s].length>0){for(var n=0;n<t[s].length;n++)if(Z(t[s][n],e))return"?"===s?i:s}else if(Z(t[s],e))return"?"===s?i:s;return e},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,f],[/opios[\/ ]+([\w\.]+)/i],[f,[p,D+" Mini"]],[/\bopr\/([\w\.]+)/i],[f,[p,D]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[p,"UC"+E]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[f,[p,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[f,[p,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+E],f],[/\bfocus\/([\w\.]+)/i],[f,[p,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[p,D+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[p,D+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[p,"MIUI "+E]],[/fxios\/([-\w\.]+)/i],[f,[p,C]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+E]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+E],f],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[p,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,j],f],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[p,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[f,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[p,T+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,T+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[p,"Android "+E]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[f,K,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[p,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,f],[/(cobalt)\/([\w\.]+)/i],[p,[f,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,H]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[m,R],[h,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[m,R],[h,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[m,L],[h,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[m,L],[h,b]],[/(macintosh);/i],[d,[m,L]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[m,P],[h,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[m,k],[h,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[m,k],[h,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[m,F],[h,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[m,F],[h,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[m,"OPPO"],[h,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[m,"Vivo"],[h,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[d,[m,"Realme"],[h,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[m,O],[h,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[m,O],[h,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[m,N],[h,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[m,N],[h,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[m,"Lenovo"],[h,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[m,"Nokia"],[h,y]],[/(pixel c)\b/i],[d,[m,U],[h,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[m,U],[h,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[m,M],[h,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[m,M],[h,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[m,"OnePlus"],[h,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[m,S],[h,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[m,S],[h,y]],[/(playbook);[-\w\),; ]+(rim)/i],[d,m,[h,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[m,A],[h,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[m,I],[h,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[m,I],[h,y]],[/(nexus 9)/i],[d,[m,"HTC"],[h,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[d,/_/g," "],[h,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[m,"Acer"],[h,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[m,"Meizu"],[h,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,d,[h,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,d,[h,b]],[/(surface duo)/i],[d,[m,W],[h,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[m,"Fairphone"],[h,y]],[/(u304aa)/i],[d,[m,"AT&T"],[h,y]],[/\bsie-(\w*)/i],[d,[m,"Siemens"],[h,y]],[/\b(rct\w+) b/i],[d,[m,"RCA"],[h,b]],[/\b(venue[\d ]{2,7}) b/i],[d,[m,"Dell"],[h,b]],[/\b(q(?:mv|ta)\w+) b/i],[d,[m,"Verizon"],[h,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[m,"Barnes & Noble"],[h,b]],[/\b(tm\d{3}\w+) b/i],[d,[m,"NuVision"],[h,b]],[/\b(k88) b/i],[d,[m,"ZTE"],[h,b]],[/\b(nx\d{3}j) b/i],[d,[m,"ZTE"],[h,y]],[/\b(gen\d{3}) b.+49h/i],[d,[m,"Swiss"],[h,y]],[/\b(zur\d{3}) b/i],[d,[m,"Swiss"],[h,b]],[/\b((zeki)?tb.*\b) b/i],[d,[m,"Zeki"],[h,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],d,[h,b]],[/\b(ns-?\w{0,9}) b/i],[d,[m,"Insignia"],[h,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[m,"NextBook"],[h,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],d,[h,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],d,[h,y]],[/\b(ph-1) /i],[d,[m,"Essential"],[h,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[m,"Envizen"],[h,b]],[/\b(trio[-\w\. ]+) b/i],[d,[m,"MachSpeed"],[h,b]],[/\btu_(1491) b/i],[d,[m,"Rotor"],[h,b]],[/(shield[\w ]+) b/i],[d,[m,"Nvidia"],[h,b]],[/(sprint) (\w+)/i],[m,d,[h,y]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[m,W],[h,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[m,B],[h,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[m,B],[h,y]],[/smart-tv.+(samsung)/i],[m,[h,_]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[m,R],[h,_]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,N],[h,_]],[/(apple) ?tv/i],[m,[d,L+" TV"],[h,_]],[/crkey/i],[[d,T+"cast"],[m,U],[h,_]],[/droid.+aft(\w)( bui|\))/i],[d,[m,S],[h,_]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[m,P],[h,_]],[/(bravia[\w ]+)( bui|\))/i],[d,[m,M],[h,_]],[/(mitv-\w{5}) bui/i],[d,[m,F],[h,_]],[/Hbbtv.*(technisat) (.*);/i],[m,d,[h,_]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,$],[d,$],[h,_]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,_]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,d,[h,g]],[/droid.+; (shield) bui/i],[d,[m,"Nvidia"],[h,g]],[/(playstation [345portablevi]+)/i],[d,[m,M],[h,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[m,W],[h,g]],[/((pebble))app/i],[m,d,[h,w]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[m,L],[h,w]],[/droid.+; (glass) \d/i],[d,[m,U],[h,w]],[/droid.+; (wt63?0{2,3})\)/i],[d,[m,B],[h,w]],[/(quest( 2| pro)?)/i],[d,[m,j],[h,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[h,x]],[/(aeobc)\b/i],[d,[m,S],[h,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[d,[h,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[h,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,y]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[p,[f,K,Y]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,"Windows"],[f,K,Y]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,G],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,f],[/\(bb(10);/i],[f,[p,A]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[p,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[f,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[f,[p,T+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,q],f],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,f],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,f]]},J=function(e,t){if(typeof e===c&&(t=e,e=i),!(this instanceof J))return new J(e,t).getResult();var s=typeof r!==a&&r.navigator?r.navigator:i,n=e||(s&&s.userAgent?s.userAgent:""),g=s&&s.userAgentData?s.userAgentData:i,_=t?function(e,t){var s={};for(var n in e)t[n]&&t[n].length%2==0?s[n]=t[n].concat(e[n]):s[n]=e[n];return s}(Q,t):Q,w=s&&s.userAgent==n;return this.getBrowser=function(){var e,t={};return t[p]=i,t[f]=i,z.call(t,n,_.browser),t[u]=typeof(e=t[f])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:i,w&&s&&s.brave&&typeof s.brave.isBrave==o&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[v]=i,z.call(e,n,_.cpu),e},this.getDevice=function(){var e={};return e[m]=i,e[d]=i,e[h]=i,z.call(e,n,_.device),w&&!e[h]&&g&&g.mobile&&(e[h]=y),w&&"Macintosh"==e[d]&&s&&typeof s.standalone!==a&&s.maxTouchPoints&&s.maxTouchPoints>2&&(e[d]="iPad",e[h]=b),e},this.getEngine=function(){var e={};return e[p]=i,e[f]=i,z.call(e,n,_.engine),e},this.getOS=function(){var e={};return e[p]=i,e[f]=i,z.call(e,n,_.os),w&&!e[p]&&g&&"Unknown"!=g.platform&&(e[p]=g.platform.replace(/chrome os/i,q).replace(/macos/i,G)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===l&&e.length>350?$(e,350):e,this},this.setUA(n),this};J.VERSION="1.0.35",J.BROWSER=V([p,f,u]),J.CPU=V([v]),J.DEVICE=V([d,m,h,g,y,_,b,w,x]),J.ENGINE=J.OS=V([p,f]),typeof t!==a?(e.exports&&(t=e.exports=J),t.UAParser=J):s.amdO?(n=function(){return J}.call(t,s,t,e))===i||(e.exports=n):typeof r!==a&&(r.UAParser=J);var X=typeof r!==a&&(r.jQuery||r.Zepto);if(X&&!X.ua){var ee=new J;X.ua=ee.getResult(),X.ua.get=function(){return ee.getUA()},X.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var s in t)X.ua[s]=t[s]}}}("object"==typeof window?window:this)}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,s),i.exports}s.amdO={},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function e(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var t=e((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}})),n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])},n(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function s(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}function i(e,t){var s,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(s)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(o=0)),o;)try{if(s=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{s=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function o(e){var t="function"==typeof Symbol&&Symbol.iterator,s=t&&e[t],n=0;if(s)return s.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var s="function"==typeof Symbol&&e[Symbol.iterator];if(!s)return e;var n,r,i=s.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(s=i.return)&&s.call(i)}finally{if(r)throw r.error}}return o}function c(e,t,s){if(s||2===arguments.length)for(var n,r=0,i=t.length;r<i;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}function l(e){return this instanceof l?(this.v=e,this):new l(e)}function u(e){return"function"==typeof e}Object.create,Object.create;var d=e((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function p(e,t){if(e){var s=e.indexOf(t);0<=s&&e.splice(s,1)}}var h=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,s,n,r;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var l=o(i),p=l.next();!p.done;p=l.next())p.value.remove(this)}catch(t){e={error:t}}finally{try{p&&!p.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}else i.remove(this);var h=this.initialTeardown;if(u(h))try{h()}catch(e){r=e instanceof d?e.errors:[e]}var m=this._finalizers;if(m){this._finalizers=null;try{for(var f=o(m),g=f.next();!g.done;g=f.next()){var y=g.value;try{v(y)}catch(e){r=null!=r?r:[],e instanceof d?r=c(c([],a(r)),a(e.errors)):r.push(e)}}}catch(e){s={error:e}}finally{try{g&&!g.done&&(n=f.return)&&n.call(f)}finally{if(s)throw s.error}}}if(r)throw new d(r)}},e.prototype.add=function(t){var s;if(t&&t!==this)if(this.closed)v(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(s=this._finalizers)&&void 0!==s?s:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&p(t,e)},e.prototype.remove=function(t){var s=this._finalizers;s&&p(s,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}(),m=h.EMPTY;function f(e){return e instanceof h||e&&"closed"in e&&u(e.remove)&&u(e.add)&&u(e.unsubscribe)}function v(e){u(e)?e():e.unsubscribe()}var g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},y={setTimeout:function(e,t){for(var s=[],n=2;n<arguments.length;n++)s[n-2]=arguments[n];var r=y.delegate;return(null==r?void 0:r.setTimeout)?r.setTimeout.apply(r,c([e,t],a(s))):setTimeout.apply(void 0,c([e,t],a(s)))},clearTimeout:function(e){var t=y.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function b(e){y.setTimeout((function(){var t=g.onUnhandledError;if(!t)throw e;t(e)}))}function _(){}var w=x("C",void 0,void 0);function x(e,t,s){return{kind:e,value:t,error:s}}var S=null;function L(e){if(g.useDeprecatedSynchronousErrorHandling){var t=!S;if(t&&(S={errorThrown:!1,error:null}),e(),t){var s=S,n=s.errorThrown,r=s.error;if(S=null,n)throw r}}else e()}var I=function(e){function t(t){var s=e.call(this)||this;return s.isStopped=!1,t?(s.destination=t,f(t)&&t.add(s)):s.destination=N,s}return r(t,e),t.create=function(e,t,s){return new C(e,t,s)},t.prototype.next=function(e){this.isStopped?k(function(e){return x("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?k(x("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?k(w,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(h),A=Function.prototype.bind;function E(e,t){return A.call(e,t)}var T=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){U(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){U(e)}else U(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){U(e)}},e}(),C=function(e){function t(t,s,n){var r,i,o=e.call(this)||this;return u(t)||!t?r={next:null!=t?t:void 0,error:null!=s?s:void 0,complete:null!=n?n:void 0}:o&&g.useDeprecatedNextContext?((i=Object.create(t)).unsubscribe=function(){return o.unsubscribe()},r={next:t.next&&E(t.next,i),error:t.error&&E(t.error,i),complete:t.complete&&E(t.complete,i)}):r=t,o.destination=new T(r),o}return r(t,e),t}(I);function U(e){var t;g.useDeprecatedSynchronousErrorHandling?(t=e,g.useDeprecatedSynchronousErrorHandling&&S&&(S.errorThrown=!0,S.error=t)):b(e)}function k(e,t){var s=g.onStoppedNotification;s&&y.setTimeout((function(){return s(e,t)}))}var N={closed:!0,next:_,error:function(e){throw e},complete:_};function W(e,s){var n="object"==typeof s;return new Promise((function(r,i){var o=new C({next:function(e){r(e),o.unsubscribe()},error:i,complete:function(){n?r(s.defaultValue):i(new t)}});e.subscribe(o)}))}const O=e=>"failure"===e.tag,D=e=>e.data;function R(e,t){throw new Error(t??`Unreachable code detected (${e})`)}function P(e){if("undefined"==typeof chrome)return!1;const t=e.split(".").reduce(((e,t)=>e?.[t]),chrome);return Boolean(t)}function M(){if(!P("runtime.getManifest"))throw new Error("No runtime.getManifest support");return chrome.runtime.getManifest()}var F,B=s(473),j=s.n(B);function q(){return new(j())(function(){const e="object"==typeof window?window.navigator:"object"==typeof self&&"function"==typeof importScripts?self.navigator:void 0;return e?.userAgent}(),{browser:[[/(AVG|Avast)\/([\w.]+)/i],[[j().BROWSER.NAME,"Avast"],j().BROWSER.VERSION],[/(edge|edgios|edga|edg)\/((\d+)?[\w.]+)/i],[[j().BROWSER.NAME,"Edge"],j().BROWSER.VERSION]]}).getResult()}s(656),function(e){e.CHROME="Chrome",e.FIREFOX="Firefox",e.EDGE="Edge",e.SAFARI="Safari",e.OPERA="Opera"}(F||(F={}));var G=s(504);const V={loginStatusChanged:(0,G.LW)({noBuffer:!0}),localAccountsListUpdated:(0,G.LW)({noBuffer:!0}),openSessionProgressChanged:(0,G.LW)({noBuffer:!0}),openSessionTokenSent:(0,G.LW)({noBuffer:!0}),openSessionDashlaneAuthenticator:(0,G.LW)({noBuffer:!0}),openSessionOTPSent:(0,G.LW)({noBuffer:!0}),openSessionOTPForNewDeviceRequired:(0,G.LW)({noBuffer:!0}),openSessionAskMasterPassword:(0,G.LW)({noBuffer:!0}),openSessionTokenWarning:(0,G.LW)({noBuffer:!0}),openSessionExtraDeviceTokenRequired:(0,G.LW)({noBuffer:!0}),openSessionMasterPasswordLess:(0,G.LW)({noBuffer:!0}),openSessionSsoRedirectionToIdpRequired:(0,G.LW)({noBuffer:!0}),openSessionFailed:(0,G.LW)({noBuffer:!0}),sessionSyncStatus:(0,G.LW)({noBuffer:!0}),deactivateDeviceResult:(0,G.LW)({noBuffer:!0}),changeDeviceNameResult:(0,G.LW)({noBuffer:!0}),accountInfoChanged:(0,G.LW)({noBuffer:!0}),dataModelUpdated:(0,G.LW)({noBuffer:!0}),accountFeaturesChanged:(0,G.LW)({noBuffer:!0}),webOnboardingModeUpdated:(0,G.LW)({noBuffer:!0}),askWebsiteInfo:(0,G.LW)({noBuffer:!0}),getAccountInfo:(0,G.LW)({noBuffer:!0}),getAnonymousLogsMetadata:(0,G.LW)({noBuffer:!0}),checkIfMasterPasswordIsValid:(0,G.LW)({noBuffer:!0}),openSession:(0,G.LW)({noBuffer:!0}),openSessionWithToken:(0,G.LW)({noBuffer:!0}),openSessionWithDashlaneAuthenticator:(0,G.LW)({noBuffer:!0}),cancelDashlaneAuthenticatorRegistration:(0,G.LW)(),openSessionWithOTP:(0,G.LW)({noBuffer:!0}),openSessionWithOTPForNewDevice:(0,G.LW)({noBuffer:!0}),openSessionWithMasterPassword:(0,G.LW)({noBuffer:!0}),openExtraDeviceSession:(0,G.LW)({noBuffer:!0}),openSessionWithExtraDeviceToken:(0,G.LW)({noBuffer:!0}),openSessionResendToken:(0,G.LW)({noBuffer:!0}),sessionForceSync:(0,G.LW)({noBuffer:!0}),closeSession:(0,G.LW)({noBuffer:!0}),lockSession:(0,G.LW)({noBuffer:!0}),exceptionLog:(0,G.LW)({noBuffer:!0}),getDevicesList:(0,G.LW)({noBuffer:!0}),getLocalAccountsList:(0,G.LW)({noBuffer:!0}),deactivateDevice:(0,G.LW)({noBuffer:!0}),changeDeviceName:(0,G.LW)({noBuffer:!0}),updateWebOnboardingMode:(0,G.LW)({noBuffer:!0})},Z={noBuffer:!0},H=()=>(0,G.LW)(Z),$={participateToUserABTest:(0,G.LW)()},z={getUserABTestVariant:(0,G.LW)()},K={liveUserABTestVariant:H()},Y={editContactInfo:(0,G.LW)()},Q={getContactInfo:(0,G.LW)()},J={liveContactInfo:H()},X={refreshU2FDevicesList:(0,G.LW)(),removeU2FAuthenticator:(0,G.LW)(),refreshTwoFactorAuthenticationInfo:(0,G.LW)(),startTwoFactorAuthenticationEnableFlow:(0,G.LW)(),stopTwoFactorAuthenticationEnableFlow:(0,G.LW)(),continueTwoFactorAuthenticationEnableFlow:(0,G.LW)(),backTwoFactorAuthenticationEnableFlow:(0,G.LW)(),startTwoFactorAuthenticationDisableFlow:(0,G.LW)(),stopTwoFactorAuthenticationDisableFlow:(0,G.LW)(),continueTwoFactorAuthenticationDisableFlow:(0,G.LW)(),backTwoFactorAuthenticationDisableFlow:(0,G.LW)()},ee={getU2FDevicesList:(0,G.LW)(),getTwoFactorAuthenticationEnableStage:(0,G.LW)(),getTwoFactorAuthenticationDisableStage:(0,G.LW)()},te={liveU2FDevicesList:H(),liveTwoFactorAuthenticationEnableStage:H(),liveTwoFactorAuthenticationDisableStage:H()},se={enableWebAuthnAuthentication:(0,G.LW)(),initEnableWebAuthnAuthentication:(0,G.LW)(),refreshAvailableWebAuthnAuthenticators:(0,G.LW)(),refreshWebAuthnAuthenticators:(0,G.LW)(),initRegisterWebAuthnAuthenticator:(0,G.LW)(),registerWebAuthnAuthenticator:(0,G.LW)(),initOpenSessionWithWebAuthnAuthenticator:(0,G.LW)(),openSessionWithWebAuthnAuthenticator:(0,G.LW)(),disableWebAuthnAuthentication:(0,G.LW)(),removeWebAuthnAuthenticator:(0,G.LW)(),initUserVerificationWithWebAuthn:(0,G.LW)()},ne={getWebAuthnAuthenticators:(0,G.LW)(),getWebAuthnAuthenticationOptedIn:(0,G.LW)()},re={liveWebAuthnAuthenticators:H(),liveWebAuthnAuthenticationOptedIn:H()},ie=(0,G.mt)({registerDevice:(0,G.LW)(),requestExtraDeviceToken:(0,G.LW)(),requestEmailToken:(0,G.LW)(),requestPaymentUpdateAuthenticationToken:(0,G.LW)(),setReactivationStatus:(0,G.LW)(),disableAutologin:(0,G.LW)()},se,X),oe=(0,G.mt)({getHasOtp2Type:(0,G.LW)(),getUserOtpType:(0,G.LW)(),getReactivationStatus:(0,G.LW)(),getAvailableUserVerificationMethods:(0,G.LW)()},ne,ee),ae=(0,G.mt)({liveReactivationStatus:H()},re,te),ce={changeMasterPassword:(0,G.LW)()},le={liveChangeMasterPasswordStatus:H()},ue={changeUserCrypto:(0,G.LW)()},de={getCanUserChangeCrypto:(0,G.LW)(),getUserDerivationMethod:(0,G.LW)()},pe={liveUserDerivationMethod:H()},he={getDarkWebInsightsReportResults:(0,G.LW)(),getDarkWebInsightsSummary:(0,G.LW)()},me={getBreach:(0,G.LW)(),getBreaches:(0,G.LW)(),getBreachesPage:(0,G.LW)(),getBreachesPaginationToken:(0,G.LW)(),getBreachesUpdateStatus:(0,G.LW)()},fe={liveBreach:H(),liveBreaches:H(),liveBreachesBatch:H(),liveBreachesUpdaterStatus:H()},ve={updateBreachStatus:(0,G.LW)()},ge={addCollection:(0,G.LW)(),deleteCollection:(0,G.LW)(),removeItemsFromCollections:(0,G.LW)(),updateCollection:(0,G.LW)()},ye={addCredential:(0,G.LW)(),deleteCredential:(0,G.LW)(),updateCredential:(0,G.LW)(),updateLinkedWebsites:(0,G.LW)()},be={canUserAddNewCredential:(0,G.LW)(),getCredential:(0,G.LW)(),getCredentialCategories:(0,G.LW)(),getCredentials:(0,G.LW)(),getCredentialsByDomain:(0,G.LW)(),getCredentialsCount:(0,G.LW)(),getCredentialLimitStatus:(0,G.LW)(),getCredentialsPage:(0,G.LW)(),getCredentialsPaginationToken:(0,G.LW)(),getDashlaneDefinedLinkedWebsites:(0,G.LW)(),getShouldShowRequireMasterPassword:(0,G.LW)()},_e={liveCanUserAddNewCredential:H(),liveCredential:H(),liveCredentials:H(),liveCredentialsByDomain:H(),liveCredentialsBatch:H(),liveCredentialsCount:H(),liveCredentialLimitStatus:H()},we={getIsForcedDomainsEnabled:(0,G.LW)()},xe={getPersonalDataExport:(0,G.LW)()},Se={getGeneratedPassword:(0,G.LW)(),getGeneratedPasswordsCount:(0,G.LW)(),getGeneratedPasswords:(0,G.LW)(),getGeneratedPasswordsPage:(0,G.LW)(),getGeneratedPasswordsPaginationToken:(0,G.LW)()},Le={liveGeneratedPasswordsCount:H(),liveGeneratedPasswords:H()},Ie={saveGeneratedPassword:(0,G.LW)()},Ae={addDriverLicense:(0,G.LW)(),editDriverLicense:(0,G.LW)()},Ee={addFiscalId:(0,G.LW)(),editFiscalId:(0,G.LW)()},Te={addIdCard:(0,G.LW)(),editIdCard:(0,G.LW)()},Ce={addPassport:(0,G.LW)(),editPassport:(0,G.LW)()},Ue={addSocialSecurityId:(0,G.LW)(),editSocialSecurityId:(0,G.LW)()},ke=(0,G.mt)(Ae,Ee,Te,Ce,Ue),Ne={getImportPersonalDataStatus:(0,G.LW)()},We={liveImportPersonalDataStatus:H()},Oe={importPersonalData:(0,G.LW)(),previewPersonalData:(0,G.LW)(),dismissPersonalDataImportNotifications:(0,G.LW)()},De={getPasskey:(0,G.LW)(),getPasskeys:(0,G.LW)(),getPasskeysForDomain:(0,G.LW)()},Re={livePasskey:H(),livePasskeys:H()},Pe={addPasskey:(0,G.LW)(),updatePasskey:(0,G.LW)(),deletePasskey:(0,G.LW)()},Me={getPasswordHistory:(0,G.LW)(),getHasPasswordHistory:(0,G.LW)(),getPasswordHistoryPage:(0,G.LW)(),getPasswordHistoryPaginationToken:(0,G.LW)()},Fe={livePasswordHistory:H(),livePasswordHistoryBatch:H()},Be={getPaymentCard:(0,G.LW)(),getPaymentCards:(0,G.LW)()},je={livePaymentCard:H(),livePaymentCards:H()},qe={addPaymentCard:(0,G.LW)(),updatePaymentCard:(0,G.LW)(),deletePaymentCard:(0,G.LW)()},Ge={getSecureFilesQuota:(0,G.LW)(),getSecureFilesInfoList:(0,G.LW)(),getFileDownloadProgress:(0,G.LW)(),getFileUploadProgress:(0,G.LW)()},Ve={liveSecureFilesQuota:H(),liveFileDownloadProgress:H(),liveFileUploadProgress:H()},Ze={downloadSecureFile:(0,G.LW)(),chunkTransferDone:(0,G.LW)(),deleteSecureFile:(0,G.LW)(),addSecureFile:(0,G.LW)(),validateSecureFile:(0,G.LW)(),commitSecureFile:(0,G.LW)(),initSecureFilesStorageInfo:(0,G.LW)(),clearSecureFileState:(0,G.LW)()},He={setupDefaultNoteCategories:(0,G.LW)()},$e={getNote:(0,G.LW)(),getNoteCategories:(0,G.LW)(),getNotes:(0,G.LW)(),getNotesCount:(0,G.LW)(),getNotesPage:(0,G.LW)(),getNotesPaginationToken:(0,G.LW)()},ze={liveNote:H(),liveNotes:H(),liveNotesBatch:H(),liveNotesCount:H()},Ke={addSecureNote:(0,G.LW)(),updateSecureNote:(0,G.LW)(),deleteSecureNote:(0,G.LW)()},Ye={getAnonymousUserId:(0,G.LW)(),getIsUrlBanished:(0,G.LW)(),arePasswordsProtected:(0,G.LW)()},Qe={liveArePasswordsProtected:H()},Je={toggleDashlane:(0,G.LW)(),updateProtectPasswordsSetting:(0,G.LW)(),updateAutofillSettings:(0,G.LW)()},Xe={getSpace:(0,G.LW)(),getSpaces:(0,G.LW)()},et={disableVaultItemProtection:(0,G.LW)()},tt={getSecret:(0,G.LW)(),getSecrets:(0,G.LW)(),getSecretsCount:(0,G.LW)(),getSecretsPage:(0,G.LW)(),getSecretsPaginationToken:(0,G.LW)()},st={liveSecret:H(),liveSecrets:H(),liveSecretsBatch:H(),liveSecretsCount:H()},nt={addSecret:(0,G.LW)(),updateSecret:(0,G.LW)(),deleteSecret:(0,G.LW)()},rt=(0,G.mt)(me,be,we,Se,Ne,$e,De,Me,Be,tt,Ge,Ye,Xe,{}),it=(0,G.mt)(fe,_e,Le,We,ze,Re,Fe,je,st,Ve,Qe),ot=(0,G.mt)(ve,ge,ye,xe,Ie,ke,Oe,Ke,Pe,qe,nt,Ze,He,Je,et),at={getFamilyDetails:(0,G.LW)(),joinFamily:(0,G.LW)(),leaveFamily:(0,G.LW)(),removeFamilyMember:(0,G.LW)(),resetFamilyJoinToken:(0,G.LW)()},ct={decipherRemoteFile:(0,G.LW)()},lt={getFileContent:(0,G.LW)()},ut={liveFileMeta:H()},dt={setGlobalExtensionSettings:(0,G.LW)(),getGlobalExtensionSettings:(0,G.LW)()},pt={evaluatePassword:(0,G.LW)()},ht={logEvent:(0,G.LW)(),logPageView:(0,G.LW)(),flushQueue:(0,G.LW)()},mt={logException:(0,G.LW)()},ft={abortDeviceLimitFlow:(0,G.LW)(),loginViaSSO:(0,G.LW)(),unlinkPreviousDevice:(0,G.LW)(),unlinkMultipleDevices:(0,G.LW)()},vt={addLoginNotification:(0,G.LW)(),clearAllStoredLoginNotification:(0,G.LW)()},gt={getLoginNotifications:(0,G.LW)()},yt={liveLoginNotifications:H()},bt={updateLoginStepInfo:(0,G.LW)(),resetLoginStepInfo:(0,G.LW)()},_t={getLoginStepInfo:(0,G.LW)()},wt={liveLoginStepInfo:H()},xt={markNotificationAsInteracted:(0,G.LW)(),markNotificationAsSeen:(0,G.LW)(),markNotificationAsUnseen:(0,G.LW)()},St={getNotificationStatus:(0,G.LW)()},Lt={liveNotificationStatus:H()},It={getLoginDeviceLimitFlow:(0,G.LW)()},At={liveLoginDeviceLimitFlow:H()},Et={getTwoFactorAuthenticationInfo:(0,G.LW)()},Tt={liveTwoFactorAuthenticationInfo:H()},Ct={getLoginStatus:(0,G.LW)(),getLocalAccounts:(0,G.LW)(),getIsSSOUser:(0,G.LW)(),getSSOMigrationInfo:(0,G.LW)(),getSessionInfo:(0,G.LW)(),getMasterPasswordAndServerKey:(0,G.LW)(),getUserCryptoSettings:(0,G.LW)(),getSyncInfo:(0,G.LW)(),getIsSyncInProgress:(0,G.LW)(),getPremiumStatus:(0,G.LW)(),getNodePremiumStatus:(0,G.LW)(),getSubscriptionInformation:(0,G.LW)(),getActiveSpaces:(0,G.LW)(),getIsAuthenticated:(0,G.LW)(),getSSOProviderInfo:(0,G.LW)(),getUserLogin:(0,G.LW)(),getPublicUserId:(0,G.LW)(),getAnalyticsInstallationId:(0,G.LW)(),getUserLoginStatus:(0,G.LW)(),getWebOnboardingMode:(0,G.LW)(),getIsPaymentFailureChurningDismissed:(0,G.LW)(),getCredentialSearchOrder:(0,G.LW)(),getDidOpen:(0,G.LW)(),getPlatformName:(0,G.LW)(),getAccountAuthenticationType:(0,G.LW)(),...It,...Et},Ut={liveLoginStatus:H(),liveDidOpen:H(),liveIsSSOUser:H(),liveSSOMigrationInfo:H(),liveSessionInfo:H(),liveSyncInfo:H(),liveIsSyncInProgress:H(),livePremiumStatus:H(),liveServiceProviderUrl:H(),liveWebOnboardingMode:H(),liveSubscriptionInformation:H(),...At,...Tt},kt={validateToken:(0,G.LW)(),validateMasterPassword:(0,G.LW)(),resetProtectedItemAutofillTimer:(0,G.LW)(),forceSync:(0,G.LW)(),updatePremiumChurningDismissDate:(0,G.LW)(),setCredentialSearchOrder:(0,G.LW)(),refreshSubscriptionInformation:(0,G.LW)(),updateAccountRecoveryKeyPersonalSettings:(0,G.LW)()},Nt={generatePassword:(0,G.LW)(),generateAndSavePassword:(0,G.LW)(),savePasswordGenerationSettings:(0,G.LW)()},Wt={getPasswordGenerationSettings:(0,G.LW)()},Ot={cancelAutoRenew:(0,G.LW)(),downloadCustomerInvoice:(0,G.LW)(),fetchInvoiceList:(0,G.LW)(),requestRefund:(0,G.LW)()},Dt={getInvoicesCount:(0,G.LW)(),getInvoiceList:(0,G.LW)(),getInvoiceListYears:(0,G.LW)()},Rt={disableCredentialProtection:(0,G.LW)(),unlockProtectedItems:(0,G.LW)()},Pt={vaultLockDate:(0,G.LW)()},Mt={liveVaultLockDate:H()},Ft={activateAccountRecovery:(0,G.LW)(),setupMasterPasswordForRecovery:(0,G.LW)(),deactivateAccountRecovery:(0,G.LW)(),registerDeviceForRecovery:(0,G.LW)(),startAccountRecovery:(0,G.LW)(),sendRecoveryRequest:(0,G.LW)(),cancelRecoveryRequest:(0,G.LW)(),checkRecoveryRequestStatus:(0,G.LW)(),recoverUserData:(0,G.LW)(),checkDoesLocalRecoveryKeyExist:(0,G.LW)(),isRecoveryRequestPending:(0,G.LW)()},Bt={getRecoveryOptInSetting:(0,G.LW)(),getShouldShowFeatureActivationModal:(0,G.LW)(),getAccountRecoveryRequestCount:(0,G.LW)()},jt={liveAccountRecoveryRequestCount:H()},qt={getAllSharedItemIds:(0,G.LW)(),getMyAcceptedItemGroupUserMembers:(0,G.LW)(),getMyAcceptedUserGroups:(0,G.LW)(),getSharingCapacity:(0,G.LW)(),isAllowedToShare:(0,G.LW)(),getUserGroups:(0,G.LW)(),getUserGroup:(0,G.LW)(),getUserGroupPermissionLevel:(0,G.LW)(),getUserGroupMembers:(0,G.LW)(),getSharingUsers:(0,G.LW)(),getSharingUserPermissionLevel:(0,G.LW)()},Gt={liveAllSharedItemIds:H(),liveMyAcceptedItemGroupUserMembers:H(),liveMyAcceptedUserGroups:H(),liveSharingCapacity:H(),liveUserGroups:H(),liveUserGroupPermissionLevel:H(),liveSharingUsers:H(),liveSharingUserPermissionLevel:H()},Vt={convertItemToDashlaneXml:(0,G.LW)(),shareItem:(0,G.LW)()},Zt={getIsRecoveryEnabled:(0,G.LW)()},Ht={getTeamInfo:(0,G.LW)(),computePlanPricing:(0,G.LW)()},$t={getAdministrableUserGroup:(0,G.LW)(),getAdministrableUserGroups:(0,G.LW)(),isGroupNameAvailable:(0,G.LW)(),getAdminProvisioningKey:(0,G.LW)()},zt={liveAdministrableUserGroup:H(),liveAdministrableUserGroups:H(),liveAdminProvisioningKey:H()},Kt={registerTeamDomain:(0,G.LW)(),completeTeamDomainRegistration:(0,G.LW)(),deactivateTeamDomain:(0,G.LW)(),getTeamDomains:(0,G.LW)(),getTeamDevice:(0,G.LW)(),listTeamDevices:(0,G.LW)(),deactivateTeamDevice:(0,G.LW)(),registerTeamDevice:(0,G.LW)(),registerTeamDeviceAccount:(0,G.LW)(),getEncryptionServiceConfig:(0,G.LW)(),generateAndSaveEncryptionServiceConfig:(0,G.LW)(),clearSelfHostedESSettings:(0,G.LW)(),getTeamDeviceEncryptedConfig:(0,G.LW)(),updateTeamDeviceEncryptedConfig:(0,G.LW)(),updateTeamSettings:(0,G.LW)(),parseMetadataFields:(0,G.LW)(),persistAdminProvisioningKey:(0,G.LW)(),removeAdminProvisioningKey:(0,G.LW)(),createSSOConnectorConfig:(0,G.LW)(),generateSSOConnectorKey:(0,G.LW)(),startAuditLogsQuery:(0,G.LW)(),getAuditLogQueryResults:(0,G.LW)(),getRecoveryCodesAsTeamCaptain:(0,G.LW)(),createInviteLink:(0,G.LW)(),changeInviteLinkTeamKey:(0,G.LW)(),toggleInviteLink:(0,G.LW)(),getInviteLink:(0,G.LW)(),requestInviteLinkToken:(0,G.LW)(),getInviteLinkForAdmin:(0,G.LW)(),getLastADSyncDate:(0,G.LW)(),getSpecialUserGroupInviteValuesForMemberInTeam:(0,G.LW)(),getSpecialUserGroupRevision:(0,G.LW)()},Yt={getVisibleUserMessages:(0,G.LW)(),getUserMessages:(0,G.LW)()},Qt={liveUserMessages:H(),liveVisibleUserMessages:H()},Jt={dismissUserMessages:(0,G.LW)(),addUserMessage:(0,G.LW)()},Xt={getVpnAccount:(0,G.LW)(),getVpnCapabilitySetting:(0,G.LW)()},es={liveVpnAccount:H()},ts={activateVpnAccount:(0,G.LW)(),clearVpnAccountErrors:(0,G.LW)(),completeVpnAccountActivation:(0,G.LW)()},ss={getAnonymousComputerId:(0,G.LW)(),getPlatformInfo:(0,G.LW)()},ns={cleanRemotelyRemovedProfiles:(0,G.LW)()},rs=(0,G.mt)($,ie,ce,Y,ue,he,ot,ht,mt,at,dt,pt,ft,vt,bt,xt,kt,Nt,Ot,Rt,Ft,ct,Vt,Ht,Kt,Jt,ts,ns),is={getSubscriptionCode:(0,G.LW)()},os={liveSubscriptionCode:H()},as={getSingleAddressForAutofill:(0,G.LW)(),getMultipleAddressesForAutofill:(0,G.LW)(),getSingleBankAccountForAutofill:(0,G.LW)(),getMultipleBankAccountsForAutofill:(0,G.LW)(),getSingleCompanyForAutofill:(0,G.LW)(),getMultipleCompaniesForAutofill:(0,G.LW)(),getSingleCredentialForAutofill:(0,G.LW)(),getMultipleCredentialsForAutofill:(0,G.LW)(),getSingleDriverLicenseForAutofill:(0,G.LW)(),getMultipleDriverLicensesForAutofill:(0,G.LW)(),getSingleEmailForAutofill:(0,G.LW)(),getMultipleEmailsForAutofill:(0,G.LW)(),getSingleFiscalIdForAutofill:(0,G.LW)(),getMultipleFiscalIdsForAutofill:(0,G.LW)(),getSingleGeneratedPasswordForAutofill:(0,G.LW)(),getMultipleGeneratedPasswordsForAutofill:(0,G.LW)(),getSingleIdCardForAutofill:(0,G.LW)(),getMultipleIdCardsForAutofill:(0,G.LW)(),getSingleIdentityForAutofill:(0,G.LW)(),getMultipleIdentitiesForAutofill:(0,G.LW)(),getSingleNoteForAutofill:(0,G.LW)(),getMultipleNotesForAutofill:(0,G.LW)(),getSinglePasskeyForAutofill:(0,G.LW)(),getSinglePassportForAutofill:(0,G.LW)(),getMultiplePassportsForAutofill:(0,G.LW)(),getSinglePaymentCardForAutofill:(0,G.LW)(),getMultiplePaymentCardsForAutofill:(0,G.LW)(),getSinglePersonalWebsiteForAutofill:(0,G.LW)(),getMultiplePersonalWebsitesForAutofill:(0,G.LW)(),getSinglePhoneForAutofill:(0,G.LW)(),getMultiplePhonesForAutofill:(0,G.LW)(),getSingleSocialSecurityIdForAutofill:(0,G.LW)(),getMultipleSocialSecurityIdsForAutofill:(0,G.LW)(),getAutofillSettingOnUrlForAutofill:(0,G.LW)()},cs={getHasFeature:(0,G.LW)(),getFeatures:(0,G.LW)()},ls={getIsBrazeContentDisabled:(0,G.LW)(),getIsLoginFlowMigrationDisabled:(0,G.LW)(),getIsAutoSSOLoginDisabled:(0,G.LW)()},us={liveIsBrazeContentDisabled:H(),liveIsLoginFlowMigrationDisabled:H(),liveIsAutoSSOLoginDisabled:H()},ds={getAllBanks:(0,G.LW)(),getAllCallingCodes:(0,G.LW)(),getBanks:(0,G.LW)(),getSecureDocumentsExtensionsList:(0,G.LW)()},ps=(0,G.mt)(z,oe,as,Q,de,rt,ss,cs,ls,gt,_t,St,Ct,Wt,Dt,Pt,Bt,lt,qt,ds,is,Zt,$t,Yt,Xt),hs={liveAccountCreated:H()},ms={livePhishingURLList:H()},fs=(0,G.mt)(K,hs,ms,ae,le,J,pe,it,us,yt,wt,Lt,Ut,Mt,jt,ut,Gt,os,zt,Qt,es),vs=(0,G.mt)(rs,ps,fs);let gs=function(e){return e.PopupCarbon="Popup",e.PopupCarbonLoader="PopupCarbonLoader",e.OptionsCarbon="OptionsCarbon",e.WebappCarbon="leeloo",e}({});function ys(e){if(!P("runtime.connect"))throw new Error("No runtime.connect support");return chrome.runtime.connect(e)}class bs extends G.oN{constructor(e){super(),this.name=void 0,this.port=void 0,this.onMessageListener=e=>{this._messageReceived(e)},this.onDisconnectListener=()=>{this.port&&(this.port.onMessage.removeListener(this.onMessageListener),this.port.onDisconnect.removeListener(this.onDisconnectListener),this.port=void 0),this._disconnected()},this.name=e}connect(){self.chrome&&this.setup(this.name)}autoReconnect(){this.connect()}send(e){if(!this.port)throw new Error("No port to send message");this.port.postMessage(e)}setup(e){this.port&&this.onDisconnectListener(),this.port=ys({name:e}),this.port.onMessage.addListener(this.onMessageListener),this.port.onDisconnect.addListener(this.onDisconnectListener),this._connected()}}const{OptionsCarbon:_s}=gs,ws=new bs(_s);ws.connect();const xs=(0,G.mt)(V,vs),Ss=(0,G.nv)({events:xs,channels:[ws]}),Ls=e=>{const t=e.querySelector("#usage-consent");if(s=t,!Boolean(s&&s instanceof HTMLInputElement))throw new Error("Missing checkbox.");var s;return{usageConsentCheckbox:t}},Is="extng.loginFlow.forceLegacyFallback",As=({target:e})=>{window.localStorage.setItem(Is,String(e.checked))};var Es;!function(e){e.DEV="DEV",e.QA="QA",e.NIGHTLY="NIGHTLY",e.BETA="BETA",e.PRODUCTION="PRODUCTION"}(Es||(Es={}));const Ts=500,Cs=["saved-checkmark","saved-checkmark-hidden"],Us=Object.freeze([Es.DEV,Es.NIGHTLY]),ks=["api","nitro"];let Ns;async function Ws(e,t,s){const{editSettingsForStaging:n}=e.webServices.commands,r=s.targetStagingCheckbox.checked?{override:!0,baseUrlOverride:s.stagingURLInput.value,cloudflareAccessKeyOverride:s.stagingCloudflareAccessKeyInput.value,cloudflareSecretKeyOverride:s.stagingCloudflareSecretKeyInput.value}:{override:!1};await n({[t]:r})}function Os(e,t){const s=document.getElementById(`staging-urls-fieldset-${e}`);if(!(s&&s instanceof HTMLFieldSetElement))throw new Error(`No staging-urls-fieldset-${e}`);s.classList.toggle("hidden",!t)}function Ds(e){const t=document.getElementById(`staging-saved-${e}`);if(!t)throw new Error(`No staging-saved-${e}`);window.clearTimeout(Ns),t.classList.remove(...Cs),t.classList.add(...Cs),Ns=window.setTimeout((()=>{t.classList.remove(...Cs)}),Ts)}class Rs{}var Ps;!function(e){e.User="user",e.Device="device"}(Ps||(Ps={}));class Ms extends Rs{constructor(e){super(),this.body=e}}const Fs=(e={scope:Ps.User})=>{var t;return(t=class extends Ms{}).metadata=e,t};class Bs extends Rs{constructor(e){super(),this.body=e}}const js=(...[e={scope:Ps.User}])=>{var t;return(t=class extends Bs{}).metadata=e,t},qs=(e={scope:Ps.User})=>{var t;return(t=class extends Bs{}).metadata=e,t};class Gs{constructor(e){this.body=e}}const Vs=(e={scope:Ps.User})=>{var t;return(t=class extends Gs{}).metadata=e,t},Zs=(e,t)=>Object.entries(e).reduce(((e,[s,n])=>(e[((e,t)=>e.endsWith(t)?e.charAt(0).toLowerCase()+e.substring(1,e.length-t.length):e)(s,t)]=n,e)),{}),Hs=e=>({name:e.name,commands:Zs(e.commands,"Command"),queries:Zs(e.queries,"Query"),events:Zs(e.events,"Event")});class $s extends(Fs({scope:Ps.Device})){}class zs extends(js({scope:Ps.Device})){}class Ks extends(Vs({scope:Ps.User})){}const Ys=Hs({commands:{SetActiveUserCommand:zs},events:{activeUserSet:Ks},name:"requestContext",queries:{ActiveUserQuery:$s}}),Qs=(e,t)=>(()=>{const e=t=>({define:()=>t,with:s=>{const n={api:s.module,main:s.on,queryOnly:s.queryOnly??[]},r={[s.module.name]:n};return e({...t,...r})}});return e({})})().with({module:Ys,on:e});Qs("node");class Js extends(qs({scope:Ps.Device})){}class Xs extends(qs({scope:Ps.Device})){}class en extends(js({scope:Ps.Device})){}var tn;const sn={...(tn=rs,Object.keys(tn).reduce(((e,t)=>({...e,[`${t[0].toUpperCase().concat(t.substring(1))}Command`]:qs({scope:Ps.Device})})),{})),CarbonCommand:Js,CarbonLegacyLeelooCommand:Xs,MitigationDeleteGrapheneUserDataCommand:en};class nn extends(Vs({scope:Ps.Device})){}class rn extends(Vs({scope:Ps.Device})){}class on extends(Vs({scope:Ps.Device})){}const an={CarbonCommandResultEvent:nn,CarbonLegacyEvent:rn,CarbonLegacyDeviceRemotelyDeleted:on};class cn extends(Fs({scope:Ps.Device})){}class ln extends(Fs({scope:Ps.Device})){}var un,dn;const pn=Hs({name:"carbon-legacy",commands:sn,queries:{...(un=ps,dn=fs,[...Object.keys(un),...Object.keys(dn)].reduce(((e,t)=>({...e,[`${t[0].toUpperCase().concat(t.substring(1))}Query`]:Fs({scope:Ps.Device})})),{})),CarbonStateQuery:cn,CarbonStateListQuery:ln},events:an});class hn extends(js({scope:Ps.User})){}class mn extends(js({scope:Ps.User})){}class fn extends(Fs({scope:Ps.User})){}class vn extends(Fs({scope:Ps.User})){}const gn=Hs({name:"breaches",commands:{dismissBreach:hn,markBreachAsSeen:mn},events:{},queries:{breach:fn,unreadBreachesCount:vn}});class yn extends(js({scope:Ps.User})){}const bn=(e,t="")=>()=>({tag:e,message:t}),_n=(e,t)=>class extends Error{constructor(){super(t),this.tag=e}};var wn,xn,Sn;!function(e){e.INVALID_EMAIL="EMAIL_IS_INVALID",e.ALREADY_SUBSCRIBED="USER_HAS_ALREADY_AN_ACTIVE_SUBSCRIPTION",e.TOO_MANY_SUBSCRIPTIONS="USER_HAS_TOO_MANY_SUBSCRIPTIONS",e.GENERIC_ERROR="GENERIC_ERROR"}(wn||(wn={})),bn(wn.INVALID_EMAIL,""),bn(wn.ALREADY_SUBSCRIBED,""),bn(wn.TOO_MANY_SUBSCRIPTIONS,""),bn(wn.GENERIC_ERROR,"");class Ln extends(js({scope:Ps.User})){}!function(e){e.INVALID_EMAIL="EMAIL_IS_INVALID",e.NO_SUBSCRIPTION="USER_HAS_NO_SUBSCRIPTION",e.GENERIC_ERROR="GENERIC_ERROR"}(xn||(xn={}));class In extends(_n(xn.INVALID_EMAIL,"")){}class An extends(_n(xn.NO_SUBSCRIPTION,"")){}class En extends(_n(xn.GENERIC_ERROR,"")){}class Tn extends(js({scope:Ps.User})){}!function(e){e.PENDING="pending",e.ACTIVE="active",e.DISABLED="disabled"}(Sn||(Sn={}));class Cn extends(Fs()){}class Un extends(Fs({scope:Ps.User})){}const kn=Hs({name:"emailMonitoring",commands:{dismissOnboardingNotification:yn,optinEmail:Ln,optoutEmail:Tn},events:{},queries:{emailList:Cn,onboardingNotificationState:Un}});class Nn extends(js({scope:Ps.User})){}class Wn extends(js({scope:Ps.User})){}class On extends(Vs({scope:Ps.User})){}class Dn extends(Fs({scope:Ps.User})){}class Rn extends(Fs({scope:Ps.User})){}class Pn extends(Fs({scope:Ps.User})){}class Mn extends(Fs({scope:Ps.User})){}class Fn extends(Fs({scope:Ps.User})){}class Bn extends(Fs({scope:Ps.User})){}class jn extends(Fs({scope:Ps.User})){}const qn=Hs({name:"passwordHealth",commands:{updateIsCredentialExcluded:Nn,recalculatePasswordHealth:Wn},events:{passwordHealthComputationFinished:On},queries:{credentialHealthData:Dn,filterCredentials:Rn,score:Pn,compromisedCredentials:Mn,compromisedCredentialsIdsForBreach:Fn,passwordHealthReport:Bn,scoreForPassword:jn}}),Gn=Hs({name:"vaultReport",commands:{},events:{},queries:{}});class Vn extends(Fs()){}class Zn extends(js({scope:Ps.User})){}const Hn=Hs({name:"antiphishing",commands:{addAutoRedirectedDomain:Zn},events:{},queries:{isAutoRedirectedDomain:Vn}});class $n extends(_n("Cannot generate OTP code due to no OtpSecret or OtpUrl found for credential","")){}class zn extends(Fs({scope:Ps.User})){}class Kn extends(_n("Cannot generate OTP code for secret or url","")){}class Yn extends(Fs({scope:Ps.User})){}class Qn extends(js({scope:Ps.User})){}const Jn=Hs({name:"otp",commands:{setupOtpCodeForCredential:Qn},events:{},queries:{otpCode:zn,otpCodeForSecretOrUrl:Yn}});class Xn extends(Fs({scope:Ps.User})){}class er extends(Fs({scope:Ps.User})){}class tr extends(Fs({scope:Ps.User})){}class sr extends(Fs({scope:Ps.User})){}class nr extends(Fs({scope:Ps.User})){}class rr extends(Fs({scope:Ps.User})){}var ir;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const s of e)t[s]=s;return t},e.getValidEnumValues=t=>{const s=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),n={};for(const e of s)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.push(s);return t},e.find=(e,t)=>{for(const s of e)if(t(s))return s},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(ir||(ir={}));const or=ir.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ar=e=>{switch(typeof e){case"undefined":return or.undefined;case"string":return or.string;case"number":return isNaN(e)?or.nan:or.number;case"boolean":return or.boolean;case"function":return or.function;case"bigint":return or.bigint;case"object":return Array.isArray(e)?or.array:null===e?or.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?or.promise:"undefined"!=typeof Map&&e instanceof Map?or.map:"undefined"!=typeof Set&&e instanceof Set?or.set:"undefined"!=typeof Date&&e instanceof Date?or.date:or.object;default:return or.unknown}},cr=ir.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]);class lr extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},s={_errors:[]},n=e=>{for(const r of e.issues)if("invalid_union"===r.code)r.unionErrors.map(n);else if("invalid_return_type"===r.code)n(r.returnTypeError);else if("invalid_arguments"===r.code)n(r.argumentsError);else if(0===r.path.length)s._errors.push(t(r));else{let e=s,n=0;for(;n<r.path.length;){const s=r.path[n];n===r.path.length-1?(e[s]=e[s]||{_errors:[]},e[s]._errors.push(t(r))):e[s]=e[s]||{_errors:[]},e=e[s],n++}}};return n(this),s}toString(){return this.message}get message(){return JSON.stringify(this.issues,ir.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},s=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):s.push(e(n));return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}}lr.create=e=>new lr(e);const ur=(e,t)=>{let s;switch(e.code){case cr.invalid_type:s=e.received===or.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case cr.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,ir.jsonStringifyReplacer)}`;break;case cr.unrecognized_keys:s=`Unrecognized key(s) in object: ${ir.joinValues(e.keys,", ")}`;break;case cr.invalid_union:s="Invalid input";break;case cr.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${ir.joinValues(e.options)}`;break;case cr.invalid_enum_value:s=`Invalid enum value. Expected ${ir.joinValues(e.options)}, received '${e.received}'`;break;case cr.invalid_arguments:s="Invalid function arguments";break;case cr.invalid_return_type:s="Invalid function return type";break;case cr.invalid_date:s="Invalid date";break;case cr.invalid_string:"object"==typeof e.validation?"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:ir.assertNever(e.validation):s="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case cr.too_small:s="array"===e.type?`Array must contain ${e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be greater than ${e.inclusive?"or equal to ":""}${e.minimum}`:"date"===e.type?`Date must be greater than ${e.inclusive?"or equal to ":""}${new Date(e.minimum)}`:"Invalid input";break;case cr.too_big:s="array"===e.type?`Array must contain ${e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be less than ${e.inclusive?"or equal to ":""}${e.maximum}`:"date"===e.type?`Date must be smaller than ${e.inclusive?"or equal to ":""}${new Date(e.maximum)}`:"Invalid input";break;case cr.custom:s="Invalid input";break;case cr.invalid_intersection_types:s="Intersection results could not be merged";break;case cr.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;default:s=t.defaultError,ir.assertNever(e)}return{message:s}};let dr=ur;function pr(){return dr}const hr=e=>{const{data:t,path:s,errorMaps:n,issueData:r}=e,i=[...s,...r.path||[]],o={...r,path:i};let a="";const c=n.filter((e=>!!e)).slice().reverse();for(const e of c)a=e(o,{data:t,defaultError:a}).message;return{...r,path:i,message:r.message||a}};function mr(e,t){const s=hr({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,pr(),ur].filter((e=>!!e))});e.common.issues.push(s)}class fr{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const s=[];for(const n of t){if("aborted"===n.status)return vr;"dirty"===n.status&&e.dirty(),s.push(n.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,t){const s=[];for(const e of t)s.push({key:await e.key,value:await e.value});return fr.mergeObjectSync(e,s)}static mergeObjectSync(e,t){const s={};for(const n of t){const{key:t,value:r}=n;if("aborted"===t.status)return vr;if("aborted"===r.status)return vr;"dirty"===t.status&&e.dirty(),"dirty"===r.status&&e.dirty(),(void 0!==r.value||n.alwaysSet)&&(s[t.value]=r.value)}return{status:e.value,value:s}}}const vr=Object.freeze({status:"aborted"}),gr=e=>({status:"valid",value:e}),yr=e=>"aborted"===e.status,br=e=>"dirty"===e.status,_r=e=>"valid"===e.status,wr=e=>void 0!==typeof Promise&&e instanceof Promise;var xr;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(xr||(xr={}));class Sr{constructor(e,t,s,n){this.parent=e,this.data=t,this._path=s,this._key=n}get path(){return this._path.concat(this._key)}}const Lr=(e,t)=>{if(_r(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new lr(e.common.issues)}};function Ir(e){if(!e)return{};const{errorMap:t,invalid_type_error:s,required_error:n,description:r}=e;if(t&&(s||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:r}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=n?n:t.defaultError}:{message:null!=s?s:t.defaultError},description:r}}class Ar{constructor(e){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ar(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ar(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new fr,ctx:{common:e.parent.common,data:e.data,parsedType:ar(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(wr(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){var s;const n={common:{issues:[],async:null!==(s=null==t?void 0:t.async)&&void 0!==s&&s,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ar(e)},r=this._parseSync({data:e,path:n.path,parent:n});return Lr(n,r)}async parseAsync(e,t){const s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){const s={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ar(e)},n=this._parse({data:e,path:[],parent:s}),r=await(wr(n)?n:Promise.resolve(n));return Lr(s,r)}refine(e,t){const s=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,n)=>{const r=e(t),i=()=>n.addIssue({code:cr.custom,...s(t)});return"undefined"!=typeof Promise&&r instanceof Promise?r.then((e=>!!e||(i(),!1))):!!r||(i(),!1)}))}refinement(e,t){return this._refinement(((s,n)=>!!e(s)||(n.addIssue("function"==typeof t?t(s,n):t),!1)))}_refinement(e){return new ci({schema:this,typeName:gi.ZodEffects,effect:{type:"refinement",refinement:e}})}optional(){return li.create(this)}nullable(){return ui.create(this)}nullish(){return this.optional().nullable()}array(){return qr.create(this)}promise(){return ai.create(this)}or(e){return $r.create([this,e])}and(e){return Yr.create(this,e)}transform(e){return new ci({schema:this,typeName:gi.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new di({innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:gi.ZodDefault})}brand(){return new mi({typeName:gi.ZodBranded,type:this,...Ir(void 0)})}describe(e){return new(0,this.constructor)({...this._def,description:e})}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Er=/^c[^\s-]{8,}$/i,Tr=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Cr=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;class Ur extends Ar{constructor(){super(...arguments),this._regex=(e,t,s)=>this.refinement((t=>e.test(t)),{validation:t,code:cr.invalid_string,...xr.errToObj(s)}),this.nonempty=e=>this.min(1,xr.errToObj(e)),this.trim=()=>new Ur({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(e){if(this._getType(e)!==or.string){const t=this._getOrReturnCtx(e);return mr(t,{code:cr.invalid_type,expected:or.string,received:t.parsedType}),vr}const t=new fr;let s;for(const n of this._def.checks)if("min"===n.kind)e.data.length<n.value&&(s=this._getOrReturnCtx(e,s),mr(s,{code:cr.too_small,minimum:n.value,type:"string",inclusive:!0,message:n.message}),t.dirty());else if("max"===n.kind)e.data.length>n.value&&(s=this._getOrReturnCtx(e,s),mr(s,{code:cr.too_big,maximum:n.value,type:"string",inclusive:!0,message:n.message}),t.dirty());else if("email"===n.kind)Cr.test(e.data)||(s=this._getOrReturnCtx(e,s),mr(s,{validation:"email",code:cr.invalid_string,message:n.message}),t.dirty());else if("uuid"===n.kind)Tr.test(e.data)||(s=this._getOrReturnCtx(e,s),mr(s,{validation:"uuid",code:cr.invalid_string,message:n.message}),t.dirty());else if("cuid"===n.kind)Er.test(e.data)||(s=this._getOrReturnCtx(e,s),mr(s,{validation:"cuid",code:cr.invalid_string,message:n.message}),t.dirty());else if("url"===n.kind)try{new URL(e.data)}catch(r){s=this._getOrReturnCtx(e,s),mr(s,{validation:"url",code:cr.invalid_string,message:n.message}),t.dirty()}else"regex"===n.kind?(n.regex.lastIndex=0,n.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),mr(s,{validation:"regex",code:cr.invalid_string,message:n.message}),t.dirty())):"trim"===n.kind?e.data=e.data.trim():"startsWith"===n.kind?e.data.startsWith(n.value)||(s=this._getOrReturnCtx(e,s),mr(s,{code:cr.invalid_string,validation:{startsWith:n.value},message:n.message}),t.dirty()):"endsWith"===n.kind?e.data.endsWith(n.value)||(s=this._getOrReturnCtx(e,s),mr(s,{code:cr.invalid_string,validation:{endsWith:n.value},message:n.message}),t.dirty()):ir.assertNever(n);return{status:t.value,value:e.data}}_addCheck(e){return new Ur({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...xr.errToObj(e)})}url(e){return this._addCheck({kind:"url",...xr.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...xr.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...xr.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...xr.errToObj(t)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...xr.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...xr.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...xr.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...xr.errToObj(t)})}length(e,t){return this.min(e,t).max(e,t)}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function kr(e,t){const s=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,r=s>n?s:n;return parseInt(e.toFixed(r).replace(".",""))%parseInt(t.toFixed(r).replace(".",""))/Math.pow(10,r)}Ur.create=e=>new Ur({checks:[],typeName:gi.ZodString,...Ir(e)});class Nr extends Ar{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._getType(e)!==or.number){const t=this._getOrReturnCtx(e);return mr(t,{code:cr.invalid_type,expected:or.number,received:t.parsedType}),vr}let t;const s=new fr;for(const n of this._def.checks)"int"===n.kind?ir.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),mr(t,{code:cr.invalid_type,expected:"integer",received:"float",message:n.message}),s.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(t=this._getOrReturnCtx(e,t),mr(t,{code:cr.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,message:n.message}),s.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(t=this._getOrReturnCtx(e,t),mr(t,{code:cr.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,message:n.message}),s.dirty()):"multipleOf"===n.kind?0!==kr(e.data,n.value)&&(t=this._getOrReturnCtx(e,t),mr(t,{code:cr.not_multiple_of,multipleOf:n.value,message:n.message}),s.dirty()):ir.assertNever(n);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,xr.toString(t))}gt(e,t){return this.setLimit("min",e,!1,xr.toString(t))}lte(e,t){return this.setLimit("max",e,!0,xr.toString(t))}lt(e,t){return this.setLimit("max",e,!1,xr.toString(t))}setLimit(e,t,s,n){return new Nr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:xr.toString(n)}]})}_addCheck(e){return new Nr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:xr.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xr.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xr.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xr.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xr.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:xr.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind))}}Nr.create=e=>new Nr({checks:[],typeName:gi.ZodNumber,...Ir(e)});class Wr extends Ar{_parse(e){if(this._getType(e)!==or.bigint){const t=this._getOrReturnCtx(e);return mr(t,{code:cr.invalid_type,expected:or.bigint,received:t.parsedType}),vr}return gr(e.data)}}Wr.create=e=>new Wr({typeName:gi.ZodBigInt,...Ir(e)});class Or extends Ar{_parse(e){if(this._getType(e)!==or.boolean){const t=this._getOrReturnCtx(e);return mr(t,{code:cr.invalid_type,expected:or.boolean,received:t.parsedType}),vr}return gr(e.data)}}Or.create=e=>new Or({typeName:gi.ZodBoolean,...Ir(e)});class Dr extends Ar{_parse(e){if(this._getType(e)!==or.date){const t=this._getOrReturnCtx(e);return mr(t,{code:cr.invalid_type,expected:or.date,received:t.parsedType}),vr}if(isNaN(e.data.getTime()))return mr(this._getOrReturnCtx(e),{code:cr.invalid_date}),vr;const t=new fr;let s;for(const n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(s=this._getOrReturnCtx(e,s),mr(s,{code:cr.too_small,message:n.message,inclusive:!0,minimum:n.value,type:"date"}),t.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(s=this._getOrReturnCtx(e,s),mr(s,{code:cr.too_big,message:n.message,inclusive:!0,maximum:n.value,type:"date"}),t.dirty()):ir.assertNever(n);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Dr({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:xr.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:xr.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Dr.create=e=>new Dr({checks:[],typeName:gi.ZodDate,...Ir(e)});class Rr extends Ar{_parse(e){if(this._getType(e)!==or.undefined){const t=this._getOrReturnCtx(e);return mr(t,{code:cr.invalid_type,expected:or.undefined,received:t.parsedType}),vr}return gr(e.data)}}Rr.create=e=>new Rr({typeName:gi.ZodUndefined,...Ir(e)});class Pr extends Ar{_parse(e){if(this._getType(e)!==or.null){const t=this._getOrReturnCtx(e);return mr(t,{code:cr.invalid_type,expected:or.null,received:t.parsedType}),vr}return gr(e.data)}}Pr.create=e=>new Pr({typeName:gi.ZodNull,...Ir(e)});class Mr extends Ar{constructor(){super(...arguments),this._any=!0}_parse(e){return gr(e.data)}}Mr.create=e=>new Mr({typeName:gi.ZodAny,...Ir(e)});class Fr extends Ar{constructor(){super(...arguments),this._unknown=!0}_parse(e){return gr(e.data)}}Fr.create=e=>new Fr({typeName:gi.ZodUnknown,...Ir(e)});class Br extends Ar{_parse(e){const t=this._getOrReturnCtx(e);return mr(t,{code:cr.invalid_type,expected:or.never,received:t.parsedType}),vr}}Br.create=e=>new Br({typeName:gi.ZodNever,...Ir(e)});class jr extends Ar{_parse(e){if(this._getType(e)!==or.undefined){const t=this._getOrReturnCtx(e);return mr(t,{code:cr.invalid_type,expected:or.void,received:t.parsedType}),vr}return gr(e.data)}}jr.create=e=>new jr({typeName:gi.ZodVoid,...Ir(e)});class qr extends Ar{_parse(e){const{ctx:t,status:s}=this._processInputParams(e),n=this._def;if(t.parsedType!==or.array)return mr(t,{code:cr.invalid_type,expected:or.array,received:t.parsedType}),vr;if(null!==n.minLength&&t.data.length<n.minLength.value&&(mr(t,{code:cr.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,message:n.minLength.message}),s.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(mr(t,{code:cr.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,message:n.maxLength.message}),s.dirty()),t.common.async)return Promise.all(t.data.map(((e,s)=>n.type._parseAsync(new Sr(t,e,t.path,s))))).then((e=>fr.mergeArray(s,e)));const r=t.data.map(((e,s)=>n.type._parseSync(new Sr(t,e,t.path,s))));return fr.mergeArray(s,r)}get element(){return this._def.type}min(e,t){return new qr({...this._def,minLength:{value:e,message:xr.toString(t)}})}max(e,t){return new qr({...this._def,maxLength:{value:e,message:xr.toString(t)}})}length(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}var Gr;qr.create=(e,t)=>new qr({type:e,minLength:null,maxLength:null,typeName:gi.ZodArray,...Ir(t)}),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(Gr||(Gr={}));const Vr=e=>t=>new Hr({...e,shape:()=>({...e.shape(),...t})});function Zr(e){if(e instanceof Hr){const t={};for(const s in e.shape){const n=e.shape[s];t[s]=li.create(Zr(n))}return new Hr({...e._def,shape:()=>t})}return e instanceof qr?qr.create(Zr(e.element)):e instanceof li?li.create(Zr(e.unwrap())):e instanceof ui?ui.create(Zr(e.unwrap())):e instanceof Qr?Qr.create(e.items.map((e=>Zr(e)))):e}class Hr extends Ar{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=Vr(this._def),this.extend=Vr(this._def)}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=ir.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==or.object){const t=this._getOrReturnCtx(e);return mr(t,{code:cr.invalid_type,expected:or.object,received:t.parsedType}),vr}const{status:t,ctx:s}=this._processInputParams(e),{shape:n,keys:r}=this._getCached(),i=[];if(!(this._def.catchall instanceof Br&&"strip"===this._def.unknownKeys))for(const e in s.data)r.includes(e)||i.push(e);const o=[];for(const e of r){const t=n[e],r=s.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new Sr(s,r,s.path,e)),alwaysSet:e in s.data})}if(this._def.catchall instanceof Br){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of i)o.push({key:{status:"valid",value:e},value:{status:"valid",value:s.data[e]}});else if("strict"===e)i.length>0&&(mr(s,{code:cr.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const n=s.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new Sr(s,n,s.path,t)),alwaysSet:t in s.data})}}return s.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of o){const s=await t.key;e.push({key:s,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>fr.mergeObjectSync(t,e))):fr.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return xr.errToObj,new Hr({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,s)=>{var n,r,i,o;const a=null!==(i=null===(r=(n=this._def).errorMap)||void 0===r?void 0:r.call(n,t,s).message)&&void 0!==i?i:s.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=xr.errToObj(e).message)&&void 0!==o?o:a}:{message:a}}}:{}})}strip(){return new Hr({...this._def,unknownKeys:"strip"})}passthrough(){return new Hr({...this._def,unknownKeys:"passthrough"})}setKey(e,t){return this.augment({[e]:t})}merge(e){return new Hr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>Gr.mergeShapes(this._def.shape(),e._def.shape()),typeName:gi.ZodObject})}catchall(e){return new Hr({...this._def,catchall:e})}pick(e){const t={};return ir.objectKeys(e).map((e=>{this.shape[e]&&(t[e]=this.shape[e])})),new Hr({...this._def,shape:()=>t})}omit(e){const t={};return ir.objectKeys(this.shape).map((s=>{-1===ir.objectKeys(e).indexOf(s)&&(t[s]=this.shape[s])})),new Hr({...this._def,shape:()=>t})}deepPartial(){return Zr(this)}partial(e){const t={};if(e)return ir.objectKeys(this.shape).map((s=>{-1===ir.objectKeys(e).indexOf(s)?t[s]=this.shape[s]:t[s]=this.shape[s].optional()})),new Hr({...this._def,shape:()=>t});for(const e in this.shape){const s=this.shape[e];t[e]=s.optional()}return new Hr({...this._def,shape:()=>t})}required(){const e={};for(const t in this.shape){let s=this.shape[t];for(;s instanceof li;)s=s._def.innerType;e[t]=s}return new Hr({...this._def,shape:()=>e})}keyof(){return ri(ir.objectKeys(this.shape))}}Hr.create=(e,t)=>new Hr({shape:()=>e,unknownKeys:"strip",catchall:Br.create(),typeName:gi.ZodObject,...Ir(t)}),Hr.strictCreate=(e,t)=>new Hr({shape:()=>e,unknownKeys:"strict",catchall:Br.create(),typeName:gi.ZodObject,...Ir(t)}),Hr.lazycreate=(e,t)=>new Hr({shape:e,unknownKeys:"strip",catchall:Br.create(),typeName:gi.ZodObject,...Ir(t)});class $r extends Ar{_parse(e){const{ctx:t}=this._processInputParams(e),s=this._def.options;if(t.common.async)return Promise.all(s.map((async e=>{const s={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:s}),ctx:s}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const s of e)if("dirty"===s.result.status)return t.common.issues.push(...s.ctx.common.issues),s.result;const s=e.map((e=>new lr(e.ctx.common.issues)));return mr(t,{code:cr.invalid_union,unionErrors:s}),vr}));{let e;const n=[];for(const r of s){const s={...t,common:{...t.common,issues:[]},parent:null},i=r._parseSync({data:t.data,path:t.path,parent:s});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:s}),s.common.issues.length&&n.push(s.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const r=n.map((e=>new lr(e)));return mr(t,{code:cr.invalid_union,unionErrors:r}),vr}}get options(){return this._def.options}}$r.create=(e,t)=>new $r({options:e,typeName:gi.ZodUnion,...Ir(t)});class zr extends Ar{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==or.object)return mr(t,{code:cr.invalid_type,expected:or.object,received:t.parsedType}),vr;const s=this.discriminator,n=t.data[s],r=this.options.get(n);return r?t.common.async?r._parseAsync({data:t.data,path:t.path,parent:t}):r._parseSync({data:t.data,path:t.path,parent:t}):(mr(t,{code:cr.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[s]}),vr)}get discriminator(){return this._def.discriminator}get validDiscriminatorValues(){return Array.from(this.options.keys())}get options(){return this._def.options}static create(e,t,s){const n=new Map;try{t.forEach((t=>{const s=t.shape[e].value;n.set(s,t)}))}catch(e){throw new Error("The discriminator value could not be extracted from all the provided schemas")}if(n.size!==t.length)throw new Error("Some of the discriminator values are not unique");return new zr({typeName:gi.ZodDiscriminatedUnion,discriminator:e,options:n,...Ir(s)})}}function Kr(e,t){const s=ar(e),n=ar(t);if(e===t)return{valid:!0,data:e};if(s===or.object&&n===or.object){const s=ir.objectKeys(t),n=ir.objectKeys(e).filter((e=>-1!==s.indexOf(e))),r={...e,...t};for(const s of n){const n=Kr(e[s],t[s]);if(!n.valid)return{valid:!1};r[s]=n.data}return{valid:!0,data:r}}if(s===or.array&&n===or.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let n=0;n<e.length;n++){const r=Kr(e[n],t[n]);if(!r.valid)return{valid:!1};s.push(r.data)}return{valid:!0,data:s}}return s===or.date&&n===or.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Yr extends Ar{_parse(e){const{status:t,ctx:s}=this._processInputParams(e),n=(e,n)=>{if(yr(e)||yr(n))return vr;const r=Kr(e.value,n.value);return r.valid?((br(e)||br(n))&&t.dirty(),{status:t.value,value:r.data}):(mr(s,{code:cr.invalid_intersection_types}),vr)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then((([e,t])=>n(e,t))):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Yr.create=(e,t,s)=>new Yr({left:e,right:t,typeName:gi.ZodIntersection,...Ir(s)});class Qr extends Ar{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==or.array)return mr(s,{code:cr.invalid_type,expected:or.array,received:s.parsedType}),vr;if(s.data.length<this._def.items.length)return mr(s,{code:cr.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),vr;!this._def.rest&&s.data.length>this._def.items.length&&(mr(s,{code:cr.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),t.dirty());const n=s.data.map(((e,t)=>{const n=this._def.items[t]||this._def.rest;return n?n._parse(new Sr(s,e,s.path,t)):null})).filter((e=>!!e));return s.common.async?Promise.all(n).then((e=>fr.mergeArray(t,e))):fr.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new Qr({...this._def,rest:e})}}Qr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qr({items:e,typeName:gi.ZodTuple,rest:null,...Ir(t)})};class Jr extends Ar{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==or.object)return mr(s,{code:cr.invalid_type,expected:or.object,received:s.parsedType}),vr;const n=[],r=this._def.keyType,i=this._def.valueType;for(const e in s.data)n.push({key:r._parse(new Sr(s,e,s.path,e)),value:i._parse(new Sr(s,s.data[e],s.path,e))});return s.common.async?fr.mergeObjectAsync(t,n):fr.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,s){return new Jr(t instanceof Ar?{keyType:e,valueType:t,typeName:gi.ZodRecord,...Ir(s)}:{keyType:Ur.create(),valueType:e,typeName:gi.ZodRecord,...Ir(t)})}}class Xr extends Ar{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==or.map)return mr(s,{code:cr.invalid_type,expected:or.map,received:s.parsedType}),vr;const n=this._def.keyType,r=this._def.valueType,i=[...s.data.entries()].map((([e,t],i)=>({key:n._parse(new Sr(s,e,s.path,[i,"key"])),value:r._parse(new Sr(s,t,s.path,[i,"value"]))})));if(s.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const s of i){const n=await s.key,r=await s.value;if("aborted"===n.status||"aborted"===r.status)return vr;"dirty"!==n.status&&"dirty"!==r.status||t.dirty(),e.set(n.value,r.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const s of i){const n=s.key,r=s.value;if("aborted"===n.status||"aborted"===r.status)return vr;"dirty"!==n.status&&"dirty"!==r.status||t.dirty(),e.set(n.value,r.value)}return{status:t.value,value:e}}}}Xr.create=(e,t,s)=>new Xr({valueType:t,keyType:e,typeName:gi.ZodMap,...Ir(s)});class ei extends Ar{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==or.set)return mr(s,{code:cr.invalid_type,expected:or.set,received:s.parsedType}),vr;const n=this._def;null!==n.minSize&&s.data.size<n.minSize.value&&(mr(s,{code:cr.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&s.data.size>n.maxSize.value&&(mr(s,{code:cr.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,message:n.maxSize.message}),t.dirty());const r=this._def.valueType;function i(e){const s=new Set;for(const n of e){if("aborted"===n.status)return vr;"dirty"===n.status&&t.dirty(),s.add(n.value)}return{status:t.value,value:s}}const o=[...s.data.values()].map(((e,t)=>r._parse(new Sr(s,e,s.path,t))));return s.common.async?Promise.all(o).then((e=>i(e))):i(o)}min(e,t){return new ei({...this._def,minSize:{value:e,message:xr.toString(t)}})}max(e,t){return new ei({...this._def,maxSize:{value:e,message:xr.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ei.create=(e,t)=>new ei({valueType:e,minSize:null,maxSize:null,typeName:gi.ZodSet,...Ir(t)});class ti extends Ar{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==or.function)return mr(t,{code:cr.invalid_type,expected:or.function,received:t.parsedType}),vr;function s(e,s){return hr({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,pr(),ur].filter((e=>!!e)),issueData:{code:cr.invalid_arguments,argumentsError:s}})}function n(e,s){return hr({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,pr(),ur].filter((e=>!!e)),issueData:{code:cr.invalid_return_type,returnTypeError:s}})}const r={errorMap:t.common.contextualErrorMap},i=t.data;return this._def.returns instanceof ai?gr((async(...e)=>{const t=new lr([]),o=await this._def.args.parseAsync(e,r).catch((n=>{throw t.addIssue(s(e,n)),t})),a=await i(...o);return await this._def.returns._def.type.parseAsync(a,r).catch((e=>{throw t.addIssue(n(a,e)),t}))})):gr(((...e)=>{const t=this._def.args.safeParse(e,r);if(!t.success)throw new lr([s(e,t.error)]);const o=i(...t.data),a=this._def.returns.safeParse(o,r);if(!a.success)throw new lr([n(o,a.error)]);return a.data}))}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ti({...this._def,args:Qr.create(e).rest(Fr.create())})}returns(e){return new ti({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,s){return new ti({args:e||Qr.create([]).rest(Fr.create()),returns:t||Fr.create(),typeName:gi.ZodFunction,...Ir(s)})}}class si extends Ar{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}si.create=(e,t)=>new si({getter:e,typeName:gi.ZodLazy,...Ir(t)});class ni extends Ar{_parse(e){return e.data!==this._def.value?(mr(this._getOrReturnCtx(e),{code:cr.invalid_literal,expected:this._def.value}),vr):{status:"valid",value:e.data}}get value(){return this._def.value}}function ri(e,t){return new ii({values:e,typeName:gi.ZodEnum,...Ir(t)})}ni.create=(e,t)=>new ni({value:e,typeName:gi.ZodLiteral,...Ir(t)});class ii extends Ar{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),s=this._def.values;return mr(t,{expected:ir.joinValues(s),received:t.parsedType,code:cr.invalid_type}),vr}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),s=this._def.values;return mr(t,{received:t.data,code:cr.invalid_enum_value,options:s}),vr}return gr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}}ii.create=ri;class oi extends Ar{_parse(e){const t=ir.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==or.string&&s.parsedType!==or.number){const e=ir.objectValues(t);return mr(s,{expected:ir.joinValues(e),received:s.parsedType,code:cr.invalid_type}),vr}if(-1===t.indexOf(e.data)){const e=ir.objectValues(t);return mr(s,{received:s.data,code:cr.invalid_enum_value,options:e}),vr}return gr(e.data)}get enum(){return this._def.values}}oi.create=(e,t)=>new oi({values:e,typeName:gi.ZodNativeEnum,...Ir(t)});class ai extends Ar{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==or.promise&&!1===t.common.async)return mr(t,{code:cr.invalid_type,expected:or.promise,received:t.parsedType}),vr;const s=t.parsedType===or.promise?t.data:Promise.resolve(t.data);return gr(s.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}ai.create=(e,t)=>new ai({type:e,typeName:gi.ZodPromise,...Ir(t)});class ci extends Ar{innerType(){return this._def.schema}_parse(e){const{status:t,ctx:s}=this._processInputParams(e),n=this._def.effect||null;if("preprocess"===n.type){const e=n.transform(s.data);return s.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:s.path,parent:s}))):this._def.schema._parseSync({data:e,path:s.path,parent:s})}const r={addIssue:e=>{mr(s,e),e.fatal?t.abort():t.dirty()},get path(){return s.path}};if(r.addIssue=r.addIssue.bind(r),"refinement"===n.type){const e=e=>{const t=n.refinement(e,r);if(s.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===s.common.async){const n=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return"aborted"===n.status?vr:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then((s=>"aborted"===s.status?vr:("dirty"===s.status&&t.dirty(),e(s.value).then((()=>({status:t.value,value:s.value}))))))}if("transform"===n.type){if(!1===s.common.async){const e=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!_r(e))return e;const i=n.transform(e.value,r);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then((e=>_r(e)?Promise.resolve(n.transform(e.value,r)).then((e=>({status:t.value,value:e}))):e))}ir.assertNever(n)}}ci.create=(e,t,s)=>new ci({schema:e,typeName:gi.ZodEffects,effect:t,...Ir(s)}),ci.createWithPreprocess=(e,t,s)=>new ci({schema:t,effect:{type:"preprocess",transform:e},typeName:gi.ZodEffects,...Ir(s)});class li extends Ar{_parse(e){return this._getType(e)===or.undefined?gr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}li.create=(e,t)=>new li({innerType:e,typeName:gi.ZodOptional,...Ir(t)});class ui extends Ar{_parse(e){return this._getType(e)===or.null?gr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ui.create=(e,t)=>new ui({innerType:e,typeName:gi.ZodNullable,...Ir(t)});class di extends Ar{_parse(e){const{ctx:t}=this._processInputParams(e);let s=t.data;return t.parsedType===or.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}di.create=(e,t)=>new li({innerType:e,typeName:gi.ZodOptional,...Ir(t)});class pi extends Ar{_parse(e){if(this._getType(e)!==or.nan){const t=this._getOrReturnCtx(e);return mr(t,{code:cr.invalid_type,expected:or.nan,received:t.parsedType}),vr}return{status:"valid",value:e.data}}}pi.create=e=>new pi({typeName:gi.ZodNaN,...Ir(e)});const hi=Symbol("zod_brand");class mi extends Ar{_parse(e){const{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}}const fi=(e,t={},s)=>e?Mr.create().superRefine(((n,r)=>{if(!e(n)){const e="function"==typeof t?t(n):t,i="string"==typeof e?{message:e}:e;r.addIssue({code:"custom",...i,fatal:s})}})):Mr.create(),vi={object:Hr.lazycreate};var gi;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded"}(gi||(gi={}));const yi=Ur.create,bi=Nr.create,_i=pi.create,wi=Wr.create,xi=Or.create,Si=Dr.create,Li=Rr.create,Ii=Pr.create,Ai=Mr.create,Ei=Fr.create,Ti=Br.create,Ci=jr.create,Ui=qr.create,ki=Hr.create,Ni=Hr.strictCreate,Wi=$r.create,Oi=zr.create,Di=Yr.create,Ri=Qr.create,Pi=Jr.create,Mi=Xr.create,Fi=ei.create,Bi=ti.create,ji=si.create,qi=ni.create,Gi=ii.create,Vi=oi.create,Zi=ai.create,Hi=ci.create,$i=li.create,zi=ui.create,Ki=ci.createWithPreprocess,Yi=vr;var Qi=Object.freeze({__proto__:null,getParsedType:ar,ZodParsedType:or,defaultErrorMap:ur,setErrorMap:function(e){dr=e},getErrorMap:pr,makeIssue:hr,EMPTY_PATH:[],addIssueToContext:mr,ParseStatus:fr,INVALID:vr,DIRTY:e=>({status:"dirty",value:e}),OK:gr,isAborted:yr,isDirty:br,isValid:_r,isAsync:wr,ZodType:Ar,ZodString:Ur,ZodNumber:Nr,ZodBigInt:Wr,ZodBoolean:Or,ZodDate:Dr,ZodUndefined:Rr,ZodNull:Pr,ZodAny:Mr,ZodUnknown:Fr,ZodNever:Br,ZodVoid:jr,ZodArray:qr,get objectUtil(){return Gr},ZodObject:Hr,ZodUnion:$r,ZodDiscriminatedUnion:zr,ZodIntersection:Yr,ZodTuple:Qr,ZodRecord:Jr,ZodMap:Xr,ZodSet:ei,ZodFunction:ti,ZodLazy:si,ZodLiteral:ni,ZodEnum:ii,ZodNativeEnum:oi,ZodPromise:ai,ZodEffects:ci,ZodTransformer:ci,ZodOptional:li,ZodNullable:ui,ZodDefault:di,ZodNaN:pi,BRAND:hi,ZodBranded:mi,custom:fi,Schema:Ar,ZodSchema:Ar,late:vi,get ZodFirstPartyTypeKind(){return gi},any:Ai,array:Ui,bigint:wi,boolean:xi,date:Si,discriminatedUnion:Oi,effect:Hi,enum:Gi,function:Bi,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>fi((t=>t instanceof e),t,!0),intersection:Di,lazy:ji,literal:qi,map:Mi,nan:_i,nativeEnum:Vi,never:Ti,null:Ii,nullable:zi,number:bi,object:ki,oboolean:()=>xi().optional(),onumber:()=>bi().optional(),optional:$i,ostring:()=>yi().optional(),preprocess:Ki,promise:Zi,record:Pi,set:Fi,strictObject:Ni,string:yi,transformer:Hi,tuple:Ri,undefined:Li,union:Wi,unknown:Ei,void:Ci,NEVER:Yi,ZodIssueCode:cr,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:lr});const Ji=Qi.object({id:Qi.string(),type:Qi.string(),url:Qi.optional(Qi.string())});Qi.object({id:Qi.string(),name:Qi.string(),spaceId:Qi.string(),vaultItems:Qi.array(Ji),isShared:Qi.optional(Qi.boolean())});class Xi extends(Fs({scope:Ps.User})){}class eo extends(Fs({scope:Ps.User})){}class to extends(js({scope:Ps.User})){}class so extends(js({scope:Ps.User})){}class no extends(js({scope:Ps.User})){}class ro extends(js({scope:Ps.User})){}class io extends(js({scope:Ps.User})){}class oo extends(js({scope:Ps.User})){}class ao extends(js({scope:Ps.User})){}class co extends(js({scope:Ps.User})){}class lo extends(js({scope:Ps.User})){}class uo extends(js({scope:Ps.User})){}const po=Hs({name:"sharingCollections",commands:{addItemToCollections:to,createSharedCollection:so,deleteSharedCollection:no,inviteCollectionMembers:ro,updateCollectionMembers:io,removeItemFromCollections:oo,renameCollection:ao,revokeCollectionMembers:co,updateSharedCollections:lo,updatePermissionForCollectionItem:uo},events:{},queries:{getCollectionsForUserOrGroup:Xn,getItemIdsInSharedCollections:er,getSharedCollections:tr,getCollectionPermissionsForUser:sr,getCollectionRoleForGroup:nr,getSharedCollectionsCount:rr,sharedCollectionsWithItems:Xi,usersAndGroupsInCollection:eo}});class ho extends(Fs({scope:Ps.User})){}class mo extends(Fs({scope:Ps.User})){}class fo extends(Fs({scope:Ps.User})){}class vo extends(Fs({scope:Ps.User})){}class go extends(Fs({scope:Ps.User})){}class yo extends(Fs({scope:Ps.User})){}class bo extends(Fs({scope:Ps.User})){}class _o extends(Fs({scope:Ps.User})){}class wo extends(Fs({scope:Ps.User})){}class xo extends(Fs({scope:Ps.User})){}const So=Hs({name:"sharingItems",commands:{},events:{},queries:{getSharingTeamLogins:ho,sharingEnabled:mo,getItemGroupIdForItemId:fo,getSharedItemsForItemIds:vo,getSharingStatusForItem:go,getPermissionForItem:yo,getIsLastAdminForItem:bo,sharedAccessForItem:_o,getUserSharedVaultItems:wo,sharedItemsIds:xo}});var Lo,Io,Ao,Eo;!function(e){e.AcceptFailed="AcceptFailed"}(Lo||(Lo={}));class To extends(_n(Lo.AcceptFailed,"Failed to accept collection")){}class Co extends(js({scope:Ps.User})){}!function(e){e.RefuseFailed="RefuseFailed"}(Io||(Io={}));class Uo extends(_n(Io.RefuseFailed,"Failed to refuse collection")){}class ko extends(js({scope:Ps.User})){}!function(e){e.ItemGroupNotFound="ItemGroupNotFound",e.AuthorHasInvalidStatus="AuthorHasInvalidStatus",e.GroupHasInvalidStatus="GroupHasInvalidStatus",e.UserIsNotInItemGroup="UserIsNotInItemGroup",e.UserGroupIsNotInItemGroup="UserGroupIsNotInItemGroup",e.InvalidItemGroupRevision="InvalidItemGroupRevision",e.NotEnoughAdmins="NotEnoughAdmins",e.UserIsNotInPendingStatus="UserIsNotInPendingStatus"}(Ao||(Ao={}));class No extends(_n(Ao.ItemGroupNotFound,"Item Group not found")){}class Wo extends(_n(Ao.AuthorHasInvalidStatus,"User is not in accepted/pending status (already refused or revoked)")){}class Oo extends(_n(Ao.GroupHasInvalidStatus,"UserGroup is not in accepted/pending status (already refused or revoked)")){}class Do extends(_n(Ao.UserIsNotInItemGroup,"User is not part of item group")){}class Ro extends(_n(Ao.UserGroupIsNotInItemGroup,"User group is not part of item group")){}class Po extends(_n(Ao.InvalidItemGroupRevision,"Item group revision is not valid")){}class Mo extends(_n(Ao.NotEnoughAdmins,"The operation would let the item group with no admin")){}class Fo extends(_n(Ao.UserIsNotInPendingStatus,'User is not in "pending" status or not part of a group')){}class Bo extends(js({scope:Ps.User})){}!function(e){e.UserGroupNotFound="UserGroupNotFound",e.InvalidTeamId="InvalidTeamId",e.UserGroupIsNotFound="UserGroupIsNotFound",e.InvalidItemGroupRevision="InvalidItemGroupRevision",e.UserGroupUpdateConflict="UserGroupUpdateConflict",e.InsufficientPrivileges="InsufficientPrivileges",e.UserIsNotInUserGroup="UserIsNotInUserGroup",e.UserIsNotInPendingStatus="UserIsNotInPendingStatus",e.GroupHasInvalidStatus="GroupHasInvalidStatus",e.AuthorHasInvalidStatus="AuthorHasInvalidStatus"}(Eo||(Eo={}));class jo extends(_n(Eo.UserGroupNotFound,"User Group not found")){}class qo extends(_n(Eo.InvalidTeamId,"Provided Team ID is not a number")){}class Go extends(_n(Eo.UserGroupIsNotFound,"User group for provided ID does not exist")){}class Vo extends(_n(Eo.InvalidItemGroupRevision,"User group revision is not valid")){}class Zo extends(_n(Eo.UserGroupUpdateConflict,"Conflict between users attempting to update the same user group")){}class Ho extends(_n(Eo.InsufficientPrivileges,"The user does not have User Group permission to refuse the invitation")){}class $o extends(_n(Eo.UserIsNotInUserGroup,"User is not part of a group")){}class zo extends(_n(Eo.UserIsNotInPendingStatus,'User is not in "pending" status or not part of a group')){}class Ko extends(_n(Eo.GroupHasInvalidStatus,'UserGroup is not in "accepted" or "pending" status (already refused or revoked)')){}class Yo extends(_n(Eo.AuthorHasInvalidStatus,"User is not in accepted/pending status (already refused or revoked)")){}class Qo extends(js({scope:Ps.User})){}class Jo extends(js({scope:Ps.User})){}class Xo extends(Fs({scope:Ps.User})){}class ea extends(Fs({scope:Ps.User})){}class ta extends(Fs({scope:Ps.User})){}const sa=Hs({name:"sharingInvites",commands:{AcceptCollectionInviteCommand:Co,RefuseCollectionInviteCommand:ko,RefuseItemGroupInviteCommand:Bo,RefuseUserGroupInviteCommand:Qo,UpdatePendingCollectionsCommand:Jo},events:{},queries:{GetInvitesQuery:Xo,GetPendingCollectionsQuery:ea,HasInvitesQuery:ta}}),na=Hs({name:"enclaveSdkApi",commands:{},events:{},queries:{}});class ra extends(js({scope:Ps.User})){}class ia extends(js({scope:Ps.User})){}class oa extends(js({scope:Ps.User})){}class aa extends(js({scope:Ps.User})){}class ca extends(js({scope:Ps.User})){}class la extends(js({scope:Ps.User})){}class ua extends(js({scope:Ps.Device})){}class da extends(js({scope:Ps.User})){}class pa extends(js({scope:Ps.User})){}class ha extends(js({scope:Ps.User})){}class ma extends(js({scope:Ps.User})){}class fa extends(Fs({scope:Ps.User})){}const va=Hs({name:"confidentialSSOApi",commands:{CheckDNSValidationCommand:ra,ClearSettingsCommand:ia,CreateTeamCommand:oa,DeleteDomainCommand:aa,EnableSsoCommand:ca,InitSsoProvisioningCommand:la,LoginUserWithEnclaveSSOCommand:ua,ProvisionDomainCommand:da,TestLoginUserWithEnclaveSSOCommand:pa,UpdateMetadataCommand:ha,ValidateMetadataCommand:ma},events:{},queries:{SsoProvisioningQuery:fa}});class ga extends(js({scope:Ps.User})){}class ya extends(js({scope:Ps.User})){}class ba extends(Fs({scope:Ps.User})){}class _a extends(Fs({scope:Ps.User})){}const wa=Hs({name:"scim",commands:{updateScimConfiguration:ga,generateScimToken:ya},events:{},queries:{scimConfiguration:ba,scimEndpoint:_a}});class xa extends(Fs({scope:Ps.Device})){}class Sa extends(Fs({scope:Ps.Device})){}class La extends(Fs({scope:Ps.Device})){}class Ia extends(js({scope:Ps.Device})){}class Aa extends(js({scope:Ps.Device})){}class Ea extends(js({scope:Ps.Device})){}class Ta extends(js({scope:Ps.Device})){}class Ca extends(js({scope:Ps.Device})){}class Ua extends(js({scope:Ps.Device})){}class ka extends(js({scope:Ps.Device})){}class Na extends(js({scope:Ps.Device})){}class Wa extends(js({scope:Ps.Device})){}class Oa extends(js({scope:Ps.Device})){}class Da extends(js({scope:Ps.Device})){}class Ra extends(js({scope:Ps.Device})){}class Pa extends(js({scope:Ps.Device})){}class Ma extends(js({scope:Ps.Device})){}class Fa extends(js({scope:Ps.Device})){}class Ba extends(js({scope:Ps.Device})){}class ja extends(js({scope:Ps.Device})){}class qa extends(js({scope:Ps.Device})){}class Ga extends(js({scope:Ps.Device})){}class Va extends(js({scope:Ps.Device})){}class Za extends(js({scope:Ps.Device})){}class Ha extends(js({scope:Ps.Device})){}class $a extends(js({scope:Ps.Device})){}class za extends(js({scope:Ps.Device})){}const Ka=Hs({name:"authenticationFlow",commands:{changeLogin:Aa,changeTwoFactorAuthenticationOtpType:Oa,clearError:Fa,cancelDeviceTransferRequest:za,resendEmailToken:Da,resendPushNotification:Pa,sendAccountEmail:Ia,sendMasterPassword:Ra,submitPinCode:Ea,submitBackupCode:Wa,submitEmailToken:ka,submitTotp:Na,switchToDevicetoDeviceAuthentication:Ca,switchToDashlaneAuthenticator:Ua,switchToMasterPasswordCommand:Ta,switchToEmailToken:Ma,retryWebAuthnAuthentication:Ba,useMasterPassword:ja,webAuthnAuthenticationFail:qa,logout:Ga,lockSession:Va,loginViaSSO:Za,initiateLoginWithSSO:Ha,initiateAutologinWithSSOCommand:$a},queries:{authenticationFlowStatus:xa,getSsoUserSettings:Sa,getProviderInfo:La},events:{}});class Ya extends(Fs({scope:Ps.Device})){}class Qa extends(js({scope:Ps.User})){}class Ja extends(js({scope:Ps.User})){}class Xa extends(js({scope:Ps.User})){}class ec extends(js({scope:Ps.User})){}class tc extends(js({scope:Ps.User})){}class sc extends(js({scope:Ps.User})){}const nc=Hs({name:"deviceTransfer",commands:{refreshRequest:Qa,cancelRequest:Ja,approveRequest:Xa,rejectRequest:ec,submitPassphraseChallenge:tc,returnToDeviceSetupCommand:sc},events:{},queries:{trustedDeviceFlowStatus:Ya}});class rc extends(Fs({scope:Ps.Device})){}class ic extends(js({scope:Ps.Device})){}class oc extends(js({scope:Ps.Device})){}class ac extends(js({scope:Ps.Device})){}class cc extends(js({scope:Ps.Device})){}class lc extends(js({scope:Ps.Device})){}class uc extends(js({scope:Ps.Device})){}class dc extends(js({scope:Ps.Device})){}class pc extends(js({scope:Ps.Device})){}class hc extends(js({scope:Ps.Device})){}class mc extends(js({scope:Ps.Device})){}class fc extends(js({scope:Ps.Device})){}class vc extends(Vs({scope:Ps.Device})){}const gc=Hs({name:"identityVerificationFlow",commands:{changeTwoFactorAuthenticationOtpType:ic,clearError:oc,resendEmailToken:ac,resendPushNotification:cc,submitBackupCode:uc,submitEmailToken:lc,submitTotp:dc,switchToDashlaneAuthenticator:pc,switchToEmailToken:hc,startIdentityVerification:mc,cancelIdentityVerification:fc},queries:{identityVerificationFlowStatus:rc},events:{identityVerificationCompleted:vc}});class yc extends(js({scope:Ps.User})){}class bc extends(js({scope:Ps.Device})){}const _c=Hs({name:"userVerification",commands:{validateWebauthnAssertion:yc,request2FaCodesByPhone:bc},queries:{},events:{}});class wc extends(js({scope:Ps.Device})){}Qi.discriminatedUnion("with",[Qi.object({with:Qi.literal("token"),login:Qi.string(),token:Qi.string(),deviceName:Qi.optional(Qi.string()),ignoreAlreadyRegisteredError:Qi.optional(Qi.boolean())}),Qi.object({with:Qi.literal("authTicket"),login:Qi.string(),authTicket:Qi.string(),deviceName:Qi.optional(Qi.string()),ignoreAlreadyRegisteredError:Qi.optional(Qi.boolean())})]);class xc extends(js({scope:Ps.Device})){}class Sc extends(Fs({scope:Ps.Device})){}const Lc=Hs({name:"deviceRegistration",commands:{cleanRemotelyRemovedProfiles:wc,registerDevice:xc},events:{},queries:{localAccounts:Sc}});class Ic extends(js({scope:Ps.User})){}class Ac extends(js({scope:Ps.User})){}bn("WRONG_PIN_CODE","Entered pin-code is not correct"),bn("NO_ACTIVE_PIN_CODE","User has no active pin-code");class Ec extends(js({scope:Ps.Device})){}class Tc extends(Fs({scope:Ps.Device})){}const Cc=Hs({name:"pinCode",commands:{activate:Ic,deactivate:Ac,loginWithPinCode:Ec},events:{},queries:{getStatus:Tc}});class Uc extends(Fs({scope:Ps.User,noUserError:{tag:"USER_NOT_LOGGED_IN"}})){}const kc=Hs({name:"authentication",commands:{},events:{},queries:{canLockApp:Uc}});var Nc,Wc,Oc,Dc,Rc,Pc;Qi.object({email:Qi.string()}),function(e){e.NotCreated="notCreated",e.Closed="closed",e.Open="open"}(Nc||(Nc={}));class Mc extends(Fs({scope:Ps.Device})){}!function(e){e.Closed="closed",e.Open="open"}(Wc||(Wc={}));class Fc extends(Fs({scope:Ps.Device})){}class Bc extends(Fs({scope:Ps.Device})){}class jc extends(Fs({scope:Ps.User})){}class qc extends(Vs({scope:Ps.User})){}class Gc extends(Vs({scope:Ps.User})){}!function(e){e.Close="close",e.Lock="lock"}(Oc||(Oc={}));class Vc extends(Vs({scope:Ps.Device})){}class Zc extends(js({scope:Ps.User})){}class Hc extends(js({scope:Ps.User})){}!function(e){e.AlreadyExists="alreadyExists"}(Dc||(Dc={}));class $c extends(_n(Dc.AlreadyExists,"The session already exists. Delete it first.")){}class zc extends(js({scope:Ps.Device})){}!function(e){e.NotCreated="notCreated",e.AlreadyOpened="alreadyOpened",e.MultiAccountNotYetSupported="multiAccountNotYetSupported"}(Rc||(Rc={}));class Kc extends(_n(Rc.NotCreated,"The session has not been created. Create it first.")){}class Yc extends(_n(Rc.AlreadyOpened,"The session is already opened for this user. Close it first.")){}class Qc extends(_n(Rc.MultiAccountNotYetSupported,"Another session is opened. Close it first.")){}class Jc extends(js({scope:Ps.Device})){}class Xc extends(js({scope:Ps.Device})){}class el extends(js({scope:Ps.Device})){}class tl extends(Vs({scope:Ps.User})){}class sl extends(Fs({scope:Ps.Device})){}!function(e){e.NotCreated="notCreated",e.NotOpened="notOpened"}(Pc||(Pc={}));class nl extends(_n(Pc.NotCreated,"The session has not been created. Create it first.")){}class rl extends(_n(Pc.NotOpened,"The session has not been opened")){}class il extends(js({scope:Ps.Device})){}const ol=Hs({name:"session",commands:{FlushLocalDataCommand:Zc,PrepareLocalDataFlushCommand:Hc,CreateUserSessionCommand:zc,OpenUserSessionCommand:Jc,CloseUserSessionCommand:Xc,DeleteLocalSessionCommand:el,UpdateUserSessionKeyCommand:il},queries:{sessionState:Mc,createdSessionsState:Fc,selectedOpenedSession:sl,checkSessionKey:Bc,exportSessionKey:jc},events:{SessionOpenedEvent:qc,SessionClosingEvent:Gc,SessionClosedEvent:Vc,SessionOpeningEvent:tl}});class al extends(Vs({scope:Ps.User})){}class cl extends(js({scope:Ps.User})){}const ll=Hs({name:"changeMasterPassword",commands:{temporarySendMasterPasswordChangedEvent:cl},events:{masterPasswordChanged:al},queries:{}});var ul,dl;!function(e){e.DeviceLimited="DeviceLimited",e.Requires2FAEnforcement="Requires2FAEnforcement",e.RequiresSSO2MPMigration="RequiresSSO2MPMigration",e.RequiresMP2SSOMigration="RequiresMP2SSOMigration",e.NoActiveUser="NoActiveUser"}(ul||(ul={}));class pl extends(_n("UserNotLogged","Please log the user")){}class hl extends(Fs({scope:Ps.Device})){}!function(e){e.Android="android",e.DesktopMacOS="macosx",e.DesktopWindows="windows",e.IPad="ipad",e.IPhone="iphone",e.IPod="ipod",e.Other="other",e.StandaloneExtension="saex",e.TeamAdminConsole="tac",e.WebApp="webapp"}(dl||(dl={}));class ml extends(Fs({scope:Ps.User})){}const fl=Hs({name:"vaultAccess",commands:{},events:{},queries:{isAllowed:hl,deviceLimit:ml}});class vl extends(js({scope:Ps.Device})){}class gl extends(Fs({scope:Ps.Device})){}const yl=Hs({name:"sync",commands:{SyncCommand:vl},queries:{SyncProgressQuery:gl},events:{}});class bl extends(Fs({scope:Ps.User})){}class _l extends(Fs({scope:Ps.User})){}class wl extends(Fs({scope:Ps.User})){}const xl=Hs({name:"autofillData",commands:{},events:{},queries:{getSingleAutofillData:bl,getMultipleAutofillData:_l,searchAutofillData:wl}});class Sl extends(js({scope:Ps.User})){}class Ll extends(Fs({scope:Ps.User})){}const Il=Hs({name:"autofillNotifications",commands:{setAutofillDisabledOnLoginsAndFormsNotificationStatus:Sl},events:{},queries:{getAutofillDisabledOnLoginsAndFormsNotificationStatus:Ll}});class Al extends(Fs({scope:Ps.User})){}class El extends(Fs({scope:Ps.User})){}class Tl extends(Fs({scope:Ps.User})){}class Cl extends(js({scope:Ps.User})){}class Ul extends(js({scope:Ps.Device})){}const kl=Hs({name:"autofillSecurity",commands:{disablePhishingPreventionForUrl:Cl,resetProtectedItemAutofillTimer:Ul},events:{},queries:{getAutofillProtectionContext:Al,isPhishingPreventionCapabilityEnabled:El,isPhishingPreventionDisabledForUrl:Tl}});class Nl extends(js({scope:Ps.User})){}class Wl extends(js({scope:Ps.User})){}class Ol extends(js({scope:Ps.User})){}var Dl;!function(e){e.ANALYSIS_ENABLED="ANALYSIS_ENABLED",e.ANALYSIS_DISABLED_BY_USER="ANALYSIS_DISABLED_BY_USER",e.ANALYSIS_DISABLED_BY_B2B_ADMIN="ANALYSIS_DISABLED_BY_B2B_ADMIN",e.ANALYSIS_DISABLED_BY_KILLSWITCH="ANALYSIS_DISABLED_BY_KILLSWITCH",e.ANALYSIS_DISABLED_BY_2FA_ENFORCEMENT="ANALYSIS_DISABLED_BY_2FA_ENFORCEMENT"}(Dl||(Dl={}));class Rl extends(Fs({scope:Ps.Device})){}class Pl extends(Fs({scope:Ps.User})){}class Ml extends(Fs({scope:Ps.User})){}class Fl extends(Fs({scope:Ps.User})){}class Bl extends(js({scope:Ps.User})){}class jl extends(js({scope:Ps.User})){}class ql extends(js({scope:Ps.User})){}class Gl extends(js({scope:Ps.User})){}class Vl extends(js({scope:Ps.User})){}class Zl extends(js({scope:Ps.User})){}class Hl extends(js({scope:Ps.User})){}class $l extends(js({scope:Ps.User})){}class zl extends(js({scope:Ps.User})){}class Kl extends(js({scope:Ps.User})){}class Yl extends(js({scope:Ps.User})){}class Ql extends(js({scope:Ps.User})){}const Jl=Hs({name:"autofillSettings",commands:{toggleDashlane:Ol,enableAnalysis:Bl,enableAutologin:jl,enableAutofillOnForms:ql,enableAutofillOnLogins:Gl,enableFollowUpNotification:Vl,disableAnalysis:Zl,disableAutologin:Hl,disableAutofillOnForms:$l,disableAutofillOnLogins:zl,disableFollowUpNotification:Kl,addDisabledSourceTypes:Wl,removeDisabledSourceTypes:Nl,setUserAutofillCorrections:Yl,updateCredentialPreferences:Ql},events:{},queries:{getAnalysisStatusOnUrl:Rl,getAutofillSettings:Pl,getUserAutofillCorrections:Ml,getPreferencesForCredentials:Fl}});class Xl extends(Vs({scope:Ps.User})){}class eu extends(js({scope:Ps.User})){}const tu=Hs({name:"autofillTracking",commands:{temporaryEmitPasswordAutofillPerformedEvent:eu},events:{passwordAutofillPerformedEvent:Xl},queries:{}});class su extends(Fs({scope:Ps.User})){}var nu,ru;!function(e){e.CREDENTIAL_NOT_FOUND="credential_not_found",e.WEBSITE_ALREADY_LINKED="website_already_linked",e.ERROR_ON_UPDATING_VAULT="error_on_updating_vault"}(nu||(nu={})),bn(nu.CREDENTIAL_NOT_FOUND,"Couldn't retrieve the credential"),bn(nu.WEBSITE_ALREADY_LINKED,"Website alredy linked to this credential"),bn(nu.ERROR_ON_UPDATING_VAULT,"Error while updating the credential");class iu extends(js({scope:Ps.User})){}!function(e){e.CREDENTIAL_NOT_FOUND="credential_not_found",e.ERROR_ON_UPDATING_VAULT="error_on_updating_vault"}(ru||(ru={})),bn(ru.CREDENTIAL_NOT_FOUND,"Couldn't retrieve the credential"),bn(ru.ERROR_ON_UPDATING_VAULT,"Error while updating the credential");class ou extends(js({scope:Ps.User})){}class au extends(js({scope:Ps.User})){}const cu=Hs({name:"linkedWebsites",commands:{addLinkedWebsite:iu,removeLinkedWebsite:ou,updateLinkedWebsites:au},events:{},queries:{getDashlaneDefinedLinkedWebsites:su}});class lu extends(js({scope:Ps.User})){}class uu extends(js({scope:Ps.User})){}class du extends(js({scope:Ps.User})){}var pu;!function(e){e.Deleted="deleted",e.Updated="updated",e.Created="created"}(pu||(pu={}));class hu extends(js({scope:Ps.User})){}class mu extends(Vs({scope:Ps.User})){}class fu extends(Fs({scope:Ps.User})){}class vu extends(Fs({scope:Ps.User})){}class gu extends(Fs({scope:Ps.User})){}const yu=Hs({name:"vaultItemsCrud",commands:{createVaultItem:lu,deleteVaultItems:uu,updateVaultItem:du,emitTemporaryVaultItemEvent:hu},events:{createdEvent:class extends mu{},deletedEvent:class extends mu{},updatedEvent:class extends mu{}},queries:{domainIconDetails:fu,query:vu,secureNoteCategory:gu}});class bu extends(Fs({scope:Ps.User})){}const _u=Hs({name:"vaultSearch",commands:{},events:{},queries:{search:bu}});class wu extends(js({scope:Ps.User})){}class xu extends(js({scope:Ps.User})){}var Su;!function(e){e.SUBSTRACT_VAULT_ITEMS="subtract_vault_items",e.APPEND_VAULT_ITEMS="append_vault_items"}(Su||(Su={}));class Lu extends(js({scope:Ps.User})){}class Iu extends(Fs({scope:Ps.User})){}const Au=Hs({name:"vaultOrganization",commands:{deleteCollection:wu,createCollection:xu,updateCollection:Lu},events:{},queries:{queryCollections:Iu}});class Eu extends(js({scope:Ps.User})){}class Tu extends(Fs({scope:Ps.User})){}const Cu=Hs({name:"vaultNotifications",commands:{setVaultNotificationsStatus:Eu},events:{},queries:{getVaultNotificationsStatus:Tu}});class Uu extends(Fs({scope:Ps.User})){}class ku extends(Fs({scope:Ps.User})){}class Nu extends(Fs({scope:Ps.User})){}const Wu=Hs({name:"passwordLimit",commands:{},events:{},queries:{canUserAddNewPassword:Uu,getPasswordLimitStatus:ku,isFreeUserFrozen:Nu}});class Ou extends(js({scope:Ps.User})){}class Du extends(js({scope:Ps.User})){}class Ru extends(Fs()){}class Pu extends(Fs()){}const Mu=Hs({name:"vpnNotifications",commands:{markVpnProviderSeen:Ou,markInstallVpnSeen:Du},events:{},queries:{hasSeenVpnProvider:Ru,hasSeenInstallVpn:Pu}});class Fu extends(Fs({scope:Ps.Device})){}const Bu=Hs({name:"overrides",commands:{},events:{},queries:{OverridesQuery:Fu}});class ju extends(js({scope:Ps.User})){}class qu extends(js({scope:Ps.User})){}class Gu extends(js({scope:Ps.User})){}class Vu extends(js({scope:Ps.User})){}class Zu extends(js({scope:Ps.User})){}class Hu extends(js({scope:Ps.User})){}class $u extends(js({scope:Ps.Device})){}class zu extends(js({scope:Ps.User})){}class Ku extends(js({scope:Ps.Device})){}class Yu extends(js({scope:Ps.Device})){}class Qu extends(js({scope:Ps.Device})){}class Ju extends(js({scope:Ps.Device})){}class Xu extends(Fs({scope:Ps.User})){}class ed extends(Fs({scope:Ps.Device})){}class td extends(Fs({scope:Ps.Device})){}class sd extends(Fs({scope:Ps.User})){}const nd=Hs({name:"accountRecoveryKey",commands:{goToActivationNextStep:ju,goToActivationPrevStep:qu,requestActivation:Gu,cancelActivation:Vu,cancelGeneration:Zu,confirmActivation:Hu,confirmNewPassword:$u,deactivate:zu,submitRecoveryKey:Ku,tryAgainRecovery:Yu,cancelRecoveryFlow:Qu,startRecoveryFlow:Ju},queries:{activationFlowStatus:Xu,accountRecoveryKeyStatus:ed,recoveryFlowStatus:td,recoveryMethodsInfo:sd},events:{}});var rd;!function(e){e.AUDIT_LOG_MISSING_JSON_SCHEMA="AUDIT_LOG_MISSING_JSON_SCHEMA",e.AUDIT_LOG_INVALID_JSON_FOR_JSON_SCHEMA="AUDIT_LOG_INVALID_JSON_FOR_JSON_SCHEMA",e.AUDIT_LOG_INVALID_LOG_SCHEMA_TYPE_OR_VERSION="AUDIT_LOG_INVALID_LOG_SCHEMA_TYPE_OR_VERSION",e.AUDIT_LOG_ERROR_READING_JSON_SCHEMA="AUDIT_LOG_ERROR_READING_JSON_SCHEMA",e.STORING_SENSITIVE_AUDIT_LOGS_NOT_ALLOWED="STORING_SENSITIVE_AUDIT_LOGS_NOT_ALLOWED",e.AUDIT_LOG_TYPE_NOT_CLIENT_SIDE="AUDIT_LOG_TYPE_NOT_CLIENT_SIDE",e.AUDIT_LOG_TYPE_NOT_TEAM_DEVICE_OR_CLIENT_SIDE="AUDIT_LOG_TYPE_NOT_TEAM_DEVICE_OR_CLIENT_SIDE",e.AUDIT_LOG_MISSING_CATEGORY_TO_LOG_TYPE_MAPPING="AUDIT_LOG_MISSING_CATEGORY_TO_LOG_TYPE_MAPPING"}(rd||(rd={}));class id extends(js({scope:Ps.User})){}class od extends(Fs({scope:Ps.User})){}const ad=Hs({name:"activityLogs",commands:{storeActivityLogs:id},events:{},queries:{areSensitiveLogsEnabled:od}});var cd,ld;!function(e){e.GENERIC_ERROR="GENERIC_ERROR",e.TEAM_NOT_FOUND="TEAM_NOT_FOUND",e.MISMATCHING_ADMIN_PROVISIONING_KEY="MISMATCHING_ADMIN_PROVISIONING_KEY",e.NO_SIEM_CONFIGURATION_UPDATE="NO_SIEM_CONFIGURATION_UPDATE",e.INVALID_URL="INVALID_URL"}(cd||(cd={})),bn(cd.TEAM_NOT_FOUND,"Team not found"),bn(cd.MISMATCHING_ADMIN_PROVISIONING_KEY,"Mismatching admin provisioning key"),bn(cd.NO_SIEM_CONFIGURATION_UPDATE,"There's nothing to update"),bn(cd.INVALID_URL,"Invalid URL"),bn(cd.GENERIC_ERROR,"Generic error");class ud extends(js({scope:Ps.User})){}!function(e){e.GENERIC_ERROR="GENERIC_ERROR"}(ld||(ld={})),bn(ld.GENERIC_ERROR,"Generic error");class dd extends(Fs({scope:Ps.User})){}const pd=Hs({name:"siem",commands:{setSiemConfiguration:ud},events:{},queries:{getSiemConfiguration:dd}});var hd;!function(e){e.InvalidOrigin="InvalidOrigin",e.NoFreeSlot="NoFreeSlot",e.NoFreeSlotFreePlan="NoFreeSlotFreePlan",e.UserTeamInviteTokenNotFound="UserTeamInviteTokenNotFound",e.PaymentFailed="PaymentFailed",e.NotBillingAdmin="NotBillingAdmin",e.CannotAddSeatDuringGracePeriod="CannotAddSeatDuringGracePeriod"}(hd||(hd={}));class md extends(_n(hd.InvalidOrigin,"Invalid origin")){}class fd extends(_n(hd.NoFreeSlot,"No free slot")){}class vd extends(_n(hd.NoFreeSlotFreePlan,"No free slot in free plan")){}class gd extends(_n(hd.UserTeamInviteTokenNotFound,"No invite token to a team available for user")){}class yd extends(_n(hd.PaymentFailed,"Payment failed")){}class bd extends(_n(hd.NotBillingAdmin,"User is not the billing admin")){}class _d extends(_n(hd.CannotAddSeatDuringGracePeriod,"Seats cannot be added during grace period")){}class wd extends(js({scope:Ps.User})){}class xd extends(js({scope:Ps.User})){}class Sd extends(Fs({scope:Ps.User})){}const Ld=Qi.object({userId:Qi.number(),login:Qi.string(),premiumStatus:Qi.enum(["free","subscribed","legacy"]),lastActivityDateUnix:Qi.number()});Qi.array(Ld);class Id extends(Fs({scope:Ps.User})){}class Ad extends(Fs({scope:Ps.User})){}const Ed=Hs({name:"teamMembers",commands:{proposeMembers:wd,dismissNonMembersInfobox:xd},events:{},queries:{getNonMembersCount:Sd,getNonMembersList:Id,getHasAdminDismissedInfobox:Ad}});class Td extends(js({scope:Ps.User})){}class Cd extends(js({scope:Ps.User})){}class Ud extends(js({scope:Ps.User})){}class kd extends(js({scope:Ps.User})){}var Nd;!function(e){e.INVALID_FEEDBACK="INVALID_FEEDBACK"}(Nd||(Nd={})),bn(Nd.INVALID_FEEDBACK,"The provided feedback is invalid and won't be shared");class Wd extends(js({scope:Ps.User})){}class Od extends(Fs({scope:Ps.User})){}class Dd extends(Fs({scope:Ps.User})){}class Rd extends(Fs({scope:Ps.User})){}class Pd extends(Fs({scope:Ps.User})){}class Md extends(Fs({scope:Ps.User})){}class Fd extends(Fs({scope:Ps.User})){}class Bd extends(Fs({scope:Ps.User})){}class jd extends(Fs({scope:Ps.User})){}class qd extends(Fs({scope:Ps.User})){}class Gd extends(Fs({scope:Ps.User})){}class Vd extends(Fs({scope:Ps.User})){}class Zd extends(Fs({scope:Ps.User})){}class Hd extends(Fs({scope:Ps.User})){}class $d extends(Fs({scope:Ps.User})){}const zd=Hs({name:"teamPlanDetails",commands:{addSeats:Td,extendFreeTrial:Cd,requestTeamPlanCancellation:Ud,editTeamPolicies:kd,sendFeedback:Wd},events:{},queries:{getTeamActiveDirectoryInfo:Od,getTeamBillingInformation:Dd,getTeamCancellationStatus:Rd,getTeamCapabilities:Pd,getTeamCreationDateUnixQuery:Md,getTeamDuoInfo:Fd,getTeamId:Bd,getTeamName:jd,getTeamRoles:qd,getTeamPolicies:Gd,getTeamSeats:Vd,getTeamSecurityScore:Zd,getTeamSsoInfo:Hd,getTeamTrialStatus:$d}});class Kd extends(js({scope:Ps.User})){}class Yd extends(js({scope:Ps.User})){}class Qd extends(Fs({scope:Ps.User})){}class Jd extends(Fs({scope:Ps.User})){}class Xd extends(Fs({scope:Ps.User})){}const ep=Hs({name:"teamPlanUpdate",commands:{changeTierMidcycle:Kd,legacyChangeTierMidcycle:Yd},events:{},queries:{getTeamOffers:Qd,getMidcycleTierUpgradePrice:Jd,getLegacyMidcycleTierUpgradePrice:Xd}});var tp,sp,np;!function(e){e.TeamNotFound="TeamNotFound",e.NotBillingAdmin="NotBillingAdmin"}(tp||(tp={}));class rp extends(_n(tp.TeamNotFound,"The given user is not part of a single team")){}class ip extends(_n(tp.NotBillingAdmin,"The user is not Billing Admin")){}class op extends(js({scope:Ps.User})){}!function(e){e.TeamNotFound="TeamNotFound",e.NotBillingAdmin="NotBillingAdmin",e.VatNumberNotUpserted="VatNumberNotUpserted"}(sp||(sp={}));class ap extends(_n(sp.TeamNotFound,"The given user is not part of a single team")){}class cp extends(_n(sp.NotBillingAdmin,"The user is not Billing Admin")){}class lp extends(_n(sp.VatNumberNotUpserted,"The VAT number couldn't be upserted")){}class up extends(js({scope:Ps.User})){}!function(e){e.TeamNotFound="TeamNotFound",e.VatNumberNotFound="VatNumberNotFound",e.NotBillingAdmin="NotBillingAdmin"}(np||(np={}));class dp extends(_n(np.TeamNotFound,"The given user is not part of a single team")){}class pp extends(_n(np.VatNumberNotFound,"The given Team does not have a VAT number")){}class hp extends(_n(np.NotBillingAdmin,"The user is not Billing Admin")){}class mp extends(Fs({scope:Ps.User})){}class fp extends(_n("GetExpectedTaxInformationFailed","Could not return tax amount")){}class vp extends(Fs()){}const gp=Hs({name:"teamVat",commands:{DeleteTeamVatCommand:op,UpsertTeamVatCommand:up},events:{},queries:{getTeamVat:mp,getTaxAmount:vp}});class yp extends(Fs()){}class bp extends(Fs()){}class _p extends(Fs()){}class wp extends(_n("UserNotLogged","Please log the user")){}class xp extends(_n("UserNotAdmin","User is not an admin")){}class Sp extends(Fs({scope:Ps.User,noUserError:new wp})){}class Lp extends(Fs()){}class Ip extends(js({scope:Ps.User})){}class Ap extends(js({scope:Ps.User})){}class Ep extends(js({scope:Ps.User})){}const Tp=Hs({name:"teamGetStarted",commands:{markVaultAsVisited:Ip,markGetStartedAsSeen:Ap,markNotificationAsSeen:Ep},events:{},queries:{hasVisitedVault:yp,hasSeenGetStarted:bp,hasSeenNotification:_p,isTeamCreator:Sp,teamTasksCompletion:Lp}});class Cp extends(js({scope:Ps.User})){}class Up extends(js({scope:Ps.User})){}class kp extends(js({scope:Ps.User})){}class Np extends(js({scope:Ps.User})){}class Wp extends(js({scope:Ps.User})){}class Op extends(js({scope:Ps.User})){}class Dp extends(Fs()){}class Rp extends(Fs()){}class Pp extends(Fs()){}class Mp extends(Fs()){}class Fp extends(Fs()){}class Bp extends(Fs()){}const jp=Hs({name:"teamAdminNotifications",commands:{markActivityLogsInfoboxSeen:Cp,markStarterRepackagePolicyInfoboxSeen:Up,markB2BPlanDiscontinuedSeen:kp,markNewRestrictSharingPolicySeen:Np,markNotificationTrialExtendedSeen:Wp,markOfferToExtendFreeTrialSeen:Op},events:{},queries:{hasSeenActivityLogsInfobox:Dp,HasSeenStarterRepackagePolicyInfobox:Rp,hasSeenB2BPlanDiscontinued:Pp,hasSeenNewRestrictSharingPolicy:Mp,hasSeenNotificationTrialExtended:Fp,hasSeenOfferToExtendFreeTrial:Bp}});class qp extends(Fs({scope:Ps.User})){}const Gp=Hs({name:"teamPasswordHealth",commands:{},events:{},queries:{getReport:qp}});class Vp extends(js({scope:Ps.User})){}class Zp extends(js({scope:Ps.User})){}class Hp extends(js({scope:Ps.User})){}class $p extends(js({scope:Ps.User})){}class zp extends(Fs()){}class Kp extends(Fs()){}class Yp extends(Fs()){}const Qp=Hs({name:"masterPasswordSecurity",commands:{dismissMasterPasswordNotification:Vp,temporaryCheckMasterPassword:Zp,temporaryResetMasterPasswordLeaked:Hp,temporaryCheckMasterPasswordWeak:$p},events:{},queries:{isMasterPasswordLeaked:zp,isMasterPasswordWeak:Kp,isMasterPasswordNotificationDismissed:Yp}});class Jp extends(js({scope:Ps.User})){}class Xp extends(Fs({scope:Ps.User})){}const eh=Hs({name:"userConsents",commands:{UpdateConsentsCommand:Jp},events:{},queries:{getConsents:Xp}});class th extends(Fs({scope:Ps.User})){}var sh;!function(e){e.DEFAULT="default",e.TRIAL_EXPIRED="trial_expired",e.WEB_STORE="web_store",e.DASHBOARD_UPGRADE="dashboard_upgrade",e.SHARING_CENTER_FAMILY="sharing_center_family",e.SHARING_CENTER_WORK="sharing_center_work"}(sh||(sh={}));class nh extends(Fs({scope:Ps.User})){}const rh=Hs({name:"notifications",commands:{},events:{},queries:{GetPlanPricingQuery:th,GetUserMessagesQuery:nh}});class ih extends(js({scope:Ps.Device})){}class oh extends(js({scope:Ps.Device})){}const ah=Hs({name:"taskTracking",commands:{startTaskTracking:ih,terminateTaskTracking:oh},events:{},queries:{}});class ch extends(js({scope:Ps.Device})){}class lh extends(js({scope:Ps.Device})){}const uh=Hs({commands:{TrackEventCommand:ch,TrackPageViewCommand:lh},events:{},name:"analytics",queries:{}});class dh extends(Fs({scope:Ps.User})){}class ph extends(Fs({scope:Ps.User})){}class hh extends(Fs({scope:Ps.Device})){}class mh extends(js({scope:Ps.User})){}class fh extends(js({scope:Ps.User})){}const vh=Hs({events:{},name:"featureFlips",queries:{UserFeatureFlipsQuery:dh,UserFeatureFlipQuery:hh,UserAvailableLabsQuery:ph},commands:{RefreshAvailableLabsCommand:mh,ToggleLabCommand:fh}});class gh extends(Fs({scope:Ps.Device})){}class yh extends(js({scope:Ps.Device})){}const bh=Hs({commands:{EditSettingsForStagingCommand:yh},events:{},name:"webServices",queries:{SettingsForStagingQuery:gh}});class _h extends(Fs({scope:Ps.Device})){}const wh=Hs({name:"platformInfo",commands:{},events:{},queries:{PlatformInfoQuery:_h}});class xh extends(js({scope:Ps.User})){}class Sh extends(js({scope:Ps.User})){}class Lh extends(Fs({scope:Ps.User})){}const Ih=Hs({name:"permissions",commands:{addGroupManager:xh,removeGroupManager:Sh},events:{},queries:{userPermissions:Lh}});class Ah extends(Fs({scope:Ps.Device})){}class Eh extends(Fs({scope:Ps.Device})){}var Th,Ch;!function(e){e.INVALID_OTP_ALREADY_USED="INVALID_OTP_ALREADY_USED",e.INVALID_OTP_BLOCKED="INVALID_OTP_BLOCKED",e.VERIFICATION_FAILED="VERIFICATION_FAILED",e.ACCOUNT_BLOCKED_CONTACT_SUPPORT="ACCOUNT_BLOCKED_CONTACT_SUPPORT",e.VERIFICATION_REQUIRES_REQUEST="VERIFICATION_REQUIRES_REQUEST",e.VERIFICATION_TIMEOUT="VERIFICATION_TIMEOUT"}(Th||(Th={})),Qi.object({tag:Qi.nativeEnum(Th)});class Uh extends(js({scope:Ps.Device})){}!function(e){e.UNKNOWN_USER="user_not_found",e.SSO_BLOCKED="SSO_BLOCKED"}(Ch||(Ch={})),Qi.object({tag:Qi.nativeEnum(Ch)});class kh extends(js({scope:Ps.Device})){}const Nh=Hs({name:"deleteOrResetAccount",commands:{completeFlow:Uh,initiateFlow:kh},events:{},queries:{userAuthenticationMethod:Ah,isFlowCompleted:Eh}});class Wh extends(Fs({scope:Ps.User})){}class Oh extends(Fs({scope:Ps.User})){}class Dh extends(js({scope:Ps.User})){}const Rh=Hs({name:"accountReferral",commands:{inviteByEmail:Dh},events:{},queries:{getSharingLink:Wh,getInvitationsHistory:Oh}});class Ph extends(Fs({scope:Ps.Device})){}class Mh extends(js({scope:Ps.Device})){}const Fh=Hs({name:"accountCreation",commands:{markMassDeployFirstInitDone:Mh},events:{},queries:{accountCreationMassDeployPolicies:Ph}});class Bh extends(js({scope:Ps.User})){}class jh extends(js({scope:Ps.User})){}class qh extends(Fs({scope:Ps.User})){}class Gh extends(Fs({scope:Ps.User})){}class Vh extends(Fs()){}class Zh extends(Fs()){}const Hh=Hs({name:"getStarted",commands:{dismissGetStarted:Bh,markAdminConsoleOpened:jh},events:{},queries:{hasCompletedAutofillTutorial:qh,hasCompletedCredentialTutorial:Gh,hasOpenedAdminConsole:Vh,isGetStartedDismissed:Zh}}),$h="background",zh=Qs($h).with({module:ah,on:$h}).with({module:pn,on:$h}).with({module:gn,on:$h}).with({module:kn,on:$h}).with({module:na,on:$h}).with({module:va,on:$h}).with({module:wa,on:$h}).with({module:qn,on:$h}).with({module:po,on:$h}).with({module:So,on:$h}).with({module:Ka,on:$h}).with({module:nc,on:$h}).with({module:gc,on:$h}).with({module:_c,on:$h}).with({module:xl,on:$h}).with({module:Il,on:$h}).with({module:kl,on:$h}).with({module:Jl,on:$h}).with({module:tu,on:$h}).with({module:cu,on:$h}).with({module:sa,on:$h}).with({module:Ih,on:$h}).with({module:yl,on:$h}).with({module:Gn,on:$h}).with({module:yu,on:$h}).with({module:_u,on:$h}).with({module:Au,on:$h}).with({module:Cu,on:$h}).with({module:Wu,on:$h}).with({module:ad,on:$h}).with({module:Hn,on:$h}).with({module:Jn,on:$h}).with({module:Qp,on:$h}).with({module:Bu,on:$h}).with({module:nd,on:$h}).with({module:uh,on:$h}).with({module:ol,on:$h}).with({module:Ed,on:$h}).with({module:zd,on:$h}).with({module:ep,on:$h}).with({module:gp,on:$h}).with({module:vh,on:$h}).with({module:rh,on:$h}).with({module:ll,on:$h}).with({module:Tp,on:$h}).with({module:jp,on:$h}).with({module:Gp,on:$h}).with({module:eh,on:$h}).with({module:fl,on:$h}).with({module:Nh,on:$h}).with({module:Rh,on:$h}).with({module:Hh,on:$h}).with({module:Lc,on:$h}).with({module:bh,on:$h}).with({module:wh,on:$h}).with({module:Mu,on:$h}).with({module:Fh,on:$h}).with({module:Cc,on:$h}).with({module:kc,on:$h}).with({module:pd,on:$h}).define();var Kh;!function(e){e.Connected="Connected",e.Disconnected="Disconnected"}(Kh||(Kh={}));var Yh="function"==typeof Symbol&&Symbol.observable||"@@observable";function Qh(e){return e}var Jh=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var s=new e;return s.source=this,s.operator=t,s},e.prototype.subscribe=function(e,t,s){var n,r=this,i=(n=e)&&n instanceof I||function(e){return e&&u(e.next)&&u(e.error)&&u(e.complete)}(n)&&f(n)?e:new C(e,t,s);return L((function(){var e=r,t=e.operator,s=e.source;i.add(t?t.call(i,s):s?r._subscribe(i):r._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var s=this;return new(t=Xh(t))((function(t,n){var r=new C({next:function(t){try{e(t)}catch(e){n(e),r.unsubscribe()}},error:n,complete:t});s.subscribe(r)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[Yh]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===(s=e).length?Qh:1===s.length?s[0]:function(e){return s.reduce((function(e,t){return t(e)}),e)})(this);var s},e.prototype.toPromise=function(e){var t=this;return new(e=Xh(e))((function(e,s){var n;t.subscribe((function(e){return n=e}),(function(e){return s(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function Xh(e){var t;return null!==(t=null!=e?e:g.Promise)&&void 0!==t?t:Promise}var em=e((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),tm=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r(t,e),t.prototype.lift=function(e){var t=new sm(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new em},t.prototype.next=function(e){var t=this;L((function(){var s,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var r=o(t.currentObservers),i=r.next();!i.done;i=r.next())i.value.next(e)}catch(e){s={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}}}))},t.prototype.error=function(e){var t=this;L((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var s=t.observers;s.length;)s.shift().error(e)}}))},t.prototype.complete=function(){var e=this;L((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,s=this,n=s.hasError,r=s.isStopped,i=s.observers;return n||r?m:(this.currentObservers=null,i.push(e),new h((function(){t.currentObservers=null,p(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,s=t.hasError,n=t.thrownError,r=t.isStopped;s?e.error(n):r&&e.complete()},t.prototype.asObservable=function(){var e=new Jh;return e.source=this,e},t.create=function(e,t){return new sm(e,t)},t}(Jh),sm=function(e){function t(t,s){var n=e.call(this)||this;return n.destination=t,n.source=s,n}return r(t,e),t.prototype.next=function(e){var t,s;null===(s=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===s||s.call(t,e)},t.prototype.error=function(e){var t,s;null===(s=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===s||s.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,s;return null!==(s=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==s?s:m},t}(tm),nm=function(e){function t(t){var s=e.call(this)||this;return s._value=t,s}return r(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var s=e.prototype._subscribe.call(this,t);return!s.closed&&t.next(this._value),s},t.prototype.getValue=function(){var e=this,t=e.hasError,s=e.thrownError,n=e._value;if(t)throw s;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(tm),rm={now:function(){return(rm.delegate||Date).now()},delegate:void 0},im=function(e){function t(t,s,n){void 0===t&&(t=1/0),void 0===s&&(s=1/0),void 0===n&&(n=rm);var r=e.call(this)||this;return r._bufferSize=t,r._windowTime=s,r._timestampProvider=n,r._buffer=[],r._infiniteTimeWindow=!0,r._infiniteTimeWindow=s===1/0,r._bufferSize=Math.max(1,t),r._windowTime=Math.max(1,s),r}return r(t,e),t.prototype.next=function(t){var s=this,n=s.isStopped,r=s._buffer,i=s._infiniteTimeWindow,o=s._timestampProvider,a=s._windowTime;n||(r.push(t),!i&&r.push(o.now()+a)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),s=this._infiniteTimeWindow,n=this._buffer.slice(),r=0;r<n.length&&!e.closed;r+=s?1:2)e.next(n[r]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,s=e._timestampProvider,n=e._buffer,r=e._infiniteTimeWindow,i=(r?1:2)*t;if(t<1/0&&i<n.length&&n.splice(0,n.length-i),!r){for(var o=s.now(),a=0,c=1;c<n.length&&n[c]<=o;c+=2)a=c;a&&n.splice(0,a+1)}},t}(tm),om=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function am(e){return u(null==e?void 0:e.then)}function cm(e){return u(e[Yh])}function lm(e){return Symbol.asyncIterator&&u(null==e?void 0:e[Symbol.asyncIterator])}function um(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var dm="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function pm(e){return u(null==e?void 0:e[dm])}function hm(e){return function(e,t,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=s.apply(e,t||[]),i=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){r[e]&&(n[e]=function(t){return new Promise((function(s,n){i.push([e,t,s,n])>1||a(e,t)}))})}function a(e,t){try{(s=r[e](t)).value instanceof l?Promise.resolve(s.value.v).then(c,u):d(i[0][2],s)}catch(e){d(i[0][3],e)}var s}function c(e){a("next",e)}function u(e){a("throw",e)}function d(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,(function(){var t,s,n;return i(this,(function(r){switch(r.label){case 0:t=e.getReader(),r.label=1;case 1:r.trys.push([1,,9,10]),r.label=2;case 2:return[4,l(t.read())];case 3:return s=r.sent(),n=s.value,s.done?[4,l(void 0)]:[3,5];case 4:return[2,r.sent()];case 5:return[4,l(n)];case 6:return[4,r.sent()];case 7:return r.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function mm(e){return u(null==e?void 0:e.getReader)}function fm(e){if(e instanceof Jh)return e;if(null!=e){if(cm(e))return r=e,new Jh((function(e){var t=r[Yh]();if(u(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(om(e))return n=e,new Jh((function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()}));if(am(e))return s=e,new Jh((function(e){s.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,b)}));if(lm(e))return vm(e);if(pm(e))return t=e,new Jh((function(e){var s,n;try{for(var r=o(t),i=r.next();!i.done;i=r.next()){var a=i.value;if(e.next(a),e.closed)return}}catch(e){s={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}e.complete()}));if(mm(e))return vm(hm(e))}var t,s,n,r;throw um(e)}function vm(e){return new Jh((function(t){(function(e,t){var s,n,r,a,c,l,u;return c=this,void 0,u=function(){var c,l;return i(this,(function(i){switch(i.label){case 0:i.trys.push([0,5,6,11]),s=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,s=e[Symbol.asyncIterator];return s?s.call(e):(e=o(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=e[s]&&function(t){return new Promise((function(n,r){!function(e,t,s,n){Promise.resolve(n).then((function(t){e({value:t,done:s})}),t)}(n,r,(t=e[s](t)).done,t.value)}))}}}(e),i.label=1;case 1:return[4,s.next()];case 2:if((n=i.sent()).done)return[3,4];if(c=n.value,t.next(c),t.closed)return[2];i.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=i.sent(),r={error:l},[3,11];case 6:return i.trys.push([6,,9,10]),n&&!n.done&&(a=s.return)?[4,a.call(s)]:[3,8];case 7:i.sent(),i.label=8;case 8:return[3,10];case 9:if(r)throw r.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))},new((l=void 0)||(l=Promise))((function(e,t){function s(e){try{r(u.next(e))}catch(e){t(e)}}function n(e){try{r(u.throw(e))}catch(e){t(e)}}function r(t){var r;t.done?e(t.value):(r=t.value,r instanceof l?r:new l((function(e){e(r)}))).then(s,n)}r((u=u.apply(c,[])).next())}))})(e,t).catch((function(e){return t.error(e)}))}))}function gm(e,t,s,n,r){void 0===n&&(n=0),void 0===r&&(r=!1);var i=t.schedule((function(){s(),r?e.add(this.schedule(null,n)):this.unsubscribe()}),n);if(e.add(i),!r)return i}function ym(e){return function(t){if(function(e){return u(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function bm(e,t,s,n,r){return new _m(e,t,s,n,r)}var _m=function(e){function t(t,s,n,r,i,o){var a=e.call(this,t)||this;return a.onFinalize=i,a.shouldUnsubscribe=o,a._next=s?function(e){try{s(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=r?function(e){try{r(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return r(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var s=this.closed;e.prototype.unsubscribe.call(this),!s&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(I);function wm(e,t){return void 0===t&&(t=0),ym((function(s,n){s.subscribe(bm(n,(function(s){return gm(n,e,(function(){return n.next(s)}),t)}),(function(){return gm(n,e,(function(){return n.complete()}),t)}),(function(s){return gm(n,e,(function(){return n.error(s)}),t)})))}))}function xm(e,t){return void 0===t&&(t=0),ym((function(s,n){n.add(e.schedule((function(){return s.subscribe(n)}),t))}))}function Sm(e,t){if(!e)throw new Error("Iterable cannot be null");return new Jh((function(s){gm(s,t,(function(){var n=e[Symbol.asyncIterator]();gm(s,t,(function(){n.next().then((function(e){e.done?s.complete():s.next(e.value)}))}),0,!0)}))}))}function Lm(e,t){return t?function(e,t){if(null!=e){if(cm(e))return function(e,t){return fm(e).pipe(xm(t),wm(t))}(e,t);if(om(e))return function(e,t){return new Jh((function(s){var n=0;return t.schedule((function(){n===e.length?s.complete():(s.next(e[n++]),s.closed||this.schedule())}))}))}(e,t);if(am(e))return function(e,t){return fm(e).pipe(xm(t),wm(t))}(e,t);if(lm(e))return Sm(e,t);if(pm(e))return function(e,t){return new Jh((function(s){var n;return gm(s,t,(function(){n=e[dm](),gm(s,t,(function(){var e,t,r;try{t=(e=n.next()).value,r=e.done}catch(e){return void s.error(e)}r?s.complete():s.next(t)}),0,!0)})),function(){return u(null==n?void 0:n.return)&&n.return()}}))}(e,t);if(mm(e))return function(e,t){return Sm(hm(e),t)}(e,t)}throw um(e)}(e,t):fm(e)}var Im=new Jh((function(e){return e.complete()}));function Am(e){return e<=0?function(){return Im}:ym((function(t,s){var n=0;t.subscribe(bm(s,(function(t){++n<=e&&(s.next(t),e<=n&&s.complete())})))}))}function Em(e){void 0===e&&(e={});var t=e.connector,s=void 0===t?function(){return new tm}:t,n=e.resetOnError,r=void 0===n||n,i=e.resetOnComplete,o=void 0===i||i,a=e.resetOnRefCountZero,c=void 0===a||a;return function(e){var t=null,n=null,i=null,a=0,l=!1,u=!1,d=function(){null==n||n.unsubscribe(),n=null},p=function(){d(),t=i=null,l=u=!1},h=function(){var e=t;p(),null==e||e.unsubscribe()};return ym((function(e,m){a++,u||l||d();var f=i=null!=i?i:s();m.add((function(){0!=--a||u||l||(n=Tm(h,c))})),f.subscribe(m),t||(t=new C({next:function(e){return f.next(e)},error:function(e){u=!0,d(),n=Tm(p,r,e),f.error(e)},complete:function(){l=!0,d(),n=Tm(p,o),f.complete()}}),Lm(e).subscribe(t))}))(e)}}function Tm(e,t){for(var s=[],n=2;n<arguments.length;n++)s[n-2]=arguments[n];return!0===t?(e(),null):!1===t?null:t.apply(void 0,c([],a(s))).pipe(Am(1)).subscribe((function(){return e()}))}function Cm(e,t,s){var n,r,i,o,a=!1;return e&&"object"==typeof e?(n=e.bufferSize,o=void 0===n?1/0:n,r=e.windowTime,t=void 0===r?1/0:r,a=void 0!==(i=e.refCount)&&i,s=e.scheduler):o=null!=e?e:1/0,Em({connector:function(){return new im(o,t,s)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function Um(e,t){return ym((function(s,n){var r=0;s.subscribe(bm(n,(function(s){n.next(e.call(t,s,r++))})))}))}function km(e,t,s){return void 0===s&&(s=1/0),u(t)?km((function(s,n){return Um((function(e,r){return t(s,e,n,r)}))(fm(e(s,n)))}),s):("number"==typeof t&&(s=t),ym((function(t,n){return function(e,t,s,n,r,i,o,a){var c=[],l=0,u=0,d=!1,p=function(){!d||c.length||l||t.complete()},h=function(e){l++;var r=!1;fm(s(e,u++)).subscribe(bm(t,(function(e){t.next(e)}),(function(){r=!0}),void 0,(function(){if(r)try{for(l--;c.length&&l<n;)void 0,e=c.shift(),h(e);p()}catch(e){t.error(e)}var e})))};return e.subscribe(bm(t,(function(e){return l<n?h(e):c.push(e)}),(function(){d=!0,p()}))),function(){}}(t,n,e,s)})))}class Nm{constructor(e){this.status$=new nm(Kh.Connected),this.port$=new Jh((t=>{let s;const n=this.status$;function r(){s?.onDisconnect.removeListener(r);const i=ys({name:e});n.next(Kh.Disconnected),i.onDisconnect.addListener(r),t.next(i),n.next(Kh.Connected),s=i}return r(),()=>{s?.onDisconnect.removeListener(r),s?.disconnect()}})).pipe(Cm(1)),this.portSubscription=this.port$.subscribe(),this.messages$=this.port$.pipe(km((t=>new Jh((s=>{const n=t=>{var n;(n=t)&&"object"==typeof n&&"graphene-message"===n.type&&t.channelName===e&&s.next(t.message)};return t.onMessage.addListener(n),()=>{t.onMessage.removeListener(n)}})))))}async sendMessage(e){const t=await W(this.port$);t.postMessage((({channelName:e,message:t})=>({channelName:e,message:t,type:"graphene-message"}))({channelName:t.name,message:e}))}stop(){return this.portSubscription.unsubscribe(),this.status$.next(Kh.Disconnected),Promise.resolve()}}class Wm{constructor(e){this.appDefinition=e.appDefinition,this.currentNode=e.currentNode,this.channels=e.channels,this.subscriptions=e.subscriptions,this.channelsListener=e.channelsListener}getNodeList(){return this.currentNode?[...this.getRemoteNodeList(),this.currentNode]:this.getRemoteNodeList()}getRemoteNodeList(){return Object.keys(this.channels)}getModuleNames(){return Object.keys(this.appDefinition)}}function Om(e,t){return ym((function(s,n){var r=0;s.subscribe(bm(n,(function(s){return e.call(t,s,r++)&&n.next(s)})))}))}const Dm=e=>e,Rm=e=>"response"===e.type;function Pm(e,s){var n="object"==typeof s;return new Promise((function(r,i){var o,a=!1;e.subscribe({next:function(e){o=e,a=!0},error:i,complete:function(){a?r(o):n?r(s.defaultValue):i(new t)}})}))}function Mm(e){return ym((function(t,s){var n,r=null,i=!1;r=t.subscribe(bm(s,void 0,void 0,(function(o){n=fm(e(o,Mm(e)(t))),r?(r.unsubscribe(),r=null,n.subscribe(s)):i=!0}))),i&&(r.unsubscribe(),r=null,n.subscribe(s))}))}function Fm(e){return e[e.length-1]}function Bm(e){return(t=Fm(e))&&u(t.schedule)?e.pop():void 0;var t}function jm(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Lm(e,Bm(e))}function qm(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(void 0===(s=1)&&(s=1/0),km(Qh,s))(Lm(e,Bm(e)));var s}(t,jm.apply(void 0,c([],a(e))))}}const Gm=e=>!(!e||"object"!=typeof e)&&"unSubscription"===e.type;var Vm=Array.isArray,Zm=Object.getPrototypeOf,Hm=Object.prototype,$m=Object.keys,zm=Array.isArray;function Km(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var s=Bm(e),n=function(e){return u(Fm(e))?e.pop():void 0}(e),r=function(e){if(1===e.length){var t=e[0];if(Vm(t))return{args:t,keys:null};if((n=t)&&"object"==typeof n&&Zm(n)===Hm){var s=$m(t);return{args:s.map((function(e){return t[e]})),keys:s}}}var n;return{args:e,keys:null}}(e),i=r.args,o=r.keys;if(0===i.length)return Lm([],s);var l,d=new Jh(function(e,t,s){return void 0===s&&(s=Qh),function(n){Ym(t,(function(){for(var r=e.length,i=new Array(r),o=r,a=r,c=function(r){Ym(t,(function(){var c=Lm(e[r],t),l=!1;c.subscribe(bm(n,(function(e){i[r]=e,l||(l=!0,a--),a||n.next(s(i.slice()))}),(function(){--o||n.complete()})))}),n)},l=0;l<r;l++)c(l)}),n)}}(i,s,o?function(e){return function(e,t){return e.reduce((function(e,s,n){return e[s]=t[n],e}),{})}(o,e)}:Qh));return n?d.pipe((l=n,Um((function(e){return function(e,t){return zm(t)?e.apply(void 0,c([],a(t))):e(t)}(l,e)})))):d}function Ym(e,t,s){e?gm(s,e,t):t()}function Qm(e,t){return void 0===t&&(t=!1),ym((function(s,n){var r=0;s.subscribe(bm(n,(function(s){var i=e(s,r++);(i||t)&&n.next(s),!i&&n.complete()})))}))}function Jm(e,t){return void 0===t&&(t=Qh),e=null!=e?e:Xm,ym((function(s,n){var r,i=!0;s.subscribe(bm(n,(function(s){var o=t(s);!i&&e(r,o)||(i=!1,r=o,n.next(s))})))}))}function Xm(e,t){return e===t}function ef(e,t){return t?function(s){return s.pipe(ef((function(s,n){return fm(e(s,n)).pipe(Um((function(e,r){return t(s,e,n,r)})))})))}:ym((function(t,s){var n=0,r=null,i=!1;t.subscribe(bm(s,(function(t){r||(r=bm(s,void 0,(function(){r=null,i&&s.complete()})),fm(e(t,n++)).subscribe(r))}),(function(){i=!0,!r&&s.complete()})))}))}const tf={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let sf;const nf=new Uint8Array(16);function rf(){if(!sf&&(sf="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!sf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sf(nf)}const of=[];for(let e=0;e<256;++e)of.push((e+256).toString(16).slice(1));const af=function(e,t,s){if(tf.randomUUID&&!t&&!e)return tf.randomUUID();const n=(e=e||{}).random||(e.rng||rf)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){s=s||0;for(let e=0;e<16;++e)t[s+e]=n[e];return t}return function(e,t=0){return of[e[t+0]]+of[e[t+1]]+of[e[t+2]]+of[e[t+3]]+"-"+of[e[t+4]]+of[e[t+5]]+"-"+of[e[t+6]]+of[e[t+7]]+"-"+of[e[t+8]]+of[e[t+9]]+"-"+of[e[t+10]]+of[e[t+11]]+of[e[t+12]]+of[e[t+13]]+of[e[t+14]]+of[e[t+15]]}(n)};class cf{constructor(e){this.stopped$=new nm(!1);const t={routes:Dm({})};this.routes=(()=>{const{routes:s}=Object.keys(e).reduce(((t,s)=>{const n=e[s];if("local"===n.type&&(t.routes[s]={send:n.onMessage,trySend:async(...e)=>(await Pm(n.onMessage(...e)),!0)}),"remote"===n.type){const e=((e,t)=>{const s=(s,n,r)=>{const i={content:n,destination:String(s),id:af()};return new Jh((s=>{let n={type:"start",definition:i,metadata:r};const o=Km({message:e.receivedMessages$,stopped:t}).pipe(Qm((({stopped:e})=>!e)),Um((({message:e})=>e))).subscribe((e=>{var t;(t=e)&&"object"==typeof t&&"initial-acknowledgement"===t.type&&e.id===i.id?n={...n,metadata:{...n.metadata,isReminder:!0}}:(e=>!(!e||"object"!=typeof e)&&"data"===e.type)(e)&&e.id===i.id?s.next(e.data):(e=>!(!e||"object"!=typeof e)&&"error"===e.type)(e)&&e.id===i.id?s.error(new Error(e.errorMessage)):(e=>!(!e||"object"!=typeof e)&&"end"===e.type)(e)&&e.id===i.id&&s.complete()})),a=Km({sendTimes:e.channelState$.pipe(Jm(),Om((e=>e===Kh.Connected))),stopped:t}).pipe(Qm((({stopped:e})=>!e)),ef((()=>Lm(e.send(n))))).subscribe();return()=>{e.send({type:"unSubscription",id:i.id}),a.unsubscribe(),o.unsubscribe()}}))};return{send:s,trySend:async(t,n,r)=>await W(e.channelState$)===Kh.Connected&&(await Pm(s(t,n,r)),!0)}})(n.channel,this.stopped$);t.routes[s]=e}return t}),t);return s})()}connect(e,t){let s=!1;return{start:()=>{if(s)throw new Error("Already started");s=!0;const n=e=>((e,t,s)=>{const n=new Set(s),r=new Map,i=t.receivedMessages$.pipe(Om(Gm)).subscribe((e=>{const t=r.get(e.id);t?.unsubscribe(),r.delete(e.id)})),o=t.receivedMessages$.pipe(Om((e=>{return!(!(t=e)||"object"!=typeof t)&&"start"===t.type&&n.has(e.definition.destination)&&!r.has(e.definition.id);var t})),km((e=>Lm((async e=>(r.set(e.definition.id,{unsubscribe:()=>{}}),await t.send({type:"initial-acknowledgement",id:e.definition.id}),e))(e))))).subscribe((s=>{const n=s.definition.destination,i=e(n,s.definition.content,s.metadata),o={type:"end",id:s.definition.id},a=i.pipe(Um((e=>({id:s.definition.id,data:e,type:"data"}))),Mm((e=>jm({id:s.definition.id,type:"error",errorMessage:e.message}))),qm(o),km((e=>Lm(t.send(e))))).subscribe();r.set(s.definition.id,{unsubscribe:()=>{a.unsubscribe()}})}));return{unsubscribe:()=>{o.unsubscribe(),i.unsubscribe();for(const e of r.values())e.unsubscribe()}}})(((e,t,s)=>this.routes[e].send(e,t,s)),e,Object.keys(this.routes)),r=e.map(n),i=new Map,o=t.connectedChannels$.subscribe((e=>{const t=[...i.entries()].filter((([t])=>!(t in e))),s=Object.keys(e).filter((e=>!i.has(e)));t.forEach((([e,t])=>{i.delete(e),t.unsubscribe()})),s.forEach((t=>{const s=e[t],r=n(s);i.set(t,r)}))}));return Promise.resolve({stop:()=>([...r,o,...i.values()].forEach((e=>e.unsubscribe())),this.stopped$.next(!0),Promise.resolve())})}}}sendMessage(e,t){return this.routes[e].send(e,t,{isReminder:!1})}trySendMessage(e,t){return this.routes[e].trySend(e,t,{isReminder:!1})}}class lf{constructor(){this.entries={}}get(e){return this.entries[e]}getOrDefault(e,t){return this.entries[e]??t}getOrFail(e,t){if(!this.has(e))throw new Error(t?.errorMessage??`No ${e} in request context`);return this.entries[e]}has(e){return e in this.entries}async getOrAdd(e,t){return this.has(e)||this.set(e,await t()),this.get(e)}getOrAddSync(e,t){return this.has(e)||this.set(e,t()),this.get(e)}set(e,t){this.entries[e]=t}toSerializable(){return this.entries}static fromSerializable(e){const t=new lf;for(const[s,n]of Object.entries(e))t.entries[s]=n;return t}clone(){return lf.fromSerializable(JSON.parse(JSON.stringify(this.toSerializable())))}withValue(e,t){return this.set(e,t),this}}const uf=()=>Lm([]);class df{constructor(e){this.config=e}async sendCommand(e,t,s,n){if(!this.broker)throw new Error("call connect() first");return await W(this.broker.sendMessage(`command-${e}`,{type:"command",module:e,commandName:String(t),command:s,context:n.toSerializable()}).pipe(Om(Rm),Um((e=>e.response))))}sendQuery(e,t,s,n){if(!this.broker)throw new Error("call connect() first");return this.broker.sendMessage(`query-${e}`,{type:"query",module:e,queryName:String(t),query:s,context:n.toSerializable()}).pipe(Om(Rm),Um((e=>e.response)))}connect(e){const t=e?(t,s,n)=>{switch(s.type){case"response":return Im;case"command":return Lm(e.onCommand(s.module,s.commandName,s.command,lf.fromSerializable(s.context),{isReminder:n.isReminder})).pipe(Um((e=>({type:"response",response:e}))));case"query":return Lm(e.onQuery(s.module,s.queryName,s.query,lf.fromSerializable(s.context))).pipe(Um((e=>({type:"response",response:e}))))}R(s)}:uf,s=((e,t,s,n)=>Object.keys(e).reduce(((r,i)=>{const{commandMailbox:o,queryMailbox:a}=(r=>{const{main:i,queryOnly:o}=e[r],a={type:"local",onMessage:n};if(i===t)return{commandMailbox:a,queryMailbox:a};const c={type:"remote",channel:s[i]};return{commandMailbox:c,queryMailbox:t&&o.includes(t)?a:c}})(i);return r[`command-${i}`]=o,r[`query-${i}`]=a,r}),Dm({})))(this.config.appDefinition,this.config.currentNode,this.config.channels,t);return this.broker=new cf(s),this.broker.connect(Object.values(this.config.channels),this.config.channelsListener)}}function pf(e,t){return Object.keys(e).map((e=>e)).reduce(((s,n)=>(s[n]=function(e,t,s,n){return{commands:Object.keys(e[s].api.commands).reduce(((e,n)=>(e[n]=e=>{const r=new lf;return t.sendCommand(s,n,e,r)},e)),Dm({})),queries:(()=>{const n=e[s].api.queries;return Object.keys(n).reduce(((e,n)=>(e[n]=e=>{const r=new lf;return t.sendQuery(s,n,e,r)},e)),Dm({}))})()}}(e,t,n),s)),{})}var hf=function(e){function t(t,s){return e.call(this)||this}return r(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(h),mf={setInterval:function(e,t){for(var s=[],n=2;n<arguments.length;n++)s[n-2]=arguments[n];var r=mf.delegate;return(null==r?void 0:r.setInterval)?r.setInterval.apply(r,c([e,t],a(s))):setInterval.apply(void 0,c([e,t],a(s)))},clearInterval:function(e){var t=mf.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},ff=function(e){function t(t,s){var n=e.call(this,t,s)||this;return n.scheduler=t,n.work=s,n.pending=!1,n}return r(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var s=this.id,n=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(n,s,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,s){return void 0===s&&(s=0),mf.setInterval(e.flush.bind(e,this),s)},t.prototype.recycleAsyncId=function(e,t,s){if(void 0===s&&(s=0),null!=s&&this.delay===s&&!1===this.pending)return t;mf.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var s=this._execute(e,t);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var s,n=!1;try{this.work(e)}catch(e){n=!0,s=e||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),s},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,s=this.scheduler,n=s.actions;this.work=this.state=this.scheduler=null,this.pending=!1,p(n,this),null!=t&&(this.id=this.recycleAsyncId(s,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(hf),vf=function(){function e(t,s){void 0===s&&(s=e.now),this.schedulerActionCtor=t,this.now=s}return e.prototype.schedule=function(e,t,s){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(s,t)},e.now=rm.now,e}(),gf=new(function(e){function t(t,s){void 0===s&&(s=vf.now);var n=e.call(this,t,s)||this;return n.actions=[],n._active=!1,n._scheduled=void 0,n}return r(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var s;this._active=!0;do{if(s=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,s){for(;e=t.shift();)e.unsubscribe();throw s}}},t}(vf))(ff),yf=e((function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}}));function bf(e){throw new yf(e)}class _f{constructor(e,t=3e4){const s=e.status$.pipe(Jm());let n=!1;const r=new tm,i=r.pipe(km((async r=>{const i=af();let o=!1;const a=e.messages$.pipe(Qm((()=>!n)),Om((e=>"acknowledgement"===e.type&&e.id===i)),Am(1),function(e,t){var s,n=(s=e)instanceof Date&&!isNaN(s)?{first:e}:"number"==typeof e?{each:e}:e,r=n.first,i=n.each,o=n.with,a=void 0===o?bf:o,c=n.scheduler,l=void 0===c?gf:c,u=n.meta,d=void 0===u?null:u;if(null==r&&null==i)throw new TypeError("No timeout provided.");return ym((function(e,t){var s,n,o=null,c=0,u=function(e){n=gm(t,l,(function(){try{s.unsubscribe(),fm(a({meta:d,lastValue:o,seen:c})).subscribe(t)}catch(e){t.error(e)}}),e)};s=e.subscribe(bm(t,(function(e){null==n||n.unsubscribe(),c++,t.next(o=e),i>0&&u(i)}),void 0,void 0,(function(){(null==n?void 0:n.closed)||null==n||n.unsubscribe(),o=null}))),!c&&u(null!=r?"number"==typeof r?r:+r-l.now():i)}))}(t),Mm((()=>Im)),Cm(1)),c=a.subscribe((()=>{o=!0,c.unsubscribe()})),l=s.pipe(Qm((()=>!o&&!n)),ef((()=>Lm(e.sendMessage({type:"send",id:i,message:r.message}))))).subscribe();try{await Pm(a),l.unsubscribe(),r.resolve()}catch(e){l.unsubscribe(),r.reject(e)}}))).subscribe();this.stop=()=>(n=!0,i.unsubscribe(),e.stop()),this.send=e=>new Promise(((t,s)=>{const n={message:e,resolve:t,reject:s};r.next(n)})),this.channelState$=e.status$,this.receivedMessages$=e.messages$.pipe(Om((e=>"send"===e.type)),km((async t=>{if("send"===t.type)return await e.sendMessage({type:"acknowledgement",id:t.id}),t.message})),Em())}}const wf={connectedChannels$:new nm({})},xf=async()=>{window.localStorage.clear(),window.sessionStorage.clear(),await chrome.storage.local.clear(),chrome.runtime.reload()};!async function(){const e=function(){const e=new Nm("graphene-background-port"),{client:t}=function({appDefinition:e,channels:t,channelsListener:s}){const n=new Wm({appDefinition:e,channels:t,channelsListener:s,currentNode:null,subscriptions:{}}),r=new df(n),i=()=>{throw new Error("Unexpected request received by detached application client")},o=r.connect({onCommand:i,onQuery:i}).start();return{client:pf(e,r),stop:async()=>(await o).stop()}}({appDefinition:zh,channels:{background:new _f(e)},channelsListener:wf});return t}(),t=await W(e.platformInfo.queries.platformInfo());O(t)&&R(t.error);const s=D(t).buildType;document.getElementById("logo")?.setAttribute("src",(()=>{var e;const{icons:t}=M(),s=null!=(e=t?.[48])?e:"";return(n=s).indexOf("://")>0||n.startsWith("//")?s:`/${s}`;var n})()),function(e){const{version:t,manifest_version:s,name:n,version_name:r}=M();[["extension-name",n],["version",`v${t}`],["build-type",`${e}`],["version-name",`${r}`],["manifest-version",`MV${s}`],["browser-name",q().browser.name??""],["browser-version",q().browser.version??""]].forEach((([e,t])=>{"undefined"===t&&document.getElementById(e)?.closest("li")?.classList.add("hidden"),document.getElementById(e)?.appendChild(document.createTextNode(`${t}`))}))}(s),(async()=>{const e=await window.localStorage.getItem(Is),t=document.getElementById("ext-ng-login-flow");t.checked="true"===e,t.onchange=As;const s=document.getElementById("ext-ng-form");s?.classList.remove("hidden")})(),(async()=>{if(!await Ss.getHasFeature("webproduct_extension_ShowUserConsentOptions"))return;const e=document.getElementById("permissions-form");if(!(e&&e instanceof HTMLFormElement))throw new Error("Cannot find the permissions form. Was it accidentally removed?");await(async e=>{var t;const{usageConsentCheckbox:s}=Ls(e);(null==(t=(await Ss.getGlobalExtensionSettings()).interactionDataConsent)||t)&&s.setAttribute("checked",""),s.addEventListener("change",(t=>(async(e,t,s)=>{if(!(e.currentTarget instanceof HTMLInputElement))throw new Error("event target is not an input element");const{usageConsentCheckbox:n}=Ls(s),{currentTarget:r}=e,i={interactionDataConsent:n.checked,personalDataConsent:!0};r.setAttribute("disabled",""),await Ss.setGlobalExtensionSettings(i),r.removeAttribute("disabled")})(t,0,e))),e.classList.remove("hidden")})(e)})(),(()=>{document.getElementById("clear-local-data").onclick=xf;const e=document.getElementById("troubleshooting-section");e?.classList.remove("hidden")})(),function(e,t){if(!Us.includes(t))return;ks.forEach((t=>async function(e,t){const s=function(e){const t=document.getElementById(`target-staging-${e}`);if(!(t&&t instanceof HTMLInputElement))throw new Error(`No target-staging-${e}`);const s=document.getElementById(`staging-url-${e}`);if(!(s&&s instanceof HTMLInputElement))throw new Error(`No staging-url-${e}`);const n=document.getElementById(`staging-cloudflare-access-key-${e}`);if(!(n&&n instanceof HTMLInputElement))throw new Error(`No staging-cloudflare-access-key-${e}`);const r=document.getElementById(`staging-cloudflare-secret-key-${e}`);if(!(r&&r instanceof HTMLInputElement))throw new Error(`No staging-cloudflare-secret-key-${e}`);return{targetStagingCheckbox:t,stagingURLInput:s,stagingCloudflareAccessKeyInput:n,stagingCloudflareSecretKeyInput:r}}(t),{targetStagingCheckbox:n,stagingCloudflareAccessKeyInput:r,stagingCloudflareSecretKeyInput:i,stagingURLInput:o}=s,a=async()=>{await Ws(e,t,s),Ds(t)};n.addEventListener("change",(async()=>{const r=n.checked;Os(t,r),await Ws(e,t,s),Ds(t)})),o.addEventListener("blur",a),r.addEventListener("blur",a),i.addEventListener("blur",a);const c=await W(e.webServices.queries.settingsForStaging());if(O(c))return;const l=D(c)[t];if(n.checked=l.override,l.override){const{baseUrlOverride:e,cloudflareAccessKeyOverride:t,cloudflareSecretKeyOverride:s}=l;o.value=e,r.value=t,i.value=s}Os(t,l.override)}(e,t)));const s=document.getElementById("staging-options-form");s?.classList.remove("hidden")}(e,s)}()})()})();