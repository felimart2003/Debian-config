"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[3091],{763091:(e,i,t)=>{t.r(i),t.d(i,{CollectionView:()=>ie});var n=t(696832),l=t(15192),a=t(700033),s=t(148038),o=t(980936),r=t(45272),c=t(692077),d=t(619122),h=t(779206),u=t(162735),p=t(488795),g=t(371060),Z=t(97227),x=t(812027),S=t(782579),m=t(433360),w=t(621313),_=t(145106),b=t(663146),C=t(803322);const D=(0,C.BX)(C.HY,{children:[(0,C.tZ)(_.D,{}),(0,C.tZ)(b.E,{})]});var O,y=t(488203),v=t(360345),k=t(555357),f=t(634742);const I=e=>{const{translate:i}=(0,y.Z)(),[t,l]=(0,n.useState)(!1),{canDelete:a}=(0,k.n)(e.id);return(0,C.BX)(C.HY,{children:[(0,C.tZ)(v.x,{disabled:!a,onClick:()=>l(!0),icon:O||(O=(0,C.tZ)(S.JO,{name:"ActionDeleteOutlined"})),children:i("collections_delete_button_text")}),(0,C.tZ)(f.AN,{isOpen:t,onClose:()=>l(!1),...e})]})};var A,B=t(806697);const V=e=>{const{translate:i}=(0,y.Z)(),[t,l]=(0,n.useState)(!1),{canEdit:s}=(0,k.n)(e.id),{openDialog:o,shouldShowFrozenStateDialog:c}=(0,B.Ub)();return(0,C.BX)(C.HY,{children:[(0,C.tZ)(v.x,{disabled:!s,onClick:()=>{c?o():((0,r.Nc)(a.PageView.CollectionEdit),l(!0))},icon:A||(A=(0,C.tZ)(S.JO,{name:"ActionEditOutlined"})),children:i("_common_action_edit")}),t&&(0,C.tZ)(f.mu,{onClose:()=>l(!1),...e})]})};var X;const N=({id:e,isSharedAccessDialogOpen:i,setIsSharedAccessDialogOpen:t})=>{const{translate:n}=(0,y.Z)();return(0,C.BX)(C.HY,{children:[(0,C.tZ)(v.x,{onClick:()=>{(0,r.Kz)(new a.UserSharingStartEvent({sharingFlowType:a.SharingFlowType.CollectionSharing,collectionId:e,origin:a.Origin.CollectionDetailView})),t(!0)},icon:X||(X=(0,C.tZ)(S.JO,{name:"SharedOutlined"})),children:n("webapp_sharing_collection_access_dialog_title")}),i&&(0,C.tZ)(f.Zy,{onClose:()=>t(!1),id:e})]})};var E,T=t(28976),z=t(99822),H=t(253133),R=t(360295),F=t(426642),Y=t(267678),J=t(485281);const P=({id:e})=>{var i;const t=(0,J.G)(),n=(0,T.k)(),[l,s]=(0,H.A)(e),{canShare:o}=(0,k.n)(e),{openDialog:c,closeDialog:d}=(0,Y.R)(),{translate:h}=(0,y.Z)();return(0,C.tZ)(v.x,{onClick:()=>{if((0,r.Kz)(new a.UserSharingStartEvent({sharingFlowType:a.SharingFlowType.CollectionSharing,collectionId:e,origin:a.Origin.CollectionDetailView})),n){const i=!t&&s===H.z.Complete&&l?(0,z.wu)(e):(0,z.H4)(e);c((0,C.tZ)(R.Z,{sharing:i,onDismiss:d,origin:a.Origin.CollectionDetailView}))}else c(i||(i=(0,C.tZ)(F.z,{closeDialog:d})))},icon:E||(E=(0,C.tZ)(S.JO,{name:"ActionShareOutlined"})),disabled:!o,children:h("_common_action_share")})},L=({isShared:e=!1,isPersonalSpaceDisabled:i,...t})=>{const[l,a]=(0,n.useState)(!1);return(0,C.tZ)(w.h,{sx:{marginRight:"16px"},startWidgets:()=>(0,C.tZ)(m.b,{isShared:e,spaceId:i?void 0:t.spaceId,children:(0,C.tZ)(S.X6,{as:"h1",textStyle:"ds.title.section.large",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.name})}),endWidget:(0,C.BX)(C.HY,{children:[t?.spaceId?(0,C.tZ)(P,{id:t.id}):null,e?(0,C.tZ)(N,{id:t.id,isSharedAccessDialogOpen:l,setIsSharedAccessDialogOpen:a}):null,(0,C.tZ)(V,{isShared:e,...t}),(0,C.tZ)(I,{isShared:e,id:t.id,name:t.name,setIsSharedAccessDialogOpen:a}),D]})})},U=()=>{const{translate:e}=(0,y.Z)();return(0,C.BX)("article",{sx:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center"},children:[(0,C.tZ)(S.JO,{name:"FolderOutlined",sx:{width:"75px",height:"auto",marginBottom:"25px"},color:"ds.text.neutral.standard"}),(0,C.tZ)(S.X6,{as:"h2",textStyle:"ds.title.section.large",sx:{maxWidth:"480px",textAlign:"center"},children:e("webapp_collections_empty_view")})]})};var W=t(865470),q=t(380343),K=t(242714);const M={background:"ds.container.agnostic.neutral.supershy",borderRadius:"10px",boxShadow:"0 0 3px 0 rgba(0, 0, 0, 0.04), 0 1px 2px 0 rgba(0, 0, 0, 0.08)",cursor:"default",margin:"0 2px",":hover:enabled, :active:enabled, :focus:enabled":{background:"ds.container.agnostic.neutral.supershy"}},j={borderRadius:"10px",margin:"0 2px"},G=({isNotesViewDisplayed:e,setIsNotesViewDisplayed:i})=>{const t=(0,K.o)("sharingVault_web_Secure_Notes_in_Collections_dev"),{translate:n}=(0,y.Z)(),{secureNotes:l}=(0,q.y)();return t&&l?.length?(0,C.BX)("div",{sx:{background:"ds.container.expressive.neutral.quiet.disabled",borderRadius:"10px",margin:"0 32px",padding:"4px 2px",width:"fit-content"},children:[(0,C.tZ)(S.zx,{onClick:()=>i(!1),intensity:"supershy",mood:e?"neutral":"brand",sx:e?j:M,children:n("webapp_sidemenu_item_passwords")}),(0,C.tZ)(S.zx,{onClick:()=>i(!0),intensity:"supershy",mood:e?"brand":"neutral",sx:e?M:j,children:n("webapp_sidemenu_item_secure_notes")})]}):null};var $,Q,ee;const ie=()=>{var e;const{routes:i}=(0,c.Xo)(),t=`{${(0,l.UO)().collectionId}}`,{currentSpaceId:S}=(0,d.fV)(),{collections:m,sharedCollections:w,isCollectionsLoading:_,updateActiveCollection:b}=(0,x.b)(),{canShareCollection:D,hasSharingCollectionPaywall:O,isAdmin:y}=(0,Z.Te)(),v=(0,o.I)(),[k,f]=(0,n.useState)(!1);if((0,n.useEffect)((()=>((0,r.Nc)(a.PageView.CollectionDetails),()=>b(null))),[]),_||v.status!==s.rq.Success)return null;const I=(e=>i=>i.id===e)(t),A=null!=(e=m.find(I))?e:w.find(I);if(!A||null!==S&&A.spaceId!==S)return(0,C.tZ)(l.l_,{to:i.userCredentials});b(A);const{vaultItems:B,...V}=A;return(0,C.BX)(C.HY,{children:[(0,C.tZ)(L,{isPersonalSpaceDisabled:v.isDisabled,...V}),O&&y?(0,C.tZ)(Z.Li,{canShareCollection:D,sx:{margin:"24px"},clickOrigin:D?a.ClickOrigin.CollectionsSharingStarterLimitCloseToBeReachedMain:a.ClickOrigin.CollectionsSharingStarterLimitReachedMain}):null,B.length>0?(0,C.tZ)(u.Z,{ids:B.map((e=>e.id)),children:(0,C.tZ)(q.c,{ids:B.map((e=>e.id)),children:(0,C.tZ)(p.x,{children:(0,C.BX)(g.B,{children:[(0,C.tZ)(G,{isNotesViewDisplayed:k,setIsNotesViewDisplayed:f}),k?$||($=(0,C.tZ)(W.E,{})):Q||(Q=(0,C.tZ)(h.k,{}))]})})})}):ee||(ee=(0,C.tZ)(U,{}))]})}}}]);