"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[5283],{695283:(e,t,i)=>{i.r(t),i.d(t,{CollectionsOverview:()=>V});var l=i(696832),n=i(812027),o=i(524130);const r=(0,l.createContext)({}),a=(0,l.createContext)({}),c=({children:e})=>{const[t,i]=(0,l.useState)(""),n={searchValue:t},c=(0,l.useMemo)((()=>({setSearchValue:i})),[]);return(0,o.tZ)(r.Provider,{value:n,children:(0,o.tZ)(a.Provider,{value:c,children:e})})};var s=i(288455),d=i(634742);const u=()=>{const[e,t]=(0,l.useState)(!1);return(0,o.BX)(o.HY,{children:[(0,o.tZ)(s.t,{handleAddNew:()=>t(!0),shouldDisplayAddButton:!0,shouldDisplayNewAccountImportButton:!1}),e&&(0,o.tZ)(d.K7,{onClose:()=>t(!1)})]})};var h=i(218493);const p=e=>(0,o.tZ)("ul",{sx:{listStyle:"none",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(12rem, 1fr))",gap:"16px",padding:"32px",overflow:"auto"},...e});var x=i(364438),v=i(692077),g=i(488203),m=i(388131),C=i(433360);const Z=e=>(0,o.tZ)("article",{sx:{display:"flex",flexDirection:"column",gap:"6px",padding:"4px 4px 12px 12px",backgroundColor:"ds.container.expressive.neutral.quiet.idle",boxShadow:"0px 1px 1px 0px lightgrey",borderRadius:"6px","&:hover":{backgroundColor:"ds.container.expressive.neutral.quiet.hover"},cursor:"pointer"},...e}),_=({...e})=>(0,o.tZ)("div",{sx:{display:"flex",flex:"1 0 100%",alignItems:"center",justifyContent:"space-between"},...e});var y;const w=({collection:e})=>{const{translate:t}=(0,g.Z)(),{routes:i}=(0,v.Xo)();return(0,o.BX)(Z,{onClick:t=>{t.stopPropagation(),(0,v.uX)(i.userCollection(e.id))},children:[(0,o.BX)(_,{children:[y||(y=(0,o.tZ)(x.JO,{name:"FolderOutlined",size:"large",color:"ds.text.neutral.quiet"})),(0,o.tZ)("div",{onClick:e=>e.stopPropagation(),children:(0,o.tZ)(m.C,{collection:e})})]}),(0,o.tZ)(C.b,{isShared:!!e.isShared,spaceId:e.spaceId,children:(0,o.tZ)(x.X6,{as:"h3",textStyle:"ds.title.block.medium",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",marginRight:"6px"},children:e.name})}),(0,o.BX)(x.nv,{color:"ds.text.neutral.quiet",style:{fontWeight:"600"},children:[e.vaultItems.length," ",t("collections_overview_items_count")]})]})},S=()=>{const{translate:e}=(0,g.Z)();return(0,o.tZ)(x.X6,{as:"h2",textStyle:"ds.title.block.medium",color:"ds.text.neutral.standard",sx:{borderBottom:"1px solid ds.border.neutral.quiet.idle",margin:"0 32px",padding:"18px 0"},children:e("collections_overview_title")})};var b;const f=(0,l.memo)((()=>{const{allCollections:e}=(0,n.b)(),{searchValue:t}=(0,l.useContext)(r),[i,a]=(0,l.useState)(1);return(0,o.BX)(o.HY,{children:[b||(b=(0,o.tZ)(S,{})),(0,o.tZ)(h.C,{onNextPage:t=>{50*(t-1)<=e.length&&a(t)},hasMore:!0,ListComponent:p,children:e.filter((e=>e.name.toLowerCase().includes(t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()))).slice(0,50*i).map((e=>(0,o.tZ)("li",{children:(0,o.tZ)(w,{collection:e})},`collections_overview_${e.name}_${e.id}`)))})]})}));f.displayName="CollectionsGrid";var k=i(139378);const B=({onClick:e,isHidden:t})=>{const{translate:i}=(0,g.Z)();return(0,o.tZ)(x.JO,{"aria-hidden":t,title:i("collections_overview_search_clear_search"),name:"ActionCloseOutlined",onClick:e,sx:{alignSelf:"center",cursor:"pointer","&:hover":{opacity:t?"0":"100%"},visibility:t?"hidden":"visible",opacity:t?"0":"50%",transitionDuration:"200ms",transitionProperty:"opacity, visibility"}})};var X;const O=()=>{const{translate:e}=(0,g.Z)(),{setSearchValue:t}=(0,l.useContext)(a),[i,n]=(0,l.useState)(!1),r=(0,l.useRef)(null),c=(0,l.useCallback)((0,k.debounce)((e=>{t(e),n(!!e)}),200),[]),s=e("collections_overview_search_input_placeholder");return(0,o.tZ)(x.oi,{ref:r,placeholder:s,"aria-label":s,prefixIcon:X||(X=(0,o.tZ)(x.JO,{name:"ActionSearchOutlined",size:"medium"})),onChange:e=>{c(e.target.value)},actionButtons:[(0,o.tZ)(B,{onClick:()=>{r.current&&(r.current.value="",r.current.focus()),t(""),n(!1)},isHidden:!i},"clear-collections-search")],autoFocus:!0,intensity:"quiet",sx:{maxWidth:"300px",margin:"16px 32px"}})};var A=i(926897),P=i(97227);const q=()=>{const{canShareCollection:e,hasSharingCollectionPaywall:t,isAdmin:i}=(0,P.Te)();return t&&i?(0,o.tZ)(P.Li,{canShareCollection:e,sx:{margin:"16px 32px"},clickOrigin:e?A.ClickOrigin.CollectionsSharingStarterLimitCloseToBeReachedMain:A.ClickOrigin.CollectionsSharingStarterLimitReachedMain}):null};var L=i(45272);const D=()=>{const{translate:e}=(0,g.Z)(),[t,i]=(0,l.useState)(!1);return(0,o.BX)("div",{sx:{margin:"auto",textAlign:"center",width:"700px",display:"flex",flexDirection:"column",gap:"20px"},children:[(0,o.tZ)(x.X6,{as:"h1",textStyle:"ds.title.section.medium",color:"ds.text.neutral.catchy",children:e("collections_overview_create_title")}),(0,o.tZ)(x.nv,{color:"ds.text.neutral.quiet",children:e("collections_overview_create_description")}),(0,o.tZ)(x.zx,{layout:"iconLeading",icon:"ActionAddOutlined",onClick:()=>{i(!0),(0,L.Nc)(A.PageView.CollectionCreate)},sx:{margin:"auto"},children:e("collections_dialog_create_header_title")}),t&&(0,o.tZ)(d.K7,{onClose:()=>i(!1)})]})};var H,I,N,R,T;const V=()=>{const{allCollections:e}=(0,n.b)(),t=e.length>0;return(0,o.BX)(o.HY,{children:[H||(H=(0,o.tZ)(u,{})),(0,o.BX)(c,{children:[I||(I=(0,o.tZ)(q,{})),t?(0,o.BX)(o.HY,{children:[N||(N=(0,o.tZ)(O,{})),R||(R=(0,o.tZ)(f,{}))]}):T||(T=(0,o.tZ)(D,{}))]})]})}}}]);