"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[3091],{763091:(e,t,i)=>{i.r(t),i.d(t,{CollectionView:()=>ne});var n=i(696832),l=i(15192),o=i(926897),a=i(148038),s=i(980936),r=i(45272),c=i(692077),d=i(619122),h=i(779206),p=i(162735),u=i(488795),g=i(371060),_=i(97227),Z=i(812027),S=i(364438),b=i(433360),m=i(351276),x=i(145106),w=i(663146),C=i(524130);const D=(0,C.BX)(C.HY,{children:[(0,C.tZ)(x.D,{}),(0,C.tZ)(w.E,{})]});var y,O=i(604400),v=i(488203),f=i(360345),T=i(555357),k=i(634742),I=i(884193);const V=e=>{const{translate:t}=(0,v.Z)(),[i,l]=(0,n.useState)(!1),{canDelete:o,role:a}=(0,T.n)(e.id);return(0,C.BX)(S.u,{content:(0,C.tZ)(I.V,{tooltipTitle:t("webapp_collection_action_disabled_editor_title"),tooltipDescription:t("webapp_collection_action_disabled_editor_description")}),passThrough:a!==O.Yt.Editor,wrapTrigger:!0,children:[(0,C.tZ)(f.x,{disabled:!o,onClick:()=>l(!0),icon:y||(y=(0,C.tZ)(S.JO,{name:"ActionDeleteOutlined"})),children:t("collections_delete_button_text")}),(0,C.tZ)(k.AN,{isOpen:i,onClose:()=>l(!1),...e})]})};var A,B=i(806697);const X=e=>{const{translate:t}=(0,v.Z)(),[i,l]=(0,n.useState)(!1),{canEdit:a}=(0,T.n)(e.id),{openDialog:s,shouldShowFrozenStateDialog:c}=(0,B.Ub)(),{role:d}=(0,T.n)(e.id);return(0,C.BX)(S.u,{content:(0,C.tZ)(I.V,{tooltipTitle:t("webapp_collection_action_disabled_editor_title"),tooltipDescription:t("webapp_collection_action_disabled_editor_description")}),passThrough:d!==O.Yt.Editor,wrapTrigger:!0,children:[(0,C.tZ)(f.x,{disabled:!a,onClick:()=>{c?s():((0,r.Nc)(o.PageView.CollectionEdit),l(!0))},icon:A||(A=(0,C.tZ)(S.JO,{name:"ActionEditOutlined"})),children:t("_common_action_edit")}),i&&(0,C.tZ)(k.mu,{onClose:()=>l(!1),...e})]})};var E;const N=({id:e,isSharedAccessDialogOpen:t,setIsSharedAccessDialogOpen:i})=>{const{translate:n}=(0,v.Z)();return(0,C.BX)(C.HY,{children:[(0,C.tZ)(f.x,{onClick:()=>{(0,r.Kz)(new o.UserSharingStartEvent({sharingFlowType:o.SharingFlowType.CollectionSharing,collectionId:e,origin:o.Origin.CollectionDetailView})),i(!0)},icon:E||(E=(0,C.tZ)(S.JO,{name:"SharedOutlined"})),children:n("webapp_sharing_collection_access_dialog_title")}),t&&(0,C.tZ)(k.Zy,{onClose:()=>i(!1),id:e})]})};var z,R=i(859973),F=i(99822),Y=i(253133),J=i(360295),L=i(426642),P=i(267678),H=i(485281),U=i(380343);const M=({id:e})=>{var t;const i=(0,H.G)(),n=(0,R.k)(),[l,a]=(0,Y.A)(e),{role:s,canShare:c,sharingDisabledReason:d}=(0,T.n)(e),{openDialog:h,closeDialog:p}=(0,P.R)(),{translate:u}=(0,v.Z)(),{isStarterTeam:g,isAdmin:Z}=(0,_.Te)(),b=g&&!Z&&s===O.Yt.Manager,{secureNotes:m}=(0,U.y)(),x=m.some((e=>e.attachments?.length)),w=!b&&!c||a!==Y.z.Complete||x,D=(0,I.S)(d)?.title,y=(0,I.S)(d)?.description;return(0,C.tZ)(S.u,{content:(0,C.tZ)(I.V,{tooltipTitle:D?u(D):"",tooltipDescription:y?u(y):""}),passThrough:!w||!D&&!y,wrapTrigger:!0,children:(0,C.tZ)(f.x,{onClick:()=>{if((0,r.Kz)(new o.UserSharingStartEvent({sharingFlowType:o.SharingFlowType.CollectionSharing,collectionId:e,origin:o.Origin.CollectionDetailView})),n){const t=!i&&a===Y.z.Complete&&l?(0,F.wu)(e):(0,F.H4)(e);h((0,C.tZ)(J.Z,{sharing:t,onDismiss:p,origin:o.Origin.CollectionDetailView}))}else h(t||(t=(0,C.tZ)(L.z,{closeDialog:p})))},icon:z||(z=(0,C.tZ)(S.JO,{name:"ActionShareOutlined"})),disabled:w,children:u("_common_action_share")})})},W=({isShared:e=!1,isPersonalSpaceDisabled:t,...i})=>{const[l,o]=(0,n.useState)(!1);return(0,C.tZ)(m.h,{sx:{marginRight:"16px"},startWidgets:()=>(0,C.tZ)(b.b,{isShared:e,spaceId:t?void 0:i.spaceId,children:(0,C.tZ)(S.X6,{as:"h1",textStyle:"ds.title.section.large",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:i.name})}),endWidget:(0,C.BX)(C.HY,{children:[i?.spaceId?(0,C.tZ)(M,{id:i.id}):null,e?(0,C.tZ)(N,{id:i.id,isSharedAccessDialogOpen:l,setIsSharedAccessDialogOpen:o}):null,(0,C.tZ)(X,{isShared:e,...i}),(0,C.tZ)(V,{isShared:e,id:i.id,name:i.name,setIsSharedAccessDialogOpen:o}),D]})})},q=()=>{const{translate:e}=(0,v.Z)();return(0,C.BX)("article",{sx:{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center"},children:[(0,C.tZ)(S.JO,{name:"FolderOutlined",sx:{width:"75px",height:"auto",marginBottom:"25px"},color:"ds.text.neutral.standard"}),(0,C.tZ)(S.X6,{as:"h2",textStyle:"ds.title.section.large",sx:{maxWidth:"480px",textAlign:"center"},children:e("webapp_collections_empty_view")})]})};var K=i(865470),j=i(242714);const G={background:"ds.container.agnostic.neutral.supershy",borderRadius:"10px",boxShadow:"0 0 3px 0 rgba(0, 0, 0, 0.04), 0 1px 2px 0 rgba(0, 0, 0, 0.08)",cursor:"default",margin:"0 2px",":hover:enabled, :active:enabled, :focus:enabled":{background:"ds.container.agnostic.neutral.supershy"}},$={borderRadius:"10px",margin:"0 2px"},Q=({isNotesViewDisplayed:e,setIsNotesViewDisplayed:t})=>{const i=(0,j.o)("sharingVault_web_Secure_Notes_in_Collections_dev"),l=(0,j.o)("sharingVault_web_Secure_Notes_in_Collections_prod"),o=i||l,{translate:a}=(0,v.Z)(),{secureNotes:s}=(0,U.y)(),r=(0,u.h)();return(0,n.useEffect)((()=>(!r&&s?.length>0?t(!0):r&&!s?.length&&t(!1),()=>{t(!1)})),[r,s]),!o||!s?.length||!r&&s.length>0?null:(0,C.BX)("div",{sx:{background:"ds.container.expressive.neutral.quiet.disabled",borderRadius:"10px",margin:"0 32px",padding:"4px 2px",width:"fit-content"},children:[(0,C.tZ)(S.zx,{onClick:()=>t(!1),intensity:"supershy",mood:e?"neutral":"brand",sx:e?$:G,children:a("webapp_sidemenu_item_passwords")}),(0,C.tZ)(S.zx,{onClick:()=>t(!0),intensity:"supershy",mood:e?"brand":"neutral",sx:e?G:$,children:a("webapp_sidemenu_item_secure_notes")})]})};var ee,te,ie;const ne=()=>{var e;const{routes:t}=(0,c.Xo)(),i=`{${(0,l.UO)().collectionId}}`,{currentSpaceId:S}=(0,d.fV)(),{collections:b,sharedCollections:m,isCollectionsLoading:x,updateActiveCollection:w}=(0,Z.b)(),{canShareCollection:D,hasSharingCollectionPaywall:y,isAdmin:O}=(0,_.Te)(),v=(0,s.I)(),[f,T]=(0,n.useState)(!1);if((0,n.useEffect)((()=>((0,r.Nc)(o.PageView.CollectionDetails),()=>w(null))),[]),x||v.status!==a.rq.Success)return null;const k=(e=>t=>t.id===e)(i),I=null!=(e=b.find(k))?e:m.find(k);if(!I||null!==S&&I.spaceId!==S)return(0,C.tZ)(l.l_,{to:t.userCredentials});w(I);const{vaultItems:V,...A}=I;return(0,C.tZ)(p.Z,{ids:V.map((e=>e.id)),children:(0,C.BX)(U.c,{ids:V.map((e=>e.id)),children:[(0,C.tZ)(W,{isPersonalSpaceDisabled:v.isDisabled,...A}),y&&O?(0,C.tZ)(_.Li,{canShareCollection:D,sx:{margin:"24px"},clickOrigin:D?o.ClickOrigin.CollectionsSharingStarterLimitCloseToBeReachedMain:o.ClickOrigin.CollectionsSharingStarterLimitReachedMain}):null,V.length>0?(0,C.tZ)(u.x,{children:(0,C.BX)(g.B,{children:[(0,C.tZ)(Q,{isNotesViewDisplayed:f,setIsNotesViewDisplayed:T}),f?(0,C.tZ)("div",{sx:{marginLeft:"42px"},children:ee||(ee=(0,C.tZ)(K.E,{}))}):te||(te=(0,C.tZ)(h.k,{}))]})}):ie||(ie=(0,C.tZ)(q,{}))]})})}}}]);