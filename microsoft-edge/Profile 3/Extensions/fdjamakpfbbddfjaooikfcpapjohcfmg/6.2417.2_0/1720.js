"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[1720],{363338:(e,t,a)=>{a.d(t,{N:()=>s});var n=a(696832),l=a(383849),o=a.n(l);var i=a(524130);const s=({disableHover:e=!1,...t})=>{const[a,l]=n.useState(!1),{children:[s,...r]=[]}=t;return(0,i.BX)("div",{className:"buttonsContainer--TiPIoxROXR",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[s,t.enabled&&(0,i.tZ)("span",{className:o()("buttons--p98QFrEo3f",{"visible--aWYlZRshE_":e||a}),children:r})]})}},611913:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(696832),l=a(554712),o=a(383849),i=a.n(o),s=a(526849),r=a(957459),d=a(158549),p=a.n(d),c=a(573630);const h={container:"container--Qypu77vxOn",containerMultiLine:"containerMultiLine--ncWYFwQEnR",_field:"_field--KII5X4xmLN",input:"input--Iq10hxAz32 _field--KII5X4xmLN",inputRow:"inputRow--gdD_j5S1R8",textarea:"textarea--VpIWTZemV2 _field--KII5X4xmLN",label:"label--Ww_r49kt_J",text:"text--oXyCzpUMwG",value:"value--aD7nWEqBIq",multiline:"multiline--fdPM1KFHPT"};var u=a(524130);const _=e=>{navigator.clipboard.writeText(e.replaceAll(" ",""))};class m extends n.Component{constructor(e){super(e),this.field=void 0,this.handleChange=e=>{this.setState({selectionRangeStart:e.target.selectionStart,selectionRangeEnd:e.target.selectionEnd}),this.props.onChange&&this.props.onChange(e)},this.state={fieldHtmlId:(0,r.Z)(),selectionRangeStart:null,selectionRangeEnd:null}}componentDidUpdate(){null!==this.state.selectionRangeStart&&null!==this.state.selectionRangeEnd&&this.field.setSelectionRange(this.state.selectionRangeStart,this.state.selectionRangeEnd)}shouldComponentUpdate(e,t){return!((0,s.equals)(this.props.value,e.value)&&(0,s.equals)(this.props.error,e.error)&&(0,s.equals)(this.props.mask,e.mask)&&(0,s.equals)(this.props.label,e.label)&&(0,s.equals)(this.state.selectionRangeStart,t.selectionRangeStart)&&(0,s.equals)(this.state.selectionRangeEnd,t.selectionRangeEnd))}getValue(){return this.field.value}focus(){this.field.focus()}getTextarea(){var e;return(0,u.tZ)(l.Z,{inputRef:e=>{this.field=e},id:this.state.fieldHtmlId,disabled:this.props.disabled,value:null!=(e=this.props.value)?e:"",name:this.props.name,"data-name":this.props.dataName,sx:{borderColor:this.props.error&&"ds.border.danger.standard.idle"},className:h.textarea,placeholder:this.props.placeholder,onBlur:this.props.handleFieldBlur,onKeyDown:this.props.onFieldKeyDown,onChange:this.handleChange,readOnly:this.props.readOnly})}getInput(){var e;const t={onBlur:this.props.handleFieldBlur,onChange:this.handleChange,disabled:this.props.disabled,readOnly:this.props.readOnly,value:null!=(e=this.props.value)?e:""},a={ref:e=>{this.field=e},id:this.state.fieldHtmlId,autoComplete:"off",className:i()(h.input,{[h.error]:Boolean(this.props.error)}),sx:{...this.props.error&&{"::placeholder":{color:"ds.text.danger.quiet"},minWidth:"fit-content"},border:"1px solid",borderColor:this.props.error?"ds.border.danger.standard.idle":"transparent"},name:this.props.name,"data-name":this.props.dataName,type:this.props.type||"text",placeholder:this.props.placeholder,onKeyDown:this.props.onFieldKeyDown};return this.props.mask?(0,u.tZ)(p(),{...t,...this.props.maskProps,mask:this.props.mask,onCopy:()=>_(t.value),onCut:()=>_(t.value),children:e=>(0,u.tZ)("input",{...a,...e})}):(0,u.BX)("div",{className:h.inputRow,children:[(0,u.tZ)("input",{...a,...t}),(0,u.tZ)("div",{hidden:!this.props.error||"string"!=typeof this.props.error,sx:{color:"ds.text.danger.quiet"},className:h.errorMessage,children:this.props.error})]})}render(){const e="password"!==this.props.type?this.props.value||this.props.placeholder:"";return(0,u.BX)("div",{className:i()(h.container,this.props.multiLine?h.containerMultiLine:null),children:[this.props.label&&(0,u.tZ)("label",{className:h.label,sx:{color:"ds.text.neutral.catchy"},htmlFor:this.state.fieldHtmlId,children:(0,u.tZ)("span",{className:h.text,title:this.props.label,children:this.props.label})}),(0,u.tZ)(c.Z,{tooltipText:e,className:i()(h.value,{[h.placeholder]:!this.props.value,[h.multiline]:this.props.multiLine}),children:this.props.multiLine?this.getTextarea():this.getInput()})]})}}m.defaultProps={maskProps:{maskChar:""}}},504085:(e,t,a)=>{a.d(t,{Z:()=>c});var n=a(696832),l=a(526849),o=a(383849),i=a.n(o),s=a(957459);var r=a(855541),d=a(524130);function p(e,t){const a=e.find((e=>String(e.value)===String(t)));return null!=a?a:null}class c extends n.Component{constructor(e){super(e),this.select=n.createRef(),this.handleChange=e=>{const t=e.target;if(!t)return;const a=t.value,n=p(this.props.options,a);this.setState({optionSelected:n}),this.props.onChange&&this.props.onChange(e)},this.handleKeyDown=e=>{"Enter"===e.key&&e.preventDefault(),this.props.onFieldKeyDown?.(e)},this.handleFocus=()=>{this.setState({isSelectFocused:!0})},this.handleBlur=()=>{this.setState({isSelectFocused:!1})};let t=null;this.props.options.length&&(t=p(this.props.options,null===this.props.defaultOption?(0,l.head)(this.props.options).value:this.props.defaultOption.value)),this.state={fieldHtmlId:(0,s.Z)(),optionSelected:t,isSelectFocused:!1}}getValue(){if(!this.select.current)throw new Error("select ref not initialized");return this.select.current.value}render(){var e;const t=this.props.marginSide||"none",a=i()("selectContainer--mo5uz0qo56",r.Z[t],{"transparent--pz8wb74Jmh":this.props.isTransparent,"disabled--I9BAM7Vdre":this.props.disabled,"focused--ietgHqFLIm":this.state.isSelectFocused}),n=i()("selector--fgNHKzkAC3",this.props.classNames);let o;this.state.optionSelected?o=this.state.optionSelected.value:this.props.options.length&&(o=null===this.props.defaultOption?(0,l.head)(this.props.options).value:this.props.defaultOption.value);const s=this.state.optionSelected?this.state.optionSelected.selectedLabel?this.state.optionSelected.selectedLabel:this.state.optionSelected.label:this.props.placeholder;return(0,d.BX)("div",{className:"container--KChkEdb4YV",children:[this.props.label&&(0,d.tZ)("label",{className:r.Z.label,color:"ds.text.neutral.catchy",htmlFor:this.state.fieldHtmlId,title:this.props.label,children:this.props.label}),(0,d.BX)("div",{className:a,children:[(0,d.BX)("div",{className:n,children:[this.state.optionSelected&&this.state.optionSelected.icon&&(0,d.tZ)("span",{className:"icon--p3a7nsSbg9",children:this.state.optionSelected.icon}),(0,d.tZ)("span",{className:"text--SjkXyB7Kyp",sx:{color:"ds.text.neutral.catchy"},children:s})]}),(0,d.tZ)("select",{className:r.Z.select,ref:this.select,id:this.state.fieldHtmlId,value:o,name:this.props.name,disabled:this.props.disabled,"data-name":this.props.dataName,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,"aria-label":null!=(e=this.props.ariaLabel)?e:this.props.label,children:this.props.options.map((e=>(0,d.tZ)("option",{disabled:e.disabled,value:String(e.value),children:e.label},e.value)))},this.state.fieldHtmlId)]})]})}}},908940:(e,t,a)=>{a.d(t,{o:()=>D,e:()=>H});var n=a(696832),l=a(575257),o=a(926897),i=a(364438),s=a(488203),r=a(611913),d=a(504085),p=a(363338),c=a(45272),h=a(806697),u=a(921310),_=a(868819),m=a(167406),b=a(914662);const I="webapp_payment_edition_field_bank_account_BIC",C="webapp_payment_edition_field_bank_account_no_BIC_placeholder",v="webapp_payment_edition_field_bank_account_account_number",f="webapp_payment_edition_field_bank_account_no_account_number_placeholder",B="webapp_payment_alert_bank_account_BIC_copied",y="webapp_payment_alert_bank_account_account_number_copied";var g=a(148038),k=a(740300);const w={},N=e=>e!==w,E=[],S=e=>{const t=(()=>{const e=n.useRef(w),t=(0,g.qr)({queryConfig:{query:k.C.getAllBanks}},[]);return N(e.current)||t.status!==g.rq.Success||(e.current=t.data),e.current})();return n.useMemo((()=>{var a;if(!N(t))return E;const n=(null!=(a=t[e])?a:[]).slice();return n.sort(((e,t)=>e.localizedString.localeCompare(t.localizedString))),n}),[t,e])};var Z=a(524130);const A="webapp_payment_edition_field_bank_account_action_hide",R="webapp_payment_edition_field_bank_account_action_show",x="webapp_payment_edition_field_bank_account_country",L="webapp_payment_edition_field_bank_account_bank_name",P=(e,t)=>e.find((({value:e})=>e===t)),O=e=>null===e.buttons?(0,Z.tZ)(Z.HY,{children:e.children}):(0,Z.BX)(p.N,{enabled:e.showButtonsOnHover,disableHover:!0,children:[e.children,e.buttons]}),D=(0,n.forwardRef)(((e,t)=>{var a;const{bankAccount:p,errors:g=new Set,signalEditedValues:k}=e,{bankCode:w,accountName:N,IBAN:D,BIC:H,ownerName:F,spaceId:T,country:q}=p,K=D.length>0,X=H.length>0,[z,V]=(0,n.useState)(!X),[U,M]=(0,n.useState)(!K),{translate:W}=(0,s.Z)(),{shouldShowFrozenStateDialog:Y}=(0,h.Ub)(),j="edit"===e.variant?!e.areProtectedItemsUnlocked:void 0,Q=(e=>{switch(e){case b.cH.MX:return{IBAN:"webapp_payment_edition_field_bank_account_CLABE",BIC:I,IBAN_PLACEHOLDER:"webapp_payment_edition_field_bank_account_no_CLABE_placeholder",BIC_PLACEHOLDER:C,IBAN_COPIED:"webapp_payment_alert_bank_account_CLABE_copied",BIC_COPIED:B};case b.cH.GB:return{IBAN:v,BIC:"webapp_payment_edition_field_bank_account_sort_code",IBAN_PLACEHOLDER:f,BIC_PLACEHOLDER:"webapp_payment_edition_field_bank_account_no_sort_code_placeholder",IBAN_COPIED:y,BIC_COPIED:"webapp_payment_alert_bank_account_sort_code_copied"};case b.cH.US:return{IBAN:v,BIC:"webapp_payment_edition_field_bank_account_routing_number",IBAN_PLACEHOLDER:f,BIC_PLACEHOLDER:"webapp_payment_edition_field_bank_account_no_routing_number_placeholder",IBAN_COPIED:y,BIC_COPIED:"webapp_payment_alert_bank_account_routing_number_copied"};default:return{IBAN:"webapp_payment_edition_field_bank_account_IBAN",BIC:I,IBAN_PLACEHOLDER:"webapp_payment_edition_field_bank_account_no_IBAN_placeholder",BIC_PLACEHOLDER:C,IBAN_COPIED:"webapp_payment_alert_bank_account_IBAN_copied",BIC_COPIED:B}}})(q),$=e=>t=>{const a="string"==typeof t?t:t.target.value;k({...p,[e]:a})},G="edit"===e.variant?t=>{(0,c.Kz)(new o.UserRevealVaultItemFieldEvent({field:t,isProtected:!0,itemId:e.itemId,itemType:o.ItemType.BankStatement}))}:void 0,J="edit"===e.variant?()=>{!z&&G&&G(o.Field.Bic);const t=()=>V((e=>!e));j&&"function"==typeof e.openProtectedItemsUnlocker?e.openProtectedItemsUnlocker({action:_.P.Show,itemType:_.R.BankAccount,successCallback:t}):t()}:void 0,ee="edit"===e.variant?()=>{!U&&G&&G(o.Field.Iban);const t=()=>M((e=>!e));j&&"function"==typeof e.openProtectedItemsUnlocker?e.openProtectedItemsUnlocker({action:_.P.Show,itemType:_.R.BankAccount,successCallback:t}):t()}:void 0,te="edit"===e.variant?t=>{(0,c.Kz)(new o.UserCopyVaultItemFieldEvent({itemType:o.ItemType.BankStatement,field:o.Field.Bic,itemId:e.itemId,isProtected:!0})),t&&e.onCopy(W(Q.BIC_COPIED))}:void 0,ae="edit"===e.variant?t=>{(0,c.Kz)(new o.UserCopyVaultItemFieldEvent({itemType:o.ItemType.BankStatement,field:o.Field.Iban,itemId:e.itemId,isProtected:!0})),t&&e.onCopy(W(Q.IBAN_COPIED))}:void 0,ne=S(q),le=ne!==E,oe=(0,n.useMemo)((()=>ne.map((e=>({label:e.localizedString,value:`${e.code}`})))),[ne]);(0,n.useEffect)((()=>{void 0===P(oe,w)&&oe.length>0&&k({...p,bankCode:oe[0].value},!0),""!==w&&!oe.length&&le&&k({...p,bankCode:""})}),[w,p,oe,le,k]);const ie=((e,t)=>e.filter((e=>!(l.c[e]===l.c.UNIVERSAL||l.c[e]===l.c.NO_TYPE))).map((e=>({label:t(`country_name_${l.c[e]}`),value:l.c[e]}))).sort(((e,t)=>e.label.localeCompare(t.label))))(Object.keys(l.c),W);return(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)(r.Z,{value:N,label:W("webapp_payment_edition_field_bank_account_name"),placeholder:W("webapp_payment_edition_field_bank_account_no_name_placeholder"),onChange:$("accountName"),ref:t,disabled:!!Y},"name"),(0,Z.tZ)(r.Z,{value:F,label:W("webapp_payment_edition_field_bank_account_owner_name"),placeholder:W("webapp_payment_edition_field_bank_account_no_owner_name_placeholder"),onChange:$("ownerName"),disabled:!!Y},"owner"),(0,Z.tZ)(O,{showButtonsOnHover:X,buttons:"edit"===e.variant?(0,Z.BX)(Z.HY,{children:[J?(0,Z.tZ)(i.zx,{mood:"neutral",intensity:"quiet",sx:{marginRight:"8px"},onClick:J,children:W(z?A:R)}):null,te&&void 0!==j?(0,Z.tZ)(u.m,{data:H,checkProtected:()=>j,onCopy:te,itemType:_.R.BankAccount}):null]}):null,children:(0,Z.tZ)(r.Z,{disabled:!z&&X||!!Y,value:z?H:"●●●●●●",label:W(Q.BIC),placeholder:W(Q.BIC_PLACEHOLDER),type:"text",onChange:$("BIC"),error:g.has("BIC")},"BIC")}),(0,Z.tZ)(O,{showButtonsOnHover:K,buttons:"edit"===e.variant?(0,Z.BX)(Z.HY,{children:[ee?(0,Z.tZ)(i.zx,{mood:"neutral",intensity:"quiet",sx:{marginRight:"8px"},onClick:ee,children:W(U?A:R)}):null,ae&&void 0!==j?(0,Z.tZ)(u.m,{data:D,checkProtected:()=>j,onCopy:ae,itemType:_.R.BankAccount}):null]}):null,children:(0,Z.tZ)(r.Z,{label:W(Q.IBAN),placeholder:W(Q.IBAN_PLACEHOLDER),dataName:"IBAN",disabled:!U&&K||!!Y,type:"text",value:U?D:"●●●●●●●●●●●●●●●●",onChange:$("IBAN"),error:g.has("IBAN")},"IBAN")}),(0,Z.tZ)(d.Z,{label:W(x),placeholder:W(x)+q,onChange:$("country"),options:ie,defaultOption:{label:W(`country_name_${q}`),value:q},disabled:!!Y},"country"),oe.length>0?(0,Z.tZ)(d.Z,{label:W(L),placeholder:W(L)+w,onChange:$("bankCode"),options:oe,defaultOption:null!=(a=P(oe,w))?a:oe[0],disabled:!!Y},`${q}bank`):null,(0,Z.tZ)(m.M,{spaceId:null!=T?T:"",labelSx:m.e,onChange:e=>$("spaceId")(e),disabled:!!Y})]})})),H=e=>e.BIC||e.IBAN?{isValid:!0}:{isValid:!1,errorSet:new Set(["BIC","IBAN"])}},860062:(e,t,a)=>{a.d(t,{L:()=>o}),a(696832);var n=a(310789);var l=a(524130);const o=()=>(0,l.tZ)("div",{className:"iconWrapper--JneIZUVWyv",children:(0,l.tZ)(n.QCj,{size:48,color:n.colors.white})})},855541:(e,t,a)=>{a.d(t,{Z:()=>n});const n={left:"left--jltGqC2ld6",right:"right--r4mXfTZRXo",select:"select--ivbO452zoA",disable:"disable--F2KcdR2ssV",label:"label--EhkwVb63v9"}}}]);