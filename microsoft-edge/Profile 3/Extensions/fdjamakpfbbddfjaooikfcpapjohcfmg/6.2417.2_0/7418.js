"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[7418],{611913:(e,t,a)=>{a.d(t,{Z:()=>b});var s=a(696832),l=a(554712),n=a(383849),o=a.n(n),i=a(526849),r=a(957459),p=a(158549),h=a.n(p),d=a(573630);const c={container:"container--Qypu77vxOn",containerMultiLine:"containerMultiLine--ncWYFwQEnR",_field:"_field--KII5X4xmLN",input:"input--Iq10hxAz32 _field--KII5X4xmLN",inputRow:"inputRow--gdD_j5S1R8",textarea:"textarea--VpIWTZemV2 _field--KII5X4xmLN",label:"label--Ww_r49kt_J",text:"text--oXyCzpUMwG",value:"value--aD7nWEqBIq",multiline:"multiline--fdPM1KFHPT"};var u=a(524130);const m=e=>{navigator.clipboard.writeText(e.replaceAll(" ",""))};class b extends s.Component{constructor(e){super(e),this.field=void 0,this.handleChange=e=>{this.setState({selectionRangeStart:e.target.selectionStart,selectionRangeEnd:e.target.selectionEnd}),this.props.onChange&&this.props.onChange(e)},this.state={fieldHtmlId:(0,r.Z)(),selectionRangeStart:null,selectionRangeEnd:null}}componentDidUpdate(){null!==this.state.selectionRangeStart&&null!==this.state.selectionRangeEnd&&this.field.setSelectionRange(this.state.selectionRangeStart,this.state.selectionRangeEnd)}shouldComponentUpdate(e,t){return!((0,i.equals)(this.props.value,e.value)&&(0,i.equals)(this.props.error,e.error)&&(0,i.equals)(this.props.mask,e.mask)&&(0,i.equals)(this.props.label,e.label)&&(0,i.equals)(this.state.selectionRangeStart,t.selectionRangeStart)&&(0,i.equals)(this.state.selectionRangeEnd,t.selectionRangeEnd))}getValue(){return this.field.value}focus(){this.field.focus()}getTextarea(){var e;return(0,u.tZ)(l.Z,{inputRef:e=>{this.field=e},id:this.state.fieldHtmlId,disabled:this.props.disabled,value:null!=(e=this.props.value)?e:"",name:this.props.name,"data-name":this.props.dataName,sx:{borderColor:this.props.error&&"ds.border.danger.standard.idle"},className:c.textarea,placeholder:this.props.placeholder,onBlur:this.props.handleFieldBlur,onKeyDown:this.props.onFieldKeyDown,onChange:this.handleChange,readOnly:this.props.readOnly})}getInput(){var e;const t={onBlur:this.props.handleFieldBlur,onChange:this.handleChange,disabled:this.props.disabled,readOnly:this.props.readOnly,value:null!=(e=this.props.value)?e:""},a={ref:e=>{this.field=e},id:this.state.fieldHtmlId,autoComplete:"off",className:o()(c.input,{[c.error]:Boolean(this.props.error)}),sx:{...this.props.error&&{"::placeholder":{color:"ds.text.danger.quiet"},minWidth:"fit-content"},border:"1px solid",borderColor:this.props.error?"ds.border.danger.standard.idle":"transparent"},name:this.props.name,"data-name":this.props.dataName,type:this.props.type||"text",placeholder:this.props.placeholder,onKeyDown:this.props.onFieldKeyDown};return this.props.mask?(0,u.tZ)(h(),{...t,...this.props.maskProps,mask:this.props.mask,onCopy:()=>m(t.value),onCut:()=>m(t.value),children:e=>(0,u.tZ)("input",{...a,...e})}):(0,u.BX)("div",{className:c.inputRow,children:[(0,u.tZ)("input",{...a,...t}),(0,u.tZ)("div",{hidden:!this.props.error||"string"!=typeof this.props.error,sx:{color:"ds.text.danger.quiet"},className:c.errorMessage,children:this.props.error})]})}render(){const e="password"!==this.props.type?this.props.value||this.props.placeholder:"";return(0,u.BX)("div",{className:o()(c.container,this.props.multiLine?c.containerMultiLine:null),children:[this.props.label&&(0,u.tZ)("label",{className:c.label,sx:{color:"ds.text.neutral.catchy"},htmlFor:this.state.fieldHtmlId,children:(0,u.tZ)("span",{className:c.text,title:this.props.label,children:this.props.label})}),(0,u.tZ)(d.Z,{tooltipText:e,className:o()(c.value,{[c.placeholder]:!this.props.value,[c.multiline]:this.props.multiLine}),children:this.props.multiLine?this.getTextarea():this.getInput()})]})}}b.defaultProps={maskProps:{maskChar:""}}},504085:(e,t,a)=>{a.d(t,{Z:()=>d});var s=a(696832),l=a(526849),n=a(383849),o=a.n(n),i=a(957459);var r=a(855541),p=a(524130);function h(e,t){const a=e.find((e=>String(e.value)===String(t)));return null!=a?a:null}class d extends s.Component{constructor(e){super(e),this.select=s.createRef(),this.handleChange=e=>{const t=e.target;if(!t)return;const a=t.value,s=h(this.props.options,a);this.setState({optionSelected:s}),this.props.onChange&&this.props.onChange(e)},this.handleKeyDown=e=>{"Enter"===e.key&&e.preventDefault(),this.props.onFieldKeyDown?.(e)},this.handleFocus=()=>{this.setState({isSelectFocused:!0})},this.handleBlur=()=>{this.setState({isSelectFocused:!1})};let t=null;this.props.options.length&&(t=h(this.props.options,null===this.props.defaultOption?(0,l.head)(this.props.options).value:this.props.defaultOption.value)),this.state={fieldHtmlId:(0,i.Z)(),optionSelected:t,isSelectFocused:!1}}getValue(){if(!this.select.current)throw new Error("select ref not initialized");return this.select.current.value}render(){var e;const t=this.props.marginSide||"none",a=o()("selectContainer--mo5uz0qo56",r.Z[t],{"transparent--pz8wb74Jmh":this.props.isTransparent,"disabled--I9BAM7Vdre":this.props.disabled,"focused--ietgHqFLIm":this.state.isSelectFocused}),s=o()("selector--fgNHKzkAC3",this.props.classNames);let n;this.state.optionSelected?n=this.state.optionSelected.value:this.props.options.length&&(n=null===this.props.defaultOption?(0,l.head)(this.props.options).value:this.props.defaultOption.value);const i=this.state.optionSelected?this.state.optionSelected.selectedLabel?this.state.optionSelected.selectedLabel:this.state.optionSelected.label:this.props.placeholder;return(0,p.BX)("div",{className:"container--KChkEdb4YV",children:[this.props.label&&(0,p.tZ)("label",{className:r.Z.label,color:"ds.text.neutral.catchy",htmlFor:this.state.fieldHtmlId,title:this.props.label,children:this.props.label}),(0,p.BX)("div",{className:a,children:[(0,p.BX)("div",{className:s,children:[this.state.optionSelected&&this.state.optionSelected.icon&&(0,p.tZ)("span",{className:"icon--p3a7nsSbg9",children:this.state.optionSelected.icon}),(0,p.tZ)("span",{className:"text--SjkXyB7Kyp",sx:{color:"ds.text.neutral.catchy"},children:i})]}),(0,p.tZ)("select",{className:r.Z.select,ref:this.select,id:this.state.fieldHtmlId,value:n,name:this.props.name,disabled:this.props.disabled,"data-name":this.props.dataName,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,"aria-label":null!=(e=this.props.ariaLabel)?e:this.props.label,children:this.props.options.map((e=>(0,p.tZ)("option",{disabled:e.disabled,value:String(e.value),children:e.label},e.value)))},this.state.fieldHtmlId)]})]})}}},242521:(e,t,a)=>{a.d(t,{Jh:()=>i,UE:()=>n,ZP:()=>r});var s=a(696832),l=a(526849);const n=(0,l.compose)(l.not,l.isEmpty,l.trim,(0,l.defaultTo)("")),o=/.+@.+\..+/,i=e=>o.test(e.trim());class r extends s.Component{constructor(e){super(e),this.setInternalState=e=>{this.setState({internal:{...this.state.internal,...e}})},this.setUpdatedValues=e=>{const{signalEditedValues:t,onValuesUpdated:a}=this.props,s={...this.state.values,...e};this.setState({values:s},(()=>{t&&t(this.hasFormBeenEdited()),a&&a(s)}))},this.handleChange=(e,t="")=>{if(e instanceof Event&&t)throw new Error("handleChange was called with both a ChangeEvent and key.");const a=e?.target?{[e.target.dataset.name]:e.target.value}:{[t]:e};this.setUpdatedValues(a)},this.handleChanges=e=>{this.setUpdatedValues(e)},this.validateValues=e=>{if(0===Object.keys(e).length)return!0;const t=(0,l.reduce)(((t,a)=>(t[a]=e[a]?(0,l.compose)(l.not,e[a]):()=>!1,t)),{},Object.keys(this.state.values)),a=(0,l.evolve)(t,this.state.values);return this.setState({errors:a}),(0,l.all)((0,l.equals)(!1),(0,l.values)(a))},this.hasFormBeenEdited=()=>!(0,l.equals)(this.state.values,this.props.currentValues),this.getValues=()=>this.state.values;const t=Object.keys(e.currentValues).reduce(((e,t)=>(e[t]=!1,e)),{});this.state={internal:{},values:e.currentValues,errors:t}}componentDidUpdate(e){(0,l.equals)(this.props.currentValues,e.currentValues)||this.setState({values:this.props.currentValues})}}},53748:(e,t,a)=>{a.d(t,{B:()=>S});var s=a(696832),l=a(926897),n=a(310789),o=a(482598),i=a(448430),r=a(382706),p=a(692077),h=a(739649),d=a(86498),c=a(488203),u=a(45272),m=a(806697),b=a(376452),g=a(615446),v=a(718462),f=a(418402),y=a.n(f),C=a(524130);function S(e){const{renderForm:t,vaultItemType:a,iconType:f}=e;return({lee:e})=>{const{translate:S}=(0,c.Z)(),{routes:_}=(0,p.Xo)(),I=(0,d.V)(),{createVaultItem:x}=(0,o.u)(i.L),Z=(0,s.useRef)(null),{openDialog:w,shouldShowFrozenStateDialog:N}=(0,m.Ub)(),[V,k]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e={[r.U.Address]:l.PageView.ItemAddressCreate,[r.U.Company]:l.PageView.ItemCompanyCreate,[r.U.Email]:l.PageView.ItemEmailCreate,[r.U.Identity]:l.PageView.ItemIdentityCreate,[r.U.Phone]:l.PageView.ItemPhoneCreate,[r.U.Website]:l.PageView.ItemWebsiteCreate};(0,u.Nc)(e[a])}),[]),(0,s.useEffect)((()=>{N&&w()}),[N]);const B=()=>{(0,u.Nc)(l.PageView.ItemPersonalInfoList),(0,p.uX)(_.userPersonalInfo)},E=(0,h.B)(e.globalState),F=(0,C.tZ)(g.ZP,{iconSize:g.Jh.headerEditPanelIcon,iconType:f}),R=(0,v.gV)(S,a);return(0,C.tZ)(b.zI,{isViewingExistingItem:!1,itemHasBeenEdited:V,onNavigateOut:B,onSubmit:async()=>{Boolean(Z.current?.isFormValid())&&(await(async()=>{const e=Z.current?.getValues();e&&"success"!==(await x({vaultItemType:a,content:e})).tag&&I.showAlert(S("_common_generic_error"),n.BLW.ERROR)})(),B())},formId:"add_personalinfo_panel",header:(0,C.tZ)(b.V9,{icon:F,iconBackgroundColor:y()["--dash-green-00"],title:R}),children:t(e,Z,(()=>k(!0)),E)})}}},107418:(e,t,a)=>{a.r(t),a.d(t,{PhoneAddPanel:()=>h}),a(696832);var s=a(575257),l=a(882009),n=a(382706),o=a(238983),i=a(53748),r=a(615446),p=a(524130);const h=(0,i.B)({iconType:r.Tu.phone,vaultItemType:n.U.Phone,renderForm:(e,t,a,n)=>{const i={localeFormat:s.c[e.globalState.locale.country]||s.c.US,phoneNumber:"",itemName:"",type:l.z.Mobile,spaceId:n};return(0,p.tZ)(o.b,{lee:e,currentValues:i,signalEditedValues:a,ref:t})}})},238983:(e,t,a)=>{a.d(t,{b:()=>b}),a(696832);var s=a(526849),l=a(611913),n=a(504085),o=a(806697),i=a(242521),r=a(89600),p=a(167406),h=a(575257),d=a(882009);function c(e,t){const a=e.namespace("country_name_");return e=>(e=e||h.c.US,{label:`${a(h.c[e])} (+${t[e]})`,selectedLabel:`${e} (+${t[e]})`,value:e})}var u=a(855541),m=a(524130);class b extends i.ZP{isFormValid(){return this.validateValues({phoneNumber:i.UE})}render(){var e,t;const{lee:a}=this.props,o=a.translate.namespace("webapp_personal_info_edition_phone_"),{shouldShowFrozenStateDialog:i}=this.context,b=function(e){const t=e.namespace("personal_info_");return[{label:t("phone_type_mobile"),value:d.z.Mobile},{label:t("phone_type_landline"),value:d.z.Landline},{label:t("phone_type_work_mobile"),value:d.z.WorkMobile},{label:t("phone_type_work_landline"),value:d.z.WorkLandline},{label:t("phone_type_fax"),value:d.z.Fax},{label:t("phone_type_work_fax"),value:d.z.WorkFax},{label:t("phone_type_any"),value:d.z.Any}]}(a.translate),g=null!=(e=(0,s.find)((0,s.propEq)("value",this.state.values.type),b))?e:(0,s.head)(b),v=a.globalState.webapp.callingCodes||{},f=function(e,t){const a=c(e,t);return Object.keys(t).map((e=>a(h.c[e])))}(a.translate,v),y=c(a.translate,v)(this.state.values.localeFormat);return(0,m.BX)(m.HY,{children:[(0,m.BX)("div",{className:r.Z.container,children:[(0,m.tZ)("label",{className:u.Z.label,sx:{color:"ds.text.neutral.catchy"},title:o("number_label"),children:o("number_label")}),(0,m.tZ)(n.Z,{placeholder:y.label,dataName:"localeFormat",options:f,defaultOption:y,onChange:this.handleChange,disabled:!!i}),(0,m.tZ)(l.Z,{type:"text",placeholder:o("placeholder_no_number"),dataName:"phoneNumber",value:this.state.values.phoneNumber,error:this.state.errors.phoneNumber,onChange:this.handleChange,disabled:!!i})]}),(0,m.tZ)(l.Z,{type:"text",label:o("phonename_label"),placeholder:o("placeholder_no_phonename"),dataName:"itemName",value:this.state.values.itemName,onChange:this.handleChange,disabled:!!i}),(0,m.tZ)(n.Z,{label:o("type_label"),placeholder:g.label,dataName:"type",options:b,defaultOption:g,onChange:this.handleChange,disabled:!!i}),(0,m.tZ)(p.M,{labelSx:p.e,spaceId:null!=(t=this.state.values.spaceId)?t:"",onChange:e=>this.handleChange(e,"spaceId"),disabled:!!i})]})}}b.contextType=o.CQ},855541:(e,t,a)=>{a.d(t,{Z:()=>s});const s={left:"left--jltGqC2ld6",right:"right--r4mXfTZRXo",select:"select--ivbO452zoA",disable:"disable--F2KcdR2ssV",label:"label--EhkwVb63v9"}},89600:(e,t,a)=>{a.d(t,{Z:()=>s});const s={container:"container--BvfulnQcuP",containerBlock:"containerBlock--lIB_8rMAqf",horizontalContainerBlock:"horizontalContainerBlock--XzyL0HxXte",secondItem:"secondItem--YxYGi1WTY5"}}}]);