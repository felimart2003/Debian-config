"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[4565],{852204:(e,t,a)=>{a.r(t),a.d(t,{PaymentCardAddPanel:()=>E});var n,r=a(696832),i=a(926897),o=a(310789),s=a(573623),d=a(482598),c=a(448430),l=a(945146),m=a(382706),u=a(86498),_=a(488203),p=a(45272),g=a(692077),h=a(276376),y=a(806697),C=a(619122),S=a(69651),w=a(61290),b=a(977257),I=a(376452),V=a(524130);const f="_common_generic_error",E=()=>{const[e,t]=(0,r.useState)(!1),[a,E]=(0,r.useState)(!1),{translate:N}=(0,_.Z)(),{routes:P}=(0,h.Xo)(),{showAlert:Z}=(0,u.V)(),{createVaultItem:B}=(0,d.u)(c.L),{currentSpaceId:R}=(0,C.fV)(),[k,v]=(0,r.useState)(),[L,x]=(0,r.useState)({itemName:"",cardNumber:"",ownerName:"",securityCode:"",expireMonth:"",expireYear:"",color:l.X.Blue1,spaceId:null!=R?R:"",note:""}),{openDialog:z,shouldShowFrozenStateDialog:O}=(0,y.Ub)();(0,r.useEffect)((()=>{(0,p.Nc)(i.PageView.ItemCreditCardCreate)}),[]),(0,r.useEffect)((()=>{O&&z()}),[O]);const T=()=>{(0,p.Nc)(i.PageView.ItemPaymentList),(0,g.uX)(P.userPayments)};return(0,V.tZ)(I.zI,{isViewingExistingItem:!1,itemHasBeenEdited:e,onNavigateOut:T,submitPending:a,onSubmit:async()=>{if(a)return;const e=(0,S.u)(L);if(!e.isValid)return v(e.errorSet);E(!0);try{const e=await B({vaultItemType:m.U.PaymentCard,content:L});(0,s.d6)(e)?(Z(L.itemName?N("webapp_payment_edition_name_save_alert",{paymentCard:L.itemName}):N("webapp_payment_edition_generic_save_alert"),o.BLW.SUCCESS),T()):(Z(N(f),o.BLW.ERROR),E(!1))}catch(e){Z(N(f),o.BLW.ERROR),E(!1)}},formId:"add_paymentcard_panel",header:(0,V.tZ)(I.V9,{icon:n||(n=(0,V.tZ)(w.Z,{iconSize:"large"})),iconBackgroundColor:(0,b.Z)(L.color),title:N("webapp_payment_edition_header_add_payment_card")}),children:(0,V.tZ)(S.g,{paymentCardContent:L,signalEditedValues:e=>{x(e),t(!0)},errors:k})})}}}]);