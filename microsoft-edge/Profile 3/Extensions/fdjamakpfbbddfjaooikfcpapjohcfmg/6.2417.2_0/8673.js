"use strict";(globalThis.webpackChunk_dashlane_leeloo=globalThis.webpackChunk_dashlane_leeloo||[]).push([[8673],{611913:(e,t,a)=>{a.d(t,{Z:()=>g});var s=a(696832),n=a(554712),l=a(383849),r=a.n(l),i=a(526849),o=a(957459),d=a(158549),p=a.n(d),h=a(573630);const u={container:"container--Qypu77vxOn",containerMultiLine:"containerMultiLine--ncWYFwQEnR",_field:"_field--KII5X4xmLN",input:"input--Iq10hxAz32 _field--KII5X4xmLN",inputRow:"inputRow--gdD_j5S1R8",textarea:"textarea--VpIWTZemV2 _field--KII5X4xmLN",label:"label--Ww_r49kt_J",text:"text--oXyCzpUMwG",value:"value--aD7nWEqBIq",multiline:"multiline--fdPM1KFHPT"};var c=a(524130);const m=e=>{navigator.clipboard.writeText(e.replaceAll(" ",""))};class g extends s.Component{constructor(e){super(e),this.field=void 0,this.handleChange=e=>{this.setState({selectionRangeStart:e.target.selectionStart,selectionRangeEnd:e.target.selectionEnd}),this.props.onChange&&this.props.onChange(e)},this.state={fieldHtmlId:(0,o.Z)(),selectionRangeStart:null,selectionRangeEnd:null}}componentDidUpdate(){null!==this.state.selectionRangeStart&&null!==this.state.selectionRangeEnd&&this.field.setSelectionRange(this.state.selectionRangeStart,this.state.selectionRangeEnd)}shouldComponentUpdate(e,t){return!((0,i.equals)(this.props.value,e.value)&&(0,i.equals)(this.props.error,e.error)&&(0,i.equals)(this.props.mask,e.mask)&&(0,i.equals)(this.props.label,e.label)&&(0,i.equals)(this.state.selectionRangeStart,t.selectionRangeStart)&&(0,i.equals)(this.state.selectionRangeEnd,t.selectionRangeEnd))}getValue(){return this.field.value}focus(){this.field.focus()}getTextarea(){var e;return(0,c.tZ)(n.Z,{inputRef:e=>{this.field=e},id:this.state.fieldHtmlId,disabled:this.props.disabled,value:null!=(e=this.props.value)?e:"",name:this.props.name,"data-name":this.props.dataName,sx:{borderColor:this.props.error&&"ds.border.danger.standard.idle"},className:u.textarea,placeholder:this.props.placeholder,onBlur:this.props.handleFieldBlur,onKeyDown:this.props.onFieldKeyDown,onChange:this.handleChange,readOnly:this.props.readOnly})}getInput(){var e;const t={onBlur:this.props.handleFieldBlur,onChange:this.handleChange,disabled:this.props.disabled,readOnly:this.props.readOnly,value:null!=(e=this.props.value)?e:""},a={ref:e=>{this.field=e},id:this.state.fieldHtmlId,autoComplete:"off",className:r()(u.input,{[u.error]:Boolean(this.props.error)}),sx:{...this.props.error&&{"::placeholder":{color:"ds.text.danger.quiet"},minWidth:"fit-content"},border:"1px solid",borderColor:this.props.error?"ds.border.danger.standard.idle":"transparent"},name:this.props.name,"data-name":this.props.dataName,type:this.props.type||"text",placeholder:this.props.placeholder,onKeyDown:this.props.onFieldKeyDown};return this.props.mask?(0,c.tZ)(p(),{...t,...this.props.maskProps,mask:this.props.mask,onCopy:()=>m(t.value),onCut:()=>m(t.value),children:e=>(0,c.tZ)("input",{...a,...e})}):(0,c.BX)("div",{className:u.inputRow,children:[(0,c.tZ)("input",{...a,...t}),(0,c.tZ)("div",{hidden:!this.props.error||"string"!=typeof this.props.error,sx:{color:"ds.text.danger.quiet"},className:u.errorMessage,children:this.props.error})]})}render(){const e="password"!==this.props.type?this.props.value||this.props.placeholder:"";return(0,c.BX)("div",{className:r()(u.container,this.props.multiLine?u.containerMultiLine:null),children:[this.props.label&&(0,c.tZ)("label",{className:u.label,sx:{color:"ds.text.neutral.catchy"},htmlFor:this.state.fieldHtmlId,children:(0,c.tZ)("span",{className:u.text,title:this.props.label,children:this.props.label})}),(0,c.tZ)(h.Z,{tooltipText:e,className:r()(u.value,{[u.placeholder]:!this.props.value,[u.multiline]:this.props.multiLine}),children:this.props.multiLine?this.getTextarea():this.getInput()})]})}}g.defaultProps={maskProps:{maskChar:""}}},242521:(e,t,a)=>{a.d(t,{Jh:()=>i,UE:()=>l,ZP:()=>o});var s=a(696832),n=a(526849);const l=(0,n.compose)(n.not,n.isEmpty,n.trim,(0,n.defaultTo)("")),r=/.+@.+\..+/,i=e=>r.test(e.trim());class o extends s.Component{constructor(e){super(e),this.setInternalState=e=>{this.setState({internal:{...this.state.internal,...e}})},this.setUpdatedValues=e=>{const{signalEditedValues:t,onValuesUpdated:a}=this.props,s={...this.state.values,...e};this.setState({values:s},(()=>{t&&t(this.hasFormBeenEdited()),a&&a(s)}))},this.handleChange=(e,t="")=>{if(e instanceof Event&&t)throw new Error("handleChange was called with both a ChangeEvent and key.");const a=e?.target?{[e.target.dataset.name]:e.target.value}:{[t]:e};this.setUpdatedValues(a)},this.handleChanges=e=>{this.setUpdatedValues(e)},this.validateValues=e=>{if(0===Object.keys(e).length)return!0;const t=(0,n.reduce)(((t,a)=>(t[a]=e[a]?(0,n.compose)(n.not,e[a]):()=>!1,t)),{},Object.keys(this.state.values)),a=(0,n.evolve)(t,this.state.values);return this.setState({errors:a}),(0,n.all)((0,n.equals)(!1),(0,n.values)(a))},this.hasFormBeenEdited=()=>!(0,n.equals)(this.state.values,this.props.currentValues),this.getValues=()=>this.state.values;const t=Object.keys(e.currentValues).reduce(((e,t)=>(e[t]=!1,e)),{});this.state={internal:{},values:e.currentValues,errors:t}}componentDidUpdate(e){(0,n.equals)(this.props.currentValues,e.currentValues)||this.setState({values:this.props.currentValues})}}},748673:(e,t,a)=>{a.r(t),a.d(t,{CompanyAddPanel:()=>o}),a(696832);var s=a(382706),n=a(562606),l=a(53748),r=a(615446),i=a(524130);const o=(0,l.B)({iconType:r.Tu.company,vaultItemType:s.U.Company,renderForm:(e,t,a,s)=>{const l={jobTitle:"",companyName:"",spaceId:s};return(0,i.tZ)(n.$,{lee:e,currentValues:l,signalEditedValues:a,ref:t})}})},562606:(e,t,a)=>{a.d(t,{$:()=>o}),a(696832);var s=a(611913),n=a(806697),l=a(242521),r=a(167406),i=a(524130);class o extends l.ZP{isFormValid(){return this.validateValues({companyName:l.UE})}render(){var e;const t=this.props.lee.translate.namespace("webapp_personal_info_edition_company_"),{shouldShowFrozenStateDialog:a}=this.context;return(0,i.BX)(i.HY,{children:[(0,i.tZ)(s.Z,{label:t("name_label"),placeholder:t("placeholder_no_name"),dataName:"companyName",value:this.state.values.companyName,error:this.state.errors.companyName,onChange:this.handleChange,disabled:!!a}),(0,i.tZ)(s.Z,{label:t("jobTitle_label"),placeholder:t("placeholder_no_jobTitle"),dataName:"jobTitle",value:this.state.values.jobTitle,onChange:this.handleChange,disabled:!!a}),(0,i.tZ)(r.M,{labelSx:r.e,spaceId:null!=(e=this.state.values.spaceId)?e:"",onChange:e=>this.handleChange(e,"spaceId"),disabled:!!a})]})}}o.contextType=n.CQ},53748:(e,t,a)=>{a.d(t,{B:()=>I});var s=a(696832),n=a(926897),l=a(310789),r=a(482598),i=a(448430),o=a(382706),d=a(692077),p=a(739649),h=a(86498),u=a(488203),c=a(45272),m=a(806697),g=a(376452),v=a(615446),b=a(718462),y=a(418402),C=a.n(y),f=a(524130);function I(e){const{renderForm:t,vaultItemType:a,iconType:y}=e;return({lee:e})=>{const{translate:I}=(0,u.Z)(),{routes:V}=(0,d.Xo)(),w=(0,h.V)(),{createVaultItem:x}=(0,r.u)(i.L),E=(0,s.useRef)(null),{openDialog:_,shouldShowFrozenStateDialog:Z}=(0,m.Ub)(),[S,N]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e={[o.U.Address]:n.PageView.ItemAddressCreate,[o.U.Company]:n.PageView.ItemCompanyCreate,[o.U.Email]:n.PageView.ItemEmailCreate,[o.U.Identity]:n.PageView.ItemIdentityCreate,[o.U.Phone]:n.PageView.ItemPhoneCreate,[o.U.Website]:n.PageView.ItemWebsiteCreate};(0,c.Nc)(e[a])}),[]),(0,s.useEffect)((()=>{Z&&_()}),[Z]);const R=()=>{(0,c.Nc)(n.PageView.ItemPersonalInfoList),(0,d.uX)(V.userPersonalInfo)},T=(0,p.B)(e.globalState),P=(0,f.tZ)(v.ZP,{iconSize:v.Jh.headerEditPanelIcon,iconType:y}),k=(0,b.gV)(I,a);return(0,f.tZ)(g.zI,{isViewingExistingItem:!1,itemHasBeenEdited:S,onNavigateOut:R,onSubmit:async()=>{Boolean(E.current?.isFormValid())&&(await(async()=>{const e=E.current?.getValues();e&&"success"!==(await x({vaultItemType:a,content:e})).tag&&w.showAlert(I("_common_generic_error"),l.BLW.ERROR)})(),R())},formId:"add_personalinfo_panel",header:(0,f.tZ)(g.V9,{icon:P,iconBackgroundColor:C()["--dash-green-00"],title:k}),children:t(e,E,(()=>N(!0)),T)})}}}}]);