import{k as v,W as w,X as d,Y as R,C as E,Z as P}from"./useAddAppToIgnoreListDialogStore-3TvFnIDf.js";import{b4 as S,t as b,a as I,aB as A,ax as C,c as D,aH as _}from"./defineAppConfig-bSouF0-Z.js";const h=S("review-prompt",()=>{const{reportEvent:t}=b(),{reviewUrl:a}=v(),o=I("ReviewPrompt"),r=A(),{state:e}=w(),{state:s,mutateAsync:i}=d(),{state:n}=R(),u=E({interval:C}),c=D(()=>o&&!s.value&&e.value!=null&&e.value<=u.value);async function l(){t("REVIEW_PROMPT_DISMISSED"),await P(r).catch(m=>_("[review-prompt-store] Failed to schedule next prompt",m))}async function p(){t("REVIEW_PROMPT_CTA_CLICKED"),await i(!0),window.open(a,"_blank")}return{isVisible:c,showAt:e,disabled:s,interval:n,dismiss:l,submitReview:p}});export{h as u};
