import{C as v,t as M}from"./useAddAppToIgnoreListDialogStore-3TvFnIDf.js";import{f as P,t as A,ap as B,c as l,aP as c,bF as C,x as b,U as x,bD as E,j as t,o as a,g as o,Q as p,F,N as O,i as T,l as $,V as L,aS as N,q as V,O as G,ax as U}from"./defineAppConfig-bSouF0-Z.js";import{S as j}from"./useFiltersStore-LL02Itwp.js";import{u as w}from"./useGetSessionSummaries-EN2wQhyL.js";import{c as H}from"./useDateRange-McZftpG-.js";const R={key:0,class:"text-error font-bold py-12"},q={key:1,class:"text-center self-center py-12"},Q={key:2},Y={key:3,class:"flex-1 py-12 flex flex-col items-center justify-center space-y-2"},z={class:"text-center"},J={key:0,class:"text-center"},te=P({name:"SessionSummaryList",__name:"SessionSummaryList",props:{startDate:{},endDate:{},primaryMetric:{},installIds:{},platformFilter:{},popup:{type:Boolean},appIds:{},disableAppGroups:{type:Boolean}},setup(u){const e=u,{reportEvent:d}=A(),y=v({interval:U}),f=B(),D=l(()=>({startDate:e.startDate,endDate:e.endDate,installIds:c(e.installIds),platformFilter:e.platformFilter,appIds:c(e.appIds),disableAppGroups:e.disableAppGroups,myInstallId:f.value})),{isLoading:S,isError:_,data:n,error:g}=w(C(e,"primaryMetric"),D),I=l(()=>M(g.value)),k=H();b(n,s=>{if(e.primaryMetric===L.UsageTime){const i=s.map(r=>r.primaryMetricValue).reduce((r,m)=>r+m,0);k(N(i))}},{immediate:!0});const h=l(()=>e.endDate-e.startDate<=x&&E(y.value)===e.startDate);return(s,i)=>t(_)?(a(),o("p",R,p(s.$t("errorColon",{message:t(I)})),1)):t(S)&&t(n).length===0?(a(),o("p",q,p(s.$t("loadingEllipsis")),1)):t(n).length>0?(a(),o("ul",Q,[(a(!0),o(F,null,O(t(n),r=>(a(),V(j,G(r,{key:r.key,onClick:i[0]||(i[0]=m=>s.popup&&t(d)("POPUP_OPEN_DASHBOARD",{to:"app_details"}))}),null,16))),128))])):(a(),o("div",Y,[T("p",z,p(s.$t("popup.noHistory")),1),t(h)?(a(),o("p",J,p(s.$t("popup.noHistoryToday")),1)):$("v-if",!0)]))}});export{te as _};
