import{f as T,o as y,g as P,Q as v,s as ue,i as m,h as fe,_ as ot,a3 as at,K as ke,c as x,r as A,q as I,w as _,j as a,l as O,a4 as Te,a5 as Rs,O as Mt,a6 as tt,z,Y as q,x as pe,a7 as Is,a8 as be,a9 as tn,aa as dt,ab as pt,T as We,k as g,P as N,$ as G,N as ge,F as le,ac as se,ad as xn,ae as Rt,af as mt,ag as Ot,ah as Qe,ai as we,I as Ae,b as Nt,n as Ut,aj as it,ak as Se,al as Rn,am as In,Z as nt,A as Tn,an as Ts,ao as Vs,t as Me,ap as je,aq as gt,ar as Oe,as as _t,at as Ls,au as j,av as Ms,aw as Bt,ax as rt,ay as Re,az as Vn,aA as Os,aB as Ln,aC as bt,aD as Mn,aE as Ns,aF as Us,aG as Bs,aH as Hs,aI as zs,aJ as On,aK as Ws,aL as Nn,aM as Fs,aN as ft,D as ae,H as nn,aO as Ie,aP as yt,aQ as qs,aR as Ht,aS as Un,aT as Gs,aU as Fe,aV as lt,aW as Bn,aX as Qs,aY as js,aZ as zt,R as Ys,v as Hn,u as Ks,a_ as Zs,a$ as Js,b0 as Xs,b1 as sn,b2 as eo,b3 as to,b4 as zn,a as no,U as Wn,b5 as so,b6 as oo}from"./defineAppConfig-bSouF0-Z.js";import{f as $e,b as Ce,g as ie,c as It,_ as St,h as Fn,i as Wt,j as ao,k as io,l as ro,m as lo,n as qn,o as ct,p as Gn,D as co,q as kt,r as Qn,s as on,d as uo,t as po,v as fo,w as mo,x as jn,y as ho,z as vo,A as an,B as rn,a as go,C as _o,E as bo,F as yo,G as ko}from"./useAddAppToIgnoreListDialogStore-3TvFnIDf.js";import{a as Ft,I as Z,u as Yn,S as qt,b as wo,_ as Ue,c as Co,n as Do,d as Eo}from"./new-tab-light-H2_I1S9N.js";const Po=["data-testid"],So=T({name:"DayButton",__name:"DayButton",props:{text:{},selected:{type:Boolean}},setup(t){const e=t;return(s,o)=>(y(),P("button",{class:ue(["btn btn-square",{"btn-neutral":!e.selected,"btn-primary":e.selected}]),"data-testid":`day-${s.text}`},v(e.text),11,Po))}}),Ao=["id"],$o=["for"],xo=T({name:"SfInputContainer",__name:"SfInputContainer",props:{id:{},placeholder:{},disabled:{type:Boolean},hasFocus:{type:Boolean},hasValue:{type:Boolean},offsetLeft:{type:Boolean}},setup(t){return(e,s)=>(y(),P("div",{id:`${e.id}-container`,class:ue(["relative h-14 bg-base-content bg-opacity-5 dark:bg-opacity-[0.15] transition-all ring-primary ring-opacity-adaptive ease-linear rounded",{"ring-4":e.hasFocus}])},[m("label",{for:e.id,class:ue(["absolute transition-all ease-linear",{"text-xs top-2":e.hasValue||e.hasFocus,"top-4.5":!e.hasValue&&!e.hasFocus,"text-opacity-60":!e.disabled,"text-opacity-30":e.disabled,"left-4":!e.offsetLeft,"left-14":e.offsetLeft}])},v(e.placeholder),11,$o),fe(e.$slots,"default",{},void 0,!0)],10,Ao))}}),Kn=ot(xo,[["__scopeId","data-v-d2513295"]]),Ro={key:0,class:"absolute left-3 top-3 w-8 h-8"},Io={key:1,class:"absolute right-3 top-3 w-8 h-8"},To=["id","disabled"],Vo=T({name:"SfInput",__name:"SfInput",props:at({id:{},placeholder:{},disabled:{type:Boolean},inputProps:{}},{modelValue:{required:!0}}),emits:["update:modelValue"],setup(t,{expose:e}){const s=t,o=ke(t,"modelValue"),u=x(()=>{var n;return((n=s.inputProps)==null?void 0:n.type)==="number"?o.value!=="":!!o.value}),d=A(!1),l=A();function i(){var n,r;(r=(n=l.value)==null?void 0:n.focus)==null||r.call(n)}return e({focus:i,focused:d}),(n,r)=>(y(),I(Kn,{"has-focus":a(d),"has-value":a(u),id:n.id,disabled:n.disabled,placeholder:n.placeholder,"offset-left":!!n.$slots.left},{default:_(()=>[O(' Left and right before the input so the input is "over" them and clicks hit the input '),n.$slots.left?(y(),P("div",Ro,[fe(n.$slots,"left",{},void 0,!0)])):O("v-if",!0),n.$slots.right?(y(),P("div",Io,[fe(n.$slots,"right",{},void 0,!0)])):O("v-if",!0),Te(m("input",Mt({ref_key:"input",ref:l,id:n.id,class:["min-w-0 w-full h-full absolute inset-0 pt-3.5 bg-transparent outline-none border-none box-border transition-all text-base text-base-content",{"text-opacity-primary":!n.disabled,"text-opacity-disabled":n.disabled,"pl-4":!n.$slots.left,"pl-14":n.$slots.left,"pr-4":!n.$slots.right,"pr-14":n.$slots.right}],"onUpdate:modelValue":r[0]||(r[0]=c=>o.value=c)},n.inputProps,{autocomplete:"off",disabled:n.disabled,onFocus:r[1]||(r[1]=c=>d.value=!0),onBlur:r[2]||(r[2]=c=>d.value=!1)}),null,16,To),[[Rs,o.value]])]),_:3},8,["has-focus","has-value","id","disabled","placeholder","offset-left"]))}}),_e=ot(Vo,[["__scopeId","data-v-1c4b6bcd"]]),Lo={class:"group relative w-14 h-7 cursor-pointer",draggable:"false"},Mo=T({name:"SfSwitch",__name:"SfSwitch",props:at({inputProps:{}},{modelValue:{type:Boolean,required:!0}}),emits:["update:modelValue"],setup(t){const e=ke(t,"modelValue");return(s,o)=>(y(),P("div",Lo,[Te(m("input",Mt({type:"checkbox","onUpdate:modelValue":o[0]||(o[0]=u=>e.value=u),class:"sr-only"},s.inputProps),null,16),[[tt,e.value]]),m("div",{class:ue(["absolute inset-0 rounded-2xl ring-0 group-focus-within:ring-4 active:ring-4 transition ease-in-out",{"ring-base-300 bg-primary ring-opacity-100":e.value,"ring-primary bg-neutral ring-opacity-adaptive":!e.value}]),onClick:o[1]||(o[1]=u=>e.value=!e.value)},[m("div",{class:ue(["absolute top-1 left-1 w-5 h-5 rounded-full transition ease-in-out",{"translate-x-7 bg-base-100":e.value,"bg-base-content opacity-disabled":!e.value}])},null,2)],2)]))}}),Oo=$e(z.AddSchedule,{onSubmit:()=>new Error("onSubmit not implemented")}),Zn=$e(z.TimePicker,{}),No={class:"flex w-full justify-around items-center self-center mx-4"},Uo={class:"flex space-x-4 items-center"},Bo={class:"flex space-x-4 pl-2 items-center"},Ho=T({name:"AddScheduleDialog",__name:"AddScheduleDialog",setup(t){const e=Ce(),s=Zn(),o=Oo(),u=A(),{t:d}=q(),l=A("New Program"),i=A(!1),n=A($()),r=A($()),c=A(n.value),p=A(r.value);pe(i,E=>{E?(c.value=n.value,p.value=r.value,n.value="00:00",r.value="23:59"):(n.value=c.value,r.value=p.value)});const{state:f}=Is(),h=x(()=>{const E=[{day:be.Sunday,display:d("schedules.sunday"),value:!1},{day:be.Monday,display:d("schedules.monday"),value:!0},{day:be.Tuesday,display:d("schedules.tuesday"),value:!0},{day:be.Wednesday,display:d("schedules.wednesday"),value:!0},{day:be.Thursday,display:d("schedules.thursday"),value:!0},{day:be.Friday,display:d("schedules.friday"),value:!0},{day:be.Saturday,display:d("schedules.saturday"),value:!1}];return f.value===tn.Saturday?E.unshift(E.pop()):f.value===tn.Monday&&E.push(E.shift()),E}),b=A(h.value.map(E=>E.value));pe(f,()=>{b.value=h.value.map(E=>E.value)});function k(){var Y;const E=new Date(`2021-01-01T${n.value}`).getTime(),L=new Date(`2021-01-01T${r.value}`).getTime(),B={id:((Y=o.options.schedule)==null?void 0:Y.id)??xn(),name:l.value,days:C(),allDay:i.value,startTime:Rt(E),endTime:Rt(L)};D(),o.options.onSubmit(B)}function C(){return b.value.map((L,U)=>{if(L)return h.value[U].day}).filter(L=>L!==void 0)}function D(){e.hide(z.AddSchedule),V()}function $(){const E=s.options.initialTimeOfDay??0;return dt(We()+E,pt)}function V(){var B,Y,X,me,oe,he;l.value=((B=o.options.schedule)==null?void 0:B.name)??"New Program",i.value=((Y=o.options.schedule)==null?void 0:Y.allDay)??!1;const E=((X=o.options.schedule)==null?void 0:X.startTime)??9*mt,L=((me=o.options.schedule)==null?void 0:me.endTime)??18*mt;n.value=dt(We()+E,pt),r.value=dt(We()+L,pt),c.value=n.value,p.value=r.value;const U=((oe=o.options.schedule)==null?void 0:oe.days)??[];(he=o.options.schedule)!=null&&he.name?h.value.forEach((ce,de)=>{U.includes(ce.day)?h.value[de].value=!0:h.value[de].value=!1}):h.value.forEach((ce,de)=>{ce.day!=be.Saturday&&ce.day!=be.Sunday?h.value[de].value=!0:h.value[de].value=!1}),b.value=h.value.map(ce=>ce.value)}return(E,L)=>(y(),I(ie,{name:a(z).AddSchedule,visible:!!a(e).visible[a(z).AddSchedule],onShown:V,onDismiss:D},{default:_(()=>[g(se,{class:"w-108","data-testid":"add-schedule-form"},{title:_(()=>[N(v(a(d)("schedules.addSchedule")),1)]),body:_(()=>[g(_e,{ref:"input",id:"url","data-testid":"schedule-name",placeholder:E.$t("schedules.scheduleName"),modelValue:a(l),"onUpdate:modelValue":L[0]||(L[0]=U=>G(l)?l.value=U:null)},null,8,["placeholder","modelValue"]),m("div",No,[(y(!0),P(le,null,ge(a(h),(U,B)=>(y(),I(So,{key:U.display,text:U.display,selected:a(b)[B],onClick:Y=>a(b)[B]=!a(b)[B]},null,8,["text","selected","onClick"]))),128))]),m("div",Uo,[g(_e,{id:"date","data-testid":"schedule-start",ref_key:"dateInput",ref:u,class:"flex-1",disabled:a(i),placeholder:a(d)("schedules.startTime"),"input-props":{type:"time"},modelValue:a(n),"onUpdate:modelValue":L[1]||(L[1]=U=>G(n)?n.value=U:null)},null,8,["disabled","placeholder","modelValue"]),g(_e,{id:"date","data-testid":"schedule-end",ref_key:"dateInput",ref:u,class:"flex-1",disabled:a(i),placeholder:a(d)("schedules.endTime"),"input-props":{type:"time"},modelValue:a(r),"onUpdate:modelValue":L[2]||(L[2]=U=>G(r)?r.value=U:null)},null,8,["disabled","placeholder","modelValue"])]),m("div",Bo,[m("p",null,v(a(d)("schedules.allDay")),1),g(Mo,{modelValue:a(i),"onUpdate:modelValue":L[3]||(L[3]=U=>G(i)?i.value=U:null),"data-testid":"schedule-all-day"},null,8,["modelValue"])])]),buttons:_(()=>[m("button",{class:"btn btn-primary","data-testid":"save",type:"submit",onClick:k},v(a(d)("save")),1),m("button",{class:"btn btn-neutral",onClick:D},v(a(d)("cancel")),1)]),_:1})]),_:1},8,["name","visible"]))}}),zo={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Wo=m("path",{fill:"currentColor",d:"m7 10l5 5l5-5H7Z"},null,-1),Fo=[Wo];function qo(t,e){return y(),P("svg",zo,Fo)}const Go={name:"mdi-menu-down",render:qo},Qo=["id","value","disabled"],jo=["disabled","value"],Yo={key:0,class:"absolute left-3 top-3 w-8 h-8"},Ko={key:1,class:"absolute right-3 top-3 w-8 h-8"},Jn=T({name:"SfSelect",__name:"SfSelect",props:at({id:{},placeholder:{},disabled:{type:Boolean},selectProps:{},selectHelperText:{},enableHelperText:{type:Boolean},helperTextValue:{}},{modelValue:{required:!0}}),emits:["update:modelValue"],setup(t){const e=ke(t,"modelValue");function s(n){n.target&&(e.value=n.target.value,d())}const o=A(!1);function u(){o.value=!0,window.addEventListener("mousedown",d),window.addEventListener("keypress",d)}function d(){o.value=!1,l()}function l(){window.removeEventListener("mousedown",d),window.removeEventListener("keypress",d)}Ot(l);const i=!1;return(n,r)=>(y(),I(Kn,{"has-focus":a(o),"has-value":!!e.value,id:n.id,disabled:n.disabled,placeholder:n.placeholder},{default:_(()=>[O(' Before the input so the input is "over" the arrow and clicks hit the select '),m("div",{class:ue(["absolute top-3 w-8 h-8",{"right-12":n.$slots.right,"right-3":!n.$slots.right}])},[g(a(Go),{class:ue(["icon m-1 text-base-content text-opacity-secondary",{"text-opacity-disabled":n.disabled}])},null,8,["class"])],2),m("select",Mt({id:n.id,class:["min-w-0 w-full h-full absolute inset-0 pt-4 pl-4 pr-14 bg-transparent outline-none border-none box-border text-base transition-all appearance-none",{"text-opacity-primary":e.value&&!n.disabled,"text-opacity-disabled":e.value&&n.disabled,"text-opacity-0":!e.value,"pl-4":!n.$slots.left,"pl-14":n.$slots.left,"pr-4":!n.$slots.right,"pr-14":n.$slots.right,firefox:a(i)}],value:e.value},n.selectProps,{disabled:n.disabled,onChange:s,onFocus:r[0]||(r[0]=c=>u())}),[O(" Helper item - See note at https://v3.vuejs.org/guide/forms.html#select "),m("option",{disabled:!n.enableHelperText,value:n.helperTextValue??""},v(n.selectHelperText),9,jo),fe(n.$slots,"default")],16,Qo),n.$slots.left?(y(),P("div",Yo,[fe(n.$slots,"left")])):O("v-if",!0),n.$slots.right?(y(),P("div",Ko,[fe(n.$slots,"right")])):O("v-if",!0)]),_:3},8,["has-focus","has-value","id","disabled","placeholder"]))}});function Zo(t,e){const s=A(!1),o=A(),{data:u,isLoading:d,isError:l,error:i}=Qe(["combobox",e==null?void 0:e.queryKey],()=>e==null?void 0:e.getItems(),{enabled:!!e}),n=x(()=>{var h;const f=t.value.toLowerCase();return(h=u.value)==null?void 0:h.filter(b=>b.value.toLowerCase().includes(f))});pe(t,()=>{var f;(f=n.value)!=null&&f.length?(o.value=0,s.value=!0):(o.value=void 0,s.value=!1)});const r={onfocus:()=>{setTimeout(()=>{s.value=!0})},onblur:()=>{setTimeout(()=>{s.value=!1})},onkeydown:f=>{var h,b,k;if(s.value){if(f.key==="Escape"){f.preventDefault(),f.stopPropagation(),s.value=!1;return}if(f.key==="ArrowDown"&&((h=n.value)!=null&&h.length)){f.preventDefault(),f.stopPropagation(),o.value=((o.value??-1)+1)%n.value.length;return}if(f.key==="ArrowUp"&&((b=n.value)!=null&&b.length)){f.preventDefault(),f.stopPropagation();const C=(o.value??n.value.length)-1;o.value=C===-1?n.value.length-1:C;return}if(f.key==="Enter"&&((k=n.value)!=null&&k.length)&&o.value!=null){f.preventDefault(),f.stopPropagation(),c(n.value[o.value]);return}}}},c=f=>{var h,b;t.value=f.value,s.value=!1,(b=(h=document.activeElement)==null?void 0:h.blur)==null||b.call(h)};return{comboboxProps:x(()=>({visible:!!e&&s.value,results:n.value,isError:l.value,isLoading:d.value,error:i.value,onClickItem:c,activeIndex:o.value})),inputEvents:r}}function Xn(){return we(Ae.InstalledAppsProvider)}const Jo={class:"flex flex-col p-2 w-96 text-left max-h-64 overflow-y-auto bg-base-content bg-opacity-5"},Xo={class:"relative"},ea=["onMousedown"],ta=T({__name:"SfCombobox",props:{visible:{type:Boolean},isLoading:{type:Boolean},isError:{type:Boolean},error:{},results:{},onClickItem:{type:Function},activeIndex:{}},setup(t){return(e,s)=>(y(),I(It,{"align-horizontal":"left",visible:e.visible},{default:_(()=>[m("form",Jo,[m("ul",Xo,[(y(!0),P(le,null,ge(e.results,(o,u)=>(y(),P("li",{key:o.value,onMousedown:d=>e.onClickItem(o)},[O(" Allow rendering custom list items "),fe(e.$slots,"item",{item:o},()=>[m("li",{class:ue(["px-4 py-3 clickable rounded cursor-pointer text-base-content opacity-primary bg-base-content bg-opacity-0",{"bg-opacity-active":u===e.activeIndex}])},v(o.value),3)])],40,ea))),128))])])]),_:3},8,["visible"]))}});function es(){return we(Ae.TransformAppIdInput)}function Gt(t){return!!t&&!!t.match(/^[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)+$/)}const na={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},sa=m("path",{fill:"currentColor",d:"M12 21c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-1h-4m2-13a5.002 5.002 0 0 0-3 9v2c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-2a4.997 4.997 0 0 0 1-7c-.94-1.26-2.43-2-4-2m1 7.82V17h-2v-2.18A3 3 0 0 1 11.17 11A3.003 3.003 0 0 1 15 9.16c1.56.56 2.38 2.27 1.83 3.84c-.3.85-.98 1.5-1.83 1.82M7.68 15H7v1c0 .55.45 1 1 1h1v-.12c-.54-.55-1-1.18-1.32-1.88M13.6 5C12.5 2.47 9.53 1.33 7 2.45S3.34 6.5 4.45 9.04c.34.77.88 1.46 1.55 1.96v2c0 .55.45 1 1 1h.3c-.2-.65-.3-1.32-.3-2c0-3.71 2.89-6.79 6.6-7Z"},null,-1),oa=[sa];function aa(t,e){return y(),P("svg",na,oa)}const ln={name:"mdi-lightbulb-multiple-outline",render:aa},ia={class:"flex flex-col justify-center p-4 w-96 text-left bg-base-content bg-opacity-5 space-y-4"},ra={class:"flex flex-row items-center text-lg font-bold"},la={href:"https://stayfreeapps.com/?download",class:"link link-secondary",target:"_blank"},ca={class:"whitespace-pre-wrap"},ua={class:"flex flex-col justify-center p-4 w-96 text-left bg-base-content bg-opacity-5 space-y-4"},da={class:"flex flex-row items-center text-lg font-bold"},pa={class:"whitespace-pre-wrap"},fa=T({name:"AppIdInputMessage",__name:"AppIdInputMessage",props:{value:{},focused:{type:Boolean},visible:{type:Boolean}},setup(t){const e=t,s=A(!1),o=Nt(()=>{s.value=!1},300),u=x(()=>e.visible&&s.value);return pe(()=>e.focused,(d,l)=>{l&&!d?o.start():(o.stop(),s.value=d)}),(d,l)=>{const i=Ut("i18n-t");return a(Gt)(d.value)?(y(),I(It,{key:0,"align-horizontal":"left",visible:a(u)},{default:_(()=>[m("div",ia,[m("h4",ra,[g(a(ln),{class:"icon"}),N(" "+v(d.$t("installExtensionTitle")),1)]),g(i,{keypath:"installExtensionDescription1",tag:"p",class:"whitespace-pre-wrap"},{default:_(()=>[m("a",la,v(d.$t("stayfreeBrowserExtension")),1)]),_:1}),m("p",ca,v(d.$t("installExtensionDescription2")),1)])]),_:1},8,["visible"])):(y(),I(It,{key:1,"align-horizontal":"left",visible:a(u)},{default:_(()=>[m("div",ua,[m("h4",da,[g(a(ln),{class:"icon"}),N(" "+v(d.$t("cantFindSuggestionTitle")),1)]),m("p",pa,v(d.$t("cantFindSuggestionDescription")),1)])]),_:1},8,["visible"]))}}});function ma(){return it(Ae.DefaultAppPlatform)}const ha=["value"],ts=T({name:"AppIdInput",__name:"AppIdInput",props:at({allowedHostnames:{},limitType:{}},{modelValue:{required:!0}}),emits:["update:modelValue"],setup(t,{expose:e}){const s=t,o=es(),u=ke(t,"modelValue"),d=x({get(){return u.value},set(p){u.value=(o==null?void 0:o(p))??p}}),l=A(null);function i(){var p;(p=l.value)==null||p.focus()}e({focus:i,input:l});const{comboboxProps:n,inputEvents:r}=Zo(d,Xn()),c=ma();return(p,f)=>{var h,b,k,C;return y(),P("div",null,[O(" Only 1 hostname is allowed "),((h=p.allowedHostnames)==null?void 0:h.length)===1?(y(),I(_e,{key:0,id:"url",disabled:"",placeholder:p.$t("appIdInputPlaceholder"),"model-value":p.allowedHostnames[0]},{right:_(()=>[g(St,{class:"icon m-1 pointer-events-none",src:{appId:a(d)},platform:a(c)},null,8,["src","platform"])]),_:1},8,["placeholder","model-value"])):(((b=p.allowedHostnames)==null?void 0:b.length)??0)>1?(y(),P(le,{key:1},[O(" Select from a list of options "),g(Jn,{id:"url",placeholder:p.$t("appIdInputPlaceholder"),"select-helper-text":p.$t("selectOne"),modelValue:a(d),"onUpdate:modelValue":f[0]||(f[0]=D=>G(d)?d.value=D:null)},Se({default:_(()=>[(y(!0),P(le,null,ge(p.allowedHostnames,D=>(y(),P("option",{key:D,value:D},v(D),9,ha))),128))]),_:2},[a(d)?{name:"right",fn:_(()=>[g(St,{class:"icon m-1 pointer-events-none",src:{appId:a(d)},platform:a(c)},null,8,["src","platform"])]),key:"0"}:void 0]),1032,["placeholder","select-helper-text","modelValue"])],2112)):(y(),P(le,{key:2},[O(" Freeform entry "),g(_e,{ref_key:"input",ref:l,id:"url",class:"z-20",placeholder:p.$t("appIdInputPlaceholder"),modelValue:a(d),"onUpdate:modelValue":f[1]||(f[1]=D=>G(d)?d.value=D:null),"input-props":a(r)},Se({_:2},[a(d)?{name:"right",fn:_(()=>[s.limitType!==a(nt).Web&&a(Gt)(a(d))?O("v-if",!0):(y(),I(St,{key:0,class:"icon m-1 pointer-events-none",src:{appId:a(d)},platform:a(c)},null,8,["src","platform"]))]),key:"0"}:void 0]),1032,["placeholder","modelValue","input-props"])],2112)),g(ta,Rn(In(a(n))),null,16),s.limitType!==a(nt).Web?(y(),I(fa,{key:3,value:a(d),focused:((k=a(l))==null?void 0:k.focused)??!0,visible:(((C=a(n))==null?void 0:C.results)??[]).length===0},null,8,["value","focused","visible"])):O("v-if",!0)])}}});function wt(t){const e=x(()=>t.reduce((l,i)=>l.isValid?i():l,{isValid:!0})),s=A(!1),o=x(()=>!e.value.isValid),u=A(!1);pe(e,()=>{u.value=!0});const d=x(()=>u.value?e.value.message:void 0);return{resetValidation(){s.value=!1,u.value=!1},submitWrapper(l){return()=>{s.value=!0,!o.value&&l()}},submitDisabled:o,errorMessage:d}}function ns(t,e,s){return t===nt.Web&&!Gt(e)?s?{isValid:!1}:{isValid:!1,message:Tn.global.t("dashboard.editWebsiteLimitDialog.invalidWebsite")}:{isValid:!0}}function ss(t,e,s){return t!==nt.Web&&t!==nt.Brand&&!s.includes(e)?{isValid:!1}:{isValid:!0}}function os(t,e){return t!=null&&t.trim()?{isValid:!0}:e?{isValid:!1}:{isValid:!1,message:Tn.global.t("dashboard.editWebsiteLimitDialog.websiteRequired")}}function as(){const t=Xn();return Qe(["installedApps"],()=>t==null?void 0:t.getItems(),{initialData:[],cacheTime:0,select:e=>(e??[]).map(s=>s.value)})}const va={key:0,class:"text-base-content text-sm text-opacity-disabled"},ga={key:1,class:"text-opacity-100 text-error text-center"},_a=["disabled"],ba=T({name:"AddAppDialog",__name:"AddAppDialog",setup(t){const{t:e}=q(),s=Fn(),o=Wt(),u=es(),{data:d}=as(),l=A(),i=A(!1);function n(){var k;(k=l.value)==null||k.focus(),i.value=!0}const r=A(""),c=x(()=>(u==null?void 0:u(r.value))??r.value),{submitDisabled:p,errorMessage:f}=wt([function(){var C;return os(c.value,!i.value||((C=l.value)==null?void 0:C.input.focused))},function(){return ss(o,c.value,d.value??[])},function(){var k;return ns(o,c.value,(k=l.value)==null?void 0:k.input.focused)}]);function h(){var k,C;(C=(k=s.options).addApp)==null||C.call(k,c.value),b()}function b(){s.hide(),r.value="",i.value=!1}return(k,C)=>(y(),I(ie,{name:a(z).AddApp,"overflow-disabled":!0,onDismiss:b,onAfterShowAnimation:n},{default:_(()=>[g(se,{class:"w-108","data-testid":"add-website-form"},{title:_(()=>[N(v(a(e)("focusMode.addWebsite")),1)]),body:_(()=>[a(s).options.descriptionMessage?(y(),P("p",va,v(a(s).options.descriptionMessage),1)):O("v-if",!0),g(ts,{ref_key:"hostnameInput",ref:l,"limit-type":a(o),modelValue:a(r),"onUpdate:modelValue":C[0]||(C[0]=D=>G(r)?r.value=D:null)},null,8,["limit-type","modelValue"]),a(f)?(y(),P("p",ga,v(a(f)),1)):O("v-if",!0)]),buttons:_(()=>[m("button",{class:"btn btn-primary","data-testid":"save",type:"submit",disabled:a(p),onClick:h},v(a(e)("save")),9,_a),m("button",{class:"btn btn-neutral",onClick:b},v(a(e)("cancel")),1)]),_:1})]),_:1},8,["name"]))}}),ya=$e(z.AddYoutubeUrl,{addChannel(){throw new Error("Function not implemented.")}});function ka(t){const e=x(()=>{if(t.value!=""&&t.value.trim()!=""){const u=t.value.startsWith("https://")?t.value:`https://${t.value}`;return new URL(u)}}),s=x(()=>{var u;return((u=Ts(e.value))==null?void 0:u.hostname)==="youtube.com"}),o=x(()=>{if(s&&e.value)return`youtube.com${Vs(e.value)}`});return{isYoutube:s,fullPath:o}}const wa=["disabled"],Ca=T({name:"AddYoutubeUrlDialog",__name:"AddYoutubeUrlDialog",setup(t){const e=A(""),s=A(),{t:o}=q(),{isYoutube:u,fullPath:d}=ka(e),l=ya();function i(){var p;(p=s.value)==null||p.focus()}const{submitDisabled:n}=wt([function(){return u.value?{isValid:!0}:{isValid:!1,message:o("youtubePlus.videoRequired")}}]);function r(){var p,f;d.value!=null&&((f=(p=l.options).addChannel)==null||f.call(p,d.value),c())}function c(){l.hide(),e.value=""}return(p,f)=>(y(),I(ie,{name:a(z).AddYoutubeUrl,"overflow-disabled":!0,onDismiss:c,onAfterShowAnimation:i},{default:_(()=>[g(se,{class:"w-108","data-testId":"add-channel-form"},{title:_(()=>[N(v(a(o)("youtubePlus.addChannel")),1)]),body:_(()=>[g(_e,{ref_key:"channelInput",ref:s,id:"channel",placeholder:p.$t("youtubePlus.addChannelPlaceholder"),modelValue:a(e),"onUpdate:modelValue":f[0]||(f[0]=h=>G(e)?e.value=h:null)},null,8,["placeholder","modelValue"])]),buttons:_(()=>[m("button",{"data-testId":"save",class:"btn btn-primary",type:"submit",disabled:a(n),onClick:r},v(a(o)("save")),9,wa),m("button",{class:"btn btn-neutral",onClick:c},v(a(o)("cancel")),1)]),_:1})]),_:1},8,["name"]))}}),Da=T({name:"AlertDialog",__name:"AlertDialog",setup(t){const{t:e}=q(),s=ao();return(o,u)=>(y(),I(ie,{name:a(s).name},{default:_(()=>[g(se,{class:"w-84"},Se({buttons:_(()=>[m("button",{class:"btn btn-primary",onClick:u[0]||(u[0]=(...d)=>a(s).hide&&a(s).hide(...d))},v(a(e)("close")),1)]),_:2},[a(s).options.title?{name:"title",fn:_(()=>[N(v(a(s).options.title),1)]),key:"0"}:void 0,a(s).options.message?{name:"message",fn:_(()=>[N(v(a(s).options.message),1)]),key:"1"}:void 0]),1024)]),_:1},8,["name"]))}}),Ea=$e(z.Confirmation,{positiveButtonText:"",negativeButtonText:"",onClickPositive:()=>!0}),Pa=T({name:"ConfirmationDialog",__name:"ConfirmationDialog",setup(t){const e=Ea();async function s(){await e.options.onClickPositive()&&e.hide()}async function o(){var u,d;e.options.onClickNegative?await((d=(u=e.options).onClickNegative)==null?void 0:d.call(u))&&e.hide():e.hide()}return(u,d)=>(y(),I(ie,{name:a(e).name},{default:_(()=>[g(se,{class:"w-84"},Se({buttons:_(()=>[m("button",{class:ue(["btn",{"btn-error":a(e).options.destructive,"btn-primary":!a(e).options.destructive}]),"data-testid":"confirm",onClick:s},v(a(e).options.positiveButtonText),3),m("button",{"data-testid":"cancel",class:"btn btn-neutral",onClick:o},v(a(e).options.negativeButtonText),1)]),_:2},[a(e).options.title?{name:"title",fn:_(()=>[N(v(a(e).options.title),1)]),key:"0"}:void 0,a(e).options.message?{name:"message",fn:_(()=>[N(v(a(e).options.message),1)]),key:"1"}:void 0]),1024)]),_:1},8,["name"]))}}),Sa={class:"space-y-4"},Aa={class:"link link-secondary",href:"https://stayfreeapps.com/privacy",target:"_blank"},$a={class:"link link-secondary",href:"https://stayfreeapps.com/privacy",target:"_blank"},xa={key:2,class:"cursor-pointer label justify-start gap-4"},Ra=["disabled"],Ia=T({name:"ConnectDeviceRequireDataCollection",__name:"ConnectDeviceRequireDataCollection",setup(t){const{t:e}=q(),{reportEvent:s}=Me(),o=je(),u=Ft(),d=A(!0),l=gt(),i=Oe(),n=_t(),r=new Date().getFullYear(),c=x(()=>l.birthYear?r-l.birthYear<18:!0);async function p(){await n.setAcceptedDataCollection("accepted"),await n.setAskTosAgain(!1),l.canUploadData&&i.createDevice({installId:o.value,appId:u}),c.value&&await n.setBirthYear(void 0),s("REQUIRE_PERMISSIONS_ACCEPTED")}const f=Ce();function h(){f.hide(z.ConnectDevice)}return(b,k)=>(y(),I(se,{class:"w-96 !p-0"},{message:_(()=>[m("div",Sa,[a(c)?(y(),I(Z,{key:0,tag:"span",keypath:"devices.requirePrivacyPolicy"},{default:_(()=>[m("a",Aa,v(b.$t("privacyPolicy").toLowerCase()),1)]),_:1})):(y(),I(Z,{key:1,tag:"span",keypath:"devices.requirePrivacyPolicyOver18"},{default:_(()=>[m("a",$a,v(b.$t("privacyPolicy").toLowerCase()),1)]),_:1})),a(c)?(y(),P("label",xa,[Te(m("input",{type:"checkbox","onUpdate:modelValue":k[0]||(k[0]=C=>G(d)?d.value=C:null),class:"checkbox checkbox-primary checkbox-sm"},null,512),[[tt,a(d)]]),g(Z,{class:"label-text",tag:"span",keypath:"devices.confirmPrivacyPolicy"})])):O("v-if",!0)])]),buttons:_(()=>[m("button",{class:"btn btn-primary",onClick:p,disabled:!a(d)},v(a(e)("accept")),9,Ra),m("button",{class:"btn btn-neutral",onClick:h},v(a(e)("cancel")),1)]),_:1}))}}),Ta=T({name:"ConnectDeviceRequireUpgrade",__name:"ConnectDeviceRequireUpgrade",setup(t){const{storeUrl:e}=io(),{t:s}=q();function o(){window.open(e,"_blank")}return(u,d)=>(y(),I(se,{class:"w-96"},{title:_(()=>[N(v(a(s)("devices.connectDeviceTitle")),1)]),message:_(()=>[N(v(u.$t("devices.upgradeRequired")),1)]),buttons:_(()=>[m("button",{class:"btn btn-primary",onClick:o},v(a(s)("upgrade")),1)]),_:1}))}}),Va={},La={viewBox:"0 0 72 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ma=Ls('<g clip-path="url(#clip0_475_5381)"><path d="M69 53.0001H52V28H69V53.0001ZM69 24H51C50.2043 24 49.4413 24.3161 48.8787 24.8787C48.3161 25.4413 48 26.2044 48 27V57.0001C48 57.7957 48.3161 58.5588 48.8787 59.1214C49.4413 59.684 50.2043 60.0001 51 60.0001H69C69.7956 60.0001 70.5587 59.684 71.1213 59.1214C71.6839 58.5588 72 57.7957 72 57.0001V27C72 26.2044 71.6839 25.4413 71.1213 24.8787C70.5587 24.3161 69.7956 24 69 24ZM10 16H66V12H10C8.75327 12 7.79169 11.9909 6.89584 12.8868C6 13.7826 6 14.7038 6 16V53.0001H0V60.0001H42V53.0001H10V16Z" fill="currentColor"></path><path d="M28 27C25.8783 27 23.8434 27.8429 22.3431 29.3431C20.8429 30.8434 20 32.8783 20 35C20 37.1217 20.8429 39.1566 22.3431 40.6569C23.8434 42.1571 25.8783 43 28 43C30.1217 43 32.1566 42.1571 33.6569 40.6569C35.1571 39.1566 36 37.1217 36 35C36 32.8783 35.1571 30.8434 33.6569 29.3431C32.1566 27.8429 30.1217 27 28 27ZM32.09 31.08L33.5 32.5L27 39L23.21 35.21L24.63 33.79L27 36.17" fill="currentColor"></path></g><defs><clipPath id="clip0_475_5381"><rect width="72" height="72" fill="white"></rect></clipPath></defs>',2),Oa=[Ma];function Na(t,e){return y(),P("svg",La,Oa)}const Ua=ot(Va,[["render",Na]]),Ba={class:"flex flex-col items-center pt-6 pb-8 space-y-4"},Ha={class:"px-8 text-center"},za=T({name:"ConnectDeviceSuccess",__name:"ConnectDeviceSuccess",setup(t){const{t:e}=q();return(s,o)=>(y(),P("div",Ba,[g(Ua,{class:"text-secondary w-20"}),m("p",Ha,v(a(e)("connectDevice.success.message")),1)]))}});function Qt(t=it(Ae.ConnectDevicePage)){return{push:e=>{t.value=e},reset:()=>{t.value=j.Platforms}}}function cn(t,e=1e3){const[s,o,u]=Wa(t);return s*e*e+o*e+u}function Wa(t){const e=t.split(".").map(s=>Number.parseInt(s)).map(s=>isNaN(s)||s===1/0?0:s);return[e[0]??0,e[1]??0,e[2]??0]}function Fa(){const{remoteConfig:t}=Yn();return x(()=>cn("1.35.0")<cn(t.value.crossPlatformRequiredVersion))}function is(){return it(Ae.Platform)==="desktop"}const qa={class:"text-sm text-opacity-secondary"},Ve=T({name:"DialogSubtitle",__name:"DialogSubtitle",setup(t){return(e,s)=>(y(),P("h5",qa,[fe(e.$slots,"default")]))}}),Ga={class:"flex-1 min-w-0 truncate text-ellipsis text-start text-opacity-100"},Qa={class:"flex gap-1 opacity-icon"},rs=T({__name:"ConnectDevicePlatformListItem",props:{name:{},page:{},icons:{}},setup(t){const e=Qt();return(s,o)=>(y(),P("li",null,[m("button",{class:"py-4 px-6 gap-4 flex items-center w-full bg-opacity-0 bg-base-content hover:bg-opacity-hover active:bg-opacity-active transition",onClick:o[0]||(o[0]=u=>a(e).push(s.page))},[m("p",Ga,v(s.name),1),m("div",Qa,[(y(!0),P(le,null,ge(s.icons,u=>(y(),I(lo,{key:u,class:"icon",platform:u},null,8,["platform"]))),128))]),g(a(ro),{class:"icon"})])]))}}),ja={class:"space-y-4"},Ya=m("a",{href:"https://stayfreeapps.com/?download",target:"_blank"},"stayfreeapps.com",-1),Ka={class:"divide-y divide-base-content divide-opacity-divider"},Za=T({__name:"ConnectDevicePlatformList",setup(t){const{t:e}=q(),s=is(),o=x(()=>{const u={name:e("connectDevice.platforms.android"),icons:["android"],page:j.Android},d={name:e("connectDevice.platforms.ios"),icons:["ios"],page:j.Manual},l={name:e("connectDevice.platforms.desktop"),icons:["windows","mac","linux"],page:j.Desktop},i={name:e("connectDevice.platforms.wearOs"),icons:["wear"],page:j.Manual},n={name:e("connectDevice.platforms.extension"),icons:["chrome","safari","firefox"],page:j.Extension};return s?[u,d,n,i,l]:[u,d,l,i,n]});return(u,d)=>{const l=Ut("I18nT");return y(),P("div",ja,[O(" eslint-disable @intlify/vue-i18n/no-raw-text "),g(Ve,{class:"px-6"},{default:_(()=>[g(l,{keypath:"connectDevice.platforms.subtitle1",tag:"span"},{default:_(()=>[Ya]),_:1})]),_:1}),O(" eslint-enable @intlify/vue-i18n/no-raw-text "),g(Ve,{class:"px-6"},{default:_(()=>[N(v(a(e)("connectDevice.platforms.subtitle2")),1)]),_:1}),m("ul",Ka,[(y(!0),P(le,null,ge(a(o),i=>(y(),I(rs,{key:i.page,name:i.name,icons:i.icons,page:i.page},null,8,["name","icons","page"]))),128))])])}}}),Ja={},Xa={class:"py-1 text-base-content text-opacity-primary pl-1 list-decimal relative"};function ei(t,e){return y(),P("li",Xa,[fe(t.$slots,"default",{},void 0,!0)])}const ye=ot(Ja,[["render",ei],["__scopeId","data-v-b778db80"]]),ti={},ni={class:"ml-6"};function si(t,e){return y(),P("ol",ni,[fe(t.$slots,"default",{},void 0,!0)])}const jt=ot(ti,[["render",si],["__scopeId","data-v-33f51eab"]]),oi=30*rt;function Yt(){const t=Ms("pairing-code-expires-at",Date.now()),e=A(oi),s=A(),o=Oe(),{mutateAsync:u}=qn(),d=je(),l=Ft();function i(){const r=t.value-Date.now();e.value=r,clearTimeout(s.value),s.value=setTimeout(n.refetch.value,r)}Ot(()=>clearTimeout(s.value)),Bt(i);const n=Qe("pairing-code",async()=>{try{return await o.createPairingCode({installId:d.value})}catch{return await o.createDevice({installId:d.value,appId:l}),o.createPairingCode({installId:d.value})}},{refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1,cacheTime:e,staleTime:e,keepPreviousData:!0,async onSuccess(r){t.value=r.expiration,i(),await u(!0)},enabled:x(()=>!!d.value)});return{...n,expiresAt:t}}const ai={class:"flex items-center space-x-4"},ii={class:"text-error font-medium"},ri=T({name:"ErrorRetry",__name:"ErrorRetry",props:{message:{}},emits:["retry"],setup(t,{emit:e}){const s=t,{t:o}=q(),u=x(()=>s.message??o("genericError"));return(d,l)=>(y(),P("div",ai,[m("p",ii,v(a(u)),1),m("button",{class:"btn btn-error",onClick:l[0]||(l[0]=i=>e("retry"))},v(a(o)("retry")),1)]))}}),li={class:"flex flex-col items-center justify-center mx-auto gap-2"},ls=T({name:"PairingCodeBaseGenerator",__name:"PairingCodeBaseGenerator",props:{spinnerContainerClass:{}},setup(t){const{data:e,isLoading:s,isError:o,isSuccess:u,expiresAt:d,dataUpdatedAt:l,refetch:i}=Yt();return(n,r)=>{var c;return y(),P("div",li,[a(s)?(y(),P("div",{key:0,class:ue(n.spinnerContainerClass)},[g(qt)],2)):a(o)?(y(),I(ri,{key:1,onRetry:a(i)},null,8,["onRetry"])):fe(n.$slots,"default",{key:2,code:(c=a(e))==null?void 0:c.code,expiresAt:a(d),dataUpdatedAt:a(l),isSuccess:a(u)})])}}});/*!
 * qrcode.vue v3.4.1
 * A Vue.js component to generate QRCode.
 * © 2017-2023 @scopewu(https://github.com/scopewu)
 * MIT License.
 */var ht=function(){return ht=Object.assign||function(e){for(var s,o=1,u=arguments.length;o<u;o++){s=arguments[o];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(e[d]=s[d])}return e},ht.apply(this,arguments)};var Le;(function(t){var e=function(){function l(i,n,r,c){if(this.version=i,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],i<l.MIN_VERSION||i>l.MAX_VERSION)throw new RangeError("Version value out of range");if(c<-1||c>7)throw new RangeError("Mask value out of range");this.size=i*4+17;for(var p=[],f=0;f<this.size;f++)p.push(!1);for(var f=0;f<this.size;f++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();var h=this.addEccAndInterleave(r);if(this.drawCodewords(h),c==-1)for(var b=1e9,f=0;f<8;f++){this.applyMask(f),this.drawFormatBits(f);var k=this.getPenaltyScore();k<b&&(c=f,b=k),this.applyMask(f)}u(0<=c&&c<=7),this.mask=c,this.applyMask(c),this.drawFormatBits(c),this.isFunction=[]}return l.encodeText=function(i,n){var r=t.QrSegment.makeSegments(i);return l.encodeSegments(r,n)},l.encodeBinary=function(i,n){var r=t.QrSegment.makeBytes(i);return l.encodeSegments([r],n)},l.encodeSegments=function(i,n,r,c,p,f){if(r===void 0&&(r=1),c===void 0&&(c=40),p===void 0&&(p=-1),f===void 0&&(f=!0),!(l.MIN_VERSION<=r&&r<=c&&c<=l.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");var h,b;for(h=r;;h++){var k=l.getNumDataCodewords(h,n)*8,C=d.getTotalBits(i,h);if(C<=k){b=C;break}if(h>=c)throw new RangeError("Data too long")}for(var D=0,$=[l.Ecc.MEDIUM,l.Ecc.QUARTILE,l.Ecc.HIGH];D<$.length;D++){var V=$[D];f&&b<=l.getNumDataCodewords(h,V)*8&&(n=V)}for(var E=[],L=0,U=i;L<U.length;L++){var B=U[L];s(B.mode.modeBits,4,E),s(B.numChars,B.mode.numCharCountBits(h),E);for(var Y=0,X=B.getData();Y<X.length;Y++){var me=X[Y];E.push(me)}}u(E.length==b);var oe=l.getNumDataCodewords(h,n)*8;u(E.length<=oe),s(0,Math.min(4,oe-E.length),E),s(0,(8-E.length%8)%8,E),u(E.length%8==0);for(var he=236;E.length<oe;he^=253)s(he,8,E);for(var ce=[];ce.length*8<E.length;)ce.push(0);return E.forEach(function(de,De){return ce[De>>>3]|=de<<7-(De&7)}),new l(h,n,ce,p)},l.prototype.getModule=function(i,n){return 0<=i&&i<this.size&&0<=n&&n<this.size&&this.modules[n][i]},l.prototype.getModules=function(){return this.modules},l.prototype.drawFunctionPatterns=function(){for(var i=0;i<this.size;i++)this.setFunctionModule(6,i,i%2==0),this.setFunctionModule(i,6,i%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var n=this.getAlignmentPatternPositions(),r=n.length,i=0;i<r;i++)for(var c=0;c<r;c++)i==0&&c==0||i==0&&c==r-1||i==r-1&&c==0||this.drawAlignmentPattern(n[i],n[c]);this.drawFormatBits(0),this.drawVersion()},l.prototype.drawFormatBits=function(i){for(var n=this.errorCorrectionLevel.formatBits<<3|i,r=n,c=0;c<10;c++)r=r<<1^(r>>>9)*1335;var p=(n<<10|r)^21522;u(p>>>15==0);for(var c=0;c<=5;c++)this.setFunctionModule(8,c,o(p,c));this.setFunctionModule(8,7,o(p,6)),this.setFunctionModule(8,8,o(p,7)),this.setFunctionModule(7,8,o(p,8));for(var c=9;c<15;c++)this.setFunctionModule(14-c,8,o(p,c));for(var c=0;c<8;c++)this.setFunctionModule(this.size-1-c,8,o(p,c));for(var c=8;c<15;c++)this.setFunctionModule(8,this.size-15+c,o(p,c));this.setFunctionModule(8,this.size-8,!0)},l.prototype.drawVersion=function(){if(!(this.version<7)){for(var i=this.version,n=0;n<12;n++)i=i<<1^(i>>>11)*7973;var r=this.version<<12|i;u(r>>>18==0);for(var n=0;n<18;n++){var c=o(r,n),p=this.size-11+n%3,f=Math.floor(n/3);this.setFunctionModule(p,f,c),this.setFunctionModule(f,p,c)}}},l.prototype.drawFinderPattern=function(i,n){for(var r=-4;r<=4;r++)for(var c=-4;c<=4;c++){var p=Math.max(Math.abs(c),Math.abs(r)),f=i+c,h=n+r;0<=f&&f<this.size&&0<=h&&h<this.size&&this.setFunctionModule(f,h,p!=2&&p!=4)}},l.prototype.drawAlignmentPattern=function(i,n){for(var r=-2;r<=2;r++)for(var c=-2;c<=2;c++)this.setFunctionModule(i+c,n+r,Math.max(Math.abs(c),Math.abs(r))!=1)},l.prototype.setFunctionModule=function(i,n,r){this.modules[n][i]=r,this.isFunction[n][i]=!0},l.prototype.addEccAndInterleave=function(i){var n=this.version,r=this.errorCorrectionLevel;if(i.length!=l.getNumDataCodewords(n,r))throw new RangeError("Invalid argument");for(var c=l.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],p=l.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],f=Math.floor(l.getNumRawDataModules(n)/8),h=c-f%c,b=Math.floor(f/c),k=[],C=l.reedSolomonComputeDivisor(p),D=0,$=0;D<c;D++){var V=i.slice($,$+b-p+(D<h?0:1));$+=V.length;var E=l.reedSolomonComputeRemainder(V,C);D<h&&V.push(0),k.push(V.concat(E))}for(var L=[],U=function(B){k.forEach(function(Y,X){(B!=b-p||X>=h)&&L.push(Y[B])})},D=0;D<k[0].length;D++)U(D);return u(L.length==f),L},l.prototype.drawCodewords=function(i){if(i.length!=Math.floor(l.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var n=0,r=this.size-1;r>=1;r-=2){r==6&&(r=5);for(var c=0;c<this.size;c++)for(var p=0;p<2;p++){var f=r-p,h=(r+1&2)==0,b=h?this.size-1-c:c;!this.isFunction[b][f]&&n<i.length*8&&(this.modules[b][f]=o(i[n>>>3],7-(n&7)),n++)}}u(n==i.length*8)},l.prototype.applyMask=function(i){if(i<0||i>7)throw new RangeError("Mask value out of range");for(var n=0;n<this.size;n++)for(var r=0;r<this.size;r++){var c=void 0;switch(i){case 0:c=(r+n)%2==0;break;case 1:c=n%2==0;break;case 2:c=r%3==0;break;case 3:c=(r+n)%3==0;break;case 4:c=(Math.floor(r/3)+Math.floor(n/2))%2==0;break;case 5:c=r*n%2+r*n%3==0;break;case 6:c=(r*n%2+r*n%3)%2==0;break;case 7:c=((r+n)%2+r*n%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[n][r]&&c&&(this.modules[n][r]=!this.modules[n][r])}},l.prototype.getPenaltyScore=function(){for(var i=0,n=0;n<this.size;n++){for(var r=!1,c=0,p=[0,0,0,0,0,0,0],f=0;f<this.size;f++)this.modules[n][f]==r?(c++,c==5?i+=l.PENALTY_N1:c>5&&i++):(this.finderPenaltyAddHistory(c,p),r||(i+=this.finderPenaltyCountPatterns(p)*l.PENALTY_N3),r=this.modules[n][f],c=1);i+=this.finderPenaltyTerminateAndCount(r,c,p)*l.PENALTY_N3}for(var f=0;f<this.size;f++){for(var r=!1,h=0,p=[0,0,0,0,0,0,0],n=0;n<this.size;n++)this.modules[n][f]==r?(h++,h==5?i+=l.PENALTY_N1:h>5&&i++):(this.finderPenaltyAddHistory(h,p),r||(i+=this.finderPenaltyCountPatterns(p)*l.PENALTY_N3),r=this.modules[n][f],h=1);i+=this.finderPenaltyTerminateAndCount(r,h,p)*l.PENALTY_N3}for(var n=0;n<this.size-1;n++)for(var f=0;f<this.size-1;f++){var b=this.modules[n][f];b==this.modules[n][f+1]&&b==this.modules[n+1][f]&&b==this.modules[n+1][f+1]&&(i+=l.PENALTY_N2)}for(var k=0,C=0,D=this.modules;C<D.length;C++){var $=D[C];k=$.reduce(function(L,U){return L+(U?1:0)},k)}var V=this.size*this.size,E=Math.ceil(Math.abs(k*20-V*10)/V)-1;return u(0<=E&&E<=9),i+=E*l.PENALTY_N4,u(0<=i&&i<=2568888),i},l.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var i=Math.floor(this.version/7)+2,n=this.version==32?26:Math.ceil((this.version*4+4)/(i*2-2))*2,r=[6],c=this.size-7;r.length<i;c-=n)r.splice(1,0,c);return r},l.getNumRawDataModules=function(i){if(i<l.MIN_VERSION||i>l.MAX_VERSION)throw new RangeError("Version number out of range");var n=(16*i+128)*i+64;if(i>=2){var r=Math.floor(i/7)+2;n-=(25*r-10)*r-55,i>=7&&(n-=36)}return u(208<=n&&n<=29648),n},l.getNumDataCodewords=function(i,n){return Math.floor(l.getNumRawDataModules(i)/8)-l.ECC_CODEWORDS_PER_BLOCK[n.ordinal][i]*l.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][i]},l.reedSolomonComputeDivisor=function(i){if(i<1||i>255)throw new RangeError("Degree out of range");for(var n=[],r=0;r<i-1;r++)n.push(0);n.push(1);for(var c=1,r=0;r<i;r++){for(var p=0;p<n.length;p++)n[p]=l.reedSolomonMultiply(n[p],c),p+1<n.length&&(n[p]^=n[p+1]);c=l.reedSolomonMultiply(c,2)}return n},l.reedSolomonComputeRemainder=function(i,n){for(var r=n.map(function(b){return 0}),c=function(b){var k=b^r.shift();r.push(0),n.forEach(function(C,D){return r[D]^=l.reedSolomonMultiply(C,k)})},p=0,f=i;p<f.length;p++){var h=f[p];c(h)}return r},l.reedSolomonMultiply=function(i,n){if(i>>>8||n>>>8)throw new RangeError("Byte out of range");for(var r=0,c=7;c>=0;c--)r=r<<1^(r>>>7)*285,r^=(n>>>c&1)*i;return u(r>>>8==0),r},l.prototype.finderPenaltyCountPatterns=function(i){var n=i[1];u(n<=this.size*3);var r=n>0&&i[2]==n&&i[3]==n*3&&i[4]==n&&i[5]==n;return(r&&i[0]>=n*4&&i[6]>=n?1:0)+(r&&i[6]>=n*4&&i[0]>=n?1:0)},l.prototype.finderPenaltyTerminateAndCount=function(i,n,r){return i&&(this.finderPenaltyAddHistory(n,r),n=0),n+=this.size,this.finderPenaltyAddHistory(n,r),this.finderPenaltyCountPatterns(r)},l.prototype.finderPenaltyAddHistory=function(i,n){n[0]==0&&(i+=this.size),n.pop(),n.unshift(i)},l.MIN_VERSION=1,l.MAX_VERSION=40,l.PENALTY_N1=3,l.PENALTY_N2=3,l.PENALTY_N3=40,l.PENALTY_N4=10,l.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],l.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],l}();t.QrCode=e;function s(l,i,n){if(i<0||i>31||l>>>i)throw new RangeError("Value out of range");for(var r=i-1;r>=0;r--)n.push(l>>>r&1)}function o(l,i){return(l>>>i&1)!=0}function u(l){if(!l)throw new Error("Assertion error")}var d=function(){function l(i,n,r){if(this.mode=i,this.numChars=n,this.bitData=r,n<0)throw new RangeError("Invalid argument");this.bitData=r.slice()}return l.makeBytes=function(i){for(var n=[],r=0,c=i;r<c.length;r++){var p=c[r];s(p,8,n)}return new l(l.Mode.BYTE,i.length,n)},l.makeNumeric=function(i){if(!l.isNumeric(i))throw new RangeError("String contains non-numeric characters");for(var n=[],r=0;r<i.length;){var c=Math.min(i.length-r,3);s(parseInt(i.substring(r,r+c),10),c*3+1,n),r+=c}return new l(l.Mode.NUMERIC,i.length,n)},l.makeAlphanumeric=function(i){if(!l.isAlphanumeric(i))throw new RangeError("String contains unencodable characters in alphanumeric mode");var n=[],r;for(r=0;r+2<=i.length;r+=2){var c=l.ALPHANUMERIC_CHARSET.indexOf(i.charAt(r))*45;c+=l.ALPHANUMERIC_CHARSET.indexOf(i.charAt(r+1)),s(c,11,n)}return r<i.length&&s(l.ALPHANUMERIC_CHARSET.indexOf(i.charAt(r)),6,n),new l(l.Mode.ALPHANUMERIC,i.length,n)},l.makeSegments=function(i){return i==""?[]:l.isNumeric(i)?[l.makeNumeric(i)]:l.isAlphanumeric(i)?[l.makeAlphanumeric(i)]:[l.makeBytes(l.toUtf8ByteArray(i))]},l.makeEci=function(i){var n=[];if(i<0)throw new RangeError("ECI assignment value out of range");if(i<128)s(i,8,n);else if(i<16384)s(2,2,n),s(i,14,n);else if(i<1e6)s(6,3,n),s(i,21,n);else throw new RangeError("ECI assignment value out of range");return new l(l.Mode.ECI,0,n)},l.isNumeric=function(i){return l.NUMERIC_REGEX.test(i)},l.isAlphanumeric=function(i){return l.ALPHANUMERIC_REGEX.test(i)},l.prototype.getData=function(){return this.bitData.slice()},l.getTotalBits=function(i,n){for(var r=0,c=0,p=i;c<p.length;c++){var f=p[c],h=f.mode.numCharCountBits(n);if(f.numChars>=1<<h)return 1/0;r+=4+h+f.bitData.length}return r},l.toUtf8ByteArray=function(i){i=encodeURI(i);for(var n=[],r=0;r<i.length;r++)i.charAt(r)!="%"?n.push(i.charCodeAt(r)):(n.push(parseInt(i.substring(r+1,r+3),16)),r+=2);return n},l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",l}();t.QrSegment=d})(Le||(Le={}));(function(t){(function(e){var s=function(){function o(u,d){this.ordinal=u,this.formatBits=d}return o.LOW=new o(0,1),o.MEDIUM=new o(1,0),o.QUARTILE=new o(2,3),o.HIGH=new o(3,2),o}();e.Ecc=s})(t.QrCode||(t.QrCode={}))})(Le||(Le={}));(function(t){(function(e){var s=function(){function o(u,d){this.modeBits=u,this.numBitsCharCount=d}return o.prototype.numCharCountBits=function(u){return this.numBitsCharCount[Math.floor((u+7)/17)]},o.NUMERIC=new o(1,[10,12,14]),o.ALPHANUMERIC=new o(2,[9,11,13]),o.BYTE=new o(4,[8,16,16]),o.KANJI=new o(8,[8,10,12]),o.ECI=new o(7,[0,0,0]),o}();e.Mode=s})(t.QrSegment||(t.QrSegment={}))})(Le||(Le={}));var ze=Le,cs="H",Kt={L:ze.QrCode.Ecc.LOW,M:ze.QrCode.Ecc.MEDIUM,Q:ze.QrCode.Ecc.QUARTILE,H:ze.QrCode.Ecc.HIGH},ci=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function us(t){return t in Kt}function ds(t,e){e===void 0&&(e=0);var s=[];return t.forEach(function(o,u){var d=null;o.forEach(function(l,i){if(!l&&d!==null){s.push("M".concat(d+e," ").concat(u+e,"h").concat(i-d,"v1H").concat(d+e,"z")),d=null;return}if(i===o.length-1){if(!l)return;d===null?s.push("M".concat(i+e,",").concat(u+e," h1v1H").concat(i+e,"z")):s.push("M".concat(d+e,",").concat(u+e," h").concat(i+1-d,"v1H").concat(d+e,"z"));return}l&&d===null&&(d=i)})}),s.join("")}var Zt={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:cs,validator:function(t){return us(t)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0}},ui=ht(ht({},Zt),{renderAs:{type:String,required:!1,default:"canvas",validator:function(t){return["canvas","svg"].indexOf(t)>-1}}}),di=T({name:"QRCodeSvg",props:Zt,setup:function(t){var e=A(0),s=A(""),o=function(){var u=t.value,d=t.level,l=t.margin,i=ze.QrCode.encodeText(u,Kt[d]).getModules();e.value=i.length+l*2,s.value=ds(i,l)};return o(),Vn(o),function(){return Re("svg",{width:t.size,height:t.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(e.value," ").concat(e.value)},[Re("path",{fill:t.background,d:"M0,0 h".concat(e.value,"v").concat(e.value,"H0z")}),Re("path",{fill:t.foreground,d:s.value})])}}}),pi=T({name:"QRCodeCanvas",props:Zt,setup:function(t){var e=A(null),s=function(){var o=t.value,u=t.level,d=t.size,l=t.margin,i=t.background,n=t.foreground,r=e.value;if(r){var c=r.getContext("2d");if(c){var p=ze.QrCode.encodeText(o,Kt[u]).getModules(),f=p.length+l*2,h=window.devicePixelRatio||1,b=d/f*h;r.height=r.width=d*h,c.scale(b,b),c.fillStyle=i,c.fillRect(0,0,f,f),c.fillStyle=n,ci?c.fill(new Path2D(ds(p,l))):p.forEach(function(k,C){k.forEach(function(D,$){D&&c.fillRect($+l,C+l,1,1)})})}}};return Bt(s),Vn(s),function(){return Re("canvas",{ref:e,style:{width:"".concat(t.size,"px"),height:"".concat(t.size,"px")}})}}}),fi=T({name:"Qrcode",render:function(){var t=this.$props,e=t.renderAs,s=t.value,o=t.size,u=t.margin,d=t.level,l=t.background,i=t.foreground,n=o>>>0,r=u>>>0,c=us(d)?d:cs;return Re(e==="svg"?di:pi,{value:s,size:n,margin:r,level:c,background:l,foreground:i})},props:ui});const mi=m("span",{class:"select-none"},"-",-1),ps=T({__name:"PairingCodeDisplay",props:{code:{default:""}},setup(t){return(e,s)=>(y(),P("p",null,[m("span",null,v(e.code[0]),1),m("span",null,v(e.code[1]),1),m("span",null,v(e.code[2]),1),mi,m("span",null,v(e.code[3]),1),m("span",null,v(e.code[4]),1),m("span",null,v(e.code[5]),1)]))}});function hi(t){const e=A(!1),s=A(t());function o(){s.value=t(),e.value&&requestAnimationFrame(o)}return Bt(()=>{e.value=!0,o()}),Ot(()=>{e.value=!1}),s}const vi={class:"w-full h-1 rounded-full bg-base-content bg-opacity-divider relative overflow-hidden"},fs=T({__name:"PairingCodeExpirationBar",props:{expiresAt:{},dataUpdatedAt:{},isSuccess:{type:Boolean}},setup(t){const e=t,s=hi(()=>e.isSuccess?`${100*(1-(Date.now()-e.dataUpdatedAt)/(e.expiresAt-e.dataUpdatedAt))}%`:"0%");return(o,u)=>(y(),P("div",vi,[m("div",{class:"bg-secondary absolute right-0 inset-y-0",style:Os({width:a(s)})},null,4)]))}}),gi={class:"flex gap-8 items-center justify-center"},_i={class:"flex flex-col items-center"},bi={class:"text-base-content text-opacity-primary"},yi={class:"text-sm"},ki=T({name:"PairingCodeTextGenerator",__name:"PairingCodeQrCodeGenerator",setup(t){const{t:e}=q(),s=o=>`https://stayfreeapps.com/android-connect-device?pairingCode=${o}`;return(o,u)=>(y(),I(ls,{"spinner-container-class":"w-[128px] h-[128px] bg-base-content flex items-center justify-center rounded"},{default:_(({code:d,expiresAt:l,isSuccess:i,dataUpdatedAt:n})=>[m("div",gi,[d?(y(),I(fi,{key:0,class:"rounded overflow-hidden",size:128,margin:2,"render-as":"svg",level:"L",value:s(d)},null,8,["value"])):O("v-if",!0),m("div",_i,[m("p",bi,v(a(e)("connectDevice.qrCodeAltTitle")),1),m("p",yi,v(a(e)("connectDevice.qrCodeAltMessage")),1),m("div",null,[g(ps,{code:d,class:"text-2xl font-mono font-medium text-secondary"},null,8,["code"]),g(fs,{"expires-at":l,"is-success":i,"data-updated-at":n},null,8,["expires-at","is-success","data-updated-at"])])])])]),_:1}))}}),wi={class:"space-y-4"},Ci=T({__name:"ConnectDeviceAndroid",setup(t){const{t:e}=q();return(s,o)=>(y(),P("div",wi,[g(Ve,null,{default:_(()=>[N(v(a(e)("connectDevice.android.subtitle")),1)]),_:1}),g(jt,null,{default:_(()=>[g(ye,null,{default:_(()=>[N(v(a(e)("connectDevice.android.step1")),1)]),_:1}),g(ye,null,{default:_(()=>[N(v(a(e)("connectDevice.android.step2"))+" ",1),g(ki,{class:"pt-4 pb-2 -ml-6"})]),_:1}),g(ye,null,{default:_(()=>[N(v(a(e)("connectDevice.android.step3")),1)]),_:1})]),_:1})]))}}),ms=T({name:"PairingCodeTextGenerator",__name:"PairingCodeTextGenerator",setup(t){return(e,s)=>(y(),I(ls,null,{default:_(({code:o,expiresAt:u,dataUpdatedAt:d,isSuccess:l})=>[g(ps,{class:"text-secondary text-4xl px-4 font-mono space-x-1.5",code:o},null,8,["code"]),g(fs,{"expires-at":u,"is-success":l,"data-updated-at":d},null,8,["expires-at","is-success","data-updated-at"])]),_:1}))}}),Di={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ei=m("path",{fill:"currentColor",d:"M19 21H8V7h11m0-2H8a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2m-3-4H4a2 2 0 0 0-2 2v14h2V3h12V1Z"},null,-1),Pi=[Ei];function Si(t,e){return y(),P("svg",Di,Pi)}const Ai={name:"mdi-content-copy",render:Si},$i={class:"text-sm font-medium text-secondary-content"},xi=T({__name:"CopyButton",props:{value:{},tooltipPosition:{default:"right"}},setup(t){const e=t,{t:s}=q(),o=Nt(()=>{u.value=!1},3*rt,{immediate:!1}),u=A(!1);function d(){navigator.clipboard.writeText(e.value),u.value=!0,o.start()}return(l,i)=>(y(),P("button",{class:"relative clickable p-2 rounded-full",onClick:d},[g(a(Ai),{class:"icon opacity-secondary"}),a(u)?(y(),P("div",{key:0,class:ue(["absolute bg-secondary rounded-lg px-2 py-1 text-center",{"top-full left-[50%] translate-x-[-50%]":l.tooltipPosition==="bottom","left-full top-[50%] translate-y-[-50%]":l.tooltipPosition==="right"}])},[m("p",$i,v(a(s)("copied")),1),m("span",{class:ue(["w-0 h-0 absolute border-secondary",{"top-[-6px] left-[50%] translate-x-[-50%] border-x-[6px] border-b-[6px] border-x-transparent":l.tooltipPosition==="bottom","left-[-6px] top-[50%] translate-y-[-50%] border-y-[6px] border-r-[6px] border-y-transparent":l.tooltipPosition==="right"}])},null,2)],2)):O("v-if",!0)]))}}),Ri={class:"space-y-4"},Ii={class:"flex items-center w-full"},Ti=["href"],Vi=T({__name:"ConnectDeviceExtension",setup(t){const{t:e}=q(),{data:s}=Yt(),o=x(()=>{var u;return`https://stayfreeapps.com/extension-connect-device?code=${(u=s.value)==null?void 0:u.code}`});return(u,d)=>(y(),P("div",Ri,[g(Ve,null,{default:_(()=>[N(v(a(e)("connectDevice.extension.subtitle")),1)]),_:1}),g(jt,null,{default:_(()=>[g(ye,{class:"whitespace-pre-line space-y-2"},{default:_(()=>[m("p",null,v(a(e)("connectDevice.extension.step1_1")),1),m("p",Ii,[m("a",{class:"flex-1 line-clamp-1 link link-secondary",href:a(o),target:"_blank"},v(a(o)),9,Ti),g(xi,{value:a(o),"tooltip-position":"bottom"},null,8,["value"])]),m("p",null,v(a(e)("connectDevice.extension.step1_2")),1),g(ms,{class:"w-max py-4"})]),_:1}),g(ye,null,{default:_(()=>[N(v(a(e)("connectDevice.extension.step2")),1)]),_:1})]),_:1})]))}}),Li={class:"space-y-4"},Mi=T({__name:"ConnectDeviceDesktop",setup(t){const{t:e}=q();return(s,o)=>(y(),P("div",Li,[g(Ve,null,{default:_(()=>[N(v(a(e)("connectDevice.desktop.subtitle")),1)]),_:1}),g(jt,null,{default:_(()=>[g(ye,null,{default:_(()=>[N(v(a(e)("connectDevice.desktop.step1")),1)]),_:1}),g(ye,null,{default:_(()=>[N(v(a(e)("connectDevice.desktop.step2")),1)]),_:1}),g(ye,null,{default:_(()=>[N(v(a(e)("connectDevice.desktop.step3"))+" ",1),g(ms,{class:"w-max py-4"})]),_:1}),g(ye,null,{default:_(()=>[N(v(a(e)("connectDevice.desktop.step4")),1)]),_:1})]),_:1})]))}});function Oi(){const t=Oe(),e=ct(),{mutateAsync:s}=qn(),{refetch:o}=Yt(),u=Ln();return bt("join-device-group",async d=>{const l=await Mn(u),i=await t.validatePairingCode({code:d,installId:l});return await e.setDeviceGroup(i),i},{async onSuccess(){await s(!0),await o.value()}})}const Ni={class:"relative flex justify-center"},Ui=["aria-label","disabled"],Bi=m("p",{class:"text-2xl font-mono select-none"},"-",-1),Hi=T({name:"PairingCodeInput",__name:"PairingCodeInput",props:at({disabled:{type:Boolean}},{modelValue:{required:!0}}),emits:["update:modelValue"],setup(t){const e=t,s=ke(t,"modelValue"),o=A(),{digits:u}=wo({inputLength:6,inputRef:o,inputValue:s,focusOnMount:!0});return pe(()=>e.disabled,(d,l)=>{!d&&l&&setTimeout(()=>{var i;return(i=o.value)==null?void 0:i.focus()})}),(d,l)=>(y(),P("div",Ni,[Te(m("input",{ref_key:"input",ref:o,class:"absolute left-0 bottom-0 w-0 h-0 text-black","aria-label":d.$t("connectDevice.manual.pairingCodeInputLabel"),type:"text","onUpdate:modelValue":l[0]||(l[0]=i=>s.value=i),disabled:d.disabled},null,8,Ui),[[Ns,s.value]]),m("ul",{class:"flex items-center space-x-1 cursor-text",onClick:l[1]||(l[1]=i=>{var n;return(n=a(o))==null?void 0:n.focus()})},[g(Ue,{index:0,focused:a(u)[0].focused},{default:_(()=>[N(v(a(u)[0].value),1)]),_:1},8,["focused"]),g(Ue,{index:1,focused:a(u)[1].focused},{default:_(()=>[N(v(a(u)[1].value),1)]),_:1},8,["focused"]),g(Ue,{index:2,focused:a(u)[2].focused},{default:_(()=>[N(v(a(u)[2].value),1)]),_:1},8,["focused"]),Bi,g(Ue,{index:3,focused:a(u)[3].focused},{default:_(()=>[N(v(a(u)[3].value),1)]),_:1},8,["focused"]),g(Ue,{index:4,focused:a(u)[4].focused},{default:_(()=>[N(v(a(u)[4].value),1)]),_:1},8,["focused"]),g(Ue,{index:5,focused:a(u)[5].focused},{default:_(()=>[N(v(a(u)[5].value),1)]),_:1},8,["focused"])])]))}}),zi={class:"space-y-4"},Wi={class:"pt-6 pb-4 space-y-4"},Fi={class:"relative"},qi={key:0,class:"absolute flex inset-0 bg-neutral bg-opacity-disabled"},Gi={key:0,class:"text-error font-medium text-center"},Qi=T({name:"ConnectDeviceManual",__name:"ConnectDeviceManual",emits:["deviceAdded"],setup(t,{emit:e}){const{t:s}=q(),o=A("");pe(o,r=>{r.length===6&&u(r,{onSuccess:()=>e("deviceAdded")})});const{mutate:u,isLoading:d,isError:l,error:i}=Oi(),n=x(()=>l.value?i.value instanceof Us?s("connectDevice.manual.alreadyInGroupMessage"):i.value instanceof Bs?s("connectDevice.manual.invalidCodeMessage"):(Hs("API error joining device group",i.value),s("genericError")):"");return(r,c)=>(y(),P("div",zi,[g(Ve,null,{default:_(()=>[N(v(a(s)("connectDevice.manual.subtitle")),1)]),_:1}),m("div",Wi,[O(" Input "),m("div",Fi,[g(Hi,{modelValue:a(o),"onUpdate:modelValue":c[0]||(c[0]=p=>G(o)?o.value=p:null),disabled:a(d)},null,8,["modelValue","disabled"]),a(d)?(y(),P("div",qi,[g(qt,{class:"m-auto"})])):O("v-if",!0)]),O(" Error "),a(l)?(y(),P("p",Gi,v(a(n)),1)):O("v-if",!0)])]))}}),ji=2*rt;async function hs(t,e){const s=await Mn(e),o=await t.getMyDeviceGroup({installId:s}).catch(Gn);return o?(await t.listDeviceGroupDevices({deviceGroupKey:o.key})).length:0}function Yi(t,e){const s=Oe();return Qe("devices-count",()=>hs(s,t).catch(),{keepPreviousData:!0,retry:!1,enabled:e,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:e})}function Ki(t){const e=A(!1),s=A(0),o=Ln(),u=Oe();hs(u,o).then(n=>{s.value=n,e.value=!0},Gn);const{data:d,refetch:l}=Yi(o,e);zs(()=>l.value().catch(),ji);const i=On();pe(d,n=>{n!=null&&e.value&&n>s.value&&(t(),i.invalidateQueries({queryKey:co}).catch())})}const Zi=T({__name:"ProvideCodeAutoAdvance",setup(t){const{reportEvent:e}=Me(),s=kt(),o=Qt();return Ki(()=>{o.push(j.Success),e("CONNECTED_NEW_DEVICE"),s.update()}),(d,l)=>O(" Blank template, just run setup script ")}}),Ji={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Xi=m("path",{fill:"currentColor",d:"M20 11v2H8l5.5 5.5l-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5L8 11h12Z"},null,-1),er=[Xi];function tr(t,e){return y(),P("svg",Ji,er)}const nr={name:"mdi-arrow-left",render:tr};/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const vs=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",Ye=t=>vs?Symbol(t):"_vr_"+t,sr=Ye("rvlm"),un=Ye("rvd"),Ct=Ye("r"),Jt=Ye("rl"),Tt=Ye("rvl"),He=typeof window<"u";function or(t){return t.__esModule||vs&&t[Symbol.toStringTag]==="Module"}const Q=Object.assign;function At(t,e){const s={};for(const o in e){const u=e[o];s[o]=Array.isArray(u)?u.map(t):t(u)}return s}const Xe=()=>{},ar=/\/$/,ir=t=>t.replace(ar,"");function $t(t,e,s="/"){let o,u={},d="",l="";const i=e.indexOf("?"),n=e.indexOf("#",i>-1?i:0);return i>-1&&(o=e.slice(0,i),d=e.slice(i+1,n>-1?n:e.length),u=t(d)),n>-1&&(o=o||e.slice(0,n),l=e.slice(n,e.length)),o=ur(o??e,s),{fullPath:o+(d&&"?")+d+l,path:o,query:u,hash:l}}function rr(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function dn(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function lr(t,e,s){const o=e.matched.length-1,u=s.matched.length-1;return o>-1&&o===u&&qe(e.matched[o],s.matched[u])&&gs(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function qe(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function gs(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!cr(t[s],e[s]))return!1;return!0}function cr(t,e){return Array.isArray(t)?pn(t,e):Array.isArray(e)?pn(e,t):t===e}function pn(t,e){return Array.isArray(e)?t.length===e.length&&t.every((s,o)=>s===e[o]):t.length===1&&t[0]===e}function ur(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),o=t.split("/");let u=s.length-1,d,l;for(d=0;d<o.length;d++)if(l=o[d],!(u===1||l==="."))if(l==="..")u--;else break;return s.slice(0,u).join("/")+"/"+o.slice(d-(d===o.length?1:0)).join("/")}var st;(function(t){t.pop="pop",t.push="push"})(st||(st={}));var et;(function(t){t.back="back",t.forward="forward",t.unknown=""})(et||(et={}));function dr(t){if(!t)if(He){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),ir(t)}const pr=/^[^#]+#/;function fr(t,e){return t.replace(pr,"#")+e}function mr(t,e){const s=document.documentElement.getBoundingClientRect(),o=t.getBoundingClientRect();return{behavior:e.behavior,left:o.left-s.left-(e.left||0),top:o.top-s.top-(e.top||0)}}const Dt=()=>({left:window.pageXOffset,top:window.pageYOffset});function hr(t){let e;if("el"in t){const s=t.el,o=typeof s=="string"&&s.startsWith("#"),u=typeof s=="string"?o?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!u)return;e=mr(u,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function fn(t,e){return(history.state?history.state.position-e:-1)+t}const Vt=new Map;function vr(t,e){Vt.set(t,e)}function gr(t){const e=Vt.get(t);return Vt.delete(t),e}let _r=()=>location.protocol+"//"+location.host;function _s(t,e){const{pathname:s,search:o,hash:u}=e,d=t.indexOf("#");if(d>-1){let i=u.includes(t.slice(d))?t.slice(d).length:1,n=u.slice(i);return n[0]!=="/"&&(n="/"+n),dn(n,"")}return dn(s,t)+o+u}function br(t,e,s,o){let u=[],d=[],l=null;const i=({state:f})=>{const h=_s(t,location),b=s.value,k=e.value;let C=0;if(f){if(s.value=h,e.value=f,l&&l===b){l=null;return}C=k?f.position-k.position:0}else o(h);u.forEach(D=>{D(s.value,b,{delta:C,type:st.pop,direction:C?C>0?et.forward:et.back:et.unknown})})};function n(){l=s.value}function r(f){u.push(f);const h=()=>{const b=u.indexOf(f);b>-1&&u.splice(b,1)};return d.push(h),h}function c(){const{history:f}=window;f.state&&f.replaceState(Q({},f.state,{scroll:Dt()}),"")}function p(){for(const f of d)f();d=[],window.removeEventListener("popstate",i),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",i),window.addEventListener("beforeunload",c),{pauseListeners:n,listen:r,destroy:p}}function mn(t,e,s,o=!1,u=!1){return{back:t,current:e,forward:s,replaced:o,position:window.history.length,scroll:u?Dt():null}}function yr(t){const{history:e,location:s}=window,o={value:_s(t,s)},u={value:e.state};u.value||d(o.value,{back:null,current:o.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function d(n,r,c){const p=t.indexOf("#"),f=p>-1?(s.host&&document.querySelector("base")?t:t.slice(p))+n:_r()+t+n;try{e[c?"replaceState":"pushState"](r,"",f),u.value=r}catch(h){console.error(h),s[c?"replace":"assign"](f)}}function l(n,r){const c=Q({},e.state,mn(u.value.back,n,u.value.forward,!0),r,{position:u.value.position});d(n,c,!0),o.value=n}function i(n,r){const c=Q({},u.value,e.state,{forward:n,scroll:Dt()});d(c.current,c,!0);const p=Q({},mn(o.value,n,null),{position:c.position+1},r);d(n,p,!1),o.value=n}return{location:o,state:u,push:i,replace:l}}function kr(t){t=dr(t);const e=yr(t),s=br(t,e.state,e.location,e.replace);function o(d,l=!0){l||s.pauseListeners(),history.go(d)}const u=Q({location:"",base:t,go:o,createHref:fr.bind(null,t)},e,s);return Object.defineProperty(u,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(u,"state",{enumerable:!0,get:()=>e.state.value}),u}function wr(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),kr(t)}function Cr(t){return typeof t=="string"||t&&typeof t=="object"}function bs(t){return typeof t=="string"||typeof t=="symbol"}const Ee={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ys=Ye("nf");var hn;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(hn||(hn={}));function Ge(t,e){return Q(new Error,{type:t,[ys]:!0},e)}function xe(t,e){return t instanceof Error&&ys in t&&(e==null||!!(t.type&e))}const vn="[^/]+?",Dr={sensitive:!1,strict:!1,start:!0,end:!0},Er=/[.+*?^${}()[\]/\\]/g;function Pr(t,e){const s=Q({},Dr,e),o=[];let u=s.start?"^":"";const d=[];for(const r of t){const c=r.length?[]:[90];s.strict&&!r.length&&(u+="/");for(let p=0;p<r.length;p++){const f=r[p];let h=40+(s.sensitive?.25:0);if(f.type===0)p||(u+="/"),u+=f.value.replace(Er,"\\$&"),h+=40;else if(f.type===1){const{value:b,repeatable:k,optional:C,regexp:D}=f;d.push({name:b,repeatable:k,optional:C});const $=D||vn;if($!==vn){h+=10;try{new RegExp(`(${$})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${b}" (${$}): `+E.message)}}let V=k?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;p||(V=C&&r.length<2?`(?:/${V})`:"/"+V),C&&(V+="?"),u+=V,h+=20,C&&(h+=-8),k&&(h+=-20),$===".*"&&(h+=-50)}c.push(h)}o.push(c)}if(s.strict&&s.end){const r=o.length-1;o[r][o[r].length-1]+=.7000000000000001}s.strict||(u+="/?"),s.end?u+="$":s.strict&&(u+="(?:/|$)");const l=new RegExp(u,s.sensitive?"":"i");function i(r){const c=r.match(l),p={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",b=d[f-1];p[b.name]=h&&b.repeatable?h.split("/"):h}return p}function n(r){let c="",p=!1;for(const f of t){(!p||!c.endsWith("/"))&&(c+="/"),p=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:b,repeatable:k,optional:C}=h,D=b in r?r[b]:"";if(Array.isArray(D)&&!k)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const $=Array.isArray(D)?D.join("/"):D;if(!$)if(C)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):p=!0);else throw new Error(`Missing required param "${b}"`);c+=$}}return c}return{re:l,score:o,keys:d,parse:i,stringify:n}}function Sr(t,e){let s=0;for(;s<t.length&&s<e.length;){const o=e[s]-t[s];if(o)return o;s++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Ar(t,e){let s=0;const o=t.score,u=e.score;for(;s<o.length&&s<u.length;){const d=Sr(o[s],u[s]);if(d)return d;s++}return u.length-o.length}const $r={type:0,value:""},xr=/[a-zA-Z0-9_]/;function Rr(t){if(!t)return[[]];if(t==="/")return[[$r]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${s})/"${r}": ${h}`)}let s=0,o=s;const u=[];let d;function l(){d&&u.push(d),d=[]}let i=0,n,r="",c="";function p(){r&&(s===0?d.push({type:0,value:r}):s===1||s===2||s===3?(d.length>1&&(n==="*"||n==="+")&&e(`A repeatable param (${r}) must be alone in its segment. eg: '/:ids+.`),d.push({type:1,value:r,regexp:c,repeatable:n==="*"||n==="+",optional:n==="*"||n==="?"})):e("Invalid state to consume buffer"),r="")}function f(){r+=n}for(;i<t.length;){if(n=t[i++],n==="\\"&&s!==2){o=s,s=4;continue}switch(s){case 0:n==="/"?(r&&p(),l()):n===":"?(p(),s=1):f();break;case 4:f(),s=o;break;case 1:n==="("?s=2:xr.test(n)?f():(p(),s=0,n!=="*"&&n!=="?"&&n!=="+"&&i--);break;case 2:n===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+n:s=3:c+=n;break;case 3:p(),s=0,n!=="*"&&n!=="?"&&n!=="+"&&i--,c="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${r}"`),p(),l(),u}function Ir(t,e,s){const o=Pr(Rr(t.path),s),u=Q(o,{record:t,parent:e,children:[],alias:[]});return e&&!u.record.aliasOf==!e.record.aliasOf&&e.children.push(u),u}function Tr(t,e){const s=[],o=new Map;e=_n({strict:!1,end:!0,sensitive:!1},e);function u(c){return o.get(c)}function d(c,p,f){const h=!f,b=Lr(c);b.aliasOf=f&&f.record;const k=_n(e,c),C=[b];if("alias"in c){const V=typeof c.alias=="string"?[c.alias]:c.alias;for(const E of V)C.push(Q({},b,{components:f?f.record.components:b.components,path:E,aliasOf:f?f.record:b}))}let D,$;for(const V of C){const{path:E}=V;if(p&&E[0]!=="/"){const L=p.record.path,U=L[L.length-1]==="/"?"":"/";V.path=p.record.path+(E&&U+E)}if(D=Ir(V,p,k),f?f.alias.push(D):($=$||D,$!==D&&$.alias.push(D),h&&c.name&&!gn(D)&&l(c.name)),"children"in b){const L=b.children;for(let U=0;U<L.length;U++)d(L[U],D,f&&f.children[U])}f=f||D,n(D)}return $?()=>{l($)}:Xe}function l(c){if(bs(c)){const p=o.get(c);p&&(o.delete(c),s.splice(s.indexOf(p),1),p.children.forEach(l),p.alias.forEach(l))}else{const p=s.indexOf(c);p>-1&&(s.splice(p,1),c.record.name&&o.delete(c.record.name),c.children.forEach(l),c.alias.forEach(l))}}function i(){return s}function n(c){let p=0;for(;p<s.length&&Ar(c,s[p])>=0;)p++;s.splice(p,0,c),c.record.name&&!gn(c)&&o.set(c.record.name,c)}function r(c,p){let f,h={},b,k;if("name"in c&&c.name){if(f=o.get(c.name),!f)throw Ge(1,{location:c});k=f.record.name,h=Q(Vr(p.params,f.keys.filter($=>!$.optional).map($=>$.name)),c.params),b=f.stringify(h)}else if("path"in c)b=c.path,f=s.find($=>$.re.test(b)),f&&(h=f.parse(b),k=f.record.name);else{if(f=p.name?o.get(p.name):s.find($=>$.re.test(p.path)),!f)throw Ge(1,{location:c,currentLocation:p});k=f.record.name,h=Q({},p.params,c.params),b=f.stringify(h)}const C=[];let D=f;for(;D;)C.unshift(D.record),D=D.parent;return{name:k,path:b,params:h,matched:C,meta:Or(C)}}return t.forEach(c=>d(c)),{addRoute:d,resolve:r,removeRoute:l,getRoutes:i,getRecordMatcher:u}}function Vr(t,e){const s={};for(const o of e)o in t&&(s[o]=t[o]);return s}function Lr(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Mr(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||{}:{default:t.component}}}function Mr(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const o in t.components)e[o]=typeof s=="boolean"?s:s[o];return e}function gn(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Or(t){return t.reduce((e,s)=>Q(e,s.meta),{})}function _n(t,e){const s={};for(const o in t)s[o]=o in e?e[o]:t[o];return s}const ks=/#/g,Nr=/&/g,Ur=/\//g,Br=/=/g,Hr=/\?/g,ws=/\+/g,zr=/%5B/g,Wr=/%5D/g,Cs=/%5E/g,Fr=/%60/g,Ds=/%7B/g,qr=/%7C/g,Es=/%7D/g,Gr=/%20/g;function Xt(t){return encodeURI(""+t).replace(qr,"|").replace(zr,"[").replace(Wr,"]")}function Qr(t){return Xt(t).replace(Ds,"{").replace(Es,"}").replace(Cs,"^")}function Lt(t){return Xt(t).replace(ws,"%2B").replace(Gr,"+").replace(ks,"%23").replace(Nr,"%26").replace(Fr,"`").replace(Ds,"{").replace(Es,"}").replace(Cs,"^")}function jr(t){return Lt(t).replace(Br,"%3D")}function Yr(t){return Xt(t).replace(ks,"%23").replace(Hr,"%3F")}function Kr(t){return t==null?"":Yr(t).replace(Ur,"%2F")}function vt(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Zr(t){const e={};if(t===""||t==="?")return e;const o=(t[0]==="?"?t.slice(1):t).split("&");for(let u=0;u<o.length;++u){const d=o[u].replace(ws," "),l=d.indexOf("="),i=vt(l<0?d:d.slice(0,l)),n=l<0?null:vt(d.slice(l+1));if(i in e){let r=e[i];Array.isArray(r)||(r=e[i]=[r]),r.push(n)}else e[i]=n}return e}function bn(t){let e="";for(let s in t){const o=t[s];if(s=jr(s),o==null){o!==void 0&&(e+=(e.length?"&":"")+s);continue}(Array.isArray(o)?o.map(d=>d&&Lt(d)):[o&&Lt(o)]).forEach(d=>{d!==void 0&&(e+=(e.length?"&":"")+s,d!=null&&(e+="="+d))})}return e}function Jr(t){const e={};for(const s in t){const o=t[s];o!==void 0&&(e[s]=Array.isArray(o)?o.map(u=>u==null?null:""+u):o==null?o:""+o)}return e}function Je(){let t=[];function e(o){return t.push(o),()=>{const u=t.indexOf(o);u>-1&&t.splice(u,1)}}function s(){t=[]}return{add:e,list:()=>t,reset:s}}function Pe(t,e,s,o,u){const d=o&&(o.enterCallbacks[u]=o.enterCallbacks[u]||[]);return()=>new Promise((l,i)=>{const n=p=>{p===!1?i(Ge(4,{from:s,to:e})):p instanceof Error?i(p):Cr(p)?i(Ge(2,{from:e,to:p})):(d&&o.enterCallbacks[u]===d&&typeof p=="function"&&d.push(p),l())},r=t.call(o&&o.instances[u],e,s,n);let c=Promise.resolve(r);t.length<3&&(c=c.then(n)),c.catch(p=>i(p))})}function xt(t,e,s,o){const u=[];for(const d of t)for(const l in d.components){let i=d.components[l];if(!(e!=="beforeRouteEnter"&&!d.instances[l]))if(Xr(i)){const r=(i.__vccOpts||i)[e];r&&u.push(Pe(r,s,o,d,l))}else{let n=i();u.push(()=>n.then(r=>{if(!r)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${d.path}"`));const c=or(r)?r.default:r;d.components[l]=c;const f=(c.__vccOpts||c)[e];return f&&Pe(f,s,o,d,l)()}))}}return u}function Xr(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function yn(t){const e=we(Ct),s=we(Jt),o=x(()=>e.resolve(a(t.to))),u=x(()=>{const{matched:n}=o.value,{length:r}=n,c=n[r-1],p=s.matched;if(!c||!p.length)return-1;const f=p.findIndex(qe.bind(null,c));if(f>-1)return f;const h=kn(n[r-2]);return r>1&&kn(c)===h&&p[p.length-1].path!==h?p.findIndex(qe.bind(null,n[r-2])):f}),d=x(()=>u.value>-1&&sl(s.params,o.value.params)),l=x(()=>u.value>-1&&u.value===s.matched.length-1&&gs(s.params,o.value.params));function i(n={}){return nl(n)?e[a(t.replace)?"replace":"push"](a(t.to)).catch(Xe):Promise.resolve()}return{route:o,href:x(()=>o.value.href),isActive:d,isExactActive:l,navigate:i}}const el=T({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:yn,setup(t,{slots:e}){const s=Nn(yn(t)),{options:o}=we(Ct),u=x(()=>({[wn(t.activeClass,o.linkActiveClass,"router-link-active")]:s.isActive,[wn(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const d=e.default&&e.default(s);return t.custom?d:Re("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:u.value},d)}}}),tl=el;function nl(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function sl(t,e){for(const s in e){const o=e[s],u=t[s];if(typeof o=="string"){if(o!==u)return!1}else if(!Array.isArray(u)||u.length!==o.length||o.some((d,l)=>d!==u[l]))return!1}return!0}function kn(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const wn=(t,e,s)=>t??e??s,ol=T({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(t,{attrs:e,slots:s}){const o=we(Tt),u=x(()=>t.route||o.value),d=we(un,0),l=x(()=>u.value.matched[d]);ft(un,d+1),ft(sr,l),ft(Tt,u);const i=A();return pe(()=>[i.value,l.value,t.name],([n,r,c],[p,f,h])=>{r&&(r.instances[c]=n,f&&f!==r&&n&&n===p&&(r.leaveGuards.size||(r.leaveGuards=f.leaveGuards),r.updateGuards.size||(r.updateGuards=f.updateGuards))),n&&r&&(!f||!qe(r,f)||!p)&&(r.enterCallbacks[c]||[]).forEach(b=>b(n))},{flush:"post"}),()=>{const n=u.value,r=l.value,c=r&&r.components[t.name],p=t.name;if(!c)return Cn(s.default,{Component:c,route:n});const f=r.props[t.name],h=f?f===!0?n.params:typeof f=="function"?f(n):f:null,k=Re(c,Q({},h,e,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(r.instances[p]=null)},ref:i}));return Cn(s.default,{Component:k,route:n})||k}}});function Cn(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const al=ol;function il(t){const e=Tr(t.routes,t),s=t.parseQuery||Zr,o=t.stringifyQuery||bn,u=t.history,d=Je(),l=Je(),i=Je(),n=Ws(Ee);let r=Ee;He&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=At.bind(null,w=>""+w),p=At.bind(null,Kr),f=At.bind(null,vt);function h(w,R){let S,M;return bs(w)?(S=e.getRecordMatcher(w),M=R):M=w,e.addRoute(M,S)}function b(w){const R=e.getRecordMatcher(w);R&&e.removeRoute(R)}function k(){return e.getRoutes().map(w=>w.record)}function C(w){return!!e.getRecordMatcher(w)}function D(w,R){if(R=Q({},R||n.value),typeof w=="string"){const H=$t(s,w,R.path),ne=e.resolve({path:H.path},R),Ze=u.createHref(H.fullPath);return Q(H,ne,{params:f(ne.params),hash:vt(H.hash),redirectedFrom:void 0,href:Ze})}let S;if("path"in w)S=Q({},w,{path:$t(s,w.path,R.path).path});else{const H=Q({},w.params);for(const ne in H)H[ne]==null&&delete H[ne];S=Q({},w,{params:p(w.params)}),R.params=p(R.params)}const M=e.resolve(S,R),K=w.hash||"";M.params=c(f(M.params));const te=rr(o,Q({},w,{hash:Qr(K),path:M.path})),F=u.createHref(te);return Q({fullPath:te,hash:K,query:o===bn?Jr(w.query):w.query||{}},M,{redirectedFrom:void 0,href:F})}function $(w){return typeof w=="string"?$t(s,w,n.value.path):Q({},w)}function V(w,R){if(r!==w)return Ge(8,{from:R,to:w})}function E(w){return B(w)}function L(w){return E(Q($(w),{replace:!0}))}function U(w){const R=w.matched[w.matched.length-1];if(R&&R.redirect){const{redirect:S}=R;let M=typeof S=="function"?S(w):S;return typeof M=="string"&&(M=M.includes("?")||M.includes("#")?M=$(M):{path:M},M.params={}),Q({query:w.query,hash:w.hash,params:w.params},M)}}function B(w,R){const S=r=D(w),M=n.value,K=w.state,te=w.force,F=w.replace===!0,H=U(S);if(H)return B(Q($(H),{state:K,force:te,replace:F}),R||S);const ne=S;ne.redirectedFrom=R;let Ze;return!te&&lr(o,M,S)&&(Ze=Ge(16,{to:ne,from:M}),J(M,M,!0,!1)),(Ze?Promise.resolve(Ze):X(ne,M)).catch(ve=>xe(ve)?ve:Ke(ve,ne,M)).then(ve=>{if(ve){if(xe(ve,2))return B(Q($(ve.to),{state:K,force:te,replace:F}),R||ne)}else ve=oe(ne,M,!0,F,K);return me(ne,M,ve),ve})}function Y(w,R){const S=V(w,R);return S?Promise.reject(S):Promise.resolve()}function X(w,R){let S;const[M,K,te]=rl(w,R);S=xt(M.reverse(),"beforeRouteLeave",w,R);for(const H of M)H.leaveGuards.forEach(ne=>{S.push(Pe(ne,w,R))});const F=Y.bind(null,w,R);return S.push(F),Be(S).then(()=>{S=[];for(const H of d.list())S.push(Pe(H,w,R));return S.push(F),Be(S)}).then(()=>{S=xt(K,"beforeRouteUpdate",w,R);for(const H of K)H.updateGuards.forEach(ne=>{S.push(Pe(ne,w,R))});return S.push(F),Be(S)}).then(()=>{S=[];for(const H of w.matched)if(H.beforeEnter&&!R.matched.includes(H))if(Array.isArray(H.beforeEnter))for(const ne of H.beforeEnter)S.push(Pe(ne,w,R));else S.push(Pe(H.beforeEnter,w,R));return S.push(F),Be(S)}).then(()=>(w.matched.forEach(H=>H.enterCallbacks={}),S=xt(te,"beforeRouteEnter",w,R),S.push(F),Be(S))).then(()=>{S=[];for(const H of l.list())S.push(Pe(H,w,R));return S.push(F),Be(S)}).catch(H=>xe(H,8)?H:Promise.reject(H))}function me(w,R,S){for(const M of i.list())M(w,R,S)}function oe(w,R,S,M,K){const te=V(w,R);if(te)return te;const F=R===Ee,H=He?history.state:{};S&&(M||F?u.replace(w.fullPath,Q({scroll:F&&H&&H.scroll},K)):u.push(w.fullPath,K)),n.value=w,J(w,R,S,F),ut()}let he;function ce(){he=u.listen((w,R,S)=>{const M=D(w),K=U(M);if(K){B(Q(K,{replace:!0}),M).catch(Xe);return}r=M;const te=n.value;He&&vr(fn(te.fullPath,S.delta),Dt()),X(M,te).catch(F=>xe(F,12)?F:xe(F,2)?(B(F.to,M).then(H=>{xe(H,20)&&!S.delta&&S.type===st.pop&&u.go(-1,!1)}).catch(Xe),Promise.reject()):(S.delta&&u.go(-S.delta,!1),Ke(F,M,te))).then(F=>{F=F||oe(M,te,!1),F&&(S.delta?u.go(-S.delta,!1):S.type===st.pop&&xe(F,20)&&u.go(-1,!1)),me(M,te,F)}).catch(Xe)})}let de=Je(),De=Je(),Ne;function Ke(w,R,S){ut(w);const M=De.list();return M.length?M.forEach(K=>K(w,R,S)):console.error(w),Promise.reject(w)}function Et(){return Ne&&n.value!==Ee?Promise.resolve():new Promise((w,R)=>{de.add([w,R])})}function ut(w){Ne||(Ne=!0,ce(),de.list().forEach(([R,S])=>w?S(w):R()),de.reset())}function J(w,R,S,M){const{scrollBehavior:K}=t;if(!He||!K)return Promise.resolve();const te=!S&&gr(fn(w.fullPath,0))||(M||!S)&&history.state&&history.state.scroll||null;return Fs().then(()=>K(w,R,te)).then(F=>F&&hr(F)).catch(F=>Ke(F,w,R))}const W=w=>u.go(w);let ee;const Pt=new Set;return{currentRoute:n,addRoute:h,removeRoute:b,hasRoute:C,getRoutes:k,resolve:D,options:t,push:E,replace:L,go:W,back:()=>W(-1),forward:()=>W(1),beforeEach:d.add,beforeResolve:l.add,afterEach:i.add,onError:De.add,isReady:Et,install(w){const R=this;w.component("RouterLink",tl),w.component("RouterView",al),w.config.globalProperties.$router=R,Object.defineProperty(w.config.globalProperties,"$route",{enumerable:!0,get:()=>a(n)}),He&&!ee&&n.value===Ee&&(ee=!0,E(u.location).catch(K=>{}));const S={};for(const K in Ee)S[K]=x(()=>n.value[K]);w.provide(Ct,R),w.provide(Jt,Nn(S)),w.provide(Tt,n);const M=w.unmount;Pt.add(w),w.unmount=function(){Pt.delete(w),Pt.size<1&&(r=Ee,he&&he(),n.value=Ee,ee=!1,Ne=!1),M()}}}}function Be(t){return t.reduce((e,s)=>e.then(()=>s()),Promise.resolve())}function rl(t,e){const s=[],o=[],u=[],d=Math.max(e.matched.length,t.matched.length);for(let l=0;l<d;l++){const i=e.matched[l];i&&(t.matched.find(r=>qe(r,i))?o.push(i):s.push(i));const n=t.matched[l];n&&(e.matched.find(r=>qe(r,n))||u.push(n))}return[s,o,u]}function ll(){return we(Ct)}function Au(){return we(Jt)}const cl={class:"flex gap-4 items-center"},ul={class:"flex-1 min-w-0"},dl={key:2},pl={key:6,class:"-mx-6 -mb-6 mt-0 flex flex-col"},fl={class:"flex gap-4 items-center self-center"},ml=m("div",{class:"bg-base-content bg-opacity-20 h-px w-16"},null,-1),hl={class:"text-base-content text-opacity-30 text-sm"},vl=m("div",{class:"bg-base-content bg-opacity-20 h-px w-16"},null,-1),gl=T({name:"ConnectDeviceDialog",__name:"ConnectDeviceDialog",setup(t){const{t:e}=q(),{reportEvent:s}=Me(),o=gt(),u=kt(),d=A(j.Platforms);ft(Ae.ConnectDevicePage,d);const l=Qt(d),i=Fa(),n=()=>{l.push(j.Success),s("CONNECTED_NEW_DEVICE"),u.update()},r=Ce(),c=x(()=>!!r.visible[z.ConnectDevice]),p=()=>{r.hide(z.ConnectDevice)},f=ll(),h=()=>{f.push(ae.devices),p()},b={[j.Platforms]:e("connectDevice.platforms.title"),[j.Android]:e("connectDevice.android.title"),[j.Extension]:e("connectDevice.extension.title"),[j.Desktop]:e("connectDevice.desktop.title"),[j.Manual]:e("connectDevice.manual.title"),[j.Success]:e("connectDevice.success.title")};return pe([d,c],([k,C])=>{C&&s("connect_device_"+k)}),(k,C)=>(y(),I(ie,{name:a(z).ConnectDevice,onShown:a(l).reset},{default:_(()=>[g(se,{class:"max-w-md","message-class":"pb-4"},Se({title:_(()=>[m("div",cl,[a(d)!==a(j).Platforms?(y(),P("div",{key:0,class:"clickable rounded-full p-2 -m-2 cursor-pointer",onClick:C[0]||(C[0]=(...D)=>a(l).reset&&a(l).reset(...D))},[g(a(nr),{class:"icon"})])):O("v-if",!0),m("h2",ul,v(b[a(d)]),1)])]),body:_(()=>[O(" Requirements "),a(i)?(y(),I(Ta,{key:0})):a(o).canUploadData?(y(),P("div",dl,[O(" Routes "),a(d)===a(j).Platforms?(y(),I(Za,{key:0,class:"-mx-6"})):a(d)===a(j).Success?(y(),I(za,{key:1})):a(d)===a(j).Android?(y(),I(Ci,{key:2})):a(d)===a(j).Extension?(y(),I(Vi,{key:3})):a(d)===a(j).Desktop?(y(),I(Mi,{key:4})):(y(),I(Qi,{key:5,onDeviceAdded:n})),O(" OR enter manually "),a(d)!==a(j).Success&&a(d)!==a(j).Manual?(y(),P("ul",pl,[m("li",fl,[ml,m("p",hl,v(a(e)("connectDevice.or")),1),vl]),g(rs,{name:a(e)("connectDevice.enterManually"),page:a(j).Manual},null,8,["name","page"])])):O("v-if",!0)])):(y(),I(Ia,{key:1}))]),_:2},[a(d)===a(j).Success?{name:"buttons",fn:_(()=>[m("button",{class:"btn btn-primary",type:"button",onClick:p},v(a(e)("close")),1),m("button",{class:"btn btn-neutral",type:"button",onClick:h},v(a(e)("manageDevices")),1)]),key:"0"}:void 0]),1024),a(c)?(y(),I(Zi,{key:0})):O("v-if",!0)]),_:1},8,["name","onShown"]))}}),_l={chrome:["Google Chrome"],firefox:["Firefox","Mozilla Firefox"],edge:["Microsoft Edge","Edge Browser"],safari:["Safari"]};async function bl(t,e){for(const[s,o]of Object.entries(_l))if(t!=null&&t.some(u=>u.name.toLowerCase().includes(s)))for(const u of o)await e.addIgnoredApp({appId:u,platform:nn.Desktop});else for(const u of o)await e.removeIgnoredApp({appId:u,platform:nn.Desktop})}function yl(){const t=it(Ae.RefreshUsageCache);return bt(t)}const kl="devices";function en(t){const e=Oe(),{canUploadData:s}=Ie(gt()),o=Qe([kl,t],()=>t.value?e.listDeviceGroupDevices({deviceGroupKey:t.value.key}):[],{placeholderData:[],keepPreviousData:!0,enabled:s}),u=je(),d=x(()=>{if(o.data.value==null)return o.data.value;const c=[...yt(o.data.value)],p=c.findIndex(h=>h.install_id===u.value);return[...c.splice(p,1),...qs(c,({name:h})=>h.toLowerCase())]}),l=kt(),i=is(),{mutate:n,isLoading:r}=yl();return pe(o.data,async(c,p)=>{(c==null?void 0:c.length)!==(p==null?void 0:p.length)&&(i&&await bl(c??[],l),r.value||n())}),{...o,data:d}}function wl(t,e=Ht()){const s=x(()=>t.value!=null);return Qn(["device-usage-time",x(()=>t.value??{})],()=>e.getDeviceTotalUsage(t.value),{keepPreviousData:!0,enabled:s})}const Cl=$e(z.DeviceCard,void 0),Dl={class:"bullet-points"},El=["value"],Pl=T({name:"DeviceCardDialog",__name:"DeviceCardDialog",setup(t){const e=Cl(),s=x(()=>{if(e.options)return{startDate:e.options.startDate,endDate:e.options.endDate,appIds:yt(e.options.appIds)}}),{t:o}=q(),{data:u}=wl(s).remote,{deviceGroup:d}=Ie(ct()),{data:l}=en(d),i=je(),n=x(()=>{var c;const r={};for(const p of l.value??[])r[p.install_id]=p.name;return(c=u.value)==null?void 0:c.map(p=>({deviceName:r[p.deviceId],deviceId:p.deviceId,usage:Un(p.totalUsage,{excludeTrailingZeros:!0})}))});return(r,c)=>(y(),I(ie,{name:a(z).DeviceCard},{default:_(()=>[g(se,{class:"w-108"},Se({title:_(()=>[N(v(a(o)("appDetails.totalUsage.title")),1)]),buttons:_(()=>[m("button",{class:"btn btn-primary",onClick:c[0]||(c[0]=(...p)=>a(e).hide&&a(e).hide(...p))},v(a(o)("close")),1)]),_:2},[a(d)?{name:"message",fn:_(()=>[m("ul",Dl,[(y(!0),P(le,null,ge(a(n),p=>(y(),P("li",{key:p.deviceName,value:p.deviceName},v(p.deviceId===a(i)?a(o)("devices.thisDevice"):p.deviceName||a(o)("devices.unknownDeviceName"))+" : "+v(p.usage),9,El))),128))])]),key:"0"}:void 0]),1024)]),_:1},8,["name"]))}}),Ps=T({name:"DurationInput",__name:"DurationInput",props:{hours:{required:!0},minutes:{required:!0},seconds:{required:!0}},emits:["update:hours","update:minutes","update:seconds"],setup(t){const e=ke(t,"hours"),s=ke(t,"minutes"),o=ke(t,"seconds"),{t:u}=q(),d=x({get(){return e.value},set(n){e.value=Number(n)}}),l=x({get(){return s.value},set(n){s.value=Number(n)}}),i=x({get(){return o.value},set(n){o.value=Number(n)}});return(n,r)=>(y(),I(Gs,null,{default:_(()=>[g(_e,{id:"hours",class:"flex-1",placeholder:a(u)("time.hours"),"input-props":{type:"number",min:0},modelValue:a(d),"onUpdate:modelValue":r[0]||(r[0]=c=>G(d)?d.value=c:null)},null,8,["placeholder","modelValue"]),g(_e,{id:"minutes",class:"flex-1",placeholder:a(u)("time.minutes"),"input-props":{type:"number",min:0,max:60},modelValue:a(l),"onUpdate:modelValue":r[1]||(r[1]=c=>G(l)?l.value=c:null)},null,8,["placeholder","modelValue"]),g(_e,{id:"seconds",class:"flex-1",placeholder:a(u)("time.seconds"),"input-props":{type:"number",min:0,max:60},modelValue:a(i),"onUpdate:modelValue":r[2]||(r[2]=c=>G(i)?i.value=c:null)},null,8,["placeholder","modelValue"])]),_:1}))}}),Sl={class:"pointer-events-auto z-50 absolute px-6 py-4 rounded-md ring-2 bg-base-100 ring-base-content ring-opacity-divider ring-inset space-y-2 w-96 flex flex-col p-6"},Al={class:"list-inside space-y-2"},$l=["href"],xl=["href"],Rl=["href"],Il={class:"font-normal text-muted"},Dn="enums.WarningType.block",En="enums.WarningType.popup",Pn="enums.WarningType.notification",Tl=T({name:"UsageLimitTooltip",__name:"UsageLimitTooltip",props:{message:{}},setup(t){const e=t,{t:s}=q(),{remoteConfig:o}=Yn(),u=x(()=>o.value.tutorialLinks),d=x(()=>{const n=u.value.find(r=>r.key===Dn);return n==null?void 0:n.link}),l=x(()=>{const n=u.value.find(r=>r.key===En);return n==null?void 0:n.link}),i=x(()=>{const n=u.value.find(r=>r.key===Pn);return n==null?void 0:n.link});return(n,r)=>(y(),P("div",Sl,[m("ul",Al,[m("li",null,[m("a",{class:"link link-secondary",href:a(d),target:"_blank"},v(a(s)(Dn)),9,$l),N(": "+v(a(s)("dashboard.editWebsiteLimitDialog.blockDescription")),1)]),m("li",null,[m("a",{class:"link link-secondary",href:a(l),target:"_blank"},v(a(s)(En)),9,xl),N(": "+v(a(s)("dashboard.editWebsiteLimitDialog.popupDescription")),1)]),m("li",null,[m("a",{class:"link link-secondary",href:a(i),target:"_blank"},v(a(s)(Pn)),9,Rl),N(": "+v(a(s)("dashboard.editWebsiteLimitDialog.notificationDescription")),1)])]),m("p",Il,v(e.message),1)]))}}),Vl=["value"],Ll=["value"],Ml=["value"],Ol=T({name:"WarningTypeSelect",__name:"WarningTypeSelect",props:{modelValue:{required:!0}},emits:["update:modelValue"],setup(t){const e=ke(t,"modelValue"),{t:s}=q();return(o,u)=>(y(),I(Jn,{id:"type",placeholder:a(s)("dashboard.warningTypeLabel"),"select-helper-text":a(s)("selectOne"),modelValue:e.value,"onUpdate:modelValue":u[0]||(u[0]=d=>e.value=d)},Se({default:_(()=>[m("option",{value:a(Fe).Notification},v(a(s)("enums.WarningType.notification")),9,Vl),m("option",{value:a(Fe).Block},v(a(s)("enums.WarningType.block")),9,Ll),m("option",{value:a(Fe).Popup},v(a(s)("enums.WarningType.popup")),9,Ml)]),_:2},[ge(o.$slots,(d,l)=>({name:l,fn:_(i=>[fe(o.$slots,l,Rn(In(i)))])}))]),1032,["placeholder","select-helper-text","modelValue"]))}});function Nl(){return it(Ae.UsageLimitsService)}function $u(t){const e=Nl();return Qe([Ss,t],()=>e.queryLimits(yt(t.value)))}const Ss="usage-limits";function Ul(){const t=kt(),e=On();return bt(async s=>await t.addUsageLimit(s),{onSuccess:()=>{e.invalidateQueries(Ss)}})}function As(){return Fe.Block}function Bl(){const t=Ht();return bt(t.syncUsage)}const Hl=$e(z.EditUsageLimit,()=>({warningType:As(),limitType:Wt(),isCrossPlatform:!1})),zl={class:""},Wl={key:1,class:"space-y-3"},Fl={class:"cursor-pointer label justify-start gap-4"},ql=["disabled"],Gl={key:2,class:"text-opacity-100 text-error text-center"},Ql=["disabled"],jl=["disabled"],Yl=T({name:"EditUsageLimitDialog",__name:"EditUsageLimitDialog",setup(t){const{t:e}=q(),{reportEvent:s}=Me(),{deviceGroup:o}=Ie(ct()),u=x(()=>o.value==null),{data:d}=as(),l=A(!1),i=A(!1),n=Hl(),r=A(),c=A(!1),p=e("dashboard.editWebsiteLimitDialog.syncedUsageLimit"),f=x(()=>C.value&&n.options.isCrossPlatform);function h(){var J;n.options.disableAppIdFocus||(J=r.value)==null||J.focus(),c.value=!0}const b=As(),k=Wt(),C=A(),D=A(""),$=A(0),V=A(0),E=A(0),L=A(b),U=A(!1),B=x(()=>{var J;return(J=r.value)==null?void 0:J.input.focused}),Y=x(()=>{const J=C.value==null?"dashboard.editWebsiteLimitDialog.newTitle":"dashboard.editWebsiteLimitDialog.editTitle";return e(J)});function X(){var J;if(l.value=!1,C.value=n.options.id,D.value=n.options.appId??((J=n.options.allowedHostnames)==null?void 0:J[0])??"",n.options.duration==null)$.value=0,V.value=0,E.value=0;else{const W=Bn(n.options.duration);$.value=W.hours,V.value=W.minutes,E.value=W.seconds}L.value=n.options.warningType,u.value?U.value=!1:U.value=n.options.isCrossPlatform??!0,he(),c.value=!1}const{submitDisabled:me,errorMessage:oe,resetValidation:he,submitWrapper:ce}=wt([function(){return os(D.value,!c.value||B.value)},function(){return L.value===Fe.Notification&&$.value===0&&V.value===0&&E.value===0?{isValid:!1,message:e("dashboard.editWebsiteLimitDialog.notificationDurationRequired")}:L.value===Fe.Popup&&$.value===0&&V.value===0&&E.value===0?{isValid:!1,message:e("dashboard.editWebsiteLimitDialog.popupDurationRequired")}:{isValid:!0}},function(){try{const W=de();return W.id??(W.id=xn()),Qs.parse(W),{isValid:!0}}catch(W){return{isValid:!1,message:po(W)}}},function(){return ss(n.options.limitType,D.value,d.value??[])},function(){return ns(n.options.limitType,D.value,B.value)}]);function de(){return{id:C.value,version:js,duration:$.value*mt+V.value*zt+E.value*rt,appId:D.value,limitType:k,metricType:Ys.UsageTime,warningType:L.value,isCrossPlatform:U.value}}const{isLoading:De,isError:Ne,mutate:Ke}=Ul(),{mutate:Et}=Bl(),ut=ce(()=>{const J=de();C.value==null?s("ADD_USAGE_LIMIT",J):s("EDIT_USAGE_LIMIT",J),Ke(J,{onSuccess:()=>{n.hide(),Et()}})});return(J,W)=>(y(),I(ie,{name:a(n).name,"overflow-disabled":!0,onShown:X,onAfterShowAnimation:h,onDismissed:X},{default:_(()=>[g(se,{"data-testid":"add-limit-form",class:"w-108",onSubmit:a(ut)},{title:_(()=>[N(v(a(Y)),1)]),body:_(()=>[g(ts,{ref_key:"hostnameInput",ref:r,modelValue:a(D),"onUpdate:modelValue":W[0]||(W[0]=ee=>G(D)?D.value=ee:null),"allowed-hostnames":a(n).options.allowedHostnames,"limit-type":a(n).options.limitType},null,8,["modelValue","allowed-hostnames","limit-type"]),g(Ol,{class:"pr-12",modelValue:a(L),"onUpdate:modelValue":W[2]||(W[2]=ee=>G(L)?L.value=ee:null)},{right:_(()=>[m("div",zl,[g(a(Co),{class:ue(["icon-lg p-0.5",{"popup-clickable-icon":!a(l),"popup-clickable-icon-primary":a(l)}]),onClick:W[1]||(W[1]=ee=>l.value=!a(l))},null,8,["class"]),a(l)?(y(),I(Tl,{key:0,message:a(e)("dashboard.editWebsiteLimitDialog.videoTutorial")},null,8,["message"])):O("v-if",!0)])]),_:1},8,["modelValue"]),g(Ve,null,{default:_(()=>[N(v(a(e)("dashboard.editWebsiteLimitDialog.durationSubtitle")),1)]),_:1}),g(Ps,{hours:a($),"onUpdate:hours":W[3]||(W[3]=ee=>G($)?$.value=ee:null),minutes:a(V),"onUpdate:minutes":W[4]||(W[4]=ee=>G(V)?V.value=ee:null),seconds:a(E),"onUpdate:seconds":W[5]||(W[5]=ee=>G(E)?E.value=ee:null)},null,8,["hours","minutes","seconds"]),a(f)?(y(),I(on,{key:0,type:"info"},{default:_(()=>[N(v(a(p)),1)]),_:1})):(y(),P("div",Wl,[a(u)&&!a(i)?(y(),I(on,{key:0,type:"info"},{default:_(()=>[N(v(a(e)("dashboard.editWebsiteLimitDialog.crossPlatformWarning")),1)]),buttons:_(()=>[m("div",{class:"clickable p-2",role:"button",onClick:W[6]||(W[6]=ee=>i.value=!0)},[g(a(uo),{class:"icon"})])]),_:1})):O("v-if",!0),m("label",Fl,[Te(m("input",{type:"checkbox","onUpdate:modelValue":W[7]||(W[7]=ee=>G(U)?U.value=ee:null),class:"checkbox checkbox-primary checkbox-sm",disabled:a(u)},null,8,ql),[[tt,a(U)]]),g(Z,{class:ue(["label-text",{"opacity-disabled":a(u)}]),tag:"span",keypath:"dashboard.editWebsiteLimitDialog.syncMessage"},null,8,["class"])])])),a(oe)?(y(),P("p",Gl,v(a(oe)),1)):O("v-if",!0),a(Ne)?(y(),I(Z,{key:3,tag:"p",class:"text-opacity-100 text-error text-center",keypath:"genericError"})):O("v-if",!0)]),buttons:_(()=>[m("button",{"data-testid":"save",class:"btn btn-primary",type:"submit",disabled:a(me)||a(De)},v(a(e)("save")),9,Ql),m("button",{"data-testid":"cancel",class:"btn btn-neutral",disabled:a(De),onClick:W[8]||(W[8]=lt((...ee)=>a(n).hide&&a(n).hide(...ee),["prevent"]))},v(a(e)("cancel")),9,jl)]),_:1},8,["onSubmit"])]),_:1},8,["name"]))}}),Kl=T({name:"LimitsOnTheGoRequiredSitesWarningDialog",__name:"LimitsOnTheGoRequiredSitesWarningDialog",setup(t){const{t:e}=q(),s=Fn(),o=_t();function u(){s.show({descriptionMessage:e("limitsOnTheGo.addWebsiteDescription"),async addApp(l){await o.addLimitsOnTheGoWebsite(l)}})}function d(){u()}return(l,i)=>(y(),I(fo,{"ok-click":d,"dialog-name":a(z).LimitsOnTheGoRequiredSitesWarning},{title:_(()=>[N(v(a(e)("limitsOnTheGo.title")),1)]),body:_(()=>[N(v(a(e)("limitsOnTheGo.requiredSitesMessage")),1)]),_:1},8,["dialog-name"]))}}),Zl=T({name:"LoadingDialog",__name:"LoadingDialog",setup(t){return(e,s)=>(y(),I(ie,{name:a(z).Loading,"dismiss-disabled":""},{default:_(()=>[g(se,{class:"w-84 items-center"},{body:_(()=>[m("p",null,[g(qt)])]),_:1})]),_:1},8,["name"]))}}),Jl="modulepreload",Xl=function(t){return"/"+t},Sn={},re=function(e,s,o){let u=Promise.resolve();if(s&&s.length>0){const d=document.getElementsByTagName("link");u=Promise.all(s.map(l=>{if(l=Xl(l),l in Sn)return;Sn[l]=!0;const i=l.endsWith(".css"),n=i?'[rel="stylesheet"]':"";if(!!o)for(let p=d.length-1;p>=0;p--){const f=d[p];if(f.href===l&&(!i||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${n}`))return;const c=document.createElement("link");if(c.rel=i?"stylesheet":Jl,i||(c.as="script",c.crossOrigin=""),c.href=l,document.head.appendChild(c),i)return new Promise((p,f)=>{c.addEventListener("load",p),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}return u.then(()=>e()).catch(d=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=d,window.dispatchEvent(l),!l.defaultPrevented)throw d})},$s="/assets/bg-platforms-vclCy7y_.svg",ec={class:"box-border w-120 flex flex-col"},tc={class:"flex flex-col items-center gap-1.5 p-8 bg-primary relative"},nc=["src"],sc={class:"flex flex-row items-center space-x-5"},oc={class:"text-primary-content text-opacity-secondary relative"},ac={class:"text-xs text-primary-content text-opacity-secondary relative"},ic=m("div",{class:"h-[3rem]"},null,-1),rc={"data-theme":"dark",class:"bg-base-100 rounded-md mx-2 self-center -mt-[3.75rem] z-10 shadow-md"},lc=["src"],cc={class:"flex flex-col gap-4"},uc={class:"p-6 space-y-4"},dc={class:"flex flex-row-reverse gap-4"},pc=T({name:"NewTabPromotionDialog",__name:"NewTabPromotionDialog",setup(t){const{t:e}=q(),{reportEvent:s}=Me(),o=Ce(),u=Hn(),{state:d}=Ks();async function l(){d.value=!0,s("NEW_TAB_PAGE_ENABLED_WITH_PROMOTION"),o.hide(z.NewTabPromotion);{const{getNewTabPageUrl:n}=await re(()=>import("./defineAppConfig-bSouF0-Z.js").then(r=>r.dj),__vite__mapDeps([0,1]));window.open(n(),"_blank")}}function i(){o.hide(z.NewTabPromotion)}return(n,r)=>(y(),I(ie,{name:a(z).NewTabPromotion},{default:_(()=>[m("div",ec,[O(" Header "),m("div",tc,[m("img",{src:a($s),class:"absolute inset-0 w-full h-full object-cover object-center"},null,8,nc),m("div",sc,[m("div",null,[m("h2",oc,v(a(e)("appName")),1),g(Z,{tag:"h1",keypath:"newTabPromotion.title",class:"text-3xl text-primary-content text-opacity-primary relative"},{default:_(()=>[g(Z,{tag:"span",keypath:"newTabPromotion.titleBold",class:"font-black font-stylized"})]),_:1}),m("h3",ac,v(a(e)("newTabPromotion.titleDescription")),1),ic])])]),O(" Layered Image "),m("div",rc,[m("img",{class:"aspect-[325/204] w-[19rem] text-center",src:a(u)?a(Do):a(Eo)},null,8,lc)]),O(" Main body "),m("div",cc,[m("div",uc,[m("p",null,v(a(e)("newTabPromotion.description")),1),O(" Button bar "),m("div",dc,[m("button",{class:"btn btn-primary float-right",onClick:l},v(a(e)("newTabPromotion.tryIt")),1),m("button",{class:"btn btn-neutral",onClick:i},v(a(e)("newTabPromotion.notNow")),1)])])])])]),_:1},8,["name"]))}});function fc(t){return t.length==13&&(t.includes("Qx")||t.includes("bK")||t.includes("GH"))&&(t.includes("25")||t.includes("78")||t.includes("15"))&&(t.includes("Lkl")||t.includes("JgF")||t.includes("eMt"))&&(t.includes("186")||t.includes("374")||t.includes("648"))}const mc=["href"],hc={key:0,class:"text-error font-bold pt-1 text-center"},vc=["onClick"],An="ForgotPasscodeStayfree@gmail.com",gc=T({name:"PinResetDialog",__name:"PinResetDialog",setup(t){const e=Ce(),s=mo(),o=_t(),{t:u}=q(),d=A(""),l=A(),i=A(!1);async function n(){var h,b;fc(d.value)?(await o.setSecurity(null),(b=(h=s.options).onSuccess)==null||b.call(h),p()):i.value=!0}function r(){d.value="",i.value=!1}pe(d,()=>{i.value=!1});function c(){var f,h;(h=(f=l.value)==null?void 0:f.form)!=null&&h.reportValidity()&&n()}function p(){var f,h;(h=(f=s.options).onDismiss)==null||h.call(f),s.hide()}return(f,h)=>(y(),I(ie,{name:a(z).ResetPin,visible:!!a(e).visible[a(z).ResetPin],onShown:r,onDismiss:p},{default:_(()=>[g(se,{ref_key:"scaffold",ref:l,"data-testid":"pin-reset-form",class:"md:w-[400px] w-[320px]",onSubmit:n},{title:_(()=>[N(v(a(u)("pin.reset")),1)]),body:_(()=>[g(Z,{keypath:"pin.resetDescription",tag:"p",for:"tos",class:"text-base-content"},{default:_(()=>[m("a",{class:"link link-secondary",href:`mailto:${An}`,target:"_blank"},v(An),8,mc)]),_:1}),g(jn,{id:"pin","data-testid":"code-input",class:"h-20",autofocus:!0,"input-props":{minLength:13,maxLength:13,required:!0},modelValue:a(d),"onUpdate:modelValue":h[0]||(h[0]=b=>G(d)?d.value=b:null)},null,8,["modelValue"]),g(Zs,{name:"slide"},{default:_(()=>[a(i)?(y(),P("p",hc,v(a(u)("pin.invalidResetCode")),1)):O("v-if",!0)]),_:1})]),buttons:_(()=>[m("button",{"data-testid":"confirm",class:"btn btn-primary",type:"submit",onClick:c},v(a(u)("ok")),1),m("button",{class:"btn btn-neutral",onClick:lt(p,["prevent"])},v(a(u)("cancel")),9,vc)]),_:1},512)]),_:1},8,["name","visible"]))}}),_c={class:"text-base-content"},bc=["onClick"],yc=T({name:"SetSecurityDialog",__name:"SetSecurityDialog",setup(t){const{t:e}=q(),s=Ce(),o=ho(),u=x(()=>o.options.type!=="challenge"),d=x(()=>u.value?"pin.set":"challenge.set"),l=x(()=>u.value?"pin.description":"challenge.description"),i=A(""),n=A();function r(){var b,k;(k=(b=o.options).onPick)==null||k.call(b,i.value),h()}function c(){i.value=""}function p(){var b,k;(k=(b=n.value)==null?void 0:b.form)!=null&&k.reportValidity()&&r()}function f(){var b,k;(k=(b=o.options).onDismiss)==null||k.call(b),h()}function h(){o.hide()}return(b,k)=>(y(),I(ie,{name:a(z).SetSecurity,visible:!!a(s).visible[a(z).SetSecurity],onShown:c,onDismiss:f},{default:_(()=>[g(se,{ref_key:"scaffold",ref:n,"data-testid":"set-security-form",class:ue({"md:w-[400px] w-[320px]":a(u),"md:w-[600px] w-[320px]":!a(u)}),onSubmit:r},{title:_(()=>[N(v(a(e)(a(d))),1)]),body:_(()=>[m("p",_c,v(a(e)(a(l))),1),m("div",null,[a(u)?(y(),I(jn,{key:0,id:"pin","data-testid":"pin-input",class:"flex-1 h-20",autofocus:!0,"input-props":{minLength:4,maxLength:20,required:!0},modelValue:a(i),"onUpdate:modelValue":k[0]||(k[0]=C=>G(i)?i.value=C:null)},null,8,["modelValue"])):(y(),I(vo,{key:1,id:"challenge","data-testid":"challenge-input",class:"h-36","default-challenge":a(e)("challenge.defaultTextChallenge"),autofocus:!0,"input-props":{minLength:10,maxLength:1e3,required:!0},modelValue:a(i),"onUpdate:modelValue":k[1]||(k[1]=C=>G(i)?i.value=C:null)},null,8,["default-challenge","modelValue"]))])]),buttons:_(()=>[m("button",{"data-testid":"save",class:"btn btn-primary",type:"submit",onClick:p},v(a(e)("save")),1),m("button",{class:"btn btn-neutral",onClick:lt(h,["prevent"])},v(a(e)("cancel")),9,bc)]),_:1},8,["class"])]),_:1},8,["name","visible"]))}});function kc(t,e=Ht()){const s=x(()=>t.value!=null);return Qn(["sessions",x(()=>t.value??{})],()=>e.getSessions(t.value),{keepPreviousData:!0,enabled:s})}const wc=$e(z.Sessions,void 0),Cc={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Dc=m("path",{fill:"currentColor",d:"M4 11v2h12l-5.5 5.5l1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5L16 11H4Z"},null,-1),Ec=[Dc];function Pc(t,e){return y(),P("svg",Cc,Ec)}const xs={name:"mdi-arrow-right",render:Pc},Sc={class:"space-y-2"},Ac=["value"],$c={class:"text-primary font-bold pb-2"},xc=["value"],Rc=m("td",{class:"pr-1"},"•",-1),Ic={class:"px-1"},Tc=m("td",{class:"px-1"},"—",-1),Vc={class:"px-1"},Lc={class:"px-1"},Mc={class:"pl-1"},Oc=T({name:"SessionsDialog",__name:"SessionsDialog",setup(t){const e=wc(),s=x(()=>{if(e.options)return{startDate:e.options.startDate,endDate:e.options.endDate,appIds:yt(e.options.appIds)}}),o=Ce(),{t:u}=q(),{data:d}=kc(s).remote,{deviceGroup:l}=Ie(ct()),{data:i}=en(l),{state:n}=Js(),r=x(()=>n.value==Xs.Hour24),c=je(),p=x(()=>{const b={};for(const k of i.value??[]){if(k.install_id==c.value){b[k.install_id]=u("devices.thisDevice");continue}b[k.install_id]=k.name}return b}),f=x(()=>{if(!d.value)return[];const b=d.value.slice().sort((V,E)=>V.startedAt-E.startedAt),k={};b.forEach(V=>{const E=V.startedAt,L=V.endedAt??Date.now(),U=V.id,B=L-E;let Y=Un(B,{excludeTrailingZeros:!0});const X=sn(E,{is24HourFormat:r.value}),me=sn(L,{is24HourFormat:r.value}),oe=V.createdBy;k[oe]??(k[oe]=[]),k[oe].push({id:U,durationText:Y,startText:X,endText:me,startTime:E})});const C=Object.keys(k).map(V=>{const E=k[V],L=[];return E.forEach(U=>{const B=eo(U.startTime),Y=L.find(X=>X.date===B);Y?Y.sessions.push(U):L.push({date:B,sessions:[U]})}),{device:V,sessions:L}}),D=C.findIndex(V=>V.device===c.value);return[...C.splice(D,1),...C]});function h(){o.hide(z.Sessions)}return(b,k)=>(y(),I(to,{visible:!!a(o).visible[a(z).Sessions],onDismiss:k[0]||(k[0]=C=>a(o).hide(a(z).Sessions))},{default:_(()=>[g(se,{class:"w-108"},Se({title:_(()=>[N(v(a(u)("appDetails.totalSessions.title")),1)]),buttons:_(()=>[m("button",{class:"btn btn-primary",onClick:h},v(a(u)("close")),1)]),_:2},[a(f)?{name:"body",fn:_(()=>[m("ul",Sc,[(y(!0),P(le,null,ge(a(f),C=>(y(),P("li",{key:C.device,value:C.device,class:"pb-4"},[m("p",$c,v(a(p)[C.device]),1),m("ul",null,[(y(!0),P(le,null,ge(C.sessions,D=>(y(),P("li",{key:D.date,value:D.date},[N(v(D.date)+" ",1),m("table",null,[(y(!0),P(le,null,ge(D.sessions,$=>(y(),P("tr",{key:$.id},[O(" eslint-disable-next-line @intlify/vue-i18n/no-raw-text "),Rc,m("td",Ic,[m("strong",null,v($.durationText),1)]),O(" eslint-disable-next-line @intlify/vue-i18n/no-raw-text "),Tc,m("td",Vc,v($.startText),1),m("td",Lc,[g(a(xs),{class:"icon-sm"})]),m("td",Mc,v($.endText),1)]))),128))])],8,xc))),128))])],8,Ac))),128))])]),key:"0"}:void 0]),1024)]),_:1},8,["visible"]))}}),Nc={class:"space-y-4"},Uc={class:"cursor-pointer label justify-start gap-4"},Bc={class:"link link-secondary",href:"https://stayfreeapps.com/terms",target:"_blank"},Hc={class:"cursor-pointer label justify-start gap-4","data-testid":"privacy-checkbox"},zc={class:"link link-secondary",href:"https://stayfreeapps.com/privacy",target:"_blank"},Wc={class:"bullet-points"},Fc=["disabled"],qc=T({name:"TermsOfServiceDialog",__name:"TermsOfServiceDialog",setup(t){const{t:e}=q(),{reportEvent:s}=Me(),o=je(),u=Ft(),d=Ce(),l=gt(),i=Oe(),n=_t(),r=A(!0),c=A(!0);async function p(){await n.setAcceptedTos(!0),await n.setAskTosAgain(!1),s("TURNED_18_ACCEPTED_TOS"),c.value?(await n.setAcceptedDataCollection("accepted"),s("TURNED_18_ACCEPTED_PRIVACY_POLICY")):(await n.setAcceptedDataCollection("declined"),s("TURNED_18_DECLINED_PRIVACY_POLICY")),l.canUploadData&&i.createDevice({installId:o.value,appId:u}),d.hide(z.TermsOfService)}return(f,h)=>(y(),I(ie,{name:a(z).TermsOfService,visible:!!a(d).visible[a(z).TermsOfService],"dismiss-disabled":""},{default:_(()=>[g(se,{class:"w-96"},{title:_(()=>[g(Z,{tag:"h2",class:"onboarding-subtitle",keypath:"onboarding.privacy.title"})]),message:_(()=>[m("div",Nc,[g(Z,{tag:"p",keypath:"onboarding.privacy.message"}),m("div",null,[m("label",Uc,[Te(m("input",{type:"checkbox","onUpdate:modelValue":h[0]||(h[0]=b=>G(r)?r.value=b:null),class:"checkbox checkbox-primary checkbox-sm"},null,512),[[tt,a(r)]]),g(Z,{class:"label-text",tag:"span",keypath:"onboarding.privacy.tosMessage"},{default:_(()=>[m("a",Bc,v(f.$t("termsOfService").toLowerCase()),1)]),_:1})]),m("label",Hc,[Te(m("input",{type:"checkbox","onUpdate:modelValue":h[1]||(h[1]=b=>G(c)?c.value=b:null),class:"checkbox checkbox-primary checkbox-sm"},null,512),[[tt,a(c)]]),g(Z,{class:"label-text",tag:"span",keypath:"onboarding.privacy.permission"},{default:_(()=>[m("a",zc,v(f.$t("privacyPolicy").toLowerCase()),1)]),_:1})])]),g(Z,{tag:"h2",class:"onboarding-subtitle",keypath:"onboarding.privacy.keyPoints"}),m("ul",Wc,[g(Z,{tag:"li",keypath:"onboarding.privacy.keyPoint1"}),g(Z,{tag:"li",keypath:"onboarding.privacy.keyPoint2"}),g(Z,{tag:"li",keypath:"onboarding.privacy.keyPoint3"}),g(Z,{tag:"li",keypath:"onboarding.privacy.keyPoint4"}),g(Z,{tag:"li",keypath:"onboarding.privacy.keyPoint5"})])])]),buttons:_(()=>[m("button",{class:"btn btn-primary",onClick:p,disabled:!a(r)},v(a(e)("accept")),9,Fc)]),_:1})]),_:1},8,["name","visible"]))}}),Gc={key:0,class:"text-opacity-100 text-error text-center"},Qc=["disabled"],jc=["onClick"],Yc=T({name:"TimePicker",__name:"TimePicker",setup(t){const{t:e}=q(),s=Zn();function o(){var b,k;s.hide(),(k=(b=s.options).onDismiss)==null||k.call(b)}const u=A();function d(){var b;(b=u.value)==null||b.focus()}function l(){const b=s.options.initialTimeOfDay??0;return dt(We()+b,pt)}const i=A(l());function n(){i.value=l(),p()}const{submitDisabled:r,errorMessage:c,resetValidation:p,submitWrapper:f}=wt([]),h=f(()=>{var C,D;const b=new Date(`2021-01-01T${i.value}`).getTime(),k=Rt(b);(D=(C=s.options).onPick)==null||D.call(C,k),o()});return(b,k)=>(y(),I(ie,{name:a(s).name,onShown:n,onAfterShowAnimation:d},{default:_(()=>[g(se,{"data-testid":"time-picker-dialog",class:"w-108",onSubmit:a(h)},{title:_(()=>[N(v(a(e)("timePickerTitle")),1)]),body:_(()=>[m("div",null,[g(_e,{id:"date",ref_key:"dateInput",ref:u,class:"flex-1",placeholder:a(e)("time.minutes"),"input-props":{type:"time"},modelValue:a(i),"onUpdate:modelValue":k[0]||(k[0]=C=>G(i)?i.value=C:null)},null,8,["placeholder","modelValue"])]),a(c)?(y(),P("p",Gc,v(a(c)),1)):O("v-if",!0)]),buttons:_(()=>[m("button",{"data-testid":"save",class:"btn btn-primary",type:"submit",disabled:a(r)},v(a(e)("save")),9,Qc),m("button",{class:"btn btn-neutral",onClick:lt(o,["prevent"])},v(a(e)("cancel")),9,jc)]),_:1},8,["onSubmit"])]),_:1},8,["name"]))}}),Kc="/assets/stayfree-desktop-dark-AAlPbfqD.png",Zc="/assets/stayfree-desktop-light-1lqQjGEL.png",$n=zn("promote-desktop-popup-visibility",()=>{const t=A(!1);function e(){t.value=!0}return{isVisible:t,setVisible:e}}),Jc=zn("walkthrough",()=>{const t=A(!1);return{isVisible:t,onShow:()=>{t.value=!0},onHide:()=>{t.value=!1}}}),Xc=3*Wn;function eu(t){const{setVisible:e}=$n(),{isVisible:s}=Ie($n()),{mutateAsync:o}=an(),{mutateAsync:u}=rn(),d=A(!1),{state:l}=go(),i=_o({interval:zt});Nt(()=>{d.value=!0},(t==null?void 0:t.autoShowTimeout)??1e3);const{isVisible:n}=Ie(Jc()),{state:r}=an(),{state:c}=rn(),p=no("PromoteDesktop"),f=ct(),{deviceGroup:h}=Ie(f),{data:b}=en(h);function k(B){return["windows","mac","linux"].some(X=>B.toLowerCase().includes(X))}const C=x(()=>{var B;return((B=b.value)==null?void 0:B.find(Y=>k(Y.name)))!=null}),D=x(()=>p&&d.value&&!n.value&&l.value!=null&&!C.value&&i.value>=l.value+Xc),$=x(()=>D.value&&c.value);pe($,B=>{B&&e()});const V=x(()=>(V.value??!1)||$.value),E=x(()=>D.value&&!s.value&&r.value);function L(){return o(!1)}function U(){return u(!1)}return{isPromoteDesktopBannerVisible:E,isPromoteDesktopPopupVisible:$,dismissPromoteDesktopBanner:L,dismissPromoteDesktopPopup:U}}const tu={class:"box-border w-120 flex flex-col"},nu={class:"flex flex-col items-center gap-1.5 p-8 bg-primary relative"},su=["src"],ou={class:"flex flex-row items-center space-x-5"},au={class:"text-primary-content text-opacity-secondary relative"},iu={class:"text-xs text-primary-content text-opacity-secondary relative"},ru=m("div",{class:"h-[3rem]"},null,-1),lu={class:"rounded-md mx-2 self-center -mt-[3.75rem] z-10"},cu=["src"],uu={class:"flex flex-col gap-4"},du={class:"p-6 space-y-4"},pu={class:"flex flex-row-reverse gap-4"},fu=T({name:"PromoteDesktopDialog",__name:"DesktopAppPromotionDialog",setup(t){const{t:e}=q(),{reportEvent:s}=Me(),o=Ce(),u=Hn(),{dismissPromoteDesktopPopup:d,dismissPromoteDesktopBanner:l}=eu();function i(){window.open(so("popup"),"_blank"),n(),l(),s("CLICKED_PROMOTE_DESKTOP_POPUP")}function n(){o.hide(z.PromoteDesktop)}function r(){d()}return(c,p)=>(y(),I(ie,{name:a(z).PromoteDesktop,onShown:p[0]||(p[0]=f=>r())},{default:_(()=>[m("div",tu,[O(" Header "),m("div",nu,[m("img",{src:a($s),class:"absolute inset-0 w-full h-full object-cover object-center"},null,8,su),m("div",ou,[m("div",null,[m("h2",au,v(a(e)("appName")),1),g(Z,{tag:"h1",keypath:"promoteDesktop.title",class:"text-3xl text-primary-content text-opacity-primary relative"},{default:_(()=>[g(Z,{tag:"span",keypath:"promoteDesktop.titleBold",class:"font-black font-stylized"})]),_:1}),m("h3",iu,v(a(e)("promoteDesktop.description1")),1),ru])])]),O(" Layered Image "),m("div",lu,[m("img",{class:"aspect-[5/3] w-[19rem] text-center",src:a(u)?a(Kc):a(Zc)},null,8,cu)]),O(" Main body "),m("div",uu,[m("div",du,[m("p",null,v(a(e)("promoteDesktop.description2")),1),O(" Button bar "),m("div",pu,[m("button",{class:"btn btn-primary float-right",onClick:i},v(a(e)("promoteDesktop.popupButton")),1),m("button",{class:"btn btn-neutral",onClick:n},v(a(e)("promoteDesktop.notNow")),1)])])])])]),_:1},8,["name"]))}}),mu=$e(z.EditDuration,{duration:0}),hu={class:"flex items-center justify-between"},vu={"data-testid":"save",class:"btn btn-primary",type:"submit"},gu=T({name:"EditDurationDialog",__name:"EditDurationDialog",setup(t){const{t:e}=q(),s=A(0),o=A(0),u=A(0),d=mu(),l=()=>{const r=Bn(d.options.duration);s.value=r.hours,o.value=r.minutes,u.value=r.seconds},i=()=>{var c,p;const r=s.value*mt+o.value*zt+u.value*rt;(p=(c=d.options).onChange)==null||p.call(c,r),d.hide()},n=()=>{var r,c;(c=(r=d.options).onDismiss)==null||c.call(r)};return(r,c)=>(y(),I(ie,{name:a(d).name,"overflow-disabled":!0,onShown:l,onDismissed:n},{default:_(()=>[g(se,{"data-testid":"add-duration-form",class:"w-108",onSubmit:i},{title:_(()=>[m("div",hu,v(a(e)("editDuration")),1)]),body:_(()=>[g(Ps,{hours:a(s),"onUpdate:hours":c[0]||(c[0]=p=>G(s)?s.value=p:null),minutes:a(o),"onUpdate:minutes":c[1]||(c[1]=p=>G(o)?o.value=p:null),seconds:a(u),"onUpdate:seconds":c[2]||(c[2]=p=>G(u)?u.value=p:null)},null,8,["hours","minutes","seconds"])]),buttons:_(()=>[m("button",vu,v(a(e)("save")),1),m("button",{"data-testid":"cancel",class:"btn btn-neutral",onClick:c[3]||(c[3]=lt((...p)=>a(d).hide&&a(d).hide(...p),["prevent"]))},v(a(e)("cancel")),1)]),_:1})]),_:1},8,["name"]))}}),_u={class:"font-bold"},bu={class:"mt-3"},yu={class:"font-bold"},ku={class:"mt-3"},wu=T({name:"AddAppToIgnoreListDialog",__name:"AddAppToIgnoreListDialog",setup(t){const e=bo(),{t:s}=q(),o=A(!1),u=x(()=>e.options.appName),d=x(()=>ae.settings),l=x(()=>ae.ignore);function i(){o.value=!0,e.options.addAppToIgnoreList()}function n(){o.value=!1,e.hide()}function r(){o.value=!1,e.options.onSubmit(),e.hide()}return(c,p)=>{const f=Ut("router-link");return y(),I(ie,{name:a(z).AddAppToIgnoreListDialog},{default:_(()=>[g(se,{class:"w-108"},{title:_(()=>[a(o)?(y(),I(Z,{key:1,tag:"h1",keypath:"ignoredWebsites.ignored"},{default:_(()=>[N(v(a(u)),1)]),_:1})):(y(),I(Z,{key:0,tag:"h1",keypath:"ignoredWebsites.ignore"},{default:_(()=>[N(v(a(u)),1)]),_:1}))]),message:_(()=>[a(o)?(y(),P(le,{key:1},[N(v(a(s)("ignoredWebsites.settingsPath"))+" ",1),m("div",ku,[g(f,{class:"link link-secondary",to:a(d),onClick:n},{default:_(()=>[N(v(a(s)("settings")),1)]),_:1},8,["to"]),g(a(xs),{class:"icon-sm inline-block mx-2"}),g(f,{class:"link link-secondary",to:a(l),onClick:n},{default:_(()=>[N(v(a(s)("ignoredWebsites.title")),1)]),_:1},8,["to"])])],64)):(y(),P(le,{key:0},[g(Z,{keypath:"ignoredWebsites.ignoreDescription"},{default:_(()=>[m("span",_u,v(a(u)),1)]),_:1}),m("div",bu,[g(Z,{keypath:"ignoredWebsites.areYouSureIgnoring"},{default:_(()=>[m("span",yu,v(a(u)),1)]),_:1})])],64))]),buttons:_(()=>[a(o)?(y(),P(le,{key:1},[a(o)?(y(),P("button",{key:0,class:"btn btn-primary",onClick:r},v(a(s)("done")),1)):O("v-if",!0)],64)):(y(),P(le,{key:0},[m("button",{class:"btn btn-primary",onClick:i},v(a(s)("ignoredWebsites.ignore")),1),m("button",{class:"btn btn-neutral",onClick:n},v(a(s)("cancel")),1)],64))]),_:1})]),_:1},8,["name"])}}}),xu=T({name:"DashboardGlobalDialogs",__name:"DashboardGlobalDialogs",setup(t){return(e,s)=>(y(),P(le,null,[O(" Dialogs "),g(Yl),g(Zl),g(Yc),g(gl),g(pc),g(Pl),g(Oc),g(ba),g(Ca),g(Ho),g(yc),g(yo),g(gc),g(ko),g(Kl),g(fu),g(gu),g(wu),O(" High priority dialogs (order affects visibility) "),g(qc),g(Pa),g(Da)],64))}}),Cu=[{path:ae.stats,component:()=>re(()=>import("./DashboardStatsIndex-mrCmAlnS.js"),__vite__mapDeps([2,3,4,0,1,5,6,7,8,9,10,11,12,13,14,15,16,17])),children:[{path:ae.overview,component:()=>re(()=>import("./DashboardStatsSummary-ItQbboiR.js"),__vite__mapDeps([18,19,3,4,0,1,20,21,9,10,22,23,24,25,26,27,28,29,13,30]))},{path:ae.appDetails,component:()=>re(()=>import("./DashboardStatsAppDetails-Z3-tWFbE.js"),__vite__mapDeps([31,19,3,4,0,1,20,21,9,10,22,23,24,25,5,29,27,32,33,34,35,11,36,16]))},{path:ae.groupDetails,component:()=>re(()=>import("./DashboardStatsAppDetails-Z3-tWFbE.js"),__vite__mapDeps([31,19,3,4,0,1,20,21,9,10,22,23,24,25,5,29,27,32,33,34,35,11,36,16]))},{path:ae.groupAppDetails,component:()=>re(()=>import("./DashboardStatsAppDetails-Z3-tWFbE.js"),__vite__mapDeps([31,19,3,4,0,1,20,21,9,10,22,23,24,25,5,29,27,32,33,34,35,11,36,16]))}]},{path:ae.limits,component:()=>re(()=>import("./DashboardLimits-JkCJDrTv.js"),__vite__mapDeps([37,38,8,0,1,9,10,4,32,27,24,33,34,35,11,21,36,16]))},{path:ae.focus,component:()=>re(()=>import("./DashboardFocus-PUvmgwC6.js"),__vite__mapDeps([39,40,0,1,34,4,35,11,21,36,9,10,41,42,6,43,44,45,33,46,28,29,13,30]))},{path:ae.ignore,component:()=>re(()=>import("./DashboardSettingsIgnoredApps-YFlsPPn2.js"),__vite__mapDeps([47,38,40,0,1,34,4,35,11,21,36,9,10,8,48,12,23]))},{path:ae.backup,component:()=>re(()=>import("./DashboardSettingsBackupRestore-wYre6vpz.js"),__vite__mapDeps([49,0,1,50,51,4,36,15,48,12,9,10]))},{path:ae.devices,component:()=>re(()=>import("./DashboardDevices-yxbE-twP.js"),__vite__mapDeps([52,7,8,0,1,4,9,10,53,20,24,54]))},{path:ae.settings,component:()=>re(()=>import("./DashboardSettings-uycecM9_.js"),__vite__mapDeps([55,0,1,56,4,57,9,10,53,36,50,51,58,28,29,13,30]))},{path:ae.help,component:()=>re(()=>import("./DashboardHelp-m4jBTZ9y.js"),__vite__mapDeps([59,9,0,1,10,56,4,57,60]))},{path:"/:pathMatch(.*)*",component:()=>re(()=>import("./NotFound-gx-M53uV.js"),__vite__mapDeps([61,9,0,1,10]))},{path:ae.lotg,component:()=>re(()=>import("./DashboardLimitsOnTheGo-ht2QIaxZ.js"),__vite__mapDeps([62,46,0,1,9,10,34,4,45,33,36,42,6,40,35,11,21,63,44,28,29,13,30,51]))},{path:ae.youtubePlus,component:()=>re(()=>import("./DashboardYoutubePlus-L1OqAFOk.js"),__vite__mapDeps([64,9,0,1,10,63,4,50,51,58,34,65]))}],Ru=il({routes:Cu,history:wr()});function Iu(t){return{queryKey:"installed-apps",async getItems(){const s=(await t.getSessionSummaries({startDate:We()-3*Wn,endDate:We(),platformFilter:oo.Web,disableAppGroups:!0})).map(o=>({value:o.appId,display:{id:o.appId,lastUsedAt:o.sessions[0].startedAt}}));return s.length?s:[{value:"youtube.com",display:{id:"youtube.com",lastUsedAt:0}},{value:"google.com",display:{id:"google.com",lastUsedAt:0}},{value:"facebook.com",display:{id:"facebook.com",lastUsedAt:0}}]}}}export{xs as A,Mo as B,ye as C,kl as D,Zn as E,mu as F,Go as I,xu as _,eu as a,$u as b,Iu as c,Au as d,Cl as e,wc as f,ri as g,en as h,Jn as i,Hl as j,As as k,Ss as l,Ea as m,Oo as n,ma as o,jt as p,Bl as q,Ru as r,yl as s,Oi as t,ll as u,Fa as v,Ai as w,xi as x,Jc as y,ya as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["chunks/defineAppConfig-bSouF0-Z.js","assets/defineAppConfig-tOoKMiXI.css","chunks/DashboardStatsIndex-mrCmAlnS.js","chunks/useDateRange-McZftpG-.js","chunks/useAddAppToIgnoreListDialogStore-3TvFnIDf.js","chunks/useRouteParams-CFI-zavH.js","chunks/chevron-down-4XWJauDH.js","chunks/ConnectDeviceFab.vue_vue_type_script_setup_true_lang-Ug_LIqDh.js","chunks/FloatingActionButton.vue_vue_type_script_setup_true_lang-Hm8VVYOk.js","chunks/new-tab-light-H2_I1S9N.js","assets/new-tab-light-91HiXvd_.css","chunks/useGetAppMetadataQuery-50d_JU5K.js","chunks/menu-right-4SQh6tsF.js","chunks/useIsNewTabPage-fPhgc3yk.js","chunks/useAllowedDateRange-7cI8rhm0.js","chunks/min-search-date-Te936Y1o.js","chunks/external-link-joNrbTFY.js","assets/DashboardStatsIndex-VrVEQ9E0.css","chunks/DashboardStatsSummary-ItQbboiR.js","chunks/filter-variant-4frEB9BD.js","chunks/more-vert-pXNNtvnf.js","chunks/useVibrantColor-lZfnBXxU.js","chunks/useFiltersStore-LL02Itwp.js","chunks/useAddIgnoredAppMutation-DhiEEnkA.js","chunks/useGetSessionSummariesQuery-T1BAMH4j.js","assets/useFiltersStore-htgoPOYt.css","chunks/SessionSummaryList.vue_vue_type_script_setup_true_lang-mx57jLc-.js","chunks/useGetSessionSummaries-EN2wQhyL.js","chunks/useWalkthrough-P3Hrl8Zz.js","chunks/sleep-9Kq7Tjeg.js","assets/useWalkthrough-gjBpzI1f.css","chunks/DashboardStatsAppDetails-Z3-tWFbE.js","chunks/usePromoteExtensionVisibility-4g0CgY88.js","chunks/pencil-outline-vSGnzihw.js","chunks/plus-1Lu360WS.js","chunks/AppListItem.vue_vue_type_script_setup_true_lang-oxAodo1O.js","chunks/useRequireSecurity-QcrLk1hI.js","chunks/DashboardLimits-JkCJDrTv.js","chunks/empty-list-illustration-D_sMLuvy.js","chunks/DashboardFocus-PUvmgwC6.js","chunks/AppList.vue_vue_type_script_setup_true_lang-eIwO1WOM.js","chunks/FocusModeReasonBanner.vue_vue_type_script_setup_true_lang-oQe0zSvy.js","chunks/SfOptionsButton.vue_vue_type_script_setup_true_lang-nwfY29cQ.js","chunks/useFocusModeStore-V9pg4lJX.js","chunks/schedules-I-CqJJm9.js","chunks/ScheduleEntry.vue_vue_type_script_setup_true_lang-za58xXGl.js","chunks/timer-Q3fuddn_.js","chunks/DashboardSettingsIgnoredApps-YFlsPPn2.js","chunks/SettingsBreadcrumbs.vue_vue_type_script_setup_true_lang-FrNXn1T7.js","chunks/DashboardSettingsBackupRestore-wYre6vpz.js","chunks/define-preference-list-pngV4kd8.js","chunks/DurationPreference.vue_vue_type_script_setup_true_lang-7YqzPxZB.js","chunks/DashboardDevices-yxbE-twP.js","chunks/useRemoveDeviceMutation-bL47YFoH.js","assets/DashboardDevices-YRhm7_u-.css","chunks/DashboardSettings-uycecM9_.js","chunks/useDebugInfo-3X0ko2A_.js","chunks/useReviewPromptStore-x9AcsmpG.js","chunks/window-maximize-B3U6qGeS.js","chunks/DashboardHelp-m4jBTZ9y.js","chunks/useScheduleCallPromptStore-toQ--drc.js","chunks/NotFound-gx-M53uV.js","chunks/DashboardLimitsOnTheGo-ht2QIaxZ.js","chunks/SidebarContentContainer.vue_vue_type_script_setup_true_lang-krO4Fast.js","chunks/DashboardYoutubePlus-L1OqAFOk.js","chunks/open-in-new-X8NQMC4W.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
