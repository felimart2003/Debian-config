import{E as V}from"./empty-list-illustration-D_sMLuvy.js";import{_ as G}from"./FloatingActionButton.vue_vue_type_script_setup_true_lang-Hm8VVYOk.js";import{I as r}from"./new-tab-light-H2_I1S9N.js";import{i as A,o as R,q as W,s as k,d as j}from"./useAddAppToIgnoreListDialogStore-3TvFnIDf.js";import{c as M,_ as L}from"./usePromoteExtensionVisibility-4g0CgY88.js";import{f as $,t as q,Y as Q,r as v,c as d,aO as H,n as J,o as s,q as f,w as i,i as c,k as e,j as t,P as b,Q as x,l,g as m,F as K,bJ as X}from"./defineAppConfig-bSouF0-Z.js";import{j as Y,b as E,k as z}from"./recent-apps-provider-So7C9hQg.js";import{I as Z}from"./plus-1Lu360WS.js";import{I as tt}from"./external-link-joNrbTFY.js";import"./useGetSessionSummaries-EN2wQhyL.js";import"./useGetSessionSummariesQuery-T1BAMH4j.js";import"./pencil-outline-vSGnzihw.js";import"./AppListItem.vue_vue_type_script_setup_true_lang-oxAodo1O.js";import"./useGetAppMetadataQuery-50d_JU5K.js";import"./useVibrantColor-lZfnBXxU.js";import"./useRequireSecurity-QcrLk1hI.js";const et={"data-testid":"usage-limits",class:"section section-sticky"},st={key:0,class:"section flex-1 flex flex-col items-center justify-center space-y-8"},ot=["src"],it={key:0,class:"section"},at={key:1,class:"section"},Et=$({name:"DashboardLimits",__name:"DashboardLimits",setup(nt){const{reportEvent:_}=q();_("OPENED_DASHBOARD_LIMITS_PAGE");const{t:g}=Q(),I=Y(),{data:C}=E(v({sortBy:["appId"],isCrossPlatform:!0})),n=d(()=>C.value??[]),{data:p}=E(v({sortBy:["appId"],isCrossPlatform:!1})),D=d(()=>{var o,a;return(((o=n.value)==null?void 0:o.length)??0)+(((a=p.value)==null?void 0:a.length)??0)}),P=z(),T=A();function w(){I.show({warningType:P,limitType:T})}const{deviceGroup:S}=H(R()),O=d(()=>{var o;return(((o=n.value)==null?void 0:o.length)??0)>0&&S.value!=null});W().update();const{isPromoteExtensionForLimitsVisible:B,dismissPromoteExtensionForLimits:u}=M({autoShowTimeout:250});function N(){window.open(X(),"_blank"),u(),_("CLICKED_PROMOTE_EXTENSION_FOR_LIMITS")}return(o,a)=>{const F=J("page-layout-content-container");return s(),f(F,null,{default:i(()=>{var y,h;return[c("section",et,[e(r,{tag:"h1",class:"dashboard-page-title",keypath:"websiteLimits"}),t(O)?(s(),f(k,{key:0,type:"info"},{default:i(()=>[b(x(t(g)("devices.limitsLocalDeviceOnly")),1)]),_:1})):l("v-if",!0),t(B)?(s(),f(k,{key:1,type:"info"},{default:i(()=>[e(r,{tag:"span",keypath:"promoteExtension.descriptionForLimits"})]),buttons:i(()=>[c("button",{class:"btn btn-secondary flex-shrink-0",onClick:N},[b(x(t(g)("promoteExtension.button"))+" ",1),e(t(tt),{class:"icon-sm inline"})]),c("div",{class:"clickable p-2",role:"button",onClick:a[0]||(a[0]=(...U)=>t(u)&&t(u)(...U))},[e(t(j),{class:"icon"})])]),_:1})):l("v-if",!0)]),t(D)===0?(s(),m("section",st,[c("img",{src:t(V),class:"w-full max-w-lg px-4 opacity-50 dark:opacity-100"},null,8,ot),e(r,{tag:"p",keypath:"dashboard.noWebsiteLimits",class:"text-center"})])):(s(),m(K,{key:1},[(y=t(p))!=null&&y.length?(s(),m("section",it,[e(L,{items:t(p)??[]},null,8,["items"])])):l("v-if",!0),(h=t(n))!=null&&h.length?(s(),m("section",at,[e(r,{tag:"h2",keypath:"dashboard.crossPlatformUsageLimitSection",class:"section-title"}),e(L,{items:t(n)},null,8,["items"])])):l("v-if",!0)],64))]}),overlay:i(()=>[e(G,{onClick:w,"data-testid":"add-limit"},{default:i(()=>[e(t(Z),{class:"icon text-primary-content"})]),_:1})]),_:1})}}});export{Et as default};
