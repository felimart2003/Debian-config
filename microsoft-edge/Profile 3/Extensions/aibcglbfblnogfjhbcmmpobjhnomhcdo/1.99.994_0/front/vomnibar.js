"use strict";"object"==typeof VApi&&VApi&&"function"==typeof VApi.d&&VApi.d(1);var e=e||"",t=t||"",l={g:0,y(e){n.M(e);let t=l;t.T.o=(e.mode||"")+""||"omni",t.T.t=0,t.S(2,!!e.currentWindow),t.S(4,(e.preferTabs||"").includes("new")),t.S(128,"from-start"===e.tree),t.S(8,!!e.tree),t.S(16,null),t.S(32,null),t.S(256,!!e.noTabs),t.S(512,!!e.hiddenTabs),t.S(2048,!!e.incognitoTabs),t.S(1024,!!e.noSessions),t.I=e;let r=e.engines;r instanceof Array&&(r=r.join()),"string"==typeof r&&r&&(r=(r.includes("bookmark")?1:0)+(r.includes("history")?2:0)+(r.includes("tab")?4:0)+(r.includes("search")?8:0)+(r.includes("domain")?16:0)),t.T.e=0|(r||0),t.T.e&&(t.T.o="omni"),t.E=null;let i,{url:a,keyword:o,p:u}=e,s=e.z,c=t.A=s<.98?1/s:1;if(t.$(e.w*t.C+24),t.T.r=Math.max(3,Math.min(0|(e.h/c/1-t.L-78)/t.R,t.x)),t.O&&t.O(e.t),t.U.zoom=c>1?c+"":"",t.T.i&&(s=1===s?1:s<3?2:s<3.5?3:4,t.F='" style="background-image: url(&quot;chrome://favicon/size/16@'+s+"x/"),o=(o||"")+"",null==a)return t.K(o&&o+" ");if(u)i=u.s,a=u.u,o||(o=u.k);else if(null===u)a=n.W(a).replace(/\s$/g,"%20"),!o&&/^https?:\/\//i.test(a)&&(t.E=115==(32|a.charCodeAt(4)),a=a.slice(t.E?0:7,a.indexOf("/",8)===a.length-1?-1:void 0));else{let e=a.trimRight().length!==a.length;a=n.W(a,decodeURIComponent),a=(e?a:a.trim()).replace(t.B," ")}return!o||u&&u.c?t.K(a):(i=(i||0)+o.length+1,t.K(o+" "+a,i,i+a.length))},V:false,D:1,I:null,P:"",Q:"",G:true,Z:0,J:null,X:0,Y:Math.min(Math.max(3,0|window.VomnibarMaxPageNum||10),100),ee:false,te:null,E:null,le:null,ne:false,re:-1,ie:0,ae:0,oe:"",ue:false,se:false,ce:0,de:false,fe:0,me:0,_e:false,A:1,pe:0,he:0,ge:null,we:null,U:null,ye:null,ve:null,ke:null,be:true,Me:0,Te:0,Se:0,Ie:null,Ee:null,Ae:null,He:null,$e:null,Ce:-1,Ne:0,Le:0,Re:0,xe:0,Oe:0,Ue:0,Fe:1,qe:0,Ke:1,We:998,je:false,Be:2,Ve:null,De:0,x:0,Pe:0,ze:77,L:80,R:44,C:.8,Qe:"",Ge:null,Ze:null,Je:0,Xe:0,Ye(){let e=l;e.se=true,setTimeout(e.et,0),document.body.addEventListener("wheel",e.tt,{passive:false,capture:true})},lt(e){let t=l,n=t.we;t.V=t.se=t.ee=t.de=false,t.te=t.ge=null,t.ce=t.fe=t.Z=0,document.body.removeEventListener("wheel",t.tt,{passive:false,capture:true}),t.Le>0&&clearTimeout(t.Le),window.onkeyup=null,removeEventListener("keyup",t.nt,true),e||r&&r.rt({H:11,t:2,o:!t.He,k:t.Me}),n.blur(),t.ye.visibility="hidden",t.it(),t.U.cssText="",t.Ie.textContent=n.value="",t.Ie.style.height="",t.ke.remove("empty"),t.Ie.classList.remove("no-favicon"),t.nt(0),t.Ne=requestAnimationFrame(t.He?()=>{t.Ne=requestAnimationFrame(t.at)}:t.at),t.Le=setTimeout(t.at,t.He?35:17)},at(){let e=l;e.Ne&&cancelAnimationFrame(e.Ne),e.Le&&clearTimeout(e.Le),e.Ne=e.Le=0,e.he&&e.ot()},ot(){r&&r.ut({N:0});let e=l;e.Le=e.he=e.ie=e.ae=e.xe=e.Oe=e.re=e.Z=e.X=e.Me=e.Te=e.Ue=n.st=0,e.A=1,e.I=e.J=e.Ee=e.le=e.E=null,e.T.q=e.Q=e.P=e.oe="",e.T.o="omni",e.T.t=0,e.ne=false,e.He&&r?setTimeout(e.He[0],0):/a?/.test(""),e.He=null},K(e,t,n){let r=l;/^\+\d\d?$/.test(e.trim())&&(t=n=0,e=" "+e.trim()),r.P=e,r.G=r.se=false,r.le=r.E,r.T.q=r.Q=e&&e.trim().replace(r.B," "),r.he=0,r.at(),r.V=true,r.ct(0),r.dt&&r.dt(),r.we.value=r.P,t<=n&&r.we.setSelectionRange(t,n)},et(e){let t=l;if(!t.se)return t.ce=0,void(t.de=false);t.ce=performance.now(),t.de=false,false!==e?(t.we.focus(),t.de&&t.ue||(e=e?0|e:0)<5&&setTimeout(t.et,33,e+1)):r.rt({H:11,t:2,k:t.Me})},ct(e,t){let n=l;if(n.Ee=t||null,e>=0){if(n.te=null,n.Le>0&&clearTimeout(n.Le),0===e)return n.ft()}else{if(n.Le>0)return;e=n.Pe}n.Le=setTimeout(n.mt,e)},_t(){let e=l,t=e.ue,i=e.fe;if(e.be=false,-1===e.Ce){e.le=e.E,e.ee=false,e.we.value=e.P;let l=e.pt.exec(e.P);if(l&&(!e.J.length||"search"!==e.J[0].e)){let t=e.P.length-l[0].length;e.we.setSelectionRange(t,t)}return void(t||(e.et(),e.fe=i))}i&&t&&e.we.blur();let a=e.J[e.Ce];if(a.ht)return e.gt(a,a.ht);if(null==a.wt&&(a.wt=a.u.startsWith("https://")),"history"!==a.e&&"tab"!==a.e&&!("search"===a.e&&e.T.q.startsWith(":")))return null==a.ht&&(n.yt(a),a.ht=""),e.gt(a,a.t),void("math"===a.e&&!i&&e.we.select());let o=!a.t,u=a.u,s=n.yt(a),c=o||!/[^\x00-\x7f]/.test(a.t),d=c?u:n.W(u,decodeURIComponent);!c&&d.length===u.length&&u.includes("%")&&(d=a.t,s&&(d=d.lastIndexOf("://",5)<0?(7===s?"http://":"https://")+d:d,d=u.endsWith("/")&&!d.endsWith("/")?d+"/":d)),r.rt({H:4,i:e.Ce,u:d})},ht({i:e,s:t}){let n=l.J[e];if(n.ht=t?((l.T.e?8&l.T.e:l.T.o.endsWith("omni"))&&!l.oe?"":":o ")+t.k+" "+t.u+" ":l.oe+n.t,e===l.Ce)return l.gt(n,n.ht)},vt(){let e=l;if(e.Ce<0)return;if(e.be)return e.P=e.we.value,e._t();let t=e.J[e.Ce],n=e.we.value.trim();return e.oe&&(n=n.slice(e.oe.length)),n=n===(t.title||t.u)?t.ht||e.oe+(t.title===t.t?t.u:t.t):e.oe+(t.title&&n===t.u?t.title:n===t.t?t.u:t.t),e.gt(t,n)},gt(e,t){let n=10*t.length,r=n>innerWidth-84;l.we.value!==t&&(l.we.value=t,"domain"===e.e&&l.we.select()),r&&(l.we.scrollLeft=n),l.le=e.wt&&t===e.t,l.ee=t!==e.ht||e.ht===e.t},kt(e){let t=l,n=t.Ie.children,r=t.Ce;(t.be||-1===r)&&(t.P=t.we.value),t.Ce=e,t._t(),r>=1&&n[r-1].classList.remove("p"),r>=0&&n[r].classList.remove("s"),e>=1&&n[e-1].classList.add("p"),e>=0&&n[e].classList.add("s")},bt:["space","pageup","pagedown","end","home","left","up","right","down","","","","","insert","delete"],Mt:["Semicolon","Equal","Comma","Minus","Period","Slash","Backquote","BracketLeft","Backslash","BracketRight","Quote","IntlBackslash"],Tt:{Alt:1,AltGraph:1,Control:1,Meta:1,OS:1,Shift:1},St:0,It(e){let t,n=e.keyCode;return n>31&&n<47?l.bt[n-32]:n<47||91===n||93===n&&!l.Be?8===n?"backspace":27===n?"esc":9===n?"tab":13===n?"enter":(n<19?n>15:n>90)?l.De>63&&l.De>>6===e.location?"modifier":18===n?"alt":" ":"":93===n&&true?"contextmenu":((t=e.key)?/^F\d/.test(t):n>111&&n<132)?"f"+(t?t.slice(1):n-111):t&&t.length>1&&!l.Tt[t]?t.toLowerCase():""},Et:0,At(e){let t=e.shiftKey,n=e.key,r="Dead"===n||"Unidentified"===n,i=e.code;if(1&l.De||8&l.De&&e.altKey||r||n>"~"&&1===n.length){let a,o=i.slice(0,3),u=n.length<2||r;"Num"!==o&&("Key"!==o&&"Dig"!==o&&"Arr"!==o||(i=i.slice(i<"K"?5:3)),n=1===i.length&&u?!t||i<"0"||i>"9"?i:")!@#$%^&*("[+i]:l.Tt[n]?l.De>63&&l.De>>6===e.location?"modifier":"Alt"===n?n:"":"Escape"===n?"esc":i.length<2||!u?n.startsWith("Arrow")&&n.slice(5)||n:(a=l.Mt.indexOf(i))<0?i:";=,-./`[\\]'\\:+<_>?~{|}\"|"[a+12*+t]),n=t&&n.length<2?n:n.toLowerCase()}else n=n.length>1||" "===n?(l.It(e)||n.toLowerCase()).trim():t?n.toUpperCase():n.toLowerCase();return n},Ht:0,$t(e){let t,n=l.At(e),r=n;if(n){let i=`${e.altKey?"a-":""}${e.ctrlKey?"c-":""}${e.metaKey?"m-":""}`,a=n.toLowerCase(),o=n.length>1,u=e.shiftKey&&(o||i&&n.toUpperCase()!==a)?i+"s-":i;r=o||u?u+a:n,l.Ve&&(t=l.Ve[r+":o"]||l.Ve[r],t=t||(!o&&(t=l.Ve[a])&&t.length<2&&(i=t.toUpperCase())!==t?u?u+t:n===a?t:i:""))}return t?{mapped:true,key:t}:{mapped:false,key:r}},Ct:{space:9,j:8,k:6,n:8,p:6,"[":1,"]":9,up:10,down:11,tab:6,delete:12},Nt:{tab:8,esc:1,pageup:10,pagedown:11,up:6,down:8,f1:4,f2:5},Lt(e){let t=l,i=e.keyCode,a=t.ue,{mapped:o,key:u}=229!==i?t.$t(e):{mapped:false,key:""};if(t.Me=t.Be||!e.metaKey?i:0,t.Te=e.shiftKey&&!(16===i&&!e.repeat)&&(16!==i&&1===u.length||t.Te),!u)return t.Re&&!t.Tt[e.key]&&t.nt(0),void(t.Se=!a||93===i&&t.Be||229===i?0:1);if(u.startsWith("v-"))return r.rt({H:39,k:`<${u}>`,l:i,e:a?[t.we.localName,t.we.id,t.we.className]:["body","",""]}),void(t.Re&&t.nt(0));let s,c=0,d=u.slice(u.lastIndexOf("-")+1)||u&&"-",f=u.includes("-",1)?u[0]:"";if("a"===f){if("a-alt"===u||"a-modifier"===u)return t.Re||addEventListener("keyup",t.nt,true),void(t.Re=t.Re||setTimeout(t.nt,260,-1));if("down"===d||"up"===d||/^[jknp]$/.test(d))return t.Rt(d<"o"&&"k"!==d?8:6);t.Re&&t.nt(0)}if(f&&f<"s"&&a){if(!("left"!==d&&"right"!==d||t.Be&&u.includes("m-")))return c=(u.includes("s-")?d>"r"?71:72:d>"r"?70:66)-64,void(o||f!==(t.Be?"c":"a")?t.xt(c):(n.Ot(t.xt.bind(0,c,true)),t.Se=1));if("backspace"===d)return void(f>"a"||!t.Be&&!u.includes("a-c-")?t.xt(f<"m"?-1:u.includes("s-")?-3:-2):t.Be<2||u.includes("a-c-")||0?document.execCommand(u.includes("s-")?"redo":"undo"):t.Se=1)}if("a"===f||"m"===f){if("f2"===d)return t.Rt(a?3:2);if(d>="0"&&d<="9"&&(t.Be||/[cm]-/.test(u)))return s=+d||10,void(s<=t.J.length&&t.Ut(true,s-1));if(a&&1===d.length&&d>"a"&&d<"g"&&"c"!==d&&!(t.Be&&"a-d"===u))return t.xt(d.charCodeAt(0)-96);if("a-c-c"===u||"a-m-c"===u)return t.Rt(17);if("a"===f&&"enter"!==d)return void(t.Se=0)}if("enter"!==d){if("c"===f||"m"===f)if("c"===d)c=t.Ce>=0&&"Range"!==getSelection().type&&true?u.includes("s")?16:13:u.includes("s")?17:t.Be||"c-c"!==u?0:13;else if("c-v"!==u||t.Be){if("c-d"===u&&t.Be)return t.xt(4);if(u.includes("s-"))c="f"===d?11:"b"===d?10:"v"===d?18:0;else{if("up"===d||"down"===d||"end"===d||"home"===d)return e.preventDefault(),t.pe=e.timeStamp,t.Je=-i,window.onkeyup=l.Ft,void r.ut({N:6,k:u,b:d});"delete"===d||"tab"===d?t.Se=1:c="["===d?1:"]"===d?9:t.Ct[d]||0}}else c=18;else if("s"===f)c=(32!==i||!t.Te)&&t.Ct[d]||0;else if(c=t.Nt[d]||0);else{if(d>"f0"&&d<"f:")return void(t.Se=0);if(!a||"home"!==d&&"end"!==d){if(8===i)return void(a&&(t.Se=1));if("space"!==d);else if(a){if(!o&&(t.Ce>=0||t.J.length<=1)&&t.we.value.endsWith("  "))return t.Ut(true)}else c=2}else c=d>"h"?14:15}if(c)return t.Rt(c);a||1!==d.length||isNaN(s=parseInt(d,10))?t.Se=(a?!(93===i&&t.Be):u.length>1)?1:0:(s=s||10,s<=t.J.length&&t.Ut(u,s-1))}else e.metaKey||"Enter"!==e.key&&13!==i?t.Ut(u):window.onkeyup=t.qt.bind(null,u,o)},Rt(e){let t,i=l;switch(e){case 1:if("Range"!==getSelection().type||!i.ue)return i.lt();{let e=i.we;t="backward"!==e.selectionDirection&&e.selectionEnd<e.value.length?e.selectionStart:e.selectionEnd,e.setSelectionRange(t,t)}break;case 2:i.et();break;case 3:i.fe=1,i.we.blur();break;case 4:case 5:i.ue?5===e?i.et(false):document.execCommand("delete"):i.et();break;case 6:case 8:return i.Le?(i.Ee=()=>{i.Ce=-1,i.be=false,i.Rt(e)},void(i.Le>0&&i.ct(0,i.Ee))):(t=i.J.length+1,t=(t+i.Ce+(e-6))%t-1,i.kt(t));case 9:return i.vt();case 10:case 11:return i.Kt(10!==e);case 12:return i.Wt();case 13:case 16:let l=i.J[i.Ce],a=l.title,o=l.e,u="math"===o;return n.yt(l),a=16!==e||"search"===o||u||a===l.u||a===l.t?"":a,r.rt({H:42,t:u?l.textSplit+" = "+l.t:a,u:u?"":l.u});case 17:case 18:let s=navigator.clipboard,c=17===e?getSelection()+"":"";17===e?c&&s.writeText(c):document.execCommand("paste"),17===e&&c&&r.rt({H:43,t:c});break;case 14:case 15:t=14===e?0:i.we.value.length,i.we.setSelectionRange(t,t),i.we.scrollLeft=t?i.we.scrollWidth:0}},xt(e,t,n){let r=/[^\p{L}\p{Nd}_]+/u,i=4===e||e<0,a=i||e>6,o=e>3&&e<8,u=l.we,s=/\s+/;t||e<-1||i&&u.selectionStart!==u.selectionEnd||getSelection().modify(a?"extend":"move",o?"forward":"backward",2===n?"character":"word");let c,{value:d,selectionStart:f,selectionEnd:m}=u,_="backward"!==u.selectionDirection,p=_?f:m,h=_?m:f,g=p,w=h;if(e<-1)g=0,w=e<-2?d.length:m;else if(i&&p!==h);else if(n);else{let e=l.We<90;for(;w>0&&r.test(c=d[w]||"")&&(!a||s.test(c)||(c=d[w-1]||"")&&!s.test(c)&&r.test(c));)e?o?w++:w--:(getSelection().modify(a?"extend":"move",o?"forward":"backward",s.test(c)?"character":"word"),w="backward"!==u.selectionDirection?u.selectionEnd:u.selectionStart);e||(h=w)}g===p&&w===h||(a||(g=w),u.setSelectionRange(w<g?w:g,w<g?g:w,w<g?"backward":"forward")),i&&g!==w&&document.execCommand("delete");let{scrollWidth:y,clientWidth:v}=u;if(y<v+1)return;let k=u.scrollLeft,b=getComputedStyle(u),M=b.font,T=(l.ge||(l.ge=document.createElement("canvas"))).getContext("2d");T.font!==M&&(T.font=M);let S=w+w<d.length,I=T.measureText(S?d.slice(0,w):d.slice(w)).width,E=(S?I+(0|+b.paddingLeft)+(0|+b.paddingRight):y-I)-v;(k<E+4?k<y-v:k>E+v-4&&k>0)&&(u.scrollLeft=Math.min(Math.max(0,k<E+4?E+40:E+v-40),y-v))},pt:/(?:^|\s)(\+\d{0,2})$/,Kt(e){let t=l;if(t.ne)return;let n=t.J.length,r=t.T.r,i=+e||-1,a=(t.be||t.Ce<0?t.we.value:t.P).trimRight(),o=t.pt.exec(a),u=0|(o&&o[0]);if(n>=r)i*=r;else if(u>0&&i<0)i*=u>=r?r:1;else if(n<(n&&"tab"!==t.J[0].e?r:3))return;let s=Math.min(Math.max(0,u+i),t.Y*r-r);if(i>0&&(s===u||s>=t.X&&t.X>0))return;o&&(a=a.slice(0,-o[0].length)),a=a.trimRight(),u=Math.min(t.we.selectionEnd,a.length),s>0&&(a+=" +"+s);let c=t.we.selectionStart,d=t.we.selectionDirection;t.we.value=a,t.we.setSelectionRange(c,u,d),t.te=null,t.ct(0)},Ut(e,t){var n;let i=l,a=i.I,o=null!=t?t:i.Ce;if("string"==typeof e&&(e=(e.includes("a-")?1:0)+(e.includes("c-")?2:0)+(e.includes("m-")?4:0)+(e.includes("s-")?8:0)),i.re=null==e?i.re:true===e?null:14&e&&a.clickLike?i.jt(e):6&e?8&e?-2:-1:8&e?0:null,-1===o){let t=i.we.value.trim();if(!t)return;if((false===a.searchInput||a.itemField)&&!e&&!t.includes("://"))try{new URL(t)}catch(e){return}}if(null==t&&i.Le){if(!i.ee)return i.Le>0?i.ct(0,i.Ut):void(i.Ee=i.Ut);o=-1}let u=o>=0,s=a.testUrl,c=u?i.J[o]:{u:i.we.value.trim()},d=a.sed,f=a.itemSedKeys||null,m=f?{r:true,k:f+""}:null,_=a.itemKeyword,p=a.itemField,h=null!==(n=i.re)&&void 0!==n?n:a.newtab?-1:0,g=!u||null==c.s||m||_?{H:8,f:false,r:h,h:u?null:i.le,u:p&&u?p in c?c[p]+"":"":c.u,o:{i:a.incognito,s:u?m||{r:false,k:""}:"object"==typeof d&&d||{r:d,k:a.inputSedKeys||a.sedKeys||a.sedKey},k:(u||!p)&&_||null,p:a.position,t:u?!!s:null!=s?s:"whole"}}:null,w=g?null:{H:7,a:null===i.re?1:-1===h?2:0,s:c.s},y=()=>{r&&(g?l.Bt(g,h):l.Vt(w,"tab"===c.e)),/a?/.test("")};if(!u&&e&&!0!==e&&1&e&&h>-2&&/^\w+(-\w+)?$/.test(c.u)){let e=i.J.filter(e=>"domain"===e.e);g.u=e.length?e[0].u:`www.${c.u}.com`}h>-2||e&&!0!==e&&1&e?(i.He=[y,h],i.lt()):y()},qt(e,t,n){let r=n.keyCode;if(n.isTrusted){window.onkeyup=null;let i=l,a="enter"!==e||t?e:(n.altKey||18===r?1:0)+(n.ctrlKey||17===r?2:0)+(n.metaKey||r>90&&r<94||0?4:0)+(n.shiftKey||16===r?8:0);if(!i.V)return;i.Me=0,i.Ut(e,("string"==typeof a?"a-enter"===a:1===a)?!i.Ce&&i.be?-1:i.Ce:null)}},jt(e){let t=l,n=true===t.I.clickLike?"chrome":t.I.clickLike+"",r=6&e,i=8&e;return(n.endsWith("2")?n.includes("chro"):n.includes("viva"))?r?i?2:-2:-1:r?!!i!=!!t.I.activeOnCtrl?-1:-2:2},Wt(){if(l.Ce<0||l.Le)return;let e=l.J[l.Ce],t=e.e;"tab"===t||"history"===t&&null==e.s?(r.rt({H:25,t,s:e.s,u:e.u}),l.Dt()):r.rt({H:25,t:"e"})},Pt(e){let t=l,r=e.target;if(e.isTrusted&&!e.button&&r!==t.we&&"Range"!==getSelection().type){if(r===t.we.parentElement)return t.et();if(t.Le)n.zt(e,1);else{for(;r&&r.parentElement!==t.Ie;)r=r.parentElement;r&&(t.Me=0,n.zt(e,1),t.Ut(e.altKey|2*e.ctrlKey|4*e.metaKey|8*e.shiftKey,[].indexOf.call(t.Ie.children,r)))}}},Qt(e){let t,n=e.target,r=HTMLAnchorElement;if(n instanceof r||(n=n.parentElement),!(n instanceof r)||n.href)return;for(t=n;t&&t.parentElement!==l.Ie;t=t.parentElement);let i=[].indexOf.call(l.Ie.children,t);i>=0&&(n.href=l.J[i].u)},Gt(){let e=this;if(0!==e.selectionStart||"backward"!==e.selectionDirection)return;let t=e.value,l=e.selectionEnd-1;32===t.charCodeAt(l)&&l!==t.length-1&&(t=t.slice(0,l).trimRight(),t.includes(" ")||e.setSelectionRange(0,t.length,"backward"))},mt(){r&&l.V&&l.ft()},tt(e){if(e.ctrlKey||e.metaKey||!e.isTrusted)return;let t=l,r=e.deltaY,i=Date.now(),a=e.deltaMode,o=e.target,u=t.we,s=e.deltaX;if(s=!r||s&&Math.abs(s/r)>.66?s:0,t.V&&o==u&&!r&&(s<0?u.scrollLeft>0:u.scrollLeft+.01<u.scrollWidth-u.clientWidth))return;n.zt(e,1);let c=Math.abs(r||s),d=1===a||!a&&!(s*r)&&(t.qe?c>=Math.abs(t.qe):c%10==0&&c>=150);if(r&&o===u)return void t.xt(r<0!=(d!==t.qe<0)?5:2,0,d?1:2);if(s||!r||!t.V||t.ne||t.ve.contains(o)&&t.ve!==o)return;(i-t.Oe>(a||d?330:120)||i-t.Oe<-33)&&(t.Ue=0,t.xe=0),t.Oe=i;let f=Math.max(1,1+Math.log(t.Fe)),m=t.Ue+(d?100*r*t.Fe:d||a?300*r:r*f);Math.abs(m)<300||t.xe&&i-t.xe>-33&&i-t.xe<150/f?t.Ue=m:(t.Ue=Math.abs(m)%300*(m>0?1:-1),t.xe=i,t.Kt(r>0))},Zt(e){let t=l,n=t.Q,r=t.we.value,i=r.trim(),a=t.Z;if(t.fe=t.Z=0,"/"===r&&t.je&&t.we.selectionEnd&&!e.isComposing&&(r=t.we.value=" /"),i===(-1===t.Ce||t.be?n:t.J[t.Ce].t))return;if(1===t.ie&&i.startsWith(n)&&(!i.includes(" /",n.length)||/^\/|\s\//.test(i.slice(0,n.length-1))||!(t.T.e?1&t.T.e:"bomni bookmarks".includes(t.T.o))))return;i||(t.le=t.E=null);let o,u=t.we.selectionStart;if(u&&" "===r[u-1]&&i.length>5&&i.includes(" ")&&i.startsWith(n)&&" "!==r[u-2]&&(a=2),t.ne);else if(u>r.length-2){if(r.endsWith(" +")&&!t.Le&&i.slice(0,-2).trimRight()===n)return}else if((o=t.pt.exec(n))&&i.endsWith(o[0])){let e=o[0].length,l=r.slice(0,r.trimRight().length-e);l.trim()!==n.slice(0,-e).trimRight()&&(t.we.value=l.trimRight(),t.we.setSelectionRange(u,u))}t.te&&(!e||false===e.isComposing)&&(t.te=null),t.ct(a?0:-1,t.Re?t.nt:null)},Jt(e){let t=l,n=t.I.autoSelect,i=e.l,a=i.length,o=a>0,u=t.he,s=t.Ie,c=t.he=Math.ceil(o?a*t.R+t.L:t.ze),d=t.A,f={N:2,h:c*d};if(!t.V)return;u||(f.m=Math.ceil(t.T.r*t.R+t.L)*d),c>u&&r.ut(f),t.X=e.t,t.me=e.i,t.ie=e.m,t.ae=e.s,t.oe=e.r&&e.r+" ",t.J=i,t.ne=a>0&&"search"===i[0].e&&!i[0].n,t.Ce=t.ne||(null==n?e.a:n&&o)?0:-1,t.be=true,t.J.forEach(t.Xt),t.$e(t.J,s),u||(t.D?setTimeout(()=>{l.ye.visibility=""},17,t.D=0):t.ye.visibility=""),t.Yt(),t.el("enterkeyhint",t.ne?"Search":"Go");let m=t.ke,_=s.classList,p="empty";o?m.remove(p):m.add(p),p="no-query",6&e.c?(m.remove(p),_.remove(p)):(m.add(p),_.add(p)),p="no-favicon",t.me?_.remove(p):_.add(p),o&&(0===t.Ce&&s.firstElementChild.classList.add("s"),s.lastElementChild.classList.add("b")),t.Ee===t.nt&&(t.nt(0),t.Ee=null),c>u?t.tl():requestAnimationFrame(()=>{c!==u&&r.ut(f),l.tl()})},tl(){let e,t=l;if(t.se||t.Ye(),!(t.Le>0))return t.Le=0,t.ee=false,(e=t.Ee)?(t.Ee=null,e()):void 0},Yt(){l.te||l.el("inputmode",l.ne||!/[\/:]/.test(l.Q)?"search":"url")},el(e,t,n){n&&0===l.g&&(t=chrome.i18n.getMessage(t)||t),l.we.getAttribute(e)!==t&&l.we.setAttribute(e,t)},ll(e){let t=l.Qe&&` ${l.Qe} `,n=` ${e.t} `,i=!t.includes(n),a=(i?t+e.t:t.replace(n," ")).trim().replace(l.B," ");l.nl(a),e.c||r.rt({H:29,t:e.t,o:1,e:i})},nl(e){l.Qe=e,e=` ${e} `;let t=document.documentElement,n=document.body,r=e.includes(" dark ");l.Ze&&(l.Ze.childElementCount||(l.Ze.textContent=r?"\u2600":"\u263d"),l.Ze.classList.toggle("toggled",r),l.Ze.style.display="");let i=e.includes(" mono-url ");l.Xe=e.includes(" time ")?e.includes(" absolute-num-time ")?1:e.includes(" absolute-time ")?2:3:0,l.S(32,l.Xe>0);let a=document.querySelectorAll("style[id]");for(let t=0;t<a.length;t++){let l=a[t],r=" "+l.id+" ",i=" custom "===r,o=i||e.includes(r);l.dataset.media?l.media=o?"":l.dataset.media:l.sheet.disabled=!o,i||n.classList.toggle("has-"+l.id,o),o&&(e=e.replace(r," "))}l.Fe=1,l.qe=0,e=(e=e.replace(/\b([\w-]+)=([\w.]+)/g,(e,t,n)=>("wheel-speed"===t&&(l.Fe=Math.max(.1,Math.min(parseFloat(n)||1,10))),"wheel-min-step"===t&&(l.qe=Math.max(-2e3,Math.min(parseInt(n)||0,2e3))),""))).trim().replace(l.B," "),t.className!==e&&(t.className=e),!!(16&l.T.f)!==i&&(l.S(16,i),l.V&&!l.dt&&l.Dt(document.hidden))},rl(e){let t=n.M(e.d),r=t.t;if(null!=r&&l.Qe!==r&&l.nl(r),null!=t.c&&l.il(t.c),null!=t.n&&(l.x=t.n),null!=t.i&&(l.Pe=t.i),void 0!==t.m&&(l.Ve=t.m),null!=t.l&&(l.De=t.l),null!=t.s){let e=t.s.split(","),n=+e[0],r=Math.min,i=Math.max;l.ze=i(24,r(n||77,320)),n=+e[1],l.L=i(24,r(l.ze+(n||3),320)),n=+e[2],l.R=i(14,r(n||44,120)),n=e.length>3?+e[3]:0,l.C=i(.3,r(n||.8,.95))}},al(e){let t=l,n=t.ce&&performance.now()-t.ce<120,i="blur"===e.type,a=e.target,o=a===window;e.isTrusted&&r&&(t.de=true,i&&t.Ae&&o&&t.Ae(),o&&t.V?(t.ce=0,n?t.it(i):(setTimeout(t.it,50,null),i?(l.nt(0),l.ge=null):(r.rt({H:24,i:0}),0!==t.g&&r&&setTimeout(()=>{r&&!r.ol&&r.ut({N:9})},50)))):a===t.we&&(l.ue=!i)&&(l.fe=0))},it(e){if(!l)return;let t=document,n=t.body.classList;!l.V||(null!=e?!e:t.hidden||t.hasFocus())?n.remove("inactive","transparent"):n.add("inactive","transparent")},dt(){let e=l;window.onclick=l.Pt,n.M(e.Ct),n.M(e.Nt),n.M(e.Tt);let t=e.Ie=document.getElementById("list"),r=addEventListener,i=e.we=document.getElementById("input");e.ve=document.getElementById("bar"),e.ke=i.parentElement.classList,t.onmouseover=t.oncontextmenu=e.Qt,document.getElementById("close").onclick=()=>l.lt(),r("keydown",e.Ft,true),r("focus",e.al,true),r("blur",e.al,true),i.oninput=e.Zt,i.onselect=e.Gt,i.onpaste=()=>{l.Z=1},e.$e=n.ul(document.getElementById("template").innerHTML);{let e=document.createElement("style");e.textContent="body::after, #input, .item { border-width: 0.01px; }",document.head.append(e)}{let e=e=>{let t=l.we;l.te="compositionstart"===e.type?[t.selectionStart,t.value.length-t.selectionEnd]:null};i.addEventListener("compositionstart",e),i.addEventListener("compositionend",e)}if(e.Ge&&document.head.append(e.Ge),e.Ze=document.querySelector("#toggle-dark"),e.Ze&&(e.Ze.onclick=e=>{l.ll({t:"dark",c:e.ctrlKey}),l.we.focus()}),e.nl(e.Qe),0===e.g){let e=document.querySelectorAll("[title]");for(let t=0;t<e.length;t++){let l=e[t],n=chrome.i18n.getMessage(l.title.replace(" ","_"));n&&(l.title=n)}}e.dt=e.O=n.ul=null},il(e){let t=l.Ge;if(!e)return t&&t.remove(),void(l.Ge=null);t||(t=l.Ge=document.querySelector("#custom")||document.createElement("style"),t.id="custom",l.dt||document.head.append(t)),t.textContent=e},sl:e=>e.e,O(e){let t=l,n=document.documentElement;t.U=n.style,t.ye=document.body.style,t.g=e;let r,i,a,o=0;if(2===e);else if(0===e)o=2;else if(null!=(a=n.dataset.favicons))o=a&&"true"!==a.toLowerCase()?0:2;else if((r=chrome.runtime.getManifest)&&(i=r())){let e=i.permissions||[];o=e.indexOf("<all_urls>")>=0||e.join().includes("://favicon/")?1:0}t.T.i=o},Ft(e){if(!e.isTrusted)return;l.Se=2;let t=3,i=0;if(l.Je){let n=e.keyCode,a=n>18||n<16,o=n===Math.abs(l.Je);t=e.repeat||a&&o&&"keydown"===e.type?0:1,a&&!o?t=3:l.Je>0?t="keyup"===e.type?2:0:(t||(i=e.timeStamp)-l.pe>40||i<l.pe)&&(r.ut({N:t?8:7}),l.pe=i),t&&(l.Je=a||t>1?0:Math.abs(l.Je),l.Je||(window.onkeyup=null))}3===t&&l.V&&l.Lt(e),0!==l.Se&&n.zt(e,2===l.Se)},nt(e){let t,n=l.Re;if(t=-1!==e&&0!==e&&void 0!==e){let t=l.$t(e).key;if(!("alt"===t||"a-alt"===t))return;e=n>0?-1:0}if(n!==(e=e||0)){if(-1===n!=!!e){document.body.classList.toggle("alt",!!e),(e&&!t?addEventListener:removeEventListener)("keyup",l.nt,true);for(let t=0,n=e?Math.min(l.Ie.childElementCount,10):0;t<n;t++)l.Ie.children[t].classList.add("alt-index")}n>0&&clearTimeout(n),l.Re=e}},cl:0,$(e){l.T.c=Math.floor(((e||innerWidth)/l.A-84)/(16&l.T.f?7.7:4))},S(e,t){let n=null==t;n&&(t=` ${l.Qe} `.includes(e-32?" mono-url ":" time "));let r=l.T.f&~e|(t?e:0);l.T.f!==r&&(l.T.f=r,16!==e||n||l.$())},dl:null,T:{H:17,o:"omni",t:0,c:0,e:0,r:0,f:0,i:0,q:""},B:/\s+/g,ft(){let e,t=l,n=t.T,i=0;if(t.Le=-1,t.G){if(t.Q=e=t.we.value.trim(),t.te){let l=t.te[0],n=e.length-t.te[1];e=e.slice(0,l)+e.slice(l,n).replace(/'/g,"")+e.slice(n)}if(e=e.replace(t.B," "),t.I.icase){let t=/^:[WBH] /.test(e)?3:0;e=t?e.slice(0,t)+e.slice(t).toLowerCase():e.toLowerCase()}if(e===n.q)return t.tl();n.t=t.ie<2||!e.startsWith(n.q)?0:3===t.ie?e.includes(" ")?0:8:(i=t.ie,t.ae),n.q=e,t.ie=i,t.$()}else t.G=true,t.I.icase&&(n.q=n.q.toLowerCase());r.rt(n),1024&n.f&&"start"===t.I.noSessions&&(n.f&=-1025)},F:"",Xt(e){let t;e.r=l._e?`\n\t\t\t<span class="relevancy">${e.r}</span>`:"",(t=e.label)&&(e.label=` <span class="label">${t}</span>`),e.favIcon=(t=l.me?e.u:"")&&l.F+(0,n.fl)(l.ml(e,t)||"about:blank")+"&quot;);"},ml(e,n){let r,i=n.slice(0,11).toLowerCase();return i.startsWith("vimium://")?1!==l.g?chrome.runtime.getURL("/pages/options.html"):location.protocol+"//"+t+"/pages/options.html":n.length>512||"javascript:"===i||i.startsWith("data:")?"":e.v||("history"===e.e||"tab"===e.e)&&n||(i.startsWith("http")||i.lastIndexOf("-",i.indexOf(":")+1||8)>0&&n.lastIndexOf("://",21)>0?(r=n.indexOf("/",n.indexOf("://")+3),r>0?n.slice(0,r+1):n+"/"):n)},Bt(e,t){if(!/^javascript:/i.test(e.u))return r.rt(e),-2!==t||!l.V||l.Q&&!/^\+\d{0,2}$/.exec(l.Q)?void 0:l.Dt();r.ut({N:5,u:e.u})},Vt(e,t){r.rt(e),l&&l.V&&l.Dt(t)},Dt(e){let t=e=>{let t=l.Ce,n=l.be;l.G=false,l.$(),l.ct(e,()=>{if(!n&&t>=0){let e=Math.min(t,l.J.length-1);l.be=false,l.Ce<0&&l.Ce--,l.kt(e)}l.ue||l.fe||l.et()})};l.ue||getSelection().removeAllRanges(),e?window.onfocus=e=>{window.onfocus=null,e.isTrusted&&r.ol&&t(17)}:t(150)},_l(e){!r||e&&!e.isTrusted||(l.V=false,l.Le>0&&clearTimeout(l.Le),r.ut({N:10}))}},n={M(e){return Object.setPrototypeOf(e,null)},ul(e){let t=e.split(/\{\{(\w+)}}/g);return(e,r)=>{let i="",a=t.length-1;n.st=0;for(let r=0;r<e.length;r++){let o=0;for(;o<a;o+=2){i+=t[o];let a=t[o+1];i+="typeIcon"===a?l.sl(e[r]):"index"===a?r+1:"altIndex"===a?r>9?"":r<9?r+1:0:"time"===a?l.Xe?n.pl(e[r].visit):"":e[r][a]||""}i+=t[a]}r.innerHTML=i}},hl:0,W(e,t){try{e=(t||decodeURI)(e)}catch(e){}return e},gl(e,t){if(l.Be>1&&e.startsWith("file://")){let t=e.indexOf("/",7);if(t<0||t===e.length-1)return t<0?e+"/":e;let l=7===t?":"===e.charAt(9)?3:"%3a"===e.substr(9,3).toLowerCase()?5:0:0;e=l?e[8].toUpperCase()+":\\"+e.slice(l+8):7===t?e:"\\\\"+e.slice(7);let n=/[?#]/.exec(e),r=n?n.index:0,i=r?e.slice(r):"";e=(e=(r?e.slice(0,r):e).replace(/\/\/+/g,"/")).replace(/(?<!<)\//g,"\\"),e=r?e+i:e}return t?e:n.W(e,decodeURIComponent)},yt(e){let{u:t,t:l}=e,r=t.slice(0,8).toLowerCase(),i=r.startsWith("http://")?7:"https://"===r?8:0;i>=t.length&&(i=0);let a=!i;if(8===i){let e=t.indexOf("/",i);(e>0?e<t.length:/:\d+\/?$/.test(t))&&(a=true)}return l?i&&(a&&!l.startsWith(r)&&(l=r+l),t.endsWith("/")&&!r.endsWith("/")&&r.includes("/")&&(l+="/")):l=!a&&i?t.slice(i):t,e.t=n.gl(l,!!e.t),(r=e.title)&&(e.title=r.replace(/<\/?match[^>]*?>/g,"").replace(/&(amp|apos|gt|lt|quot);|\u2026/g,n.onHTMLEntity)),i},onHTMLEntity:(e,t)=>"amp"===t?"&":"apos"===t?"'":"quot"===t?'"':"gt"===t?">":"lt"===t?"<":"",fl(e){function t(e){let t=e.charCodeAt(0);return 38===t?"&amp;":39===t?"&apos;":t<39?"%22":60===t?"%3C":"%3E"}let l=/["&'<>]/g;return n.fl=e=>e.replace(l,t),n.fl(e)},st:0,pl(e){let t,r,i=Intl.RelativeTimeFormat,a=document.documentElement.lang||navigator.language,o=a.startsWith("zh"),u=o?"zh-CN":a,s=o?"\u521a\u521a":a.startsWith("fr")?"tout \xe0 l'heure":"just now",c=0,d=["second","minute","hour","day","","month","year"];return n.pl=e=>{if(!e)return"";if(!n.st){let e=new Date;n.st=+e,c=6e4*e.getTimezoneOffset()}let a,f=parseInt((n.st-e)/1e3),m=f<0?-f:f,_=m<10?-1:m<45?0:(m/=60)<49.5?1:(m/=60)<22?2:(m/=24)<5?3:m<26?4:m<304?5:6,p=new Date(e-c).toJSON().slice(0,-5).replace("T"," ");if("+"!==p[0]&&"-"!==p[0]||(p=p.replace(/^\+?(-?)0+/,"$1")),-1===_)a=s;else if(l.Xe<3||0)if(!t&&l.Xe>1&&(t=new Intl.DateTimeFormat(u,{localeMatcher:"best fit",second:"2-digit",year:"numeric",month:"short",weekday:"long",day:"numeric",hour:"numeric",minute:"2-digit"})),l.Xe<2)a=p,f>0&&"-"!==p[0]?a=_>3?(_>5?a.slice(0,-12):a.slice("0"===a[a.length-14]?-13:-14,-9)).replace("-"," / "):a.slice(_>2?"0"===a[a.length-11]?-10:-11:-8,_?-3:99):p="";else{a="";let l=t.formatToParts(e);for(let e=0,t=true;e<l.length;e++){let n=l[e].type;if("year"===n?_<6:"month"===n?_<4:"day"===n?_<3||_>5:"weekday"===n?_<3||_>4:"dayPeriod"===n||"hour"===n||"minute"===n?_>3:"second"===n?_>0:"literal"!==n)e+=t&&e+1<l.length&&"literal"===l[e+1].type?1:0;else{let r=t,i=l[e].value;t="literal"===n,!t&&("weekday"===n||"d"===n[0]&&"e"===n.slice(4,5))&&a&&/[.:-]/.test(a[a.length-1])&&(a=a.slice(0,-1)+" "),(!r||o&&("\u661f"===i[0]||"\u5468"===i[0]))&&!t&&a&&/[^\x00-\x7f]/.test(a[a.length-1])&&(a+=" "),a+=o&&"d"===n[0]&&"e"===n.slice(4,5)?(m=parseInt(p.slice(-8,-6),10),m>=12?m>=18?m>=21?"\u591c\u665a":"\u665a\u4e0a":m>=13?"\u4e0b\u5348":"\u4e2d\u5348":m>=6?m>=9?"\u4e0a\u5348":"\u65e9\u4e0a":m>0?"\u51cc\u6668":"\u5348\u591c"):i}}a=a.trim().replace(/[,.: -]+$/,"")}else r||(r=new i(u,{localeMatcher:"best fit",numeric:"auto",style:"long"})),a=r.format((Math.round(_<5?m:m/365.25+.25)||1)*(f>0?-1:1),d[4===_?3:_]),a=o?a.replace("\u79d2\u949f","\u79d2"):a;return`<span class="time" title="${p}">${a}</span>`},n.pl(e)},wl:[],Ot(e){n.wl.length||(postMessage(0,"*"),n.yl&&(addEventListener("message",n.yl,true),n.yl=null)),n.wl.push(e)},yl(){for(let e of n.wl.splice(0,n.wl.length))e()},zt(e,t){t&&e.preventDefault(),e.stopImmediatePropagation()}},r={ol:null,ut:null,rt(e){try{(r.ol||r.vl(264)).postMessage(e)}catch(e){r=null,this.ut({N:9})}},kl(e){let t=e.N;43===t?l.I&&l.Jt(e):44===t?l.ht(e):42===t?l.dl&&l.dl(e):45===t?r.ut({N:1,l:e.l}):46===t?l.ll(e):47===t?l.rl(e):48===t&&!l.V&&e.d&&l._l()},bl({data:e}){let t="number"==typeof e?e:e.N;0===t?l.y(e):2===t?l.et():1===t&&l.lt(1)},Ml(){r.ol=null},vl(t){let l={name:e?"vimium-c."+t+"@40332b4":""+t},n=r.ol=e?chrome.runtime.connect(e,l):chrome.runtime.connect(l);return n.onDisconnect.addListener(r.Ml),n.onMessage.addListener(r.kl),n}};(()=>{function i(e){if(e.source===parent){let t=e.data;if(!(t&&3===t.length&&"VimiumC"===t[0]&&"string"==typeof t[1]&&"object"==typeof t[2]))return;u&&n.zt(e,0),16===t[1].length&&c(t[1],e.ports[0],t[2])}}if("1.73"!==document.documentElement.dataset.version)return void(location.href="about:blank");let a;if(location.pathname.startsWith("/front/")||!(a=document.currentScript));else{if(!a.src.endsWith("/front/vomnibar.js")||/^(ht|s?f)tp/.test(a.src)||/^(ht|s?f)tp/.test(location.origin))return void a.remove();e=new URL(a.src).host,t=e}let o=[],u=null===a,s="",c=(e,t,n)=>{s&&e===s?(s="1",clearTimeout(d),removeEventListener("message",i,true),r.ut=t.postMessage.bind(t),t.onmessage=r.bl,window.onunload=l._l,r.ut({N:3,o:n?1:0}),n&&l.y(n)):s||o.push([e,t,n])},d=setTimeout(()=>{location.href="about:blank"},700);l.dl=({l:e,s:t})=>{if(l.dl=null,!t)return s="2",o.length=0,removeEventListener("message",i,true),void console.log("%cVimium C: warning: Vomnibar was unexpectedly opened without triggering Vomnibar.activate!!!","color: red; background: lightyellow;");l.We=Math.abs(e.v||998),l.je=e.v<0,l.Be=e.o,l.Qe=e.t,l.rl({N:47,d:e}),s=t;for(let e of o)if(e[0]===t)return o.length=0,c(e[0],e[1],e[2])},addEventListener("message",i,true),r.vl(256)})();